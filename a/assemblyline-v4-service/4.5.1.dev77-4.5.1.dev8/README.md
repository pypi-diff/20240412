# Comparing `tmp/assemblyline_v4_service-4.5.1.dev77-py3-none-any.whl.zip` & `tmp/assemblyline_v4_service-4.5.1.dev8-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,47 +1,46 @@
-Zip file size: 86940 bytes, number of entries: 45
--rw-r--r--  2.0 unx       12 b- defN 24-Apr-12 11:20 assemblyline_v4_service/VERSION
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-12 11:19 assemblyline_v4_service/__init__.py
--rw-r--r--  2.0 unx     1575 b- defN 24-Apr-12 11:19 assemblyline_v4_service/healthz.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-12 11:19 assemblyline_v4_service/py.typed
--rw-r--r--  2.0 unx    14514 b- defN 24-Apr-12 11:19 assemblyline_v4_service/run_privileged_service.py
--rw-r--r--  2.0 unx     5996 b- defN 24-Apr-12 11:19 assemblyline_v4_service/run_service.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/__init__.py
--rw-r--r--  2.0 unx     6849 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/api.py
--rw-r--r--  2.0 unx    14218 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/base.py
--rw-r--r--  2.0 unx     3289 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/helper.py
--rw-r--r--  2.0 unx     8841 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/ocr.py
--rw-r--r--  2.0 unx     7890 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/ontology_helper.py
--rw-r--r--  2.0 unx    11774 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/request.py
--rw-r--r--  2.0 unx    32713 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/result.py
--rw-r--r--  2.0 unx    13720 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/task.py
--rw-r--r--  2.0 unx     3890 b- defN 24-Apr-12 11:19 assemblyline_v4_service/common/utils.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-12 11:19 assemblyline_v4_service/dev/__init__.py
--rw-r--r--  2.0 unx    10456 b- defN 24-Apr-12 11:19 assemblyline_v4_service/dev/run_service_once.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-12 11:19 assemblyline_v4_service/updater/__init__.py
--rw-r--r--  2.0 unx      133 b- defN 24-Apr-12 11:19 assemblyline_v4_service/updater/__main__.py
--rw-r--r--  2.0 unx     3317 b- defN 24-Apr-12 11:19 assemblyline_v4_service/updater/app.py
--rw-r--r--  2.0 unx     9518 b- defN 24-Apr-12 11:19 assemblyline_v4_service/updater/client.py
--rw-r--r--  2.0 unx     1247 b- defN 24-Apr-12 11:19 assemblyline_v4_service/updater/gunicorn_config.py
--rw-r--r--  2.0 unx     9532 b- defN 24-Apr-12 11:19 assemblyline_v4_service/updater/helper.py
--rw-r--r--  2.0 unx    29013 b- defN 24-Apr-12 11:19 assemblyline_v4_service/updater/updater.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-12 11:19 test/__init__.py
--rw-r--r--  2.0 unx     1851 b- defN 24-Apr-12 11:19 test/conftest.py
--rw-r--r--  2.0 unx        7 b- defN 24-Apr-12 11:19 test/test_healthz.py
--rw-r--r--  2.0 unx        7 b- defN 24-Apr-12 11:19 test/test_run_privileged_service.py
--rw-r--r--  2.0 unx        7 b- defN 24-Apr-12 11:19 test/test_run_service.py
--rw-r--r--  2.0 unx     1259 b- defN 24-Apr-12 11:19 test/test_common/__init__.py
--rw-r--r--  2.0 unx     4902 b- defN 24-Apr-12 11:19 test/test_common/test_api.py
--rw-r--r--  2.0 unx    13346 b- defN 24-Apr-12 11:19 test/test_common/test_base.py
--rw-r--r--  2.0 unx     2575 b- defN 24-Apr-12 11:19 test/test_common/test_helper.py
--rw-r--r--  2.0 unx     1753 b- defN 24-Apr-12 11:19 test/test_common/test_ocr.py
--rw-r--r--  2.0 unx     7914 b- defN 24-Apr-12 11:19 test/test_common/test_ontology_helper.py
--rw-r--r--  2.0 unx    11492 b- defN 24-Apr-12 11:19 test/test_common/test_request.py
--rw-r--r--  2.0 unx    41982 b- defN 24-Apr-12 11:19 test/test_common/test_result.py
--rw-r--r--  2.0 unx    18718 b- defN 24-Apr-12 11:19 test/test_common/test_task.py
--rw-r--r--  2.0 unx     5904 b- defN 24-Apr-12 11:19 test/test_common/test_utils.py
--rw-r--r--  2.0 unx     1396 b- defN 24-Apr-12 11:20 assemblyline_v4_service-4.5.1.dev77.dist-info/LICENCE.md
--rw-r--r--  2.0 unx     9498 b- defN 24-Apr-12 11:20 assemblyline_v4_service-4.5.1.dev77.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-12 11:20 assemblyline_v4_service-4.5.1.dev77.dist-info/WHEEL
--rw-r--r--  2.0 unx       29 b- defN 24-Apr-12 11:20 assemblyline_v4_service-4.5.1.dev77.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4181 b- defN 24-Apr-12 11:20 assemblyline_v4_service-4.5.1.dev77.dist-info/RECORD
-45 files, 315410 bytes uncompressed, 80112 bytes compressed:  74.6%
+Zip file size: 84781 bytes, number of entries: 44
+-rw-r--r--  2.0 unx       11 b- defN 24-Feb-22 20:16 assemblyline_v4_service/VERSION
+-rw-r--r--  2.0 unx        0 b- defN 24-Feb-22 20:16 assemblyline_v4_service/__init__.py
+-rw-r--r--  2.0 unx     1575 b- defN 24-Feb-22 20:16 assemblyline_v4_service/healthz.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Feb-22 20:16 assemblyline_v4_service/py.typed
+-rw-r--r--  2.0 unx    14514 b- defN 24-Feb-22 20:16 assemblyline_v4_service/run_privileged_service.py
+-rw-r--r--  2.0 unx     5996 b- defN 24-Feb-22 20:16 assemblyline_v4_service/run_service.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/__init__.py
+-rw-r--r--  2.0 unx     6849 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/api.py
+-rw-r--r--  2.0 unx    14045 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/base.py
+-rw-r--r--  2.0 unx     3289 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/helper.py
+-rw-r--r--  2.0 unx     7897 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/ocr.py
+-rw-r--r--  2.0 unx     7890 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/ontology_helper.py
+-rw-r--r--  2.0 unx    11774 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/request.py
+-rw-r--r--  2.0 unx    32713 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/result.py
+-rw-r--r--  2.0 unx    13720 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/task.py
+-rw-r--r--  2.0 unx     3890 b- defN 24-Feb-22 20:16 assemblyline_v4_service/common/utils.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Feb-22 20:16 assemblyline_v4_service/dev/__init__.py
+-rw-r--r--  2.0 unx    10456 b- defN 24-Feb-22 20:16 assemblyline_v4_service/dev/run_service_once.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Feb-22 20:16 assemblyline_v4_service/updater/__init__.py
+-rw-r--r--  2.0 unx      133 b- defN 24-Feb-22 20:16 assemblyline_v4_service/updater/__main__.py
+-rw-r--r--  2.0 unx     3317 b- defN 24-Feb-22 20:16 assemblyline_v4_service/updater/app.py
+-rw-r--r--  2.0 unx     4772 b- defN 24-Feb-22 20:16 assemblyline_v4_service/updater/client.py
+-rw-r--r--  2.0 unx     1247 b- defN 24-Feb-22 20:16 assemblyline_v4_service/updater/gunicorn_config.py
+-rw-r--r--  2.0 unx     9435 b- defN 24-Feb-22 20:16 assemblyline_v4_service/updater/helper.py
+-rw-r--r--  2.0 unx    29033 b- defN 24-Feb-22 20:16 assemblyline_v4_service/updater/updater.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Feb-22 20:16 test/__init__.py
+-rw-r--r--  2.0 unx        7 b- defN 24-Feb-22 20:16 test/test_healthz.py
+-rw-r--r--  2.0 unx        7 b- defN 24-Feb-22 20:16 test/test_run_privileged_service.py
+-rw-r--r--  2.0 unx        7 b- defN 24-Feb-22 20:16 test/test_run_service.py
+-rw-r--r--  2.0 unx     1319 b- defN 24-Feb-22 20:16 test/test_common/__init__.py
+-rw-r--r--  2.0 unx     4902 b- defN 24-Feb-22 20:16 test/test_common/test_api.py
+-rw-r--r--  2.0 unx    13198 b- defN 24-Feb-22 20:16 test/test_common/test_base.py
+-rw-r--r--  2.0 unx     2575 b- defN 24-Feb-22 20:16 test/test_common/test_helper.py
+-rw-r--r--  2.0 unx     1874 b- defN 24-Feb-22 20:16 test/test_common/test_ocr.py
+-rw-r--r--  2.0 unx     7856 b- defN 24-Feb-22 20:16 test/test_common/test_ontology_helper.py
+-rw-r--r--  2.0 unx    11749 b- defN 24-Feb-22 20:16 test/test_common/test_request.py
+-rw-r--r--  2.0 unx    42208 b- defN 24-Feb-22 20:16 test/test_common/test_result.py
+-rw-r--r--  2.0 unx    18718 b- defN 24-Feb-22 20:16 test/test_common/test_task.py
+-rw-r--r--  2.0 unx     5904 b- defN 24-Feb-22 20:16 test/test_common/test_utils.py
+-rw-r--r--  2.0 unx     1396 b- defN 24-Feb-22 20:16 assemblyline_v4_service-4.5.1.dev8.dist-info/LICENCE.md
+-rw-r--r--  2.0 unx     9738 b- defN 24-Feb-22 20:16 assemblyline_v4_service-4.5.1.dev8.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Feb-22 20:16 assemblyline_v4_service-4.5.1.dev8.dist-info/WHEEL
+-rw-r--r--  2.0 unx       29 b- defN 24-Feb-22 20:16 assemblyline_v4_service-4.5.1.dev8.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4103 b- defN 24-Feb-22 20:16 assemblyline_v4_service-4.5.1.dev8.dist-info/RECORD
+44 files, 308238 bytes uncompressed, 78071 bytes compressed:  74.7%
```

## zipnote {}

```diff
@@ -72,17 +72,14 @@
 
 Filename: assemblyline_v4_service/updater/updater.py
 Comment: 
 
 Filename: test/__init__.py
 Comment: 
 
-Filename: test/conftest.py
-Comment: 
-
 Filename: test/test_healthz.py
 Comment: 
 
 Filename: test/test_run_privileged_service.py
 Comment: 
 
 Filename: test/test_run_service.py
@@ -114,23 +111,23 @@
 
 Filename: test/test_common/test_task.py
 Comment: 
 
 Filename: test/test_common/test_utils.py
 Comment: 
 
-Filename: assemblyline_v4_service-4.5.1.dev77.dist-info/LICENCE.md
+Filename: assemblyline_v4_service-4.5.1.dev8.dist-info/LICENCE.md
 Comment: 
 
-Filename: assemblyline_v4_service-4.5.1.dev77.dist-info/METADATA
+Filename: assemblyline_v4_service-4.5.1.dev8.dist-info/METADATA
 Comment: 
 
-Filename: assemblyline_v4_service-4.5.1.dev77.dist-info/WHEEL
+Filename: assemblyline_v4_service-4.5.1.dev8.dist-info/WHEEL
 Comment: 
 
-Filename: assemblyline_v4_service-4.5.1.dev77.dist-info/top_level.txt
+Filename: assemblyline_v4_service-4.5.1.dev8.dist-info/top_level.txt
 Comment: 
 
-Filename: assemblyline_v4_service-4.5.1.dev77.dist-info/RECORD
+Filename: assemblyline_v4_service-4.5.1.dev8.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## assemblyline_v4_service/VERSION

```diff
@@ -1 +1 @@
-4.5.1.dev77
+4.5.1.dev8
```

## assemblyline_v4_service/common/base.py

```diff
@@ -15,15 +15,14 @@
 import requests
 from assemblyline.common import exceptions, log, version
 from assemblyline.common.digests import get_sha256_for_file
 from assemblyline.odm.messages.task import Task as ServiceTask
 from assemblyline_v4_service.common import helper
 from assemblyline_v4_service.common.api import PrivilegedServiceAPI, ServiceAPI
 from assemblyline_v4_service.common.ontology_helper import OntologyHelper
-from assemblyline_v4_service.common.ocr import update_ocr_config
 from assemblyline_v4_service.common.request import ServiceRequest
 from assemblyline_v4_service.common.task import Task
 
 # Ignore all other warnings that a service's libraries can generate
 warnings.filterwarnings("ignore")
 
 LOG_LEVEL = logging.getLevelName(os.environ.get("LOG_LEVEL", "INFO"))
@@ -81,18 +80,14 @@
         self.rules_list: list = []
         self.update_time: int = None
         self.update_hash: str = None
         self.update_check_time: float = 0.0
         self.rules_hash: str = None
         self.signatures_meta: dict = {}
 
-        # OCR-related
-        if self.config.get('ocr'):
-            update_ocr_config(self.config['ocr'])
-
     @property
     def api_interface(self):
         return self.get_api_interface()
 
     def _get_dependencies_info(self) -> Dict[str, Dict[str, str]]:
         dependencies = {}
         dep_names = [e.split('_key')[0] for e in os.environ.keys() if e.endswith('_key')]
```

## assemblyline_v4_service/common/ocr.py

```diff
@@ -1,15 +1,15 @@
 from __future__ import annotations
 
-from typing import Any, Dict, List, TextIO, Union
+from typing import Dict, List, TextIO
 
 from assemblyline_v4_service.common.helper import get_service_manifest
 from assemblyline_v4_service.common.utils import PASSWORD_WORDS
 
-# The terms related to each indicator category
+# TODO: Would prefer this mapping to be dynamic from trusted sources (ie. import from library), but will copy-paste for now
 OCR_INDICATORS_TERMS: dict[str, list[str]] = {
     "ransomware": [
         # https://github.com/cuckoosandbox/community/blob/master/modules/signatures/windows/ransomware_message.py
         "AES 128",
         "AES 256",
         "AES-128",
         "AES-256",
@@ -150,56 +150,14 @@
         "verify your identity",
     ],
 }
 
 # The minimum number of indicator hits to avoid FP detections
 OCR_INDICATORS_THRESHOLD: Dict[str, int] = {"ransomware": 2, "macros": 2, "banned": 1, "password": 1}
 
-def update_ocr_config(ocr_config: Dict[str, Union[List[str], Dict[str, Any]]] = None):
-    global OCR_INDICATORS_TERMS
-    global OCR_INDICATORS_THRESHOLD
-    if not ocr_config:
-        try:
-            # Retrieve service-configured OCR settings on module load (primary used in testing)
-            ocr_config: Dict = get_service_manifest().get("config", {}).get("ocr", {})
-        except Exception:
-            # No configuration updates provided
-            return
-
-    indicators = set(list(OCR_INDICATORS_TERMS.keys()) + list(ocr_config.keys()))
-    # Iterate over the different indicators and include lines of detection in response
-    for indicator in indicators:
-        indicator_config = ocr_config.get(indicator)
-        terms = OCR_INDICATORS_TERMS.get(indicator, [])
-        hit_threshold = OCR_INDICATORS_THRESHOLD.get(indicator, 1)
-        # Backwards compatibility: Check how the OCR configuration is formatted
-        if not indicator_config:
-            # Empty block/no override provided by service
-            pass
-        elif isinstance(indicator_config, list):
-            # Legacy support (before configurable indicator thresholds)
-            terms = indicator_config
-        elif isinstance(indicator_config, dict):
-            # Either you're exclusively overwriting the terms list or you're selectively including/excluding terms
-            if indicator_config.get("terms"):
-                # Overwrite terms list with service configuration
-                terms = indicator_config["terms"]
-            else:
-                included_terms = set(indicator_config.get("include", []))
-                excluded_terms = set(indicator_config.get("exclude", []))
-                # Compute the new terms list for indicator type
-                terms = list(set(terms).union(included_terms) - excluded_terms)
-
-            # Set the indicator hit threshold
-            hit_threshold = indicator_config.get("threshold", 1)
-
-        # Overwrite key-value in respective constants
-        OCR_INDICATORS_TERMS[indicator] = terms
-        OCR_INDICATORS_THRESHOLD[indicator] = hit_threshold
-
 
 def ocr_detections(image_path: str, ocr_io: TextIO = None) -> Dict[str, List[str]]:
     try:
         import pytesseract
         from PIL import Image
     except ImportError as exc:
         raise ImportError(
@@ -223,29 +181,52 @@
         ocr_io.write(ocr_output)
         ocr_io.flush()
 
     return detections(ocr_output)
 
 
 def detections(ocr_output: str) -> Dict[str, List[str]]:
+    try:
+        # Retrieve service-configured OCR settings on module load
+        ocr_config: Dict = get_service_manifest().get("config", {}).get("ocr", {})
+    except Exception:
+        # Service manifest not found
+        ocr_config = {}
+
+    indicators = set(list(OCR_INDICATORS_TERMS.keys()) + list(ocr_config.keys()))
     detection_output: Dict[str, List[str]] = {}
-    for indicator, terms in OCR_INDICATORS_TERMS.items():
-        hit_threshold = OCR_INDICATORS_THRESHOLD[indicator]
+    # Iterate over the different indicators and include lines of detection in response
+    for indicator in indicators:
+        indicator_config = ocr_config.get(indicator)
+        terms = OCR_INDICATORS_TERMS.get(indicator, [])
+        hit_threshold = OCR_INDICATORS_THRESHOLD.get(indicator, 1)
+        # Backwards compatibility: Check how the OCR configuration is formatted
+        if not indicator_config:
+            # Empty block/no override provided by service
+            pass
+        elif isinstance(indicator_config, list):
+            # Legacy support (before configurable indicator thresholds)
+            terms = indicator_config
+        elif isinstance(indicator_config, dict):
+            # Set indicator threshold before variable overwrite with terms list
+            terms = indicator_config.get("terms", [])
+            hit_threshold = indicator_config.get("threshold", 1)
+
         # Perform a pre-check to see if the terms even exist in the OCR text
         if not any([t.lower() in ocr_output.lower() for t in terms]):
             continue
 
         # Keep a track of the hits and the lines corresponding with term hits
-        indicator_hits: set = set()
+        indicator_hits: int = 0
         list_of_strings: List[str] = []
         for line in ocr_output.split("\n"):
             for t in terms:
                 term_count = line.lower().count(t.lower())
                 if term_count:
-                    indicator_hits.add(t)
+                    indicator_hits += term_count
                     if line not in list_of_strings:
                         list_of_strings.append(line)
 
-        if list_of_strings and len(indicator_hits) >= hit_threshold:
+        if list_of_strings and indicator_hits >= hit_threshold:
             # If we were to find hits and those hits are above the required threshold, then add them to output
             detection_output[indicator] = list_of_strings
     return detection_output
```

## assemblyline_v4_service/updater/client.py

```diff
@@ -1,128 +1,20 @@
 import os
 
-from assemblyline.datastore.collection import ESCollection
-from assemblyline.odm.models.badlist import Badlist as BadlistModel
-from assemblyline.odm.models.safelist import Safelist as SafelistModel
 from assemblyline.odm.models.signature import Signature as SignatureModel
 from assemblyline_core.badlist_client import BadlistClient
 from assemblyline_core.safelist_client import SafelistClient
 from assemblyline_core.signature_client import SignatureClient
 
-from typing import Any, Dict, List, Optional, Set, Union
+from typing import Any, Dict, List, Union
 
 SIGNATURE_UPDATE_BATCH = int(os.environ.get('SIGNATURE_UPDATE_BATCH', '1000'))
 
 
-class SyncableBadlistClient(BadlistClient):
-    def __init__(self, datastore, config=None):
-        super().__init__(datastore, config)
-        self.sync = False
-
-    def add_update_many(self, data: List[Union[dict, BadlistModel]]) -> Dict[str, Any]:
-        return hashlist_add_update_many(self, self.datastore.badlist, data)
-
-
-class SyncableSafelistClient(SafelistClient):
-    def __init__(self, datastore, config=None):
-        super().__init__(datastore, config)
-        self.sync = False
-
-    def add_update_many(self, data: List[Union[dict, SafelistModel]]) -> Dict[str, Any]:
-        return hashlist_add_update_many(self, self.datastore.safelist, data)
-
-
-def hashlist_add_update_many(client: Union[SyncableBadlistClient, SyncableSafelistClient],
-                             collection: ESCollection,
-                             data: List[Union[dict, BadlistModel, SafelistModel]]):
-    # This generic function allows to sync hashlist items with the system by making direct changes to the datastore
-    # Items that no longer exist at the source will be removed from `sources` to maintain active synchronicity
-    # amongst multiple sources.
-    # If there are no more sources actively blocking the item, then the item will be DISABLED but users can always
-    # re-deploy item if desired
-
-    if not data:
-        return {"success": 0, "errors": False}
-
-    current_ids: Set[str] = set()
-    source: Optional[str] = None
-
-    # Iterate over the list of signatures given
-    for i, d in enumerate(data):
-        if isinstance(d, collection.model_class):
-            d = d.as_primitives()
-
-        if not source:
-            # Set the source name
-            source = d["sources"][0]["name"]
-
-        if client.sync:
-            # Compute the expected ID and add it to the list
-            current_ids.add(client._preprocess_object(d))
-        # Update with JSON-friendly version of data to be sent to API
-        data[i] = d
-
-    if client.sync:
-        # Get the list of items that currently exists in the system for the source
-        existing_ids = set(
-            [
-                i["id"]
-                for i in collection.stream_search(
-                    f"sources.name:{source}", fl="id", as_obj=False
-                )
-            ]
-        )
-
-        # Find the IDs that don't exist at this source anymore and remove the source from the source list
-        missing_ids = existing_ids - current_ids
-        for missing_id in missing_ids:
-            missing_item = collection.get(missing_id)
-            original_sources = missing_item.sources
-            missing_item.sources = [
-                s
-                for s in missing_item.sources
-                if not (s.type == "external" and s.name == source)
-            ]
-
-            # If there are no more sources to back this item, then disable it but leave at least one source
-            if not missing_item.sources:
-                missing_item.enabled = False
-                missing_item.sources = original_sources[:1]
-
-            # Update the last updated time
-            missing_item.updated = "NOW"
-
-            # Update missing item with latest changes
-            collection.save(missing_id, missing_item)
-
-    # Proceed with adding/updating items
-    if len(data) < SIGNATURE_UPDATE_BATCH:
-        # Update all of them in a single batch
-        return super(client.__class__, client).add_update_many(data)
-    else:
-        response = {"success": 0, "errors": False}
-
-        def update_response(r: Dict[str, Any]):
-            # Response has to be in the same format, but show the accumulation of batches
-            response["success"]: int = response["success"] + r["success"]
-            response["errors"]: bool = response["errors"] or r["errors"]
-
-        # Split up data into batches to avoid server timeouts handling requests
-        batch_num = 0
-        start = batch_num * SIGNATURE_UPDATE_BATCH
-        while start < len(data):
-            end = (batch_num + 1) * SIGNATURE_UPDATE_BATCH
-            update_response(super(client.__class__, client).add_update_many(data[start:end]))
-            batch_num += 1
-            start = batch_num * SIGNATURE_UPDATE_BATCH
-
-        return response
-
-
-class SyncableSignatureClient(SignatureClient):
+class SyncableSignature(SignatureClient):
     def __init__(self, datastore, config=None):
         super().__init__(datastore, config)
         self.sync = False
 
     def add_update_many(self, source: str, sig_type: str, data: List[Union[dict, SignatureModel]],
                         dedup_name: bool = True) -> Dict[str, Any]:
         # This version of the API allows to sync signatures with the system by making direct changes to the datastore
@@ -197,23 +89,10 @@
 
             return response
 
 
 class UpdaterClient(object):
     def __init__(self, datastore) -> None:
         self.datastore = datastore
-        self._sync = False
-        self.badlist = SyncableBadlistClient(datastore)
-        self.safelist = SyncableSafelistClient(datastore)
-        self.signature = SyncableSignatureClient(datastore)
-
-    @property
-    def sync(self):
-        return self._sync
-
-    @sync.setter
-    def sync(self, value: bool):
-        # Set sync state across clients
-        self.badlist.sync = value
-        self.safelist.sync = value
-        self.signature.sync = value
-        self._sync = value
+        self.badlist = BadlistClient(datastore)
+        self.safelist = SafelistClient(datastore)
+        self.signature = SyncableSignature(datastore)
```

## assemblyline_v4_service/updater/helper.py

```diff
@@ -31,17 +31,14 @@
 class SkipSource(RuntimeError):
     pass
 
 
 def add_cacert(cert: str) -> None:
     # Add certificate to requests
     cafile = certifi.where()
-    with open(cafile, 'r') as ca_reader:
-        if cert in ca_reader.read():
-            return
     with open(cafile, 'a') as ca_editor:
         ca_editor.write(f"\n{cert}")
 
 
 def filter_downloads(output_path, pattern, default_pattern=".*") -> List[Tuple[str, str]]:
     if not output_path:
         # Nothing to filter.
```

## assemblyline_v4_service/updater/updater.py

```diff
@@ -367,16 +367,16 @@
                     source_obj = sources[source_name]
                     old_update_time = self.get_source_update_time()
 
                     self.push_status("UPDATING", "Starting..")
                     source = source_obj.as_primitives()
                     uri: str = source['uri']
                     default_classification = source.get('default_classification', classification.UNRESTRICTED)
-                    # Enable syncing if the source specifies it
-                    self.client.sync = source.get('sync', False)
+                    # Enable signature syncing if the source specifies it
+                    self.client.signature.sync = source.get('sync', False)
 
                     try:
                         self.push_status("UPDATING", "Pulling..")
                         output = None
                         seen_fetch = seen_fetches.get(uri)
                         if seen_fetch == 'skipped':
                             # Skip source if another source says nothing has changed
```

## test/test_common/__init__.py

```diff
@@ -1,13 +1,14 @@
 import os
 import subprocess
 
 from assemblyline.common.version import FRAMEWORK_VERSION, SYSTEM_VERSION
 
-TEMP_SERVICE_CONFIG_PATH ="/tmp/service_manifest.yml"
+SERVICE_CONFIG_NAME = "service_manifest.yml"
+TEMP_SERVICE_CONFIG_PATH = os.path.join("/tmp", SERVICE_CONFIG_NAME)
 
 ret = subprocess.run("dpkg -l | grep ^ii | awk '{print $2}' | grep -i 'tesseract'", capture_output=True, shell=True)
 TESSERACT_LIST = list(filter(None, ret.stdout.decode().split('\n')))
 
 
 def setup_module():
     open_manifest = open(TEMP_SERVICE_CONFIG_PATH, "w")
```

## test/test_common/test_base.py

```diff
@@ -1,18 +1,12 @@
 import json
 import os
 import time
 from logging import Logger
 
-
-from test.test_common import setup_module
-
-# Ensure service manifest is instantiated before loading assemblyline_v4_service module
-setup_module()
-
 import pytest
 import requests_mock
 from assemblyline_v4_service.common.base import *
 from assemblyline_v4_service.common.ontology_helper import OntologyHelper
 from assemblyline_v4_service.common.result import Result
 from assemblyline_v4_service.common.task import Task
```

## test/test_common/test_ocr.py

```diff
@@ -1,18 +1,20 @@
 import os
-from test.test_common import TESSERACT_LIST
+from test.test_common import TESSERACT_LIST, setup_module
 
 import pytest
+from assemblyline_v4_service.common.ocr import *
 
-from assemblyline_v4_service.common.ocr import ocr_detections, detections, update_ocr_config
 
 @pytest.mark.skipif(len(TESSERACT_LIST) < 1, reason="Requires tesseract-ocr apt package")
 def test_ocr_detections():
-    update_ocr_config()
-    file_path = os.path.join(os.path.dirname(__file__), "b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
+    if os.getcwd().endswith("/test"):
+        file_path = os.path.join(os.getcwd(), "test_common/b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
+    else:
+        file_path = os.path.join(os.getcwd(), "test/test_common/b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
     assert ocr_detections(file_path) == {
         'ransomware': [
             "YOUR FILES HAVE BEEN ENCRYPTED AND YOU WON'T BE ABLE TO "
             'DECRYPT THEM.',
             'YOU CAN BUY DECRYPTION SOFTWARE FROM US, THIS SOFTWARE WILL '
             'ALLOW YOU TO RECOVER ALL OF YOUR DATA AND',
             'RANSOMWARE FROM YOUR COMPUTER. THE PRICE OF THE SOFTWARE IS '
@@ -24,16 +26,15 @@
             "CONFIRMATION AND YOU'LL GET THE DECRYPTION SOFTWARE IN EMAIL.",
             "BTC ADDRESS : bciqsht77cpgw7kv420r4secmu88g34wvn96dsyc5s",
         ],
     }
 
 
 def test_detections():
-    update_ocr_config()
-
+    setup_module()
     # No detection
     assert detections("blah") == {}
 
     # Containing a banned string
     assert detections("blah\nrecover them\ndonotscanme") == {"banned": ["donotscanme"]}
 
     # Containing a single ransomware string
```

## test/test_common/test_ontology_helper.py

```diff
@@ -1,15 +1,12 @@
 import json
 import logging
 import os
 import tempfile
 
-from test.test_common import setup_module
-setup_module()
-
 import pytest
 from assemblyline_v4_service.common.ontology_helper import *
 from assemblyline_v4_service.common.result import ResultSection
 
 from assemblyline.odm.models.ontology.ontology import ODM_VERSION
 from assemblyline.odm.models.ontology.filetypes import PE
 from assemblyline.odm.models.ontology.results import Antivirus
```

## test/test_common/test_request.py

```diff
@@ -1,21 +1,19 @@
 import os
 import tempfile
 from logging import Logger
-from test.test_common import TESSERACT_LIST, setup_module
+from test.test_common import TESSERACT_LIST
 
 import pytest
 from assemblyline_v4_service.common.request import ServiceRequest
 from assemblyline_v4_service.common.result import Result, get_heuristic_primitives
 from assemblyline_v4_service.common.task import MaxExtractedExceeded, Task
 
 from assemblyline.odm.messages.task import Task as ServiceTask
 
-# Ensure service manifest is instantiated before importing from OCR submodule
-setup_module()
 
 @pytest.fixture
 def service_request():
     st = ServiceTask({
         "service_config": {},
         "metadata": {},
         "min_classification": "",
@@ -103,15 +101,18 @@
             'sha256': '9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08'
          },
     ]
 
 
 @pytest.mark.skipif(len(TESSERACT_LIST) < 1, reason="Requires tesseract-ocr apt package")
 def test_add_image(service_request):
-    image_path = os.path.join(os.path.dirname(__file__), "b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
+    if os.getcwd().endswith("/test"):
+        image_path = os.path.join(os.getcwd(), "test_common/b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
+    else:
+        image_path = os.path.join(os.getcwd(), "test/test_common/b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
 
     # Basic
     assert service_request.add_image(image_path, "image_name", "description of image") == {
         'img': {
             'description': 'description of image',
             'name': 'image_name',
             'sha256': '09bf99ab5431af13b701a06dc2b04520aea9fd346584fa2a034d6d4af0c57329'
@@ -191,15 +192,18 @@
     assert heur_dict == {'heur_id': 1, 'score': 1200, 'attack_ids': ['T1005'], 'signatures': {'ransomware_strings': 8}, 'frequency': 0, 'score_map': {}}
 
     assert service_request.temp_submission_data == {}
 
     service_request.task.supplementary.clear()
 
     # Classification, OCR heuristic, OCR_IO, image with password
-    image_path = os.path.join(os.path.dirname(__file__), "4031ed8786439eee24b87f84901e38038a76b8c55e9d87dd5a7d88df2806c1cf")
+    if os.getcwd().endswith("/test"):
+        image_path = os.path.join(os.getcwd(), "test_common/4031ed8786439eee24b87f84901e38038a76b8c55e9d87dd5a7d88df2806c1cf")
+    else:
+        image_path = os.path.join(os.getcwd(), "test/test_common/4031ed8786439eee24b87f84901e38038a76b8c55e9d87dd5a7d88df2806c1cf")
     _, path = tempfile.mkstemp()
     ocr_io = open(path, "w")
     data = service_request.add_image(image_path, "image_name", "description of image", "TLP:A", ocr_heuristic_id, ocr_io)
     assert data["img"] == {
         'description': 'description of image',
         'name': 'image_name',
         'sha256': '9dac3e45d5a20626b5a96bcfb708160fb36690c41d07cad912289186726f9e57'
```

## test/test_common/test_result.py

```diff
@@ -1,22 +1,19 @@
 import os
 import tempfile
-from test.test_common import TESSERACT_LIST, setup_module
-
-# Ensure service manifest is instantiated before importing from OCR submodule
-setup_module()
-
+from test.test_common import TESSERACT_LIST
 
 import pytest
 from assemblyline_v4_service.common.request import ServiceRequest
 from assemblyline_v4_service.common.result import *
 from assemblyline_v4_service.common.task import Task
 
 from assemblyline.odm.messages.task import Task as ServiceTask
 
+
 @pytest.fixture
 def heuristic():
     return Heuristic(1)
 
 
 @pytest.fixture
 def sectionbody():
@@ -591,15 +588,18 @@
     assert isb._format == BODY_FORMAT.IMAGE
     assert isb._data == []
 
 
 @pytest.mark.skipif(len(TESSERACT_LIST) < 1, reason="Requires tesseract-ocr apt package")
 def test_imagesectionbody_add_image(service_request):
     isb = ImageSectionBody(service_request)
-    image_path = os.path.join(os.path.dirname(__file__), "b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
+    if os.getcwd().endswith("/test"):
+        image_path = os.path.join(os.getcwd(), "test_common/b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
+    else:
+        image_path = os.path.join(os.getcwd(), "test/test_common/b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
 
     # Basic
     assert isb.add_image(image_path, "image_name", "description of image") is None
     assert isb._data == [{'img': {'name': 'image_name', 'sha256': '09bf99ab5431af13b701a06dc2b04520aea9fd346584fa2a034d6d4af0c57329', 'description': 'description of image'}, 'thumb': {'name': 'image_name.thumb', 'sha256': '1af0e0d99845493b64cf402b3704170f17ecf15001714016e48f9d4854218901', 'description': 'description of image (thumbnail)'}}]
 
     isb._data.clear()
 
@@ -1226,16 +1226,18 @@
     assert ris.section_body._request == service_request
 
 
 @pytest.mark.skipif(len(TESSERACT_LIST) < 1, reason="Requires tesseract-ocr apt package")
 def test_resultimagesection_add_image(service_request):
     ris = ResultImageSection(service_request, "title_text_as_str")
 
-    image_path = os.path.join(os.path.dirname(__file__),
-                              "b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
+    if os.getcwd().endswith("/test"):
+        image_path = os.path.join(os.getcwd(), "test_common/b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
+    else:
+        image_path = os.path.join(os.getcwd(), "test/test_common/b32969aa664e3905c20f865cdd7b921f922678f5c3850c78e4c803fbc1757a8e")
 
     # Basic
     assert ris.add_image(image_path, "image_name", "description of image") is None
     assert ris.section_body._data == [{'img': {'name': 'image_name', 'sha256': '09bf99ab5431af13b701a06dc2b04520aea9fd346584fa2a034d6d4af0c57329', 'description': 'description of image'}, 'thumb': {'name': 'image_name.thumb', 'sha256': '1af0e0d99845493b64cf402b3704170f17ecf15001714016e48f9d4854218901', 'description': 'description of image (thumbnail)'}}]
 
     ris = ResultImageSection(service_request, "title_text_as_str")
```

## Comparing `assemblyline_v4_service-4.5.1.dev77.dist-info/LICENCE.md` & `assemblyline_v4_service-4.5.1.dev8.dist-info/LICENCE.md`

 * *Files identical despite different names*

## Comparing `assemblyline_v4_service-4.5.1.dev77.dist-info/METADATA` & `assemblyline_v4_service-4.5.1.dev8.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: assemblyline-v4-service
-Version: 4.5.1.dev77
+Version: 4.5.1.dev8
 Summary: Assemblyline 4 - Service base
 Home-page: https://github.com/CybercentreCanada/assemblyline-v4-service/
 Author: CCCS Assemblyline development team
 Author-email: assemblyline@cyber.gc.ca
 License: MIT
 Keywords: assemblyline automated malware analysis gc canada cse-cst cse cst cyber cccs
 Classifier: Development Status :: 5 - Production/Stable
@@ -20,15 +20,15 @@
 Description-Content-Type: text/markdown
 License-File: LICENCE.md
 Requires-Dist: assemblyline
 Requires-Dist: assemblyline-core
 Requires-Dist: cart
 Requires-Dist: fuzzywuzzy
 Requires-Dist: pefile
-Requires-Dist: pillow !=10.1.0,!=10.2.0
+Requires-Dist: pillow ==10.2.0
 Requires-Dist: python-Levenshtein
 Requires-Dist: regex
 Provides-Extra: updater
 Requires-Dist: gunicorn[gevent] ; extra == 'updater'
 Requires-Dist: flask ; extra == 'updater'
 Requires-Dist: gitpython ; extra == 'updater'
 Requires-Dist: git-remote-codecommit ; extra == 'updater'
@@ -238,15 +238,17 @@
    ```shell
    cd assemblyline-service-<service name>
    ```
 
 2. From a terminal, run the `run_service_once` script, where `<service path>` is the path to the service module and `<file path>` is the path of the file to be processed
 
    ```shell
-   python3.11 -m assemblyline_v4_service.dev.run_service_once <service path> <file path>
+   python3.9 -m assemblyline_v4_service.dev.run_service_once <service path> <file path>
+   ```
+   python3.7 -m assemblyline_v4_service.dev.run_service_once <service path> <file path>
    ```
 
 
 3. The output of the service (`result.json` and extracted/supplementary files) will be located in a directory where the input file is located
 
 #### Example of running the ResultSample service
 
@@ -255,11 +257,14 @@
    ```shell
    cd assemblyline_result_sample_service
    ```
 
 2. From a terminal, run the `run_service_once` script
 
    ```shell
-   python3.11 -m assemblyline_v4_service.dev.run_service_once assemblyline_result_sample_service.result_sample.ResultSample /home/ubuntu/testfile.doc
+   python3.9 -m assemblyline_v4_service.dev.run_service_once assemblyline_result_sample_service.result_sample.ResultSample /home/ubuntu/testfile.doc
+   ```
+   python3.7 -m assemblyline_v4_service.dev.run_service_once assemblyline_result_sample_service.result_sample.ResultSample /home/ubuntu/testfile.doc
    ```
 
+
 3. The `results.json` and any extracted/supplementary files will be outputted to `/home/ubuntu/testfile_resultsample`
```

## Comparing `assemblyline_v4_service-4.5.1.dev77.dist-info/RECORD` & `assemblyline_v4_service-4.5.1.dev8.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,45 +1,44 @@
-assemblyline_v4_service/VERSION,sha256=s6mmrhL6AATHlUQnS9l3hT6r003DPEuWyYxn0OsQo8c,12
+assemblyline_v4_service/VERSION,sha256=vOZcm5VwouAZxLcIFar44guiJDMF80lns5xK0hj2a3Q,11
 assemblyline_v4_service/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 assemblyline_v4_service/healthz.py,sha256=sS1cFkDLw8hUPMpj7tbHXFv8ZmHcazrwZ0l6oQDwwkQ,1575
 assemblyline_v4_service/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 assemblyline_v4_service/run_privileged_service.py,sha256=qd4DmHo5G_Tpv8tb0A96qNfCGuXBu5MlIKB205z5e5w,14514
 assemblyline_v4_service/run_service.py,sha256=NiFX52NfsbBQY6E3nrjoB3e2XxIlwFcQpYYY-rADIk4,5996
 assemblyline_v4_service/common/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 assemblyline_v4_service/common/api.py,sha256=Xzp8j4HCCfjPvNSGKiZl5ttH2_Itg47cjlH0NXNtth0,6849
-assemblyline_v4_service/common/base.py,sha256=1wxzg_enESdqxloiAWCL0fUNzcKg0kAVfNNkGAfHX0U,14218
+assemblyline_v4_service/common/base.py,sha256=mKkkzbxVL_wVMy_VieU9mlHYLqZXndga_4dWWbnEnx8,14045
 assemblyline_v4_service/common/helper.py,sha256=xs9quuf-M1JOdKieBqOmWaOece0CtzXFhhe85xQYmuY,3289
-assemblyline_v4_service/common/ocr.py,sha256=3fV0PyY3oui_ucAM9dkolP0VRYKACKJuGY4M64DudIE,8841
+assemblyline_v4_service/common/ocr.py,sha256=XHHD0bOKu7DdBEMQ3sPZxQjp4K4G3js_Ib2GKWD6Xuw,7897
 assemblyline_v4_service/common/ontology_helper.py,sha256=QpwerYoS5hXjWzpx3Pmwv6j2330PQVYqxYGamjcpW3I,7890
 assemblyline_v4_service/common/request.py,sha256=XXBafAQCV43_OBLXOSHxYoDHmqwERBkNul8fb_X6Ves,11774
 assemblyline_v4_service/common/result.py,sha256=9AqM6qCYiia_Bpyn_fBFhzNQMcqJbtFSiGjp57fXW2E,32713
 assemblyline_v4_service/common/task.py,sha256=-AhtT6qSMLndBB3IOqOF-MV5K8Xp_67yvcgMuzr1IT0,13720
 assemblyline_v4_service/common/utils.py,sha256=k2__d-V5LjB6o2IKbjVe7tJWKcKuUHto5TyT5oKhIa0,3890
 assemblyline_v4_service/dev/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 assemblyline_v4_service/dev/run_service_once.py,sha256=4K3ljw0MnfPGw0-6lzc_vtUYg1EbntJbbsWvNU-ZM_A,10456
 assemblyline_v4_service/updater/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 assemblyline_v4_service/updater/__main__.py,sha256=9Os-u8Tf7MD73JSrUSPmOaErTgfvesNLiEeszU4ujXA,133
 assemblyline_v4_service/updater/app.py,sha256=Mtmx4bkXfP4nFqqa5q15jW8QIXr4JK84lCovxAVyvPs,3317
-assemblyline_v4_service/updater/client.py,sha256=oOOIzh-Q-b5uOTo3C4rVSfQxqUO5Y_ogDmUhvWfm5uo,9518
+assemblyline_v4_service/updater/client.py,sha256=HNmBKJI9VXsRso8IG3JojWsk9ujXJUu_cSJmKh7oG_k,4772
 assemblyline_v4_service/updater/gunicorn_config.py,sha256=p3j2KPBeD5jvMw9O5i7vAtlRgPSVVxIG9AO0DfN82J8,1247
-assemblyline_v4_service/updater/helper.py,sha256=-B35wdjpeY4t1R9SPDrTFHFKHwE3uzy9N69mV6mHy-g,9532
-assemblyline_v4_service/updater/updater.py,sha256=5cJH82VTP3VrwoNE97ubKP2dr90AI_T-AKRistvN5rI,29013
+assemblyline_v4_service/updater/helper.py,sha256=HbH5p6UTdHyIgoctF1c1pQkoqTtzaxfHOi9KXGwn0eM,9435
+assemblyline_v4_service/updater/updater.py,sha256=yYDME2ir38Qr-Qe8S0uqcYNxjPRsgUrBByhLwg_rweU,29033
 test/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-test/conftest.py,sha256=W3SieQpZsZpGEmtLqY4aIlxREDSsHceyCrFcFsWUM0U,1851
 test/test_healthz.py,sha256=DkeLUlrb7rGx3nZ04aADU9HXXu5mZTf_DBwT0xhzIv4,7
 test/test_run_privileged_service.py,sha256=DkeLUlrb7rGx3nZ04aADU9HXXu5mZTf_DBwT0xhzIv4,7
 test/test_run_service.py,sha256=DkeLUlrb7rGx3nZ04aADU9HXXu5mZTf_DBwT0xhzIv4,7
-test/test_common/__init__.py,sha256=RkOm3vnVp5L947mD1jTo4bdOgLTZJ24_NX-kqfMn5a8,1259
+test/test_common/__init__.py,sha256=v3__rzWUBW0Smc2rFwfFR9WehQHM_uBTIFCdC_We3tA,1319
 test/test_common/test_api.py,sha256=7wlo7wgB12T23zMLbwjJ3GIomLHqE_Qvs3xkibSsR1U,4902
-test/test_common/test_base.py,sha256=fuJSSlPxIDHq6HU1xbvaMFitw2z1spOZNHD2SJ4UUic,13346
+test/test_common/test_base.py,sha256=d61an3lRaes_cx0AOPMNFMVWxTOjilrcGpuVP0dqTvM,13198
 test/test_common/test_helper.py,sha256=sO6YAiBhKTqaxlpLhFYDuy2ZdbuF2cg07Ylzo83ZzQs,2575
-test/test_common/test_ocr.py,sha256=mt_PgElgwQKJmNrp2nRVx9NjfMedVk40I6IV317vATI,1753
-test/test_common/test_ontology_helper.py,sha256=KhHEBg_ecJyQbDw79NMT4FzUyA4C1Aak3HEQCwBfM2s,7914
-test/test_common/test_request.py,sha256=PPhHfrwpwMdNZ33P1Z_0h1Zaz9ao9VFiDr_MJrBS3Lg,11492
-test/test_common/test_result.py,sha256=b96bCfyW0ukdTcCsl01jS_l5YhfzXFVYs_VPOwz7IEU,41982
+test/test_common/test_ocr.py,sha256=s5kL0vKjLmbyXuCg-9v6V6wQwwFRu0w2hYpjG0_BXy4,1874
+test/test_common/test_ontology_helper.py,sha256=TuvTeP9BTRqklOlsLu_yMdN9wdPWlVAENx2JqUe9a-A,7856
+test/test_common/test_request.py,sha256=wxSwnOj-_YOv2SuZjOJsw09q8A7p8GJmJuK4vozqCNg,11749
+test/test_common/test_result.py,sha256=Wm0Cs5kZRzlZr0jL-l8OTsYAvkoN2eaB3NkeXzvyssI,42208
 test/test_common/test_task.py,sha256=jnfF68EgJIu30Pz_4jiJHkncfI-3XpGaut5r79KIXOA,18718
 test/test_common/test_utils.py,sha256=TbnBxqpS_ZC5ptXR9XJX3xtbItD0mTbtiBxxdyP8J5k,5904
-assemblyline_v4_service-4.5.1.dev77.dist-info/LICENCE.md,sha256=NSkYo9EH8h5oOkzg4VhjAHF4339MqPP2cQ8msTPgl-c,1396
-assemblyline_v4_service-4.5.1.dev77.dist-info/METADATA,sha256=MGwF9WTfmHQfFbCpz0QiOFpdphkhqG7xuOAVdkuRxDY,9498
-assemblyline_v4_service-4.5.1.dev77.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-assemblyline_v4_service-4.5.1.dev77.dist-info/top_level.txt,sha256=LpTOEaVCatkrvbVq3EZseMSIa2PQZU-2rhuO_FTpZgY,29
-assemblyline_v4_service-4.5.1.dev77.dist-info/RECORD,,
+assemblyline_v4_service-4.5.1.dev8.dist-info/LICENCE.md,sha256=NSkYo9EH8h5oOkzg4VhjAHF4339MqPP2cQ8msTPgl-c,1396
+assemblyline_v4_service-4.5.1.dev8.dist-info/METADATA,sha256=05FMX2CQwEAecRzwJ5A6zwjAnvTHlNuy6lqDDepn2YM,9738
+assemblyline_v4_service-4.5.1.dev8.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
+assemblyline_v4_service-4.5.1.dev8.dist-info/top_level.txt,sha256=LpTOEaVCatkrvbVq3EZseMSIa2PQZU-2rhuO_FTpZgY,29
+assemblyline_v4_service-4.5.1.dev8.dist-info/RECORD,,
```

