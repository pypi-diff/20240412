# Comparing `tmp/mdocker-0.3.0.tar.gz` & `tmp/mdocker-0.3.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "mdocker-0.3.0.tar", max compression
+gzip compressed data, was "mdocker-0.3.1.tar", max compression
```

## Comparing `mdocker-0.3.0.tar` & `mdocker-0.3.1.tar`

### file list

```diff
@@ -1,19 +1,19 @@
--rw-r--r--   0        0        0     1065 2024-04-05 17:46:07.774645 mdocker-0.3.0/LICENSE.md
--rw-r--r--   0        0        0     2332 2024-04-05 17:46:07.774645 mdocker-0.3.0/README.md
--rw-r--r--   0        0        0     2306 2024-04-05 17:46:07.774645 mdocker-0.3.0/mdocker/__main__.py
--rw-r--r--   0        0        0       34 2024-04-05 17:46:07.774645 mdocker-0.3.0/mdocker/interfaces/__init__.py
--rw-r--r--   0        0        0      179 2024-04-05 17:46:28.766705 mdocker-0.3.0/mdocker/interfaces/__pycache__/__init__.cpython-312.pyc
--rw-r--r--   0        0        0     1489 2024-04-05 17:46:28.766705 mdocker-0.3.0/mdocker/interfaces/__pycache__/models.cpython-312.pyc
--rw-r--r--   0        0        0      789 2024-04-05 17:46:07.774645 mdocker-0.3.0/mdocker/interfaces/models.py
--rw-r--r--   0        0        0       40 2024-04-05 17:46:07.774645 mdocker-0.3.0/mdocker/models/__init__.py
--rw-r--r--   0        0        0      181 2024-04-05 17:46:28.602705 mdocker-0.3.0/mdocker/models/__pycache__/__init__.cpython-312.pyc
--rw-r--r--   0        0        0     3988 2024-04-05 17:46:28.602705 mdocker-0.3.0/mdocker/models/__pycache__/image_builder.cpython-312.pyc
--rw-r--r--   0        0        0     2669 2024-04-05 17:46:07.774645 mdocker-0.3.0/mdocker/models/image_builder.py
--rw-r--r--   0        0        0        0 2024-04-05 17:46:07.774645 mdocker-0.3.0/mdocker/tools/__init__.py
--rw-r--r--   0        0        0      127 2024-04-05 17:46:28.766705 mdocker-0.3.0/mdocker/tools/__pycache__/__init__.cpython-312.pyc
--rw-r--r--   0        0        0     1627 2024-04-05 17:46:28.766705 mdocker-0.3.0/mdocker/tools/__pycache__/commands.cpython-312.pyc
--rw-r--r--   0        0        0      968 2024-04-05 17:46:28.766705 mdocker-0.3.0/mdocker/tools/__pycache__/messages.cpython-312.pyc
--rw-r--r--   0        0        0     1166 2024-04-05 17:46:07.774645 mdocker-0.3.0/mdocker/tools/commands.py
--rw-r--r--   0        0        0      424 2024-04-05 17:46:07.774645 mdocker-0.3.0/mdocker/tools/messages.py
--rw-r--r--   0        0        0      753 2024-04-05 17:46:07.778645 mdocker-0.3.0/pyproject.toml
--rw-r--r--   0        0        0     3111 1970-01-01 00:00:00.000000 mdocker-0.3.0/PKG-INFO
+-rw-r--r--   0        0        0     1065 2024-04-12 10:42:13.073724 mdocker-0.3.1/LICENSE.md
+-rw-r--r--   0        0        0     3548 2024-04-12 10:42:13.073724 mdocker-0.3.1/README.md
+-rw-r--r--   0        0        0     2355 2024-04-12 10:42:13.073724 mdocker-0.3.1/mdocker/__main__.py
+-rw-r--r--   0        0        0       34 2024-04-12 10:42:13.077724 mdocker-0.3.1/mdocker/interfaces/__init__.py
+-rw-r--r--   0        0        0      179 2024-04-12 10:42:32.273634 mdocker-0.3.1/mdocker/interfaces/__pycache__/__init__.cpython-312.pyc
+-rw-r--r--   0        0        0     1510 2024-04-12 10:42:32.273634 mdocker-0.3.1/mdocker/interfaces/__pycache__/models.cpython-312.pyc
+-rw-r--r--   0        0        0      788 2024-04-12 10:42:13.077724 mdocker-0.3.1/mdocker/interfaces/models.py
+-rw-r--r--   0        0        0       40 2024-04-12 10:42:13.077724 mdocker-0.3.1/mdocker/models/__init__.py
+-rw-r--r--   0        0        0      181 2024-04-12 10:42:32.097634 mdocker-0.3.1/mdocker/models/__pycache__/__init__.cpython-312.pyc
+-rw-r--r--   0        0        0     3706 2024-04-12 10:42:32.097634 mdocker-0.3.1/mdocker/models/__pycache__/image_builder.cpython-312.pyc
+-rw-r--r--   0        0        0     2328 2024-04-12 10:42:13.077724 mdocker-0.3.1/mdocker/models/image_builder.py
+-rw-r--r--   0        0        0        0 2024-04-12 10:42:13.077724 mdocker-0.3.1/mdocker/tools/__init__.py
+-rw-r--r--   0        0        0      127 2024-04-12 10:42:32.269634 mdocker-0.3.1/mdocker/tools/__pycache__/__init__.cpython-312.pyc
+-rw-r--r--   0        0        0     1627 2024-04-12 10:42:32.269634 mdocker-0.3.1/mdocker/tools/__pycache__/commands.cpython-312.pyc
+-rw-r--r--   0        0        0      968 2024-04-12 10:42:32.269634 mdocker-0.3.1/mdocker/tools/__pycache__/messages.cpython-312.pyc
+-rw-r--r--   0        0        0     1166 2024-04-12 10:42:13.077724 mdocker-0.3.1/mdocker/tools/commands.py
+-rw-r--r--   0        0        0      424 2024-04-12 10:42:13.077724 mdocker-0.3.1/mdocker/tools/messages.py
+-rw-r--r--   0        0        0      750 2024-04-12 10:42:13.077724 mdocker-0.3.1/pyproject.toml
+-rw-r--r--   0        0        0     4324 1970-01-01 00:00:00.000000 mdocker-0.3.1/PKG-INFO
```

### Comparing `mdocker-0.3.0/LICENSE.md` & `mdocker-0.3.1/LICENSE.md`

 * *Files identical despite different names*

### Comparing `mdocker-0.3.0/mdocker/__main__.py` & `mdocker-0.3.1/mdocker/__main__.py`

 * *Files 6% similar despite different names*

```diff
@@ -15,26 +15,27 @@
     parser.add_argument(
         "name",
         help="specify a name for the image"
     )
     parser.add_argument(
         "--context",
         dest="bcontext",
+        default=Path("."),
         help="specify a path to build context"
     )
     parser.add_argument(
         "--file",
         dest="dfile",
         default=Path("Dockerfile"),
         help="specify a path to Dockerfile"
     )
     parser.add_argument(
         "--platforms",
         default=[
-            f"linux/{ccmd.launch('uname -m', get_output=True, quiet=True).replace('x86_64', 'amd64')}"
+            f"linux/{ccmd.launch('uname -m', get_output=True, quiet=True).replace('x86_64', 'amd64')}" # type: ignore
         ],
         help="specify target platforms (e.g., --platforms linux/amd64,linux/arm64)"
     )
     parser.add_argument(
         "--push",
         action="store_true",
         help="push image to remote registry"
@@ -60,15 +61,15 @@
     if not isinstance(platforms, list):
         return platforms.replace("x86_64", "amd64").split(",")
     else:
         return platforms
 
 
 def main(args: argparse.Namespace) -> None:
-    # for logs to show in order in various CI/CD / Build systems
+    # for logs to show in proper order in various CI/CD / Build systems
     sys.stdout = io.TextIOWrapper(open(sys.stdout.fileno(), "wb", 0), write_through=True)
     validate_env()
     ImageBuilder(
         name=args.name,
         bcontext=args.bcontext,
         dfile=args.dfile,
         platforms=process_platforms(args.platforms),
```

### Comparing `mdocker-0.3.0/mdocker/interfaces/models.py` & `mdocker-0.3.1/mdocker/interfaces/models.py`

 * *Files 7% similar despite different names*

```diff
@@ -2,25 +2,24 @@
 from subprocess import CompletedProcess
 
 
 class IImageBuilder(ABC):
     """An interface for Docker image builder."""
 
     @abstractmethod
-    def _builder_instance_clear(self) -> list[CompletedProcess | str]:
-        """Clear the builder instance from the host machine."""
+    def _builder_instance_clear(self) -> list[CompletedProcess | str | None]:
+        """Clear the builder instance."""
         raise NotImplementedError()
 
-    @abstractmethod
-    def _builder_instance_create(self) -> CompletedProcess | str | None:
+    def _builder_instance_create(self, platform: str) -> CompletedProcess | str | None:
         """Create new builder instance."""
         raise NotImplementedError()
 
     @abstractmethod
-    def _gen_build_cmds(self) -> list[str]:
+    def _gen_build_cmds(self, platform: str) -> list[str]:
         """Generate a list of Docker Buildx commands."""
         raise NotImplementedError()
 
     @abstractmethod
     def run(self) -> None:
-        """Run the logic."""
+        """Execute the logic."""
         raise NotImplementedError()
```

### Comparing `mdocker-0.3.0/mdocker/models/__pycache__/image_builder.cpython-312.pyc` & `mdocker-0.3.1/mdocker/models/__pycache__/image_builder.cpython-312.pyc`

 * *Format-specific differences are supported for Python .pyc files but no file-specific differences were detected; falling back to a binary diff. file(1) reports: Byte-compiled Python module for CPython 3.12 or newer, timestamp-based, .py timestamp: Fri Apr  5 17:46:07 2024 UTC, .py size: 2669 bytes*

 * *Could not decompile bytecode: tuple index out of range*

 * *Files 22% similar despite different names*

```diff
@@ -1,250 +1,232 @@
-00000000: cb0d 0d0a 0000 0000 df38 1066 6d0a 0000  .........8.fm...
+00000000: cb0d 0d0a 0000 0000 0510 1966 1809 0000  ...........f....
 00000010: e300 0000 0000 0000 0000 0000 0006 0000  ................
 00000020: 0000 0000 00f3 5c00 0000 9700 6400 6401  ......\.....d.d.
 00000030: 6c00 6d01 5a01 0100 6400 6402 6c02 6d03  l.m.Z...d.d.l.m.
 00000040: 5a03 0100 6400 6403 6c04 6d05 5a05 0100  Z...d.d.l.m.Z...
 00000050: 6400 6404 6c06 6d07 5a08 6d09 5a0a 0100  d.d.l.m.Z.m.Z...
 00000060: 6400 6405 6c0b 6d0c 5a0c 0100 0200 4700  d.d.l.m.Z.....G.
 00000070: 6406 8400 6407 6503 650c ab04 0000 0000  d...d.e.e.......
 00000080: 0000 5a0d 7908 2909 e900 0000 0029 01da  ..Z.y.)......)..
 00000090: 0450 6174 6829 01da 0942 6173 654d 6f64  .Path)...BaseMod
 000000a0: 656c 2901 da10 436f 6d70 6c65 7465 6450  el)...CompletedP
 000000b0: 726f 6365 7373 2902 da08 636f 6d6d 616e  rocess)...comman
 000000c0: 6473 da08 6d65 7373 6167 6573 2901 da0d  ds..messages)...
 000000d0: 4949 6d61 6765 4275 696c 6465 7263 0000  IImageBuilderc..
-000000e0: 0000 0000 0000 0000 0000 0400 0000 0000  ................
-000000f0: 0000 f3a2 0000 0097 0065 005a 0164 005a  .........e.Z.d.Z
+000000e0: 0000 0000 0000 0000 0000 0500 0000 0000  ................
+000000f0: 0000 f3b0 0000 0097 0065 005a 0164 005a  .........e.Z.d.Z
 00000100: 0255 0064 015a 0364 025a 0465 0565 0664  .U.d.Z.d.Z.e.e.d
 00000110: 033c 0000 0065 0565 0664 043c 0000 0065  .<...e.e.d.<...e
 00000120: 0765 0664 053c 0000 0065 0765 0664 063c  .e.d.<...e.e.d.<
 00000130: 0000 0065 0865 0664 073c 0000 0065 0965  ...e.e.d.<...e.e
 00000140: 0519 0000 0065 0664 083c 0000 0064 0965  .....e.d.<...d.e
-00000150: 0965 0a65 057a 0700 0019 0000 0066 0264  .e.e.z.......f.d
-00000160: 0a84 045a 0b64 0965 0a65 057a 0700 0064  ...Z.d.e.e.z...d
-00000170: 0b7a 0700 0066 0264 0c84 045a 0c64 0965  .z...f.d...Z.d.e
-00000180: 0965 0519 0000 0066 0264 0d84 045a 0d64  .e.....f.d...Z.d
-00000190: 0f64 0e84 045a 0e79 0b29 10da 0c49 6d61  .d...Z.y.)...Ima
-000001a0: 6765 4275 696c 6465 7261 0c01 0000 4120  geBuildera....A 
-000001b0: 636c 6173 7320 666f 7220 6275 696c 6469  class for buildi
-000001c0: 6e67 2044 6f63 6b65 7220 696d 6167 6573  ng Docker images
-000001d0: 2e0a 0a20 2020 203a 7061 7261 6d20 6e61  ...    :param na
-000001e0: 6d65 3a20 446f 636b 6572 2069 6d61 6765  me: Docker image
-000001f0: 206e 616d 652e 0a20 2020 203a 7061 7261   name..    :para
-00000200: 6d20 6669 6c65 3a20 5061 7468 2074 6f20  m file: Path to 
-00000210: 446f 636b 6572 6669 6c65 2e0a 2020 2020  Dockerfile..    
-00000220: 3a70 6172 616d 2063 6f6e 7465 7874 3a20  :param context: 
-00000230: 5061 7468 2074 6f20 6275 696c 6420 636f  Path to build co
-00000240: 6e74 6578 742e 0a20 2020 203a 7061 7261  ntext..    :para
-00000250: 6d20 706c 6174 666f 726d 733a 204c 6973  m platforms: Lis
-00000260: 7420 6f66 2074 6172 6765 7420 706c 6174  t of target plat
-00000270: 666f 726d 732e 0a20 2020 203a 7061 7261  forms..    :para
-00000280: 6d20 7075 7368 3a20 466c 6167 2074 6f20  m push: Flag to 
-00000290: 7075 7368 2062 7569 6c74 2044 6f63 6b65  push built Docke
-000002a0: 7220 696d 6167 6573 2074 6f20 7265 6769  r images to regi
-000002b0: 7374 7279 2e0a 2020 2020 da0e 6d75 6c74  stry..    ..mult
-000002c0: 695f 696e 7374 616e 6365 da09 5f69 6e73  i_instance.._ins
-000002d0: 7461 6e63 65da 046e 616d 65da 0564 6669  tance..name..dfi
-000002e0: 6c65 da08 6263 6f6e 7465 7874 da04 7075  le..bcontext..pu
-000002f0: 7368 da09 706c 6174 666f 726d 73da 0672  sh..platforms..r
-00000300: 6574 7572 6e63 0100 0000 0000 0000 0000  eturnc..........
-00000310: 0000 0800 0000 0300 0000 f36a 0100 0097  ...........j....
-00000320: 0067 007d 017c 016a 0100 0000 0000 0000  .g.}.|.j........
-00000330: 0000 0000 0000 0000 0000 0074 0300 0000  ...........t....
-00000340: 0000 0000 006a 0400 0000 0000 0000 0000  .....j..........
-00000350: 0000 0000 0000 0000 0064 017c 006a 0600  .........d.|.j..
-00000360: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-00000370: 009b 009d 0264 0264 02ac 03ab 0300 0000  .....d.d........
-00000380: 0000 00ab 0100 0000 0000 0001 007c 016a  .............|.j
-00000390: 0100 0000 0000 0000 0000 0000 0000 0000  ................
-000003a0: 0000 0074 0300 0000 0000 0000 006a 0400  ...t.........j..
-000003b0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-000003c0: 0064 047c 006a 0600 0000 0000 0000 0000  .d.|.j..........
-000003d0: 0000 0000 0000 0000 009b 009d 0264 0264  .............d.d
-000003e0: 02ac 03ab 0300 0000 0000 00ab 0100 0000  ................
-000003f0: 0000 0001 007c 016a 0100 0000 0000 0000  .....|.j........
-00000400: 0000 0000 0000 0000 0000 0074 0300 0000  ...........t....
-00000410: 0000 0000 006a 0400 0000 0000 0000 0000  .....j..........
-00000420: 0000 0000 0000 0000 0064 056a 0900 0000  .........d.j....
-00000430: 0000 0000 0000 0000 0000 0000 0000 007c  ...............|
-00000440: 006a 0600 0000 0000 0000 0000 0000 0000  .j..............
-00000450: 0000 0000 007c 006a 0a00 0000 0000 0000  .....|.j........
-00000460: 0000 0000 0000 0000 0000 00ab 0200 0000  ................
-00000470: 0000 00ab 0100 0000 0000 00ab 0100 0000  ................
-00000480: 0000 0001 007c 0153 0029 064e 7a13 646f  .....|.S.).Nz.do
-00000490: 636b 6572 2062 7569 6c64 7820 7374 6f70  cker buildx stop
-000004a0: 2054 2902 da05 7175 6965 74da 0964 6f6e   T)...quiet..don
-000004b0: 745f 6578 6974 7a11 646f 636b 6572 2062  t_exitz.docker b
-000004c0: 7569 6c64 7820 726d 20fa 4c64 6f63 6b65  uildx rm .Ldocke
-000004d0: 7220 6275 696c 6478 2063 7265 6174 6520  r buildx create 
-000004e0: 2d2d 7573 6520 2d2d 6e61 6d65 207b 7d20  --use --name {} 
-000004f0: 2d2d 706c 6174 666f 726d 207b 7d20 2d2d  --platform {} --
-00000500: 6472 6976 6572 2d6f 7074 206e 6574 776f  driver-opt netwo
-00000510: 726b 3d68 6f73 7429 06da 0661 7070 656e  rk=host)...appen
-00000520: 64da 0463 636d 64da 066c 6175 6e63 6872  d..ccmd..launchr
-00000530: 0c00 0000 da06 666f 726d 6174 7211 0000  ......formatr...
-00000540: 0029 02da 0473 656c 66da 0563 5f70 6373  .)...self..c_pcs
-00000550: 7302 0000 0020 20fa 242f 6f70 742f 6d64  s....  .$/opt/md
-00000560: 6f63 6b65 722f 6d6f 6465 6c73 2f69 6d61  ocker/models/ima
-00000570: 6765 5f62 7569 6c64 6572 2e70 79da 175f  ge_builder.py.._
-00000580: 6275 696c 6465 725f 696e 7374 616e 6365  builder_instance
-00000590: 5f63 6c65 6172 7a24 496d 6167 6542 7569  _clearz$ImageBui
-000005a0: 6c64 6572 2e5f 6275 696c 6465 725f 696e  lder._builder_in
-000005b0: 7374 616e 6365 5f63 6c65 6172 1b00 0000  stance_clear....
-000005c0: 738b 0000 0080 00e0 1012 8805 d808 0d8f  s...............
-000005d0: 0c89 0c94 5497 5b91 5bd0 2336 b074 b77e  ....T.[.[.#6.t.~
-000005e0: b17e d036 46d0 2147 c874 d05f 63d4 1564  .~.6F.!G.t._c..d
-000005f0: d408 65d8 080d 8f0c 890c 9454 975b 915b  ..e........T.[.[
-00000600: d023 34b0 54b7 5eb1 5ed0 3444 d021 45c8  .#4.T.^.^.4D.!E.
-00000610: 54d0 5d61 d415 62d4 0863 d808 0d8f 0c89  T.]a..b..c......
-00000620: 0cdc 0c10 8f4b 894b d810 5edf 1117 9116  .....K.K..^.....
-00000630: 9804 9f0e 990e a804 af0e a90e d311 37f3  ..............7.
-00000640: 0503 0d0e f403 0509 0af0 0c00 1015 880c  ................
-00000650: f300 0000 004e 6301 0000 0000 0000 0000  .....Nc.........
-00000660: 0000 0006 0000 0003 0000 00f3 7400 0000  ............t...
-00000670: 9700 7401 0000 0000 0000 0000 6a02 0000  ..t.........j...
-00000680: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-00000690: 6401 6a05 0000 0000 0000 0000 0000 0000  d.j.............
-000006a0: 0000 0000 0000 7c00 6a06 0000 0000 0000  ......|.j.......
-000006b0: 0000 0000 0000 0000 0000 0000 7c00 6a08  ............|.j.
-000006c0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-000006d0: 0000 ab02 0000 0000 0000 ab01 0000 0000  ................
-000006e0: 0000 5300 2902 4e72 1600 0000 2905 7218  ..S.).Nr....).r.
-000006f0: 0000 0072 1900 0000 721a 0000 0072 0c00  ...r....r....r..
-00000700: 0000 7211 0000 0029 0172 1b00 0000 7301  ..r....).r....s.
-00000710: 0000 0020 721d 0000 00da 185f 6275 696c  ... r......_buil
-00000720: 6465 725f 696e 7374 616e 6365 5f63 7265  der_instance_cre
-00000730: 6174 657a 2549 6d61 6765 4275 696c 6465  atez%ImageBuilde
-00000740: 722e 5f62 7569 6c64 6572 5f69 6e73 7461  r._builder_insta
-00000750: 6e63 655f 6372 6561 7465 2800 0000 732a  nce_create(...s*
-00000760: 0000 0080 00dc 0f13 8f7b 897b d80c 5adf  .........{.{..Z.
-00000770: 0d13 8956 9044 974e 914e a044 a74e a14e  ...V.D.N.N.D.N.N
-00000780: d30d 33f3 0503 100a f000 0309 0a72 1f00  ..3..........r..
-00000790: 0000 6301 0000 0000 0000 0000 0000 0007  ..c.............
-000007a0: 0000 0003 0000 00f3 9001 0000 9700 6700  ..............g.
-000007b0: 7d01 7c00 6a00 0000 0000 0000 0000 0000  }.|.j...........
-000007c0: 0000 0000 0000 0000 4400 5db4 0000 7d02  ........D.]...}.
-000007d0: 7c00 6a02 0000 0000 0000 0000 0000 0000  |.j.............
-000007e0: 0000 0000 0000 9b00 6401 7c02 6a05 0000  ........d.|.j...
-000007f0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-00000800: 6402 ab01 0000 0000 0000 6403 1900 0000  d.........d.....
-00000810: 9b00 9d03 7d03 6404 6a07 0000 0000 0000  ....}.d.j.......
-00000820: 0000 0000 0000 0000 0000 0000 7c02 7c00  ............|.|.
-00000830: 6a08 0000 0000 0000 0000 0000 0000 0000  j...............
-00000840: 0000 0000 7c00 6a0a 0000 0000 0000 0000  ....|.j.........
-00000850: 0000 0000 0000 0000 0000 7c03 ab04 0000  ..........|.....
-00000860: 0000 0000 6405 6a07 0000 0000 0000 0000  ....d.j.........
-00000870: 0000 0000 0000 0000 0000 7c00 6a0c 0000  ..........|.j...
-00000880: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-00000890: ab01 0000 0000 0000 6406 6a07 0000 0000  ........d.j.....
-000008a0: 0000 0000 0000 0000 0000 0000 0000 7c00  ..............|.
-000008b0: 6a0c 0000 0000 0000 0000 0000 0000 0000  j...............
-000008c0: 0000 0000 ab01 0000 0000 0000 6407 6704  ............d.g.
-000008d0: 7d04 7c00 6a0e 0000 0000 0000 0000 0000  }.|.j...........
-000008e0: 0000 0000 0000 0000 7214 7c04 6a11 0000  ........r.|.j...
-000008f0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-00000900: 6408 7c03 9b00 9d02 ab01 0000 0000 0000  d.|.............
-00000910: 0100 7c01 6a13 0000 0000 0000 0000 0000  ..|.j...........
-00000920: 0000 0000 0000 0000 7c04 ab01 0000 0000  ........|.......
-00000930: 0000 0100 8cb6 0400 7c01 5300 2909 4efa  ........|.S.).N.
-00000940: 013a fa01 2fe9 0100 0000 7a42 646f 636b  .:../.....zBdock
-00000950: 6572 2062 7569 6c64 7820 6275 696c 6420  er buildx build 
-00000960: 2d2d 6e6f 2d63 6163 6865 202d 2d70 6c61  --no-cache --pla
-00000970: 7466 6f72 6d20 7b7d 202d 2d6c 6f61 6420  tform {} --load 
-00000980: 2d66 207b 7d20 7b7d 202d 7420 7b7d 7a15  -f {} {} -t {}z.
-00000990: 646f 636b 6572 2062 7569 6c64 7820 7374  docker buildx st
-000009a0: 6f70 207b 7d7a 1364 6f63 6b65 7220 6275  op {}z.docker bu
-000009b0: 696c 6478 2072 6d20 7b7d 7a1b 646f 636b  ildx rm {}z.dock
-000009c0: 6572 2062 7569 6c64 7820 7072 756e 6520  er buildx prune 
-000009d0: 2d2d 666f 7263 657a 0c64 6f63 6b65 7220  --forcez.docker 
-000009e0: 7075 7368 2029 0a72 1100 0000 720d 0000  push ).r....r...
-000009f0: 00da 0573 706c 6974 721a 0000 0072 0e00  ...splitr....r..
-00000a00: 0000 720f 0000 0072 0c00 0000 7210 0000  ..r....r....r...
-00000a10: 0072 1700 0000 da06 6578 7465 6e64 2905  .r......extend).
-00000a20: 721b 0000 00da 0a61 6c6c 5f62 5f63 6d64  r......all_b_cmd
-00000a30: 73da 0870 6c61 7466 6f72 6dda 0374 6167  s..platform..tag
-00000a40: da06 625f 636d 6473 7305 0000 0020 2020  ..b_cmdss....   
-00000a50: 2020 721d 0000 00da 0f5f 6765 6e5f 6275    r......_gen_bu
-00000a60: 696c 645f 636d 6473 7a1c 496d 6167 6542  ild_cmdsz.ImageB
-00000a70: 7569 6c64 6572 2e5f 6765 6e5f 6275 696c  uilder._gen_buil
-00000a80: 645f 636d 6473 2e00 0000 73b9 0000 0080  d_cmds....s.....
-00000a90: 00d8 1517 880a d818 1c9f 0e99 0ef2 0010  ................
-00000aa0: 0926 8848 e015 1997 5991 5990 4b98 71a0  .&.H....Y.Y.K.q.
-00000ab0: 18a7 1ea1 1eb0 03d3 2134 b051 d121 37d0  ........!4.Q.!7.
-00000ac0: 2038 d012 3988 43f0 0600 1155 01df 1117   8..9.C....U....
-00000ad0: 9116 9808 a024 a72a a12a a864 af6d a96d  .....$.*.*.d.m.m
-00000ae0: b853 d311 41d8 1027 df11 1791 1698 049f  .S..A..'........
-00000af0: 0e99 0ed3 1127 d810 25df 1117 9116 9804  .....'..%.......
-00000b00: 9f0e 990e d311 27d8 102d f00f 0816 0e88  ......'..-......
-00000b10: 46f0 1400 1014 8f79 8a79 d810 1697 0d91  F......y.y......
-00000b20: 0da0 0ca8 53a8 45d0 1e32 d410 33d8 0c16  ....S.E..2..3...
-00000b30: d70c 1dd1 0c1d 9866 d50c 25f0 2110 0926  .......f..%.!..&
-00000b40: f022 0010 1ad0 0819 721f 0000 0063 0100  ."......r....c..
-00000b50: 0000 0000 0000 0000 0000 0600 0000 0300  ................
-00000b60: 0000 f324 0100 0097 0074 0100 0000 0000  ...$.....t......
-00000b70: 0000 006a 0200 0000 0000 0000 0000 0000  ...j............
-00000b80: 0000 0000 0000 0064 01ab 0100 0000 0000  .......d........
-00000b90: 0001 007c 006a 0500 0000 0000 0000 0000  ...|.j..........
-00000ba0: 0000 0000 0000 0000 00ab 0000 0000 0000  ................
-00000bb0: 0001 007c 006a 0700 0000 0000 0000 0000  ...|.j..........
-00000bc0: 0000 0000 0000 0000 00ab 0000 0000 0000  ................
-00000bd0: 0001 007c 006a 0900 0000 0000 0000 0000  ...|.j..........
-00000be0: 0000 0000 0000 0000 00ab 0000 0000 0000  ................
-00000bf0: 0044 008f 0163 0267 0063 025d 1700 007d  .D...c.g.c.]...}
-00000c00: 0174 0b00 0000 0000 0000 006a 0c00 0000  .t.........j....
-00000c10: 0000 0000 0000 0000 0000 0000 0000 007c  ...............|
-00000c20: 01ab 0100 0000 0000 0091 028c 1904 0063  ...............c
-00000c30: 027d 0101 007c 006a 0500 0000 0000 0000  .}...|.j........
-00000c40: 0000 0000 0000 0000 0000 00ab 0000 0000  ................
-00000c50: 0000 0001 0074 0100 0000 0000 0000 006a  .....t.........j
-00000c60: 0e00 0000 0000 0000 0000 0000 0000 0000  ................
-00000c70: 0000 0064 02ab 0100 0000 0000 0001 0079  ...d...........y
-00000c80: 0063 0201 0063 027d 0177 0029 034e 7a2d  .c...c.}.w.).Nz-
-00000c90: 4c61 756e 6368 696e 6720 6d75 6c74 692d  Launching multi-
-00000ca0: 706c 6174 666f 726d 2044 6f63 6b65 7220  platform Docker 
-00000cb0: 696d 6167 6520 6275 696c 642e 2e7a 264d  image build..z&M
-00000cc0: 756c 7469 6172 6368 2044 6f63 6b65 7220  ultiarch Docker 
-00000cd0: 696d 6167 6520 6275 696c 6420 6669 6e69  image build fini
-00000ce0: 7368 6564 2129 08da 036d 7367 da04 6e6f  shed!)...msg..no
-00000cf0: 7465 721e 0000 0072 2100 0000 722c 0000  ter....r!...r,..
-00000d00: 0072 1800 0000 7219 0000 00da 0464 6f6e  .r....r......don
-00000d10: 6529 0272 1b00 0000 da03 636d 6473 0200  e).r......cmds..
-00000d20: 0000 2020 721d 0000 00da 0372 756e 7a10  ..  r......runz.
-00000d30: 496d 6167 6542 7569 6c64 6572 2e72 756e  ImageBuilder.run
-00000d40: 4300 0000 7365 0000 0080 00dc 080b 8f08  C...se..........
-00000d50: 8908 d011 40d4 0841 d808 0cd7 0824 d108  ....@..A.....$..
-00000d60: 24d4 0826 d808 0cd7 0825 d108 25d4 0827  $..&.....%..%..'
-00000d70: d825 29d7 2539 d125 39d3 253b d608 3c98  .%).%9.%9.%;..<.
-00000d80: 638c 148f 1b89 1b90 53d5 0919 d308 3cd8  c.......S.....<.
-00000d90: 080c d708 24d1 0824 d408 26dc 080b 8f08  ....$..$..&.....
-00000da0: 8908 d011 39d5 083a f9f2 0500 093d 7306  ....9..:.....=s.
-00000db0: 0000 00c1 081c 420d 0429 0272 1200 0000  ......B..).r....
-00000dc0: 4e29 0fda 085f 5f6e 616d 655f 5fda 0a5f  N)...__name__.._
-00000dd0: 5f6d 6f64 756c 655f 5fda 0c5f 5f71 7561  _module__..__qua
-00000de0: 6c6e 616d 655f 5fda 075f 5f64 6f63 5f5f  lname__..__doc__
-00000df0: 720c 0000 00da 0373 7472 da0f 5f5f 616e  r......str..__an
-00000e00: 6e6f 7461 7469 6f6e 735f 5f72 0300 0000  notations__r....
-00000e10: da04 626f 6f6c da04 6c69 7374 7205 0000  ..bool..listr...
-00000e20: 0072 1e00 0000 7221 0000 0072 2c00 0000  .r....r!...r,...
-00000e30: 7232 0000 00a9 0072 1f00 0000 721d 0000  r2.....r....r...
-00000e40: 0072 0a00 0000 720a 0000 0009 0000 0073  .r....r........s
-00000e50: 7400 0000 8500 f102 0705 08f0 1200 1626  t..............&
-00000e60: 8049 8873 d304 25e0 0a0d 8349 d80b 0f83  .I.s..%....I....
-00000e70: 4bd8 0e12 834e d80a 0e83 4ad8 0f13 9043  K....N....J....C
-00000e80: 8979 d304 18f0 040b 0515 a814 d02e 3ec0  .y............>.
-00000e90: 13d1 2e44 d129 45f3 000b 0515 f01a 0405  ...D.)E.........
-00000ea0: 0ad0 2a3a b853 d12a 40c0 34d1 2a47 f300  ..*:.S.*@.4.*G..
-00000eb0: 0405 0af0 0c13 051a a014 a063 a119 f300  ...........c....
-00000ec0: 1305 1af4 2a06 053b 721f 0000 0072 0a00  ....*..;r....r..
-00000ed0: 0000 4e29 0eda 0770 6174 686c 6962 7203  ..N)...pathlibr.
-00000ee0: 0000 00da 0870 7964 616e 7469 6372 0400  .....pydanticr..
-00000ef0: 0000 da0a 7375 6270 726f 6365 7373 7205  ....subprocessr.
-00000f00: 0000 00da 0d6d 646f 636b 6572 2e74 6f6f  .....mdocker.too
-00000f10: 6c73 7206 0000 0072 1800 0000 7207 0000  lsr....r....r...
-00000f20: 0072 2e00 0000 da12 6d64 6f63 6b65 722e  .r......mdocker.
-00000f30: 696e 7465 7266 6163 6573 7208 0000 0072  interfacesr....r
-00000f40: 0a00 0000 723b 0000 0072 1f00 0000 721d  ....r;...r....r.
-00000f50: 0000 00fa 083c 6d6f 6475 6c65 3e72 4100  .....<module>rA.
-00000f60: 0000 0100 0000 7324 0000 00f0 0301 0101  ......s$........
-00000f70: dd00 18dd 001e dd00 27e7 003b dd00 2cf4  ........'..;..,.
-00000f80: 0640 0101 3b90 3998 6df5 0040 0101 3b72  .@..;.9.m..@..;r
-00000f90: 1f00 0000                                ....
+00000150: 0965 0a65 057a 0700 0064 0a7a 0700 0019  .e.e.z...d.z....
+00000160: 0000 0066 0264 0b84 045a 0b64 0c65 0564  ...f.d...Z.d.e.d
+00000170: 0965 0a65 057a 0700 0064 0a7a 0700 0066  .e.e.z...d.z...f
+00000180: 0464 0d84 045a 0c64 0c65 0564 0965 0965  .d...Z.d.e.d.e.e
+00000190: 0519 0000 0066 0464 0e84 045a 0d64 1064  .....f.d...Z.d.d
+000001a0: 0f84 045a 0e79 0a29 11da 0c49 6d61 6765  ...Z.y.)...Image
+000001b0: 4275 696c 6465 7261 0c01 0000 4120 636c  Buildera....A cl
+000001c0: 6173 7320 666f 7220 6275 696c 6469 6e67  ass for building
+000001d0: 2044 6f63 6b65 7220 696d 6167 6573 2e0a   Docker images..
+000001e0: 0a20 2020 203a 7061 7261 6d20 6e61 6d65  .    :param name
+000001f0: 3a20 446f 636b 6572 2069 6d61 6765 206e  : Docker image n
+00000200: 616d 652e 0a20 2020 203a 7061 7261 6d20  ame..    :param 
+00000210: 6669 6c65 3a20 5061 7468 2074 6f20 446f  file: Path to Do
+00000220: 636b 6572 6669 6c65 2e0a 2020 2020 3a70  ckerfile..    :p
+00000230: 6172 616d 2063 6f6e 7465 7874 3a20 5061  aram context: Pa
+00000240: 7468 2074 6f20 6275 696c 6420 636f 6e74  th to build cont
+00000250: 6578 742e 0a20 2020 203a 7061 7261 6d20  ext..    :param 
+00000260: 706c 6174 666f 726d 733a 204c 6973 7420  platforms: List 
+00000270: 6f66 2074 6172 6765 7420 706c 6174 666f  of target platfo
+00000280: 726d 732e 0a20 2020 203a 7061 7261 6d20  rms..    :param 
+00000290: 7075 7368 3a20 466c 6167 2074 6f20 7075  push: Flag to pu
+000002a0: 7368 2062 7569 6c74 2044 6f63 6b65 7220  sh built Docker 
+000002b0: 696d 6167 6573 2074 6f20 7265 6769 7374  images to regist
+000002c0: 7279 2e0a 2020 2020 7a0c 6d75 6c74 692d  ry..    z.multi-
+000002d0: 7461 7267 6574 da09 5f69 6e73 7461 6e63  target.._instanc
+000002e0: 65da 046e 616d 65da 0564 6669 6c65 da08  e..name..dfile..
+000002f0: 6263 6f6e 7465 7874 da04 7075 7368 da09  bcontext..push..
+00000300: 706c 6174 666f 726d 73da 0672 6574 7572  platforms..retur
+00000310: 6e4e 6301 0000 0000 0000 0000 0000 0006  nNc.............
+00000320: 0000 0003 0000 00f3 9600 0000 9700 7401  ..............t.
+00000330: 0000 0000 0000 0000 6a02 0000 0000 0000  ........j.......
+00000340: 0000 0000 0000 0000 0000 0000 6401 7c00  ............d.|.
+00000350: 6a04 0000 0000 0000 0000 0000 0000 0000  j...............
+00000360: 0000 0000 9b00 9d02 6402 6402 ac03 ab03  ........d.d.....
+00000370: 0000 0000 0000 7401 0000 0000 0000 0000  ......t.........
+00000380: 6a02 0000 0000 0000 0000 0000 0000 0000  j...............
+00000390: 0000 0000 6404 7c00 6a04 0000 0000 0000  ....d.|.j.......
+000003a0: 0000 0000 0000 0000 0000 0000 9b00 9d02  ................
+000003b0: 6402 6402 ac03 ab03 0000 0000 0000 6702  d.d...........g.
+000003c0: 5300 2905 4e7a 1364 6f63 6b65 7220 6275  S.).Nz.docker bu
+000003d0: 696c 6478 2073 746f 7020 5429 02da 0571  ildx stop T)...q
+000003e0: 7569 6574 da09 646f 6e74 5f65 7869 747a  uiet..dont_exitz
+000003f0: 1164 6f63 6b65 7220 6275 696c 6478 2072  .docker buildx r
+00000400: 6d20 2903 da04 6363 6d64 da06 6c61 756e  m )...ccmd..laun
+00000410: 6368 720b 0000 0029 01da 0473 656c 6673  chr....)...selfs
+00000420: 0100 0000 20fa 242f 6f70 742f 6d64 6f63  .... .$/opt/mdoc
+00000430: 6b65 722f 6d6f 6465 6c73 2f69 6d61 6765  ker/models/image
+00000440: 5f62 7569 6c64 6572 2e70 79da 175f 6275  _builder.py.._bu
+00000450: 696c 6465 725f 696e 7374 616e 6365 5f63  ilder_instance_c
+00000460: 6c65 6172 7a24 496d 6167 6542 7569 6c64  learz$ImageBuild
+00000470: 6572 2e5f 6275 696c 6465 725f 696e 7374  er._builder_inst
+00000480: 616e 6365 5f63 6c65 6172 1c00 0000 7348  ance_clear....sH
+00000490: 0000 0080 00e4 0c10 8f4b 894b d01a 2da8  .........K.K..-.
+000004a0: 64af 6ea9 6ed0 2d3d d018 3ec0 64d0 565a  d.n.n.-=..>.d.VZ
+000004b0: d40c 5bdc 0c10 8f4b 894b d01a 2ba8 44af  ..[....K.K..+.D.
+000004c0: 4ea9 4ed0 2b3b d018 3cc0 44d0 5458 d40c  N.N.+;..<.D.TX..
+000004d0: 59f0 0503 100a f000 0309 0af3 0000 0000  Y...............
+000004e0: da08 706c 6174 666f 726d 6302 0000 0000  ..platformc.....
+000004f0: 0000 0000 0000 0008 0000 0003 0000 00f3  ................
+00000500: 9200 0000 9700 7401 0000 0000 0000 0000  ......t.........
+00000510: 6a02 0000 0000 0000 0000 0000 0000 0000  j...............
+00000520: 0000 0000 6401 6a05 0000 0000 0000 0000  ....d.j.........
+00000530: 0000 0000 0000 0000 0000 7c00 6a06 0000  ..........|.j...
+00000540: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+00000550: 6402 6a09 0000 0000 0000 0000 0000 0000  d.j.............
+00000560: 0000 0000 0000 7c00 6a0a 0000 0000 0000  ......|.j.......
+00000570: 0000 0000 0000 0000 0000 0000 ab01 0000  ................
+00000580: 0000 0000 ab02 0000 0000 0000 ab01 0000  ................
+00000590: 0000 0000 5300 2903 4e7a 4c64 6f63 6b65  ....S.).NzLdocke
+000005a0: 7220 6275 696c 6478 2063 7265 6174 6520  r buildx create 
+000005b0: 2d2d 7573 6520 2d2d 6e61 6d65 207b 7d20  --use --name {} 
+000005c0: 2d2d 706c 6174 666f 726d 207b 7d20 2d2d  --platform {} --
+000005d0: 6472 6976 6572 2d6f 7074 206e 6574 776f  driver-opt netwo
+000005e0: 726b 3d68 6f73 74fa 012c 2906 7215 0000  rk=host..,).r...
+000005f0: 0072 1600 0000 da06 666f 726d 6174 720b  .r......formatr.
+00000600: 0000 00da 046a 6f69 6e72 1000 0000 2902  .....joinr....).
+00000610: 7217 0000 0072 1b00 0000 7302 0000 0020  r....r....s.... 
+00000620: 2072 1800 0000 da18 5f62 7569 6c64 6572   r......_builder
+00000630: 5f69 6e73 7461 6e63 655f 6372 6561 7465  _instance_create
+00000640: 7a25 496d 6167 6542 7569 6c64 6572 2e5f  z%ImageBuilder._
+00000650: 6275 696c 6465 725f 696e 7374 616e 6365  builder_instance
+00000660: 5f63 7265 6174 6522 0000 0073 3300 0000  _create"...s3...
+00000670: 8000 dc0f 138f 7b89 7bd8 0c5a df0d 1389  ......{.{..Z....
+00000680: 5690 4497 4e91 4ea0 43a7 48a1 48a8 54af  V.D.N.N.C.H.H.T.
+00000690: 5ea9 5ed3 243c d30d 3df3 0503 100a f000  ^.^.$<..=.......
+000006a0: 0309 0a72 1a00 0000 6302 0000 0000 0000  ...r....c.......
+000006b0: 0000 0000 0006 0000 0003 0000 00f3 4801  ..............H.
+000006c0: 0000 9700 7c00 6a00 0000 0000 0000 0000  ....|.j.........
+000006d0: 0000 0000 0000 0000 0000 9b00 6401 7c01  ............d.|.
+000006e0: 6a03 0000 0000 0000 0000 0000 0000 0000  j...............
+000006f0: 0000 0000 6402 ab01 0000 0000 0000 6403  ....d.........d.
+00000700: 1900 0000 9b00 9d03 7d02 6404 6a05 0000  ........}.d.j...
+00000710: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+00000720: 7c01 7c00 6a06 0000 0000 0000 0000 0000  |.|.j...........
+00000730: 0000 0000 0000 0000 7c00 6a08 0000 0000  ........|.j.....
+00000740: 0000 0000 0000 0000 0000 0000 0000 7c02  ..............|.
+00000750: ab04 0000 0000 0000 6405 6a05 0000 0000  ........d.j.....
+00000760: 0000 0000 0000 0000 0000 0000 0000 7c00  ..............|.
+00000770: 6a0a 0000 0000 0000 0000 0000 0000 0000  j...............
+00000780: 0000 0000 ab01 0000 0000 0000 6406 6a05  ............d.j.
+00000790: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+000007a0: 0000 7c00 6a0a 0000 0000 0000 0000 0000  ..|.j...........
+000007b0: 0000 0000 0000 0000 ab01 0000 0000 0000  ................
+000007c0: 6407 6704 7d03 7c00 6a0c 0000 0000 0000  d.g.}.|.j.......
+000007d0: 0000 0000 0000 0000 0000 0000 7214 7c03  ............r.|.
+000007e0: 6a0f 0000 0000 0000 0000 0000 0000 0000  j...............
+000007f0: 0000 0000 6408 7c02 9b00 9d02 ab01 0000  ....d.|.........
+00000800: 0000 0000 0100 7c03 5300 2909 4efa 013a  ......|.S.).N..:
+00000810: fa01 2fe9 0100 0000 7a42 646f 636b 6572  ../.....zBdocker
+00000820: 2062 7569 6c64 7820 6275 696c 6420 2d2d   buildx build --
+00000830: 6e6f 2d63 6163 6865 202d 2d70 6c61 7466  no-cache --platf
+00000840: 6f72 6d20 7b7d 202d 2d6c 6f61 6420 2d66  orm {} --load -f
+00000850: 207b 7d20 7b7d 202d 7420 7b7d 7a15 646f   {} {} -t {}z.do
+00000860: 636b 6572 2062 7569 6c64 7820 7374 6f70  cker buildx stop
+00000870: 207b 7d7a 1364 6f63 6b65 7220 6275 696c   {}z.docker buil
+00000880: 6478 2072 6d20 7b7d 7a1b 646f 636b 6572  dx rm {}z.docker
+00000890: 2062 7569 6c64 7820 7072 756e 6520 2d2d   buildx prune --
+000008a0: 666f 7263 657a 0c64 6f63 6b65 7220 7075  forcez.docker pu
+000008b0: 7368 2029 0872 0c00 0000 da05 7370 6c69  sh ).r......spli
+000008c0: 7472 1e00 0000 720d 0000 0072 0e00 0000  tr....r....r....
+000008d0: 720b 0000 0072 0f00 0000 da06 6170 7065  r....r......appe
+000008e0: 6e64 2904 7217 0000 0072 1b00 0000 da03  nd).r....r......
+000008f0: 7461 67da 0662 5f63 6d64 7373 0400 0000  tag..b_cmdss....
+00000900: 2020 2020 7218 0000 00da 0f5f 6765 6e5f      r......_gen_
+00000910: 6275 696c 645f 636d 6473 7a1c 496d 6167  build_cmdsz.Imag
+00000920: 6542 7569 6c64 6572 2e5f 6765 6e5f 6275  eBuilder._gen_bu
+00000930: 696c 645f 636d 6473 2800 0000 7390 0000  ild_cmds(...s...
+00000940: 0080 00e0 1115 9719 9119 900b 9831 9858  .............1.X
+00000950: 9f5e 995e a843 d31d 30b0 11d1 1d33 d01c  .^.^.C..0....3..
+00000960: 34d0 0e35 8803 f006 000d 5101 df0d 1389  4..5......Q.....
+00000970: 5690 4898 649f 6a99 6aa8 24af 2da9 2db8  V.H.d.j.j.$.-.-.
+00000980: 13d3 0d3d d80c 23df 0d13 8956 9044 974e  ...=..#....V.D.N
+00000990: 914e d30d 23d8 0c21 df0d 1389 5690 4497  .N..#..!....V.D.
+000009a0: 4e91 4ed3 0d23 d80c 29f0 0f08 120a 8806  N.N..#..).......
+000009b0: f014 000c 108f 398a 39d8 0c12 8f4d 894d  ......9.9....M.M
+000009c0: 984c a813 a805 d01a 2ed4 0c2f d80f 1588  .L........./....
+000009d0: 0d72 1a00 0000 6301 0000 0000 0000 0000  .r....c.........
+000009e0: 0000 0007 0000 0003 0000 00f3 4a01 0000  ............J...
+000009f0: 9700 7401 0000 0000 0000 0000 6a02 0000  ..t.........j...
+00000a00: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+00000a10: 6401 ab01 0000 0000 0000 0100 7c00 6a04  d...........|.j.
+00000a20: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+00000a30: 0000 4400 5d65 0000 7d01 7c00 6a07 0000  ..D.]e..}.|.j...
+00000a40: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+00000a50: ab00 0000 0000 0000 0100 7c00 6a09 0000  ..........|.j...
+00000a60: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+00000a70: 7c01 ab01 0000 0000 0000 0100 7c00 6a0b  |...........|.j.
+00000a80: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+00000a90: 0000 7c01 ab01 0000 0000 0000 4400 8f02  ..|.........D...
+00000aa0: 6302 6700 6302 5d17 0000 7d02 740d 0000  c.g.c.]...}.t...
+00000ab0: 0000 0000 0000 6a0e 0000 0000 0000 0000  ......j.........
+00000ac0: 0000 0000 0000 0000 0000 7c02 ab01 0000  ..........|.....
+00000ad0: 0000 0000 9102 8c19 0400 6302 7d02 0100  ..........c.}...
+00000ae0: 7c00 6a07 0000 0000 0000 0000 0000 0000  |.j.............
+00000af0: 0000 0000 0000 ab00 0000 0000 0000 0100  ................
+00000b00: 8c67 0400 7401 0000 0000 0000 0000 6a10  .g..t.........j.
+00000b10: 0000 0000 0000 0000 0000 0000 0000 0000  ................
+00000b20: 0000 6402 ab01 0000 0000 0000 0100 7900  ..d...........y.
+00000b30: 6302 0100 6302 7d02 7700 2903 4e7a 2d4c  c...c.}.w.).Nz-L
+00000b40: 6175 6e63 6869 6e67 206d 756c 7469 2d70  aunching multi-p
+00000b50: 6c61 7466 6f72 6d20 446f 636b 6572 2069  latform Docker i
+00000b60: 6d61 6765 2062 7569 6c64 2e2e 7a26 4d75  mage build..z&Mu
+00000b70: 6c74 6961 7263 6820 446f 636b 6572 2069  ltiarch Docker i
+00000b80: 6d61 6765 2062 7569 6c64 2066 696e 6973  mage build finis
+00000b90: 6865 6421 2909 da03 6d73 67da 046e 6f74  hed!)...msg..not
+00000ba0: 6572 1000 0000 7219 0000 0072 2000 0000  er....r....r ...
+00000bb0: 7229 0000 0072 1500 0000 7216 0000 00da  r)...r....r.....
+00000bc0: 0464 6f6e 6529 0372 1700 0000 721b 0000  .done).r....r...
+00000bd0: 00da 0363 6d64 7303 0000 0020 2020 7218  ...cmds....   r.
+00000be0: 0000 00da 0372 756e 7a10 496d 6167 6542  .....runz.ImageB
+00000bf0: 7569 6c64 6572 2e72 756e 3a00 0000 737f  uilder.run:...s.
+00000c00: 0000 0080 00dc 080b 8f08 8908 d011 40d4  ..............@.
+00000c10: 0841 d818 1c9f 0e99 0ef2 0004 092b 8848  .A...........+.H
+00000c20: d80c 10d7 0c28 d10c 28d4 0c2a d80c 10d7  .....(..(..*....
+00000c30: 0c29 d10c 29a8 28d4 0c33 d829 2dd7 293d  .)..).(..3.)-.)=
+00000c40: d129 3db8 68d3 2947 d60c 48a0 238c 548f  .)=.h.)G..H.#.T.
+00000c50: 5b89 5b98 13d5 0d1d d30c 48d8 0c10 d70c  [.[.......H.....
+00000c60: 28d1 0c28 d50c 2af0 0904 092b f40a 0009  (..(..*....+....
+00000c70: 0c8f 0889 08d0 1139 d508 3af9 f205 000d  .......9..:.....
+00000c80: 4901 7306 0000 00c1 191c 4220 0629 0272  I.s.......B .).r
+00000c90: 1100 0000 4e29 0fda 085f 5f6e 616d 655f  ....N)...__name_
+00000ca0: 5fda 0a5f 5f6d 6f64 756c 655f 5fda 0c5f  _..__module__.._
+00000cb0: 5f71 7561 6c6e 616d 655f 5fda 075f 5f64  _qualname__..__d
+00000cc0: 6f63 5f5f 720b 0000 00da 0373 7472 da0f  oc__r......str..
+00000cd0: 5f5f 616e 6e6f 7461 7469 6f6e 735f 5f72  __annotations__r
+00000ce0: 0300 0000 da04 626f 6f6c da04 6c69 7374  ......bool..list
+00000cf0: 7205 0000 0072 1900 0000 7220 0000 0072  r....r....r ...r
+00000d00: 2900 0000 722f 0000 00a9 0072 1a00 0000  )...r/.....r....
+00000d10: 7218 0000 0072 0a00 0000 720a 0000 0009  r....r....r.....
+00000d20: 0000 0073 8800 0000 8500 f102 0705 08f0  ...s............
+00000d30: 1200 1624 8049 8873 d304 23e0 0a0d 8349  ...$.I.s..#....I
+00000d40: d80b 0f83 4bd8 0e12 834e d80a 0e83 4ad8  ....K....N....J.
+00000d50: 0f13 9043 8979 d304 18f0 0604 050a a814  ...C.y..........
+00000d60: d02e 3ec0 13d1 2e44 c074 d12e 4bd1 294c  ..>....D.t..K.)L
+00000d70: f300 0405 0af0 0c04 050a b013 f000 0405  ................
+00000d80: 0ad0 3949 c843 d139 4fd0 5256 d139 56f3  ..9I.C.9O.RV.9V.
+00000d90: 0004 050a f00c 1005 16a8 03f0 0010 0516  ................
+00000da0: b004 b053 b109 f300 1005 16f4 2407 053b  ...S........$..;
+00000db0: 721a 0000 0072 0a00 0000 4e29 0eda 0770  r....r....N)...p
+00000dc0: 6174 686c 6962 7203 0000 00da 0870 7964  athlibr......pyd
+00000dd0: 616e 7469 6372 0400 0000 da0a 7375 6270  anticr......subp
+00000de0: 726f 6365 7373 7205 0000 00da 0d6d 646f  rocessr......mdo
+00000df0: 636b 6572 2e74 6f6f 6c73 7206 0000 0072  cker.toolsr....r
+00000e00: 1500 0000 7207 0000 0072 2b00 0000 da12  ....r....r+.....
+00000e10: 6d64 6f63 6b65 722e 696e 7465 7266 6163  mdocker.interfac
+00000e20: 6573 7208 0000 0072 0a00 0000 7238 0000  esr....r....r8..
+00000e30: 0072 1a00 0000 7218 0000 00fa 083c 6d6f  .r....r......<mo
+00000e40: 6475 6c65 3e72 3e00 0000 0100 0000 7322  dule>r>.......s"
+00000e50: 0000 00f0 0301 0101 dd00 18dd 001e dd00  ................
+00000e60: 27e7 003b dd00 2cf4 0638 013b 9039 986d  '..;..,..8.;.9.m
+00000e70: f500 3801 3b72 1a00 0000                 ..8.;r....
```

### Comparing `mdocker-0.3.0/mdocker/models/image_builder.py` & `mdocker-0.3.1/mdocker/models/image_builder.py`

 * *Files 13% similar despite different names*

```diff
@@ -12,62 +12,54 @@
     :param name: Docker image name.
     :param file: Path to Dockerfile.
     :param context: Path to build context.
     :param platforms: List of target platforms.
     :param push: Flag to push built Docker images to registry.
     """
 
-    _instance: str = "multi_instance"
+    _instance: str = "multi-target"
 
     name: str
     dfile: Path
     bcontext: Path
     push: bool
     platforms: list[str]
 
-    def _builder_instance_clear(self) -> list[CompletedProcess | str]:
-        # collect completed processes
-        c_pcs = []
-        c_pcs.append(ccmd.launch(f"docker buildx stop {self._instance}", quiet=True, dont_exit=True))
-        c_pcs.append(ccmd.launch(f"docker buildx rm {self._instance}", quiet=True, dont_exit=True))
-        c_pcs.append(
-            ccmd.launch(
-                "docker buildx create --use --name {} --platform {} --driver-opt network=host"\
-                .format(self._instance, self.platforms)
-            )
-        )
-        return c_pcs
 
-    def _builder_instance_create(self) -> CompletedProcess | str | None:
+    def _builder_instance_clear(self) -> list[CompletedProcess | str | None]:
+        return [
+            ccmd.launch(f"docker buildx stop {self._instance}", quiet=True, dont_exit=True),
+            ccmd.launch(f"docker buildx rm {self._instance}", quiet=True, dont_exit=True)
+        ]
+
+    def _builder_instance_create(self, platform: str) -> CompletedProcess | str | None:
         return ccmd.launch(
             "docker buildx create --use --name {} --platform {} --driver-opt network=host"\
-            .format(self._instance, self.platforms)
+            .format(self._instance, ",".join(self.platforms))
         )
 
-    def _gen_build_cmds(self) -> list[str]:
-        all_b_cmds = []
-        for platform in self.platforms:
-            # only <arch> value is used in tag extension
-            tag = f'{self.name}:{platform.split("/")[1]}'
-            # define build commands
-            b_cmds = [
-                "docker buildx build --no-cache --platform {} --load -f {} {} -t {}"\
-                .format(platform, self.dfile, self.bcontext, tag),
-                "docker buildx stop {}"\
-                .format(self._instance),
-                "docker buildx rm {}"\
-                .format(self._instance),
-                "docker buildx prune --force"
-            ]
-            # optionally push image to registry
-            if self.push:
-                b_cmds.append(f"docker push {tag}")
-            all_b_cmds.extend(b_cmds)
-        return all_b_cmds
+    def _gen_build_cmds(self, platform: str) -> list[str]:
+        # only <arch> value is used in tag extension
+        tag = f'{self.name}:{platform.split("/")[1]}'
+        # define build commands
+        b_cmds = [
+            "docker buildx build --no-cache --platform {} --load -f {} {} -t {}"\
+            .format(platform, self.dfile, self.bcontext, tag),
+            "docker buildx stop {}"\
+            .format(self._instance),
+            "docker buildx rm {}"\
+            .format(self._instance),
+            "docker buildx prune --force"
+        ]
+        # optionally push image to registry
+        if self.push:
+            b_cmds.append(f"docker push {tag}")
+        return b_cmds
 
     def run(self) -> None:
         msg.note("Launching multi-platform Docker image build..")
-        self._builder_instance_clear()
-        self._builder_instance_create()
-        [ccmd.launch(cmd) for cmd in self._gen_build_cmds()]
-        self._builder_instance_clear()
+        for platform in self.platforms:
+            self._builder_instance_clear()
+            self._builder_instance_create(platform)
+            [ccmd.launch(cmd) for cmd in self._gen_build_cmds(platform)]
+            self._builder_instance_clear()
         msg.done("Multiarch Docker image build finished!")
```

### Comparing `mdocker-0.3.0/mdocker/tools/__pycache__/commands.cpython-312.pyc` & `mdocker-0.3.1/mdocker/tools/__pycache__/commands.cpython-312.pyc`

 * *Format-specific differences are supported for Python .pyc files but no file-specific differences were detected; falling back to a binary diff. file(1) reports: Byte-compiled Python module for CPython 3.12 or newer, timestamp-based, .py timestamp: Fri Apr  5 17:46:07 2024 UTC, .py size: 1166 bytes*

 * *Could not decompile bytecode: tuple index out of range*

 * *Files 2% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-00000000: cb0d 0d0a 0000 0000 df38 1066 8e04 0000  .........8.f....
+00000000: cb0d 0d0a 0000 0000 0510 1966 8e04 0000  ...........f....
 00000010: e300 0000 0000 0000 0000 0000 000c 0000  ................
 00000020: 0000 0000 00f3 8000 0000 9700 6400 6401  ............d.d.
 00000030: 6c00 5a00 6400 6402 6c01 6d02 5a02 0100  l.Z.d.d.l.m.Z...
 00000040: 6400 6401 6c03 6d04 6302 0100 6d05 5a06  d.d.l.m.c...m.Z.
 00000050: 0100 0900 0900 0900 6409 6403 6507 6404  ........d.d.e.d.
 00000060: 6502 6508 1900 0000 6405 6502 6508 1900  e.e.....d.e.e...
 00000070: 0000 6406 6502 6508 1900 0000 6407 6500  ..d.e.e.....d.e.
```

### Comparing `mdocker-0.3.0/mdocker/tools/__pycache__/messages.cpython-312.pyc` & `mdocker-0.3.1/mdocker/tools/__pycache__/messages.cpython-312.pyc`

 * *Files 1% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xcb0d0d0a
-moddate:  0xdf381066 (Fri Apr  5 17:46:07 2024 UTC)
+moddate:  0x05101966 (Fri Apr 12 10:42:13 2024 UTC)
 files sz: 424
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code
```

### Comparing `mdocker-0.3.0/mdocker/tools/commands.py` & `mdocker-0.3.1/mdocker/tools/commands.py`

 * *Files identical despite different names*

### Comparing `mdocker-0.3.0/pyproject.toml` & `mdocker-0.3.1/pyproject.toml`

 * *Files 2% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 [tool.poetry]
 name = "mdocker"
-version = "0.3.0"
-description = "An easy-to-use wrapper for multi-platform Docker image builds."
+version = "0.3.1"
+description = "Easy-to-use wrapper for multi-platform Docker image builds."
 keywords = ["docker", "docker-buildx", "multi-platform"]
 authors = ["seppzer0"]
 repository = "https://github.com/seppzer0/mdocker"
 readme = "README.md"
 license = "MIT"
 packages = [{include = "mdocker"}]
```

### Comparing `mdocker-0.3.0/PKG-INFO` & `mdocker-0.3.1/PKG-INFO`

 * *Files 21% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 Metadata-Version: 2.1
 Name: mdocker
-Version: 0.3.0
-Summary: An easy-to-use wrapper for multi-platform Docker image builds.
+Version: 0.3.1
+Summary: Easy-to-use wrapper for multi-platform Docker image builds.
 Home-page: https://github.com/seppzer0/mdocker
 License: MIT
 Keywords: docker,docker-buildx,multi-platform
 Author: seppzer0
 Requires-Python: >=3.10,<4.0
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Programming Language :: Python :: 3
@@ -25,30 +25,34 @@
 
 ## Contents
 
 - [mdocker](#mdocker)
   - [Contents](#contents)
   - [Description](#description)
   - [Usage](#usage)
+  - [Package Compatibility](#package-compatibility)
+  - [Examples](#examples)
   - [Installation](#installation)
     - [From PyPI (recommended)](#from-pypi-recommended)
     - [Local from source](#local-from-source)
     - [No installation, direct run from source](#no-installation-direct-run-from-source)
+  - [License](#license)
 
 ## Description
 
-mdocker is a simple wrapper over Docker Buildx, which can be used for easy image building targeted for multiple platforms.
+mdocker is a simple wrapper over Docker Buildx, which can be used for convenient image builds targeted for multiple platforms.
 
 This tool was originally designed as a workaround to a [limitation](https://github.com/docker/buildx/issues/59) that Buildx has with the `--load` parameter.
 
-***Note**: There are, however, some [workarounds and progress](https://github.com/docker/roadmap/issues/371) towards this issue.*
+> [!NOTE]
+> *There are, however, some [workarounds and progress](https://github.com/docker/roadmap/issues/371) towards this issue.*
 
-So, the amount of target platforms specified for this wrapper will be equal to the amount of tags generated in local cache.
+The amount of target platforms specified for this wrapper is equal to the amount of tags generated in local cache.
 
-E.g., if `linux/arm64` and `linux/amd64` were specified as target platforms for a `demo` image, you will get `demo:arm64` and `demo:amd64` built and stored within your local Docker cache.
+E.g., if `linux/arm64` and `linux/amd64` were specified as target platforms for the `demo` image, you will get `demo:arm64` and `demo:amd64` built and stored within your local Docker cache.
 
 ## Usage
 
 mdocker requires an installation of Python 3.10+.
 
 Below is a help message with the description of arguments.
 
@@ -64,14 +68,43 @@
   --context BCONTEXT    specify a path to build context
   --file DFILE          specify a path to Dockerfile
   --platforms PLATFORMS
                         specify target platforms (e.g., --platforms linux/amd64,linux/arm64)
   --push                push image to remote registry
 ```
 
+## Package Compatibility
+
+In some cases, packages for Docker images may not be available across all target platforms.
+E.g., a package "some_package" may be available for amd64, but may not be available for arm64 platform.
+
+Is cases like this, you can define custom installation rules within your Dockerfile itself.
+
+An example of such custom rule usage can be found [here](Dockerfile#L16).
+
+Docker's default back-end (BuildKit) provides built-in variables that can be used for determining target platform set for the current build.
+
+The full list of these variables can be found [here](https://docs.docker.com/reference/dockerfile#automatic-platform-args-in-the-global-scope).
+
+## Examples
+
+You can try out mdocker with it's own Dockerfile!
+
+The command below will build the `demo` image for both `amd64` and `arm64` target architectures:
+
+```sh
+python3 -m mdocker demo --platforms linux/amd64,linux/arm64
+```
+
+Optionally, you can specify paths to the build context and Dockerfile:
+
+```sh
+python3 -m mdocker demo --context . --file ./Dockerfile --platforms linux/amd64,linux/arm64
+```
+
 ## Installation
 
 ### From PyPI (recommended)
 
 To install latest mdocker package from PyPI, use:
 
 ```sh
@@ -92,7 +125,11 @@
 
 ```sh
 export PYTHONPATH=$(pwd)
 python3 -m poetry install --no-root
 python3 mdocker <arguments>
 ```
 
+## License
+
+[MIT](#license)
+
```

