# Comparing `tmp/pycapnp-2.0.0b1.tar.gz` & `tmp/pycapnp-2.0.0b2.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "pycapnp-2.0.0b1.tar", last modified: Wed Oct 11 20:41:42 2023, max compression
+gzip compressed data, was "pycapnp-2.0.0b2.tar", last modified: Sat Nov 25 19:06:05 2023, max compression
```

## Comparing `pycapnp-2.0.0b1.tar` & `pycapnp-2.0.0b2.tar`

### file list

```diff
@@ -1,101 +1,104 @@
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.365994 pycapnp-2.0.0b1/
--rw-r--r--   0 runner    (1001) docker     (127)    13576 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/CHANGELOG.md
--rw-r--r--   0 runner    (1001) docker     (127)     1384 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/LICENSE.md
--rw-r--r--   0 runner    (1001) docker     (127)      452 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (127)    20851 2023-10-11 20:41:42.365994 pycapnp-2.0.0b1/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (127)      229 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/Pipfile
--rw-r--r--   0 runner    (1001) docker     (127)     6073 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/README.md
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.341993 pycapnp-2.0.0b1/buildutils/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/buildutils/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     2584 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/buildutils/build.py
--rw-r--r--   0 runner    (1001) docker     (127)     2287 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/buildutils/bundle.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.341993 pycapnp-2.0.0b1/capnp/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1447 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     2846 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/_gen.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.341993 pycapnp-2.0.0b1/capnp/helpers/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     6551 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/capabilityHelper.cpp
--rw-r--r--   0 runner    (1001) docker     (127)     3301 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/capabilityHelper.h
--rw-r--r--   0 runner    (1001) docker     (127)      287 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/checkCompiler.h
--rw-r--r--   0 runner    (1001) docker     (127)      458 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/deserialize.h
--rw-r--r--   0 runner    (1001) docker     (127)      220 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/fixMaybe.h
--rw-r--r--   0 runner    (1001) docker     (127)     1571 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/helpers.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      233 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/non_circular.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      834 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/rpcHelper.h
--rw-r--r--   0 runner    (1001) docker     (127)      448 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/helpers/serialize.h
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.345994 pycapnp-2.0.0b1/capnp/includes/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/includes/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)    21812 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/includes/capnp_cpp.pxd
--rw-r--r--   0 runner    (1001) docker     (127)    33133 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/includes/schema_cpp.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      444 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/includes/types.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.353994 pycapnp-2.0.0b1/capnp/lib/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/lib/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/lib/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)  5444231 2023-10-11 20:41:41.000000 pycapnp-2.0.0b1/capnp/lib/capnp.cpp
--rw-r--r--   0 runner    (1001) docker     (127)     6339 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/lib/capnp.pxd
--rw-r--r--   0 runner    (1001) docker     (127)   164804 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/lib/capnp.pyx
--rw-r--r--   0 runner    (1001) docker     (127)     8210 2023-10-11 20:41:41.000000 pycapnp-2.0.0b1/capnp/lib/capnp_api.h
--rw-r--r--   0 runner    (1001) docker     (127)      270 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/lib/pickle_helper.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.353994 pycapnp-2.0.0b1/capnp/templates/
--rw-r--r--   0 runner    (1001) docker     (127)     9326 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/templates/module.pyx
--rw-r--r--   0 runner    (1001) docker     (127)     1042 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/capnp/templates/setup.py.tmpl
--rw-r--r--   0 runner    (1001) docker     (127)      371 2023-10-11 20:41:42.000000 pycapnp-2.0.0b1/capnp/version.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.357994 pycapnp-2.0.0b1/examples/
--rw-r--r--   0 runner    (1001) docker     (127)      633 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/addressbook.capnp
--rwxr-xr-x   0 runner    (1001) docker     (127)     1591 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/addressbook.py
--rwxr-xr-x   0 runner    (1001) docker     (127)    10718 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_calculator_client.py
--rwxr-xr-x   0 runner    (1001) docker     (127)     3983 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_calculator_server.py
--rwxr-xr-x   0 runner    (1001) docker     (127)     1607 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_client.py
--rwxr-xr-x   0 runner    (1001) docker     (127)     3330 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_reconnecting_ssl_client.py
--rwxr-xr-x   0 runner    (1001) docker     (127)     1169 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_server.py
--rw-r--r--   0 runner    (1001) docker     (127)     1311 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_socket_message_client.py
--rw-r--r--   0 runner    (1001) docker     (127)     1579 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_socket_message_server.py
--rwxr-xr-x   0 runner    (1001) docker     (127)    11417 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_ssl_calculator_client.py
--rwxr-xr-x   0 runner    (1001) docker     (127)     4613 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_ssl_calculator_server.py
--rwxr-xr-x   0 runner    (1001) docker     (127)     2045 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_ssl_client.py
--rwxr-xr-x   0 runner    (1001) docker     (127)     1855 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/async_ssl_server.py
--rw-r--r--   0 runner    (1001) docker     (127)     3482 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/calculator.capnp
--rw-r--r--   0 runner    (1001) docker     (127)      977 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/selfsigned.cert
--rw-r--r--   0 runner    (1001) docker     (127)     1704 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/selfsigned.key
--rw-r--r--   0 runner    (1001) docker     (127)      281 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/examples/thread.capnp
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.357994 pycapnp-2.0.0b1/pycapnp.egg-info/
--rw-r--r--   0 runner    (1001) docker     (127)    20851 2023-10-11 20:41:42.000000 pycapnp-2.0.0b1/pycapnp.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (127)     2207 2023-10-11 20:41:42.000000 pycapnp-2.0.0b1/pycapnp.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (127)        1 2023-10-11 20:41:42.000000 pycapnp-2.0.0b1/pycapnp.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (127)       50 2023-10-11 20:41:42.000000 pycapnp-2.0.0b1/pycapnp.egg-info/entry_points.txt
--rw-r--r--   0 runner    (1001) docker     (127)        6 2023-10-11 20:41:42.000000 pycapnp-2.0.0b1/pycapnp.egg-info/top_level.txt
--rw-r--r--   0 runner    (1001) docker     (127)      183 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/pyproject.toml
--rw-r--r--   0 runner    (1001) docker     (127)       94 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/requirements.txt
--rw-r--r--   0 runner    (1001) docker     (127)      106 2023-10-11 20:41:42.365994 pycapnp-2.0.0b1/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (127)     8542 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/setup.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-10-11 20:41:42.365994 pycapnp-2.0.0b1/test/
--rw-r--r--   0 runner    (1001) docker     (127)      576 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/addressbook with spaces.capnp
--rw-r--r--   0 runner    (1001) docker     (127)      576 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/addressbook-with-dashes.capnp
--rw-r--r--   0 runner    (1001) docker     (127)      628 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/addressbook.capnp
--rw-r--r--   0 runner    (1001) docker     (127)     2816 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/all-types.binary
--rw-r--r--   0 runner    (1001) docker     (127)      831 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/all-types.packed
--rw-r--r--   0 runner    (1001) docker     (127)     5289 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/all-types.txt
--rw-r--r--   0 runner    (1001) docker     (127)     1660 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/all_types.capnp
--rw-r--r--   0 runner    (1001) docker     (127)      442 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/annotations.capnp
--rw-r--r--   0 runner    (1001) docker     (127)      106 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/bar.capnp
--rw-r--r--   0 runner    (1001) docker     (127)      218 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/foo.capnp
--rw-r--r--   0 runner    (1001) docker     (127)     2822 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_capability.capnp
--rw-r--r--   0 runner    (1001) docker     (127)     9239 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_capability.py
--rw-r--r--   0 runner    (1001) docker     (127)     6462 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_capability_context.py
--rw-r--r--   0 runner    (1001) docker     (127)     8899 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_context_manager.py
--rw-r--r--   0 runner    (1001) docker     (127)     5723 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_examples.py
--rw-r--r--   0 runner    (1001) docker     (127)      148 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_large_read.capnp
--rw-r--r--   0 runner    (1001) docker     (127)     2350 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_large_read.py
--rw-r--r--   0 runner    (1001) docker     (127)     3691 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_load.py
--rw-r--r--   0 runner    (1001) docker     (127)      771 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_memory_handling.py
--rw-r--r--   0 runner    (1001) docker     (127)     1412 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_object.py
--rw-r--r--   0 runner    (1001) docker     (127)    20645 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_regression.py
--rw-r--r--   0 runner    (1001) docker     (127)      150 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_response.capnp
--rw-r--r--   0 runner    (1001) docker     (127)     1109 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_response.py
--rw-r--r--   0 runner    (1001) docker     (127)     1507 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_rpc.py
--rw-r--r--   0 runner    (1001) docker     (127)     1539 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_rpc_calculator.py
--rw-r--r--   0 runner    (1001) docker     (127)     1670 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_schema.py
--rw-r--r--   0 runner    (1001) docker     (127)     6935 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_serialization.py
--rw-r--r--   0 runner    (1001) docker     (127)     8175 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/test/test_struct.py
--rw-r--r--   0 runner    (1001) docker     (127)      265 2023-10-11 20:41:24.000000 pycapnp-2.0.0b1/tox.ini
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.548465 pycapnp-2.0.0b2/
+-rw-r--r--   0 runner    (1001) docker     (127)    14464 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/CHANGELOG.md
+-rw-r--r--   0 runner    (1001) docker     (127)     1384 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/LICENSE.md
+-rw-r--r--   0 runner    (1001) docker     (127)      452 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (127)    21936 2023-11-25 19:06:05.548465 pycapnp-2.0.0b2/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (127)      229 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/Pipfile
+-rw-r--r--   0 runner    (1001) docker     (127)     6270 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/README.md
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.528465 pycapnp-2.0.0b2/buildutils/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/buildutils/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2604 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/buildutils/build.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2287 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/buildutils/bundle.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.528465 pycapnp-2.0.0b2/capnp/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1447 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2846 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/_gen.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.528465 pycapnp-2.0.0b2/capnp/helpers/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     6553 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/capabilityHelper.cpp
+-rw-r--r--   0 runner    (1001) docker     (127)     3836 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/capabilityHelper.h
+-rw-r--r--   0 runner    (1001) docker     (127)      287 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/checkCompiler.h
+-rw-r--r--   0 runner    (1001) docker     (127)      458 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/deserialize.h
+-rw-r--r--   0 runner    (1001) docker     (127)      220 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/fixMaybe.h
+-rw-r--r--   0 runner    (1001) docker     (127)     1692 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/helpers.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      235 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/non_circular.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      834 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/rpcHelper.h
+-rw-r--r--   0 runner    (1001) docker     (127)      448 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/helpers/serialize.h
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.532465 pycapnp-2.0.0b2/capnp/includes/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/includes/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)    21909 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/includes/capnp_cpp.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)    33159 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/includes/schema_cpp.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      444 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/includes/types.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.540465 pycapnp-2.0.0b2/capnp/lib/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/lib/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/lib/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)  5457286 2023-11-25 19:06:05.000000 pycapnp-2.0.0b2/capnp/lib/capnp.cpp
+-rw-r--r--   0 runner    (1001) docker     (127)     6311 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/lib/capnp.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)   167058 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/lib/capnp.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)     8210 2023-11-25 19:06:05.000000 pycapnp-2.0.0b2/capnp/lib/capnp_api.h
+-rw-r--r--   0 runner    (1001) docker     (127)      270 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/lib/pickle_helper.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.540465 pycapnp-2.0.0b2/capnp/templates/
+-rw-r--r--   0 runner    (1001) docker     (127)     9326 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/templates/module.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)     1042 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/capnp/templates/setup.py.tmpl
+-rw-r--r--   0 runner    (1001) docker     (127)      371 2023-11-25 19:06:05.000000 pycapnp-2.0.0b2/capnp/version.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.540465 pycapnp-2.0.0b2/examples/
+-rw-r--r--   0 runner    (1001) docker     (127)      633 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/addressbook.capnp
+-rwxr-xr-x   0 runner    (1001) docker     (127)     1591 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/addressbook.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)    10718 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_calculator_client.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)     3983 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_calculator_server.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)     1607 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_client.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)     3330 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_reconnecting_ssl_client.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)     1169 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_server.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1311 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_socket_message_client.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1579 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_socket_message_server.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)    11417 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_ssl_calculator_client.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)     4613 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_ssl_calculator_server.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)     2045 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_ssl_client.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)     1855 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/async_ssl_server.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3482 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/calculator.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)      977 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/selfsigned.cert
+-rw-r--r--   0 runner    (1001) docker     (127)     1704 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/selfsigned.key
+-rw-r--r--   0 runner    (1001) docker     (127)      281 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/examples/thread.capnp
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.548465 pycapnp-2.0.0b2/pycapnp.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (127)    21936 2023-11-25 19:06:05.000000 pycapnp-2.0.0b2/pycapnp.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (127)     2258 2023-11-25 19:06:05.000000 pycapnp-2.0.0b2/pycapnp.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (127)        1 2023-11-25 19:06:05.000000 pycapnp-2.0.0b2/pycapnp.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (127)       50 2023-11-25 19:06:05.000000 pycapnp-2.0.0b2/pycapnp.egg-info/entry_points.txt
+-rw-r--r--   0 runner    (1001) docker     (127)        6 2023-11-25 19:06:05.000000 pycapnp-2.0.0b2/pycapnp.egg-info/top_level.txt
+-rw-r--r--   0 runner    (1001) docker     (127)      183 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/pyproject.toml
+-rw-r--r--   0 runner    (1001) docker     (127)       94 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/requirements.txt
+-rw-r--r--   0 runner    (1001) docker     (127)      106 2023-11-25 19:06:05.548465 pycapnp-2.0.0b2/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (127)     8513 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.548465 pycapnp-2.0.0b2/test/
+-rw-r--r--   0 runner    (1001) docker     (127)      576 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/addressbook with spaces.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)      576 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/addressbook-with-dashes.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)      628 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/addressbook.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)     2816 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/all-types.binary
+-rw-r--r--   0 runner    (1001) docker     (127)      831 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/all-types.packed
+-rw-r--r--   0 runner    (1001) docker     (127)     5289 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/all-types.txt
+-rw-r--r--   0 runner    (1001) docker     (127)     1660 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/all_types.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)      442 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/annotations.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)      106 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/bar.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)      218 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/foo.capnp
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2023-11-25 19:06:05.548465 pycapnp-2.0.0b2/test/schemas/
+-rw-r--r--   0 runner    (1001) docker     (127)       56 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/schemas/child.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)      109 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/schemas/parent.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)     2890 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_capability.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)    10182 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_capability.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6462 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_capability_context.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8899 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_context_manager.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5723 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_examples.py
+-rw-r--r--   0 runner    (1001) docker     (127)      148 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_large_read.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)     2350 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_large_read.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3763 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_load.py
+-rw-r--r--   0 runner    (1001) docker     (127)      771 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_memory_handling.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1412 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_object.py
+-rw-r--r--   0 runner    (1001) docker     (127)    20645 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_regression.py
+-rw-r--r--   0 runner    (1001) docker     (127)      150 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_response.capnp
+-rw-r--r--   0 runner    (1001) docker     (127)     1109 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_response.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1722 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_rpc.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1539 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_rpc_calculator.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1670 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_schema.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6935 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_serialization.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8175 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/test/test_struct.py
+-rw-r--r--   0 runner    (1001) docker     (127)      265 2023-11-25 19:05:55.000000 pycapnp-2.0.0b2/tox.ini
```

### Comparing `pycapnp-2.0.0b1/CHANGELOG.md` & `pycapnp-2.0.0b2/CHANGELOG.md`

 * *Files 3% similar despite different names*

```diff
@@ -1,7 +1,26 @@
+## v2.0.0b2 (2023-11-25)
+- Fix broken test in test_load (#329)
+- Update README example to async code (#331)
+- Fix 'AttributeError: '_UnixSelectorEventLoop' object has no attribute 'call_soon'
+- Delete and update some Python 3.7-specific todo notes
+- Make a server fail early when the KJ loop is not running
+- Update documentation to async code (#331) (#332)
+- Fix retransmit bug for large messages causing message corruption
+- Unlock the GIL for all capnp functions that do IO
+- Handle exceptions from server callbacks
+- Disable the use of ninja for windows builds
+- DynamicCapabilityClient fix
+- Make `reraise_kj_exception` available to downstream
+- Support `_DynamicListReader` in `_setDynamicField`
+- Fix re-raising of KjException
+- Allow cancellation of all capability contexts
+- Corner case for cancelled server methods that raise exceptions
+- Some fixes to the magic import system
+
 ## v2.0.0b1 (2023-10-03)
 - Update to bundled capnproto-1.0.1
 - Remove support for Python 3.7
 - Use custom build backend to support build args (#328)
 - Update Cython version and Python to 3.12 (#320)
 - Wrap all capnp code in a context-manager to avoid segfaults (#317)
 - Schema loading from the wire (#307)
```

### Comparing `pycapnp-2.0.0b1/LICENSE.md` & `pycapnp-2.0.0b2/LICENSE.md`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/PKG-INFO` & `pycapnp-2.0.0b2/PKG-INFO`

 * *Files 3% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 Metadata-Version: 2.1
 Name: pycapnp
-Version: 2.0.0b1
+Version: 2.0.0b2
 Summary: A cython wrapping of the C++ Cap'n Proto library
 Home-page: https://github.com/capnproto/pycapnp
-Download-URL: https://github.com/haata/pycapnp/archive/v2.0.0b1.zip
+Download-URL: https://github.com/haata/pycapnp/archive/v2.0.0b2.zip
 Author: Jacob Alexander
 Author-email: haata@kiibohd.com
 License: BSD
 Keywords: capnp,capnproto,Cap'n Proto,pycapnp
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Intended Audience :: Developers
 Classifier: License :: OSI Approved :: BSD License
@@ -102,15 +102,15 @@
 While not directly supported by pycapnp, a tool has been created to help generate pycapnp stubfile to assist with development (this is very helpful if you're new to pypcapnp!). See [#289](https://github.com/capnproto/pycapnp/pull/289#event-9078216721) for more details.
 
 [Python Capnp Stub Generator](https://gitlab.com/mic_public/tools/python-helpers/capnp-stub-generator)
 
 
 ## Python Versions
 
-Python 3.7+ is supported.
+Python 3.8+ is supported.
 
 
 ## Development
 
 Git flow has been abandoned, use master.
 
 To test, use a pipenv (or install requirements.txt and run pytest manually).
@@ -199,56 +199,78 @@
     f = open('example', 'r')
     printAddressBook(f)
 ```
 
 Also, pycapnp has gained RPC features that include pipelining and a promise style API. Refer to the calculator example in the examples directory for a much better demonstration:
 
 ```python
+import asyncio
 import capnp
 import socket
 
 import test_capability_capnp
 
 
 class Server(test_capability_capnp.TestInterface.Server):
 
     def __init__(self, val=1):
         self.val = val
 
-    def foo(self, i, j, **kwargs):
+    async def foo(self, i, j, **kwargs):
         return str(i * 5 + self.val)
 
 
-def server(write_end):
-    server = capnp.TwoPartyServer(write_end, bootstrap=Server(100))
-
-
-def client(read_end):
+async def client(read_end):
     client = capnp.TwoPartyClient(read_end)
 
     cap = client.bootstrap()
     cap = cap.cast_as(test_capability_capnp.TestInterface)
 
     remote = cap.foo(i=5)
-    response = remote.wait()
+    response = await remote
 
     assert response.x == '125'
 
-
-if __name__ == '__main__':
-    read_end, write_end = socket.socketpair(socket.AF_UNIX)
+async def main():
+    client_end, server_end = socket.socketpair(socket.AF_UNIX)
     # This is a toy example using socketpair.
     # In real situations, you can use any socket.
 
-    server(write_end)
-    client(read_end)
+    client_end = await capnp.AsyncIoStream.create_connection(sock=client_end)
+    server_end = await capnp.AsyncIoStream.create_connection(sock=server_end)
+
+    _ = capnp.TwoPartyServer(server_end, bootstrap=Server(100))
+    await client(client_end)
+
+
+if __name__ == '__main__':
+    asyncio.run(capnp.run(main()))
 ```
 
 Changelog
 =============
+## v2.0.0b2 (2023-11-25)
+- Fix broken test in test_load (#329)
+- Update README example to async code (#331)
+- Fix 'AttributeError: '_UnixSelectorEventLoop' object has no attribute 'call_soon'
+- Delete and update some Python 3.7-specific todo notes
+- Make a server fail early when the KJ loop is not running
+- Update documentation to async code (#331) (#332)
+- Fix retransmit bug for large messages causing message corruption
+- Unlock the GIL for all capnp functions that do IO
+- Handle exceptions from server callbacks
+- Disable the use of ninja for windows builds
+- DynamicCapabilityClient fix
+- Make `reraise_kj_exception` available to downstream
+- Support `_DynamicListReader` in `_setDynamicField`
+- Fix re-raising of KjException
+- Allow cancellation of all capability contexts
+- Corner case for cancelled server methods that raise exceptions
+- Some fixes to the magic import system
+
 ## v2.0.0b1 (2023-10-03)
 - Update to bundled capnproto-1.0.1
 - Remove support for Python 3.7
 - Use custom build backend to support build args (#328)
 - Update Cython version and Python to 3.12 (#320)
 - Wrap all capnp code in a context-manager to avoid segfaults (#317)
 - Schema loading from the wire (#307)
```

### Comparing `pycapnp-2.0.0b1/README.md` & `pycapnp-2.0.0b2/README.md`

 * *Files 9% similar despite different names*

```diff
@@ -73,15 +73,15 @@
 While not directly supported by pycapnp, a tool has been created to help generate pycapnp stubfile to assist with development (this is very helpful if you're new to pypcapnp!). See [#289](https://github.com/capnproto/pycapnp/pull/289#event-9078216721) for more details.
 
 [Python Capnp Stub Generator](https://gitlab.com/mic_public/tools/python-helpers/capnp-stub-generator)
 
 
 ## Python Versions
 
-Python 3.7+ is supported.
+Python 3.8+ is supported.
 
 
 ## Development
 
 Git flow has been abandoned, use master.
 
 To test, use a pipenv (or install requirements.txt and run pytest manually).
@@ -170,46 +170,49 @@
     f = open('example', 'r')
     printAddressBook(f)
 ```
 
 Also, pycapnp has gained RPC features that include pipelining and a promise style API. Refer to the calculator example in the examples directory for a much better demonstration:
 
 ```python
+import asyncio
 import capnp
 import socket
 
 import test_capability_capnp
 
 
 class Server(test_capability_capnp.TestInterface.Server):
 
     def __init__(self, val=1):
         self.val = val
 
-    def foo(self, i, j, **kwargs):
+    async def foo(self, i, j, **kwargs):
         return str(i * 5 + self.val)
 
 
-def server(write_end):
-    server = capnp.TwoPartyServer(write_end, bootstrap=Server(100))
-
-
-def client(read_end):
+async def client(read_end):
     client = capnp.TwoPartyClient(read_end)
 
     cap = client.bootstrap()
     cap = cap.cast_as(test_capability_capnp.TestInterface)
 
     remote = cap.foo(i=5)
-    response = remote.wait()
+    response = await remote
 
     assert response.x == '125'
 
-
-if __name__ == '__main__':
-    read_end, write_end = socket.socketpair(socket.AF_UNIX)
+async def main():
+    client_end, server_end = socket.socketpair(socket.AF_UNIX)
     # This is a toy example using socketpair.
     # In real situations, you can use any socket.
 
-    server(write_end)
-    client(read_end)
+    client_end = await capnp.AsyncIoStream.create_connection(sock=client_end)
+    server_end = await capnp.AsyncIoStream.create_connection(sock=server_end)
+
+    _ = capnp.TwoPartyServer(server_end, bootstrap=Server(100))
+    await client(client_end)
+
+
+if __name__ == '__main__':
+    asyncio.run(capnp.run(main()))
 ```
```

### Comparing `pycapnp-2.0.0b1/buildutils/build.py` & `pycapnp-2.0.0b2/buildutils/build.py`

 * *Files 3% similar despite different names*

```diff
@@ -24,15 +24,15 @@
     cxxflags = os.environ.get("CXXFLAGS", None)
     ldflags = os.environ.get("LDFLAGS", None)
     os.environ["CXXFLAGS"] = (cxxflags or "") + " -O2 -DNDEBUG"
     os.environ["LDFLAGS"] = ldflags or ""
 
     # Enable ninja for compilation if available
     build_type = []
-    if shutil.which("ninja"):
+    if shutil.which("ninja") and os.name != "nt":
         build_type = ["-G", "Ninja"]
 
     # Determine python shell architecture for Windows
     python_arch = 8 * struct.calcsize("P")
     build_arch = []
     build_flags = []
     if os.name == "nt":
```

### Comparing `pycapnp-2.0.0b1/buildutils/bundle.py` & `pycapnp-2.0.0b2/buildutils/bundle.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/capnp/__init__.py` & `pycapnp-2.0.0b2/capnp/__init__.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/capnp/_gen.py` & `pycapnp-2.0.0b2/capnp/_gen.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/capnp/helpers/capabilityHelper.cpp` & `pycapnp-2.0.0b2/capnp/helpers/capabilityHelper.cpp`

 * *Files 0% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 #include "capnp/lib/capnp_api.h"
 
 ::kj::Promise<kj::Own<PyRefCounter>> convert_to_pypromise(capnp::RemotePromise<capnp::DynamicStruct> promise) {
     return promise.then([](capnp::Response<capnp::DynamicStruct>&& response) {
       return stealPyRef(wrap_dynamic_struct_reader(response)); } );
 }
 
-void reraise_kj_exception() {
+void c_reraise_kj_exception() {
   GILAcquire gil;
   try {
     if (PyErr_Occurred())
       ; // let the latest Python exn pass through and ignore the current one
     else
       throw;
   }
```

### Comparing `pycapnp-2.0.0b1/capnp/helpers/capabilityHelper.h` & `pycapnp-2.0.0b2/capnp/helpers/capabilityHelper.h`

 * *Files 24% similar despite different names*

```diff
@@ -59,38 +59,53 @@
 inline ::kj::Promise<kj::Own<PyRefCounter>> convert_to_pypromise(kj::Promise<void> promise) {
     return promise.then([]() {
       GILAcquire gil;
       return kj::heap<PyRefCounter>(Py_None);
     });
 }
 
-void reraise_kj_exception();
+void c_reraise_kj_exception();
 
 void check_py_error();
 
 ::kj::Promise<kj::Own<PyRefCounter>> then(kj::Promise<kj::Own<PyRefCounter>> promise,
                                           kj::Own<PyRefCounter> func, kj::Own<PyRefCounter> error_func);
 
 class PythonInterfaceDynamicImpl final: public capnp::DynamicCapability::Server {
 public:
   kj::Own<PyRefCounter> py_server;
   kj::Own<PyRefCounter> kj_loop;
 
+#if (CAPNP_VERSION_MAJOR < 1)
   PythonInterfaceDynamicImpl(capnp::InterfaceSchema & schema,
                              kj::Own<PyRefCounter> _py_server,
                              kj::Own<PyRefCounter> kj_loop)
-    : capnp::DynamicCapability::Server(schema), py_server(kj::mv(_py_server)), kj_loop(kj::mv(kj_loop)) { }
+    : capnp::DynamicCapability::Server(schema),
+      py_server(kj::mv(_py_server)), kj_loop(kj::mv(kj_loop)) { }
+#else
+  PythonInterfaceDynamicImpl(capnp::InterfaceSchema & schema,
+                             kj::Own<PyRefCounter> _py_server,
+                             kj::Own<PyRefCounter> kj_loop)
+    : capnp::DynamicCapability::Server(schema, { true }),
+      py_server(kj::mv(_py_server)), kj_loop(kj::mv(kj_loop)) { }
+#endif
 
   ~PythonInterfaceDynamicImpl() {
   }
 
   kj::Promise<void> call(capnp::InterfaceSchema::Method method,
                          capnp::CallContext< capnp::DynamicStruct, capnp::DynamicStruct> context);
 };
 
+inline void allowCancellation(capnp::CallContext<capnp::DynamicStruct, capnp::DynamicStruct> context) {
+#if (CAPNP_VERSION_MAJOR < 1)
+  context.allowCancellation();
+#endif
+}
+
 class PyAsyncIoStream: public kj::AsyncIoStream {
 public:
   kj::Own<PyRefCounter> protocol;
 
   PyAsyncIoStream(kj::Own<PyRefCounter> protocol) : protocol(kj::mv(protocol)) {}
   ~PyAsyncIoStream();
```

### Comparing `pycapnp-2.0.0b1/capnp/helpers/helpers.pxd` & `pycapnp-2.0.0b2/capnp/helpers/helpers.pxd`

 * *Files 14% similar despite different names*

```diff
@@ -1,16 +1,16 @@
 from capnp.includes.capnp_cpp cimport (
     Maybe, PyPromise, VoidPromise, RemotePromise,
-    DynamicCapability, InterfaceSchema, EnumSchema, StructSchema, DynamicValue, Capability, 
-    RpcSystem, MessageBuilder, Own, PyRefCounter, Node, DynamicStruct
+    DynamicCapability, InterfaceSchema, EnumSchema, StructSchema, DynamicValue, Capability,
+    RpcSystem, MessageBuilder, Own, PyRefCounter, Node, DynamicStruct, CallContext
 )
 
 from capnp.includes.schema_cpp cimport ByteArray
 
-from non_circular cimport reraise_kj_exception
+from non_circular cimport c_reraise_kj_exception as reraise_kj_exception
 
 from cpython.ref cimport PyObject
 
 cdef extern from "capnp/helpers/fixMaybe.h":
     EnumSchema.Enumerant fixMaybe(Maybe[EnumSchema.Enumerant]) except +reraise_kj_exception
     StructSchema.Field fixMaybe(Maybe[StructSchema.Field]) except +reraise_kj_exception
 
@@ -18,14 +18,15 @@
     PyPromise then(PyPromise promise, Own[PyRefCounter] func, Own[PyRefCounter] error_func)
     DynamicCapability.Client new_client(InterfaceSchema&, PyObject *)
     DynamicValue.Reader new_server(InterfaceSchema&, PyObject *)
     Capability.Client server_to_client(InterfaceSchema&, PyObject *)
     PyPromise convert_to_pypromise(RemotePromise)
     PyPromise convert_to_pypromise(VoidPromise)
     VoidPromise taskToPromise(Own[PyRefCounter] coroutine, PyObject* callback)
+    void allowCancellation(CallContext context) except +reraise_kj_exception nogil
     void init_capnp_api()
 
 cdef extern from "capnp/helpers/rpcHelper.h":
     Capability.Client bootstrapHelper(RpcSystem&)
     Capability.Client bootstrapHelperServer(RpcSystem&)
 
 cdef extern from "capnp/helpers/serialize.h":
```

### Comparing `pycapnp-2.0.0b1/capnp/helpers/rpcHelper.h` & `pycapnp-2.0.0b2/capnp/helpers/rpcHelper.h`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/capnp/includes/capnp_cpp.pxd` & `pycapnp-2.0.0b2/capnp/includes/capnp_cpp.pxd`

 * *Files 1% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 # schema.capnp.cpp.pyx
 # distutils: language = c++
 cdef extern from "capnp/helpers/checkCompiler.h":
     pass
 
 from libcpp cimport bool
 from capnp.helpers.non_circular cimport (
-    reraise_kj_exception, PyRefCounter,
+    c_reraise_kj_exception as reraise_kj_exception, PyRefCounter,
 )
 from capnp.includes.schema_cpp cimport (
     Node, Data, StructNode, EnumNode, InterfaceNode, MessageBuilder, MessageReader, ReaderOptions,
 )
 from capnp.includes.types cimport *
 
 cdef extern from "capnp/common.h" namespace " ::capnp":
@@ -358,14 +358,15 @@
             DynamicValueForward.Builder operator[](uint) except +reraise_kj_exception
             uint size()
             void set(uint index, DynamicValueForward.Reader value) except +reraise_kj_exception
             DynamicValueForward.Builder init(uint index, uint size) except +reraise_kj_exception
             void adopt(uint, DynamicOrphan) except +reraise_kj_exception
             DynamicOrphan disown(uint)
             StructSchema getStructElementType'getSchema().getStructElementType'()
+            DynamicList.Reader asReader() except +reraise_kj_exception
 
 cdef extern from "capnp/any.h" namespace " ::capnp":
     cdef cppclass AnyPointer nogil:
         cppclass Reader nogil:
             DynamicStruct.Reader getAs"getAs< ::capnp::DynamicStruct>"(StructSchema) except +reraise_kj_exception
             DynamicCapability.Client getAsCapability"getAs< ::capnp::DynamicCapability>"(
                 InterfaceSchema) except +reraise_kj_exception
```

### Comparing `pycapnp-2.0.0b1/capnp/includes/schema_cpp.pxd` & `pycapnp-2.0.0b2/capnp/includes/schema_cpp.pxd`

 * *Files 0% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 # schema.capnp.cpp.pyx
 # distutils: language = c++
 
 from libc.stdint cimport *
-from capnp.helpers.non_circular cimport reraise_kj_exception
+from capnp.helpers.non_circular cimport c_reraise_kj_exception as reraise_kj_exception
 
 from capnp.includes.types cimport *
 
 cdef extern from "capnp/dynamic.h" namespace " ::capnp":
     cdef cppclass DynamicValue nogil:
         cppclass Reader nogil:
             pass
```

### Comparing `pycapnp-2.0.0b1/capnp/lib/capnp.cpp` & `pycapnp-2.0.0b2/capnp/lib/capnp.cpp`

 * *Files 0% similar despite different names*

```diff
@@ -1273,27 +1273,28 @@
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_7_run;
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio;
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed;
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection;
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection;
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server;
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes;
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes;
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load;
 
 /* "capnp/includes/types.pxd":14
  * ctypedef int64_t Int64
  * 
  * ctypedef char * Object             # <<<<<<<<<<<<<<
  * ctypedef bint Bool
  * ctypedef float Float32
@@ -1414,15 +1415,15 @@
  */
 struct __pyx_opt_args_5capnp_3lib_5capnp_21_DynamicStructBuilder_copy {
   int __pyx_n;
   PyObject *num_first_segment_words;
 };
 struct __pyx_t_5capnp_3lib_5capnp_AsyncIoEventPort : public  ::kj::EventPort {
 
-  /* "capnp/lib/capnp.pyx":1781
+  /* "capnp/lib/capnp.pyx":1820
  *     port.kjLoop.run()
  * 
  * cdef cppclass AsyncIoEventPort(EventPort):             # <<<<<<<<<<<<<<
  *     EventLoop *kjLoop
  *     object asyncioLoop;
  */
    ::kj::EventLoop *kjLoop;
@@ -1485,81 +1486,81 @@
       __Pyx_PyGILState_Release(__pyx_gilstate_save);
       #endif
     }
     return *this;
   }
 };
 
-/* "capnp/lib/capnp.pyx":1906
+/* "capnp/lib/capnp.pyx":1972
  *             return _DynamicStructReader()._init(self.thisptr.getParams(), self)
  * 
  *     cpdef _get_results(self, uint word_count=0):             # <<<<<<<<<<<<<<
  *         return _DynamicStructBuilder()._init(self.thisptr.getResults(), self) # TODO: pass firstSegmentWordSize
  * 
  */
 struct __pyx_opt_args_5capnp_3lib_5capnp_12_CallContext__get_results {
   int __pyx_n;
   __pyx_t_5capnp_8includes_5types_uint word_count;
 };
 
-/* "capnp/lib/capnp.pyx":1954
+/* "capnp/lib/capnp.pyx":2020
  *     cdef Own[RemotePromise] thisptr
  * 
  *     cdef _init(self, RemotePromise other, object parent=None):             # <<<<<<<<<<<<<<
  *         self.thisptr = capnp.heap[RemotePromise](move(other))
  *         self._parent = parent
  */
 struct __pyx_opt_args_5capnp_3lib_5capnp_14_RemotePromise__init {
   int __pyx_n;
   PyObject *parent;
 };
 
-/* "capnp/lib/capnp.pyx":3729
+/* "capnp/lib/capnp.pyx":3816
  *         pass
  * 
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,             # <<<<<<<<<<<<<<
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  */
 struct __pyx_opt_args_5capnp_3lib_5capnp_20_PackedMessageReader__init {
   int __pyx_n;
   PyObject *traversal_limit_in_words;
   PyObject *nesting_limit;
   PyObject *parent;
 };
 
-/* "capnp/lib/capnp.pyx":3780
+/* "capnp/lib/capnp.pyx":3867
  *         pass
  * 
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,             # <<<<<<<<<<<<<<
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  */
 struct __pyx_opt_args_5capnp_3lib_5capnp_19_InputMessageReader__init {
   int __pyx_n;
   PyObject *traversal_limit_in_words;
   PyObject *nesting_limit;
   PyObject *parent;
 };
 
-/* "capnp/lib/capnp.pyx":4060
+/* "capnp/lib/capnp.pyx":4149
  *         self.msg_size = 0
  * 
  *     cdef _init(self, buf, const char *ptr, Py_ssize_t sz, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         cdef schema_cpp.FlatArrayMessageReader * flat_reader
  */
 struct __pyx_opt_args_5capnp_3lib_5capnp_30_FlatArrayMessageReaderAligned__init {
   int __pyx_n;
   PyObject *traversal_limit_in_words;
   PyObject *nesting_limit;
 };
 
 /* "capnp/lib/capnp.pxd":22
- * 
+ * cdef void reraise_kj_exception()
  * 
  * cdef class _StructSchemaField:             # <<<<<<<<<<<<<<
  *     cdef C_StructSchema.Field thisptr
  *     cdef object _parent
  */
 struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField {
   PyObject_HEAD
@@ -1766,72 +1767,72 @@
 struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__VoidPromiseFulfiller *__pyx_vtab;
   ::kj::PromiseFulfiller<void> *fulfiller;
 };
 
 
-/* "capnp/lib/capnp.pyx":187
+/* "capnp/lib/capnp.pyx":196
  * 
  * 
  * cdef class _KjExceptionWrapper:             # <<<<<<<<<<<<<<
  *     cdef capnp.Exception * thisptr
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__KjExceptionWrapper *__pyx_vtab;
    ::kj::Exception *thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":335
+/* "capnp/lib/capnp.pyx":348
  * 
  * 
  * cdef class _NodeReader:             # <<<<<<<<<<<<<<
  *     cdef C_Node.Reader thisptr
  *     cdef init(self, C_Node.Reader other):
  */
 struct __pyx_obj_5capnp_3lib_5capnp__NodeReader {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__NodeReader *__pyx_vtab;
    ::capnp::schema::Node::Reader thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":379
+/* "capnp/lib/capnp.pyx":392
  * 
  * 
  * cdef class _NestedNodeReader:             # <<<<<<<<<<<<<<
  *     cdef C_Node.NestedNode.Reader thisptr
  *     cdef init(self, C_Node.NestedNode.Reader other):
  */
 struct __pyx_obj_5capnp_3lib_5capnp__NestedNodeReader {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__NestedNodeReader *__pyx_vtab;
    ::capnp::schema::Node::NestedNode::Reader thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":393
+/* "capnp/lib/capnp.pyx":406
  * 
  * 
  * cdef class _DynamicListReader:             # <<<<<<<<<<<<<<
  *     """Class for reading Cap'n Proto Lists
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader *__pyx_vtab;
    ::capnp::DynamicList::Reader thisptr;
   PyObject *_parent;
 };
 
 
-/* "capnp/lib/capnp.pyx":438
+/* "capnp/lib/capnp.pyx":451
  * 
  * 
  * cdef class _DynamicResizableListBuilder:             # <<<<<<<<<<<<<<
  *     """Class for building growable Cap'n Proto Lists
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__DynamicResizableListBuilder {
@@ -1841,88 +1842,88 @@
   PyObject *_message;
   PyObject *_field;
   PyObject *_schema;
   PyObject *_list;
 };
 
 
-/* "capnp/lib/capnp.pyx":607
+/* "capnp/lib/capnp.pyx":622
  * 
  * 
  * cdef class _List_NestedNode_Reader:             # <<<<<<<<<<<<<<
  *     cdef C_Node.NestedNode.Reader.ListNestedNodeReader thisptr
  *     cdef _init(self, List[C_Node.NestedNode].Reader other):
  */
 struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__List_NestedNode_Reader *__pyx_vtab;
   capnp::List<capnp::schema::Node::NestedNode>::Reader thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":1074
+/* "capnp/lib/capnp.pyx":1111
  * 
  * 
  * cdef class _MessageSize:             # <<<<<<<<<<<<<<
  *     cdef public uint64_t word_count
  *     cdef public uint cap_count
  */
 struct __pyx_obj_5capnp_3lib_5capnp__MessageSize {
   PyObject_HEAD
   uint64_t word_count;
   __pyx_t_5capnp_8includes_5types_uint cap_count;
 };
 
 
-/* "capnp/lib/capnp.pyx":1593
+/* "capnp/lib/capnp.pyx":1632
  * 
  * 
  * cdef class _DynamicStructPipeline:             # <<<<<<<<<<<<<<
  *     """Reads Cap'n Proto structs
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructPipeline *__pyx_vtab;
    ::capnp::DynamicStruct::Pipeline *thisptr;
   PyObject *_parent;
 };
 
 
-/* "capnp/lib/capnp.pyx":1674
+/* "capnp/lib/capnp.pyx":1713
  * 
  * 
  * cdef class _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *     cdef C_DynamicObject.Reader thisptr
  *     cdef public object _parent
  */
 struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectReader *__pyx_vtab;
    ::capnp::AnyPointer::Reader thisptr;
   PyObject *_parent;
 };
 
 
-/* "capnp/lib/capnp.pyx":1714
+/* "capnp/lib/capnp.pyx":1753
  * 
  * 
  * cdef class _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *     cdef C_DynamicObject.Builder * thisptr
  *     cdef public object _parent
  */
 struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectBuilder *__pyx_vtab;
    ::capnp::AnyPointer::Builder *thisptr;
   PyObject *_parent;
 };
 
 
-/* "capnp/lib/capnp.pyx":1818
+/* "capnp/lib/capnp.pyx":1867
  *         return this.kjLoop
  * 
  * cdef class _EventLoop:             # <<<<<<<<<<<<<<
  *     cdef Own[WaitScope] wait_scope
  *     cdef Own[AsyncIoEventPort] event_port
  */
 struct __pyx_obj_5capnp_3lib_5capnp__EventLoop {
@@ -1933,97 +1934,97 @@
   PyObject *active_streams;
   PyObject *active_rpcs;
   PyObject *active_tasks;
   bool closed;
 };
 
 
-/* "capnp/lib/capnp.pyx":1892
+/* "capnp/lib/capnp.pyx":1957
  * 
  * 
  * cdef class _CallContext:             # <<<<<<<<<<<<<<
  *     cdef CallContext * thisptr
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__CallContext {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__CallContext *__pyx_vtab;
    ::capnp::CallContext< ::capnp::DynamicStruct, ::capnp::DynamicStruct> *thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":1937
+/* "capnp/lib/capnp.pyx":2003
  *     return _promise_to_asyncio(helpers.convert_to_pypromise(move(promise)))
  * 
  * cdef class _Promise:             # <<<<<<<<<<<<<<
  *     cdef Own[PyPromise] thisptr
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__Promise {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__Promise *__pyx_vtab;
    ::kj::Own<__pyx_t_5capnp_8includes_9capnp_cpp_PyPromise>  thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":1948
+/* "capnp/lib/capnp.pyx":2014
  * 
  * 
  * cdef class _RemotePromise:             # <<<<<<<<<<<<<<
  *     cdef object _parent
  *     """A pointer to a parent object that needs to be kept alive for this promise to function."""
  */
 struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *__pyx_vtab;
   PyObject *_parent;
    ::kj::Own< ::capnp::RemotePromise< ::capnp::DynamicStruct>>  thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":2010
+/* "capnp/lib/capnp.pyx":2076
  * 
  * 
  * cdef class _Request(_DynamicStructBuilder):             # <<<<<<<<<<<<<<
  *     cdef Request * thisptr_child
  *     cdef public bint is_consumed
  */
 struct __pyx_obj_5capnp_3lib_5capnp__Request {
   struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder __pyx_base;
    ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct> *thisptr_child;
   int is_consumed;
 };
 
 
-/* "capnp/lib/capnp.pyx":2031
+/* "capnp/lib/capnp.pyx":2097
  * 
  * 
  * cdef class _Response(_DynamicStructReader):             # <<<<<<<<<<<<<<
  *     cdef Response * thisptr_child
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__Response {
   struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader __pyx_base;
    ::capnp::Response< ::capnp::DynamicStruct> *thisptr_child;
 };
 
 
-/* "capnp/lib/capnp.pyx":2047
+/* "capnp/lib/capnp.pyx":2113
  *         return self
  * 
  * cdef class _DynamicCapabilityServer:             # <<<<<<<<<<<<<<
  *     pass
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityServer {
   PyObject_HEAD
 };
 
 
-/* "capnp/lib/capnp.pyx":2050
+/* "capnp/lib/capnp.pyx":2116
  *     pass
  * 
  * cdef class _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *     cdef C_DynamicCapability.Client thisptr
  *     cdef public object _parent, _cached_schema
  */
 struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient {
@@ -2031,45 +2032,45 @@
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *__pyx_vtab;
    ::capnp::DynamicCapability::Client thisptr;
   PyObject *_parent;
   PyObject *_cached_schema;
 };
 
 
-/* "capnp/lib/capnp.pyx":2175
+/* "capnp/lib/capnp.pyx":2241
  * 
  * 
  * cdef class _CapabilityClient:             # <<<<<<<<<<<<<<
  *     cdef C_Capability.Client * thisptr
  *     cdef public object _parent
  */
 struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__CapabilityClient *__pyx_vtab;
    ::capnp::Capability::Client *thisptr;
   PyObject *_parent;
 };
 
 
-/* "capnp/lib/capnp.pyx":2196
+/* "capnp/lib/capnp.pyx":2262
  * 
  * 
  * cdef class _TwoPartyVatNetwork:             # <<<<<<<<<<<<<<
  *     cdef Own[C_TwoPartyVatNetwork] thisptr
  *     cdef _AsyncIoStream stream
  */
 struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__TwoPartyVatNetwork *__pyx_vtab;
    ::kj::Own< ::capnp::TwoPartyVatNetwork>  thisptr;
   struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *stream;
 };
 
 
-/* "capnp/lib/capnp.pyx":2212
+/* "capnp/lib/capnp.pyx":2278
  * 
  * 
  * cdef class TwoPartyClient:             # <<<<<<<<<<<<<<
  *     """
  *     TwoPartyClient for RPC Communication
  */
 struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyClient {
@@ -2078,15 +2079,15 @@
   PyObject *__weakref__;
    ::kj::Own< ::capnp::RpcSystem<capnp::rpc::twoparty::SturdyRefHostId>>  thisptr;
   struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *_network;
   bool closed;
 };
 
 
-/* "capnp/lib/capnp.pyx":2258
+/* "capnp/lib/capnp.pyx":2324
  * 
  * 
  * cdef class TwoPartyServer:             # <<<<<<<<<<<<<<
  *     """
  *     TwoPartyServer for RPC Communication
  */
 struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyServer {
@@ -2095,15 +2096,15 @@
   PyObject *__weakref__;
    ::kj::Own< ::capnp::RpcSystem<capnp::rpc::twoparty::SturdyRefHostId>>  thisptr;
   struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *_network;
   bool closed;
 };
 
 
-/* "capnp/lib/capnp.pyx":2314
+/* "capnp/lib/capnp.pyx":2380
  * 
  * 
  * cdef class _AsyncIoStream:             # <<<<<<<<<<<<<<
  *     cdef object __weakref__ # Needed to make this class weak-referenceable
  *     cdef Own[AsyncIoStream] thisptr
  */
 struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream {
@@ -2111,37 +2112,37 @@
   PyObject *__weakref__;
    ::kj::Own< ::kj::AsyncIoStream>  thisptr;
   bool close_called;
   PyObject *protocol;
 };
 
 
-/* "capnp/lib/capnp.pyx":2413
+/* "capnp/lib/capnp.pyx":2486
  *         return await loop.create_unix_server(lambda: _AsyncIoStream._connect(callback), path, **kwargs)
  * 
  * cdef class DummyBaseClass:             # <<<<<<<<<<<<<<
  *     pass
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp_DummyBaseClass {
   PyObject_HEAD
 };
 
 
-/* "capnp/lib/capnp.pyx":2416
+/* "capnp/lib/capnp.pyx":2489
  *     pass
  * 
  * cdef class _PyAsyncIoStreamProtocol(DummyBaseClass, asyncio.BufferedProtocol):             # <<<<<<<<<<<<<<
- *     # TODO: Temporary. Needed due to a missing __slots__ definitions in BufferedProtocol on Python 3.7.
- *     #       See https://github.com/python/cpython/issues/79575. Can be removed once Python 3.7 is unsupported.
+ *     cdef object _task
+ * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol {
   struct __pyx_obj_5capnp_3lib_5capnp_DummyBaseClass __pyx_base;
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_vtab;
-  PyObject *__dict__;
+  PyObject *_task;
   PyObject *transport;
   PyObject *connected_callback;
   PyObject *callback_arg;
   char *read_buffer;
   int32_t read_min_bytes;
   size_t read_max_bytes;
   size_t read_already_read;
@@ -2153,15 +2154,15 @@
   bool write_in_progress;
    ::kj::ArrayPtr< ::kj::ArrayPtr<uint8_t const >  const >  write_pieces;
   size_t write_index;
   ::kj::PromiseFulfiller<void> *write_fulfiller;
 };
 
 
-/* "capnp/lib/capnp.pyx":2642
+/* "capnp/lib/capnp.pyx":2727
  * 
  * 
  * cdef class _StructSchema(_Schema):             # <<<<<<<<<<<<<<
  *     cdef C_StructSchema thisptr_child
  *     cdef object __fieldnames, __union_fields, __non_union_fields, __fields, __getters
  */
 struct __pyx_obj_5capnp_3lib_5capnp__StructSchema {
@@ -2172,185 +2173,185 @@
   PyObject *__pyx___non_union_fields;
   PyObject *__pyx___fields;
   PyObject *__pyx___getters;
   PyObject *__pyx___fields_list;
 };
 
 
-/* "capnp/lib/capnp.pyx":2766
+/* "capnp/lib/capnp.pyx":2851
  * 
  * 
  * cdef class _InterfaceMethod:             # <<<<<<<<<<<<<<
  *     cdef C_InterfaceSchema.Method thisptr
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceMethod *__pyx_vtab;
    ::capnp::InterfaceSchema::Method thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":2865
+/* "capnp/lib/capnp.pyx":2950
  * 
  * 
  * cdef class _EnumSchema:             # <<<<<<<<<<<<<<
  *     cdef C_EnumSchema thisptr
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__EnumSchema *__pyx_vtab;
    ::capnp::EnumSchema thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":2889
+/* "capnp/lib/capnp.pyx":2974
  * 
  * 
  * cdef class _SchemaType:             # <<<<<<<<<<<<<<
  *     cdef capnp.SchemaType thisptr
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__SchemaType {
   PyObject_HEAD
    ::capnp::Type thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":2971
+/* "capnp/lib/capnp.pyx":3056
  * 
  * 
  * cdef class _ListSchema:             # <<<<<<<<<<<<<<
  *     cdef C_ListSchema thisptr
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__ListSchema {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__ListSchema *__pyx_vtab;
    ::capnp::ListSchema thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":3016
+/* "capnp/lib/capnp.pyx":3101
  * 
  * 
  * cdef class _ParsedSchema(_Schema):             # <<<<<<<<<<<<<<
  *     cdef C_ParsedSchema thisptr_child
  *     cdef _init_child(self, C_ParsedSchema other):
  */
 struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema {
   struct __pyx_obj_5capnp_3lib_5capnp__Schema __pyx_base;
    ::capnp::ParsedSchema thisptr_child;
 };
 
 
-/* "capnp/lib/capnp.pyx":3622
+/* "capnp/lib/capnp.pyx":3707
  * 
  * 
  * cdef class _MallocMessageBuilder(_MessageBuilder):             # <<<<<<<<<<<<<<
  *     """The main class for building Cap'n Proto messages
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__MallocMessageBuilder {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder __pyx_base;
 };
 
 
-/* "capnp/lib/capnp.pyx":3644
+/* "capnp/lib/capnp.pyx":3729
  * 
  * 
  * cdef class _MessageReader:             # <<<<<<<<<<<<<<
  *     """An abstract base class for reading Cap'n Proto messages
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__MessageReader {
   PyObject_HEAD
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader *__pyx_vtab;
   PyObject *_parent;
    ::capnp::MessageReader *thisptr;
 };
 
 
-/* "capnp/lib/capnp.pyx":3690
+/* "capnp/lib/capnp.pyx":3775
  * 
  * 
  * cdef class _StreamFdMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a file descriptor
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__StreamFdMessageReader {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 
 
-/* "capnp/lib/capnp.pyx":3713
+/* "capnp/lib/capnp.pyx":3800
  * 
  * 
  * cdef class _PackedMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a file descriptor in a packed manner
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 
 
-/* "capnp/lib/capnp.pyx":3742
+/* "capnp/lib/capnp.pyx":3829
  * 
  * 
  * cdef class _PackedMessageReaderBytes(_MessageReader):             # <<<<<<<<<<<<<<
  *     cdef schema_cpp.ArrayInputStream * stream
  *     cdef Py_buffer view
  */
 struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReaderBytes {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageReader __pyx_base;
    ::kj::ArrayInputStream *stream;
   Py_buffer view;
 };
 
 
-/* "capnp/lib/capnp.pyx":3764
+/* "capnp/lib/capnp.pyx":3851
  * 
  * 
  * cdef class _InputMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a file descriptor in a packed manner
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 
 
-/* "capnp/lib/capnp.pyx":3793
+/* "capnp/lib/capnp.pyx":3880
  * 
  * 
  * cdef class _PackedFdMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a file descriptor in a packed manner
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__PackedFdMessageReader {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 
 
-/* "capnp/lib/capnp.pyx":3815
+/* "capnp/lib/capnp.pyx":3904
  *         del self.thisptr
  * 
  * cdef class _AsyncMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a AsyncIoStream class.
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp__AsyncMessageReader {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageReader __pyx_base;
    ::kj::Own< ::capnp::MessageReader>  reader;
 };
 
 
-/* "capnp/lib/capnp.pyx":3834
+/* "capnp/lib/capnp.pyx":3923
  * 
  * 
  * cdef class _MultipleMessageReader:             # <<<<<<<<<<<<<<
  *     cdef schema_cpp.FdInputStream * stream
  *     cdef schema_cpp.BufferedInputStream * buffered_stream
  */
 struct __pyx_obj_5capnp_3lib_5capnp__MultipleMessageReader {
@@ -2361,15 +2362,15 @@
   PyObject *traversal_limit_in_words;
   PyObject *nesting_limit;
   PyObject *schema;
   PyObject *file;
 };
 
 
-/* "capnp/lib/capnp.pyx":3873
+/* "capnp/lib/capnp.pyx":3962
  * 
  * 
  * cdef class _MultiplePackedMessageReader:             # <<<<<<<<<<<<<<
  *     cdef schema_cpp.FdInputStream * stream
  *     cdef schema_cpp.BufferedInputStream * buffered_stream
  */
 struct __pyx_obj_5capnp_3lib_5capnp__MultiplePackedMessageReader {
@@ -2380,15 +2381,15 @@
   PyObject *traversal_limit_in_words;
   PyObject *nesting_limit;
   PyObject *schema;
   PyObject *file;
 };
 
 
-/* "capnp/lib/capnp.pyx":3912
+/* "capnp/lib/capnp.pyx":4001
  * 
  * 
  * cdef class _MultipleBytesMessageReader:             # <<<<<<<<<<<<<<
  *     cdef Py_ssize_t offset, sz
  *     cdef const char *ptr
  */
 struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesMessageReader {
@@ -2399,15 +2400,15 @@
   PyObject *_object_to_pin;
   PyObject *traversal_limit_in_words;
   PyObject *nesting_limit;
   PyObject *schema;
 };
 
 
-/* "capnp/lib/capnp.pyx":3961
+/* "capnp/lib/capnp.pyx":4050
  * 
  * 
  * cdef class _MultipleBytesPackedMessageReader:             # <<<<<<<<<<<<<<
  *     cdef schema_cpp.ArrayInputStream * stream
  *     cdef schema_cpp.BufferedInputStream * buffered_stream
  */
 struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader {
@@ -2418,73 +2419,73 @@
   PyObject *traversal_limit_in_words;
   PyObject *nesting_limit;
   PyObject *schema;
   PyObject *buf;
 };
 
 
-/* "capnp/lib/capnp.pyx":4001
+/* "capnp/lib/capnp.pyx":4090
  * 
  * @cython.internal
  * cdef class _AlignedBuffer:             # <<<<<<<<<<<<<<
  *     cdef char * buf
  *     cdef bint allocated
  */
 struct __pyx_obj_5capnp_3lib_5capnp__AlignedBuffer {
   PyObject_HEAD
   char *buf;
   int allocated;
   Py_buffer view;
 };
 
 
-/* "capnp/lib/capnp.pyx":4025
+/* "capnp/lib/capnp.pyx":4114
  * 
  * @cython.internal
  * cdef class _BufferView:             # <<<<<<<<<<<<<<
  *     cdef Py_buffer view
  *     cdef char * buf
  */
 struct __pyx_obj_5capnp_3lib_5capnp__BufferView {
   PyObject_HEAD
   Py_buffer view;
   char *buf;
   int closed;
 };
 
 
-/* "capnp/lib/capnp.pyx":4047
+/* "capnp/lib/capnp.pyx":4136
  * 
  * @cython.internal
  * cdef class _FlatArrayMessageReaderAligned(_MessageReader):             # <<<<<<<<<<<<<<
  *     """
  *     Creates a reader based on a contiguous block of memory
  */
 struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageReader __pyx_base;
   PyObject *_object_to_pin;
   Py_ssize_t msg_size;
 };
 
 
-/* "capnp/lib/capnp.pyx":4078
+/* "capnp/lib/capnp.pyx":4167
  * 
  * @cython.internal
  * cdef class _FlatArrayMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     cdef object _object_to_pin
  *     cdef _BufferView _buffer_view
  */
 struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReader {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageReader __pyx_base;
   PyObject *_object_to_pin;
   struct __pyx_obj_5capnp_3lib_5capnp__BufferView *_buffer_view;
 };
 
 
-/* "capnp/lib/capnp.pyx":4122
+/* "capnp/lib/capnp.pyx":4211
  * 
  * @cython.internal
  * cdef class _SegmentArrayMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  * 
  *     cdef object _objects_to_pin
  */
 struct __pyx_obj_5capnp_3lib_5capnp__SegmentArrayMessageReader {
@@ -2492,44 +2493,44 @@
   PyObject *_objects_to_pin;
   __pyx_t_5capnp_8includes_5types_uint num_segments;
    ::kj::ArrayPtr< const ::capnp::word> *_seg_ptrs;
   Py_buffer *views;
 };
 
 
-/* "capnp/lib/capnp.pyx":4163
+/* "capnp/lib/capnp.pyx":4252
  * 
  * @cython.internal
  * cdef class _FlatMessageBuilder(_MessageBuilder):             # <<<<<<<<<<<<<<
  *     cdef object _object_to_pin
  *     cdef Py_buffer view
  */
 struct __pyx_obj_5capnp_3lib_5capnp__FlatMessageBuilder {
   struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder __pyx_base;
   PyObject *_object_to_pin;
   Py_buffer view;
 };
 
 
-/* "capnp/lib/capnp.pyx":123
+/* "capnp/lib/capnp.pyx":132
  *         setattr(results, arg_name, arg_val)
  * 
  * cdef api VoidPromise * call_server_method(object server,             # <<<<<<<<<<<<<<
  *                                           char * _method_name,
  *                                           CallContext & _context,
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method {
   PyObject_HEAD
   PyObject *__pyx_v_context;
   PyObject *__pyx_v_method_name;
   PyObject *__pyx_v_server;
 };
 
 
-/* "capnp/lib/capnp.pyx":141
+/* "capnp/lib/capnp.pyx":150
  *         task = asyncio.create_task(ret)
  *     else:
  *         async def finalize():             # <<<<<<<<<<<<<<
  *             params = context.params
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize {
@@ -2541,75 +2542,75 @@
   PyObject *__pyx_v_params_dict;
   PyObject *__pyx_v_ret;
   PyObject *__pyx_t_0;
   PyObject *__pyx_t_1;
 };
 
 
-/* "capnp/lib/capnp.pyx":170
+/* "capnp/lib/capnp.pyx":179
  * 
  * 
  * def _make_enum(enum_name, *sequential, **named):             # <<<<<<<<<<<<<<
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum {
   PyObject_HEAD
   PyObject *__pyx_v_enums;
 };
 
 
-/* "capnp/lib/capnp.pyx":172
+/* "capnp/lib/capnp.pyx":181
  * def _make_enum(enum_name, *sequential, **named):
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())             # <<<<<<<<<<<<<<
  *     enums['reverse_mapping'] = reverse
  *     return type(enum_name, (), enums)
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr {
   PyObject_HEAD
   struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum *__pyx_outer_scope;
   PyObject *__pyx_v_key;
   PyObject *__pyx_v_value;
 };
 
 
-/* "capnp/lib/capnp.pyx":1270
+/* "capnp/lib/capnp.pyx":1307
  *         self._is_written = True
  * 
  *     async def write_async(self, _AsyncIoStream stream):             # <<<<<<<<<<<<<<
  *         """Async version of of write().
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async {
   PyObject_HEAD
   struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *__pyx_v_self;
   struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_stream;
 };
 
 
-/* "capnp/lib/capnp.pyx":1805
+/* "capnp/lib/capnp.pyx":1844
  *                           "If you have a use-case to poll the asyncio loop using poll(), please report")
  * 
  *     void setRunnable(cbool runnable) except* with gil:             # <<<<<<<<<<<<<<
  *         if runnable:
  *             assert this.runHandle is None
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable {
   PyObject_HEAD
   void *__pyx_v_us;
 };
 
 
-/* "capnp/lib/capnp.pyx":1852
+/* "capnp/lib/capnp.pyx":1901
  * 
  * @_asynccontextmanager
  * async def kj_loop():             # <<<<<<<<<<<<<<
- *     asyncio_loop = asyncio.get_running_loop()
- *     if hasattr(asyncio_loop, '_kj_loop'):
+ *     """Context manager for running the KJ event loop
+ * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop {
   PyObject_HEAD
   PyObject *__pyx_v_asyncio_loop;
   struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *__pyx_v_kj_loop;
   PyObject *__pyx_v_rpc;
   PyObject *__pyx_v_stream;
@@ -2623,20 +2624,20 @@
   char const *__pyx_t_5;
   PyObject *__pyx_t_6;
   PyObject *__pyx_t_7;
   PyObject *__pyx_t_8;
 };
 
 
-/* "capnp/lib/capnp.pyx":1878
+/* "capnp/lib/capnp.pyx":1937
  *         kj_loop.close()
  * 
  * async def run(coro):             # <<<<<<<<<<<<<<
- *     async with kj_loop():
- *         return await coro
+ *     """Ensure that the coroutine runs while the KJ event loop is running
+ * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_7_run {
   PyObject_HEAD
   PyObject *__pyx_v_coro;
   PyObject *__pyx_t_0;
   PyObject *__pyx_t_1;
   PyObject *__pyx_t_2;
@@ -2645,41 +2646,41 @@
   PyObject *__pyx_t_5;
   PyObject *__pyx_t_6;
   PyObject *__pyx_t_7;
   PyObject *__pyx_t_8;
 };
 
 
-/* "capnp/lib/capnp.pyx":1920
+/* "capnp/lib/capnp.pyx":1986
  * 
  * 
  * cdef _promise_to_asyncio(PyPromise promise):             # <<<<<<<<<<<<<<
  *     C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *     fut = asyncio.get_running_loop().create_future()
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio {
   PyObject_HEAD
   PyObject *__pyx_v_fut;
 };
 
 
-/* "capnp/lib/capnp.pyx":2346
+/* "capnp/lib/capnp.pyx":2413
  *             self.protocol.connection_lost("Stream is closing")
  * 
  *     async def wait_closed(self):             # <<<<<<<<<<<<<<
  *         return await self.protocol.closed_future
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed {
   PyObject_HEAD
   struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_self;
 };
 
 
-/* "capnp/lib/capnp.pyx":2350
+/* "capnp/lib/capnp.pyx":2417
  * 
  *     @staticmethod
  *     async def create_connection(host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection.
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection {
@@ -2690,15 +2691,15 @@
   PyObject *__pyx_v_port;
   PyObject *__pyx_v_protocol;
   struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_self;
   PyObject *__pyx_v_transport;
 };
 
 
-/* "capnp/lib/capnp.pyx":2364
+/* "capnp/lib/capnp.pyx":2431
  * 
  *     @staticmethod
  *     async def create_unix_connection(path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a Unix socket connection.
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection {
@@ -2708,15 +2709,15 @@
   PyObject *__pyx_v_path;
   PyObject *__pyx_v_protocol;
   struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_self;
   PyObject *__pyx_v_transport;
 };
 
 
-/* "capnp/lib/capnp.pyx":2386
+/* "capnp/lib/capnp.pyx":2453
  * 
  *     @staticmethod
  *     async def create_server(callback, host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection server.
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server {
@@ -2725,15 +2726,15 @@
   PyObject *__pyx_v_host;
   PyObject *__pyx_v_kwargs;
   PyObject *__pyx_v_loop;
   PyObject *__pyx_v_port;
 };
 
 
-/* "capnp/lib/capnp.pyx":2400
+/* "capnp/lib/capnp.pyx":2470
  * 
  *     @staticmethod
  *     async def create_unix_server(callback, path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a unix connection server.
  * 
  */
 struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server {
@@ -2741,260 +2742,273 @@
   PyObject *__pyx_v_callback;
   PyObject *__pyx_v_kwargs;
   PyObject *__pyx_v_loop;
   PyObject *__pyx_v_path;
 };
 
 
-/* "capnp/lib/capnp.pyx":2662
+/* "capnp/lib/capnp.pyx":2529
+ *         self.callback_arg = callback_arg
+ * 
+ *     def connection_made(self, transport):             # <<<<<<<<<<<<<<
+ *         self.transport = transport
+ * 
+ */
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made {
+  PyObject_HEAD
+  struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self;
+};
+
+
+/* "capnp/lib/capnp.pyx":2747
  *     property fieldnames:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__fieldnames is not None:
  *                 return self.__fieldnames
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ {
   PyObject_HEAD
    ::capnp::StructSchema::FieldList __pyx_v_fieldlist;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_nfields;
 };
 
 
-/* "capnp/lib/capnp.pyx":2667
+/* "capnp/lib/capnp.pyx":2752
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  *             self.__fieldnames = tuple(<char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__fieldnames
  * 
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *__pyx_outer_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *__pyx_outer_scope;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_i;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_0;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
 };
 
 
-/* "capnp/lib/capnp.pyx":2672
+/* "capnp/lib/capnp.pyx":2757
  *     property union_fields:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__union_fields is not None:
  *                 return self.__union_fields
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ {
   PyObject_HEAD
    ::capnp::StructSchema::FieldSubset __pyx_v_fieldlist;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_nfields;
 };
 
 
-/* "capnp/lib/capnp.pyx":2678
+/* "capnp/lib/capnp.pyx":2763
  *             nfields = fieldlist.size()
  *             self.__union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__union_fields
  * 
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *__pyx_outer_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *__pyx_outer_scope;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_i;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_0;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
 };
 
 
-/* "capnp/lib/capnp.pyx":2683
+/* "capnp/lib/capnp.pyx":2768
  *     property non_union_fields:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__non_union_fields is not None:
  *                 return self.__non_union_fields
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ {
   PyObject_HEAD
    ::capnp::StructSchema::FieldSubset __pyx_v_fieldlist;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_nfields;
 };
 
 
-/* "capnp/lib/capnp.pyx":2689
+/* "capnp/lib/capnp.pyx":2774
  *             nfields = fieldlist.size()
  *             self.__non_union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__non_union_fields
  * 
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *__pyx_outer_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *__pyx_outer_scope;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_i;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_0;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
 };
 
 
-/* "capnp/lib/capnp.pyx":2793
+/* "capnp/lib/capnp.pyx":2878
  *     property method_names:
  *         """A tuple of the function names in the interface."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__method_names is not None:
  *                 return self.__method_names
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ {
   PyObject_HEAD
    ::capnp::InterfaceSchema::MethodList __pyx_v_fieldlist;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_nfields;
 };
 
 
-/* "capnp/lib/capnp.pyx":2799
+/* "capnp/lib/capnp.pyx":2884
  *             nfields = fieldlist.size()
  *             self.__method_names = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__method_names
  * 
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *__pyx_outer_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *__pyx_outer_scope;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_i;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_0;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
 };
 
 
-/* "capnp/lib/capnp.pyx":2804
+/* "capnp/lib/capnp.pyx":2889
  *     property method_names_inherited:
  *         """A set of the function names in the interface, including inherited methods"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__method_names_inherited is not None:
  *                 return self.__method_names_inherited
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ {
   PyObject_HEAD
    ::capnp::InterfaceSchema::MethodList __pyx_v_fieldlist;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_nfields;
 };
 
 
-/* "capnp/lib/capnp.pyx":2811
+/* "capnp/lib/capnp.pyx":2896
  *             nfields = fieldlist.size()
  *             self.__method_names_inherited = set(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             for interface in self.superclasses:
  *                 self.__method_names_inherited |= interface.method_names_inherited
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr {
   PyObject_HEAD
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *__pyx_outer_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *__pyx_outer_scope;
   __pyx_t_5capnp_8includes_5types_uint __pyx_v_i;
 };
 
 
-/* "capnp/lib/capnp.pyx":3095
+/* "capnp/lib/capnp.pyx":3180
  *         return reader.get_root(self.schema)
  * 
  *     async def read_async(self, _AsyncIoStream stream, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Async version of read(). Returns either a message, or None in case of EOF.
  * 
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async {
   PyObject_HEAD
   PyObject *__pyx_v_nesting_limit;
    ::capnp::ReaderOptions __pyx_v_opts;
   PyObject *__pyx_v_reader;
   PyObject *__pyx_v_self;
   struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_stream;
   PyObject *__pyx_v_traversal_limit_in_words;
 };
 
 
-/* "capnp/lib/capnp.pyx":3210
+/* "capnp/lib/capnp.pyx":3295
  * 
  *     @contextlib.contextmanager
  *     def from_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None, builder=False):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object in buf.
  * 
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes {
   PyObject_HEAD
   PyObject *__pyx_v_buf;
   PyObject *__pyx_v_builder;
   struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReader *__pyx_v_message;
   PyObject *__pyx_v_nesting_limit;
   PyObject *__pyx_v_self;
   PyObject *__pyx_v_traversal_limit_in_words;
 };
 
 
-/* "capnp/lib/capnp.pyx":3387
+/* "capnp/lib/capnp.pyx":3472
  *         return ret
  * 
  *     def load(self, file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *         """Load a Cap'n Proto schema from a file
  * 
  */
-struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load {
+struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load {
   PyObject_HEAD
   PyObject *__pyx_v__load;
   struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *__pyx_v_self;
 };
 
 
 
-/* "capnp/lib/capnp.pyx":2746
+/* "capnp/lib/capnp.pyx":2831
  * 
  * 
  * cdef class _StructSchemaField:             # <<<<<<<<<<<<<<
  *     cdef _init(self, C_StructSchema.Field other, parent=None):
  *         self.thisptr = other
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *,  ::capnp::StructSchema::Field, struct __pyx_opt_args_5capnp_3lib_5capnp_18_StructSchemaField__init *__pyx_optional_args);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *__pyx_vtabptr_5capnp_3lib_5capnp__StructSchemaField;
 
 
-/* "capnp/lib/capnp.pyx":3310
+/* "capnp/lib/capnp.pyx":3395
  * 
  * 
  * cdef class _StringArrayPtr:             # <<<<<<<<<<<<<<
  *     def __cinit__(self, size_t size, parent):
  *         self.size = size
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__StringArrayPtr {
    ::kj::ArrayPtr< ::kj::StringPtr>  (*asArrayPtr)(struct __pyx_obj_5capnp_3lib_5capnp__StringArrayPtr *);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__StringArrayPtr *__pyx_vtabptr_5capnp_3lib_5capnp__StringArrayPtr;
 
 
-/* "capnp/lib/capnp.pyx":3351
+/* "capnp/lib/capnp.pyx":3436
  * 
  * 
  * cdef class SchemaParser:             # <<<<<<<<<<<<<<
  *     """A class for loading Cap'n Proto schema files.
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp_SchemaParser {
   PyObject *(*_parse_disk_file)(struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *, PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp_SchemaParser *__pyx_vtabptr_5capnp_3lib_5capnp_SchemaParser;
 
 
-/* "capnp/lib/capnp.pyx":1651
+/* "capnp/lib/capnp.pyx":1690
  * 
  * 
  * cdef class _DynamicOrphan:             # <<<<<<<<<<<<<<
  *     cdef _init(self, C_DynamicOrphan other, object parent):
  *         self.thisptr = move(other)
  */
 
@@ -3002,15 +3016,15 @@
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *,  ::capnp::Orphan< ::capnp::DynamicValue>, PyObject *);
    ::capnp::Orphan< ::capnp::DynamicValue> (*move)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *);
   PyObject *(*get)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicOrphan;
 
 
-/* "capnp/lib/capnp.pyx":1090
+/* "capnp/lib/capnp.pyx":1127
  * 
  * 
  * cdef class _DynamicStructReader:             # <<<<<<<<<<<<<<
  *     """Reads Cap'n Proto structs
  * 
  */
 
@@ -3023,15 +3037,15 @@
   PyObject *(*_get_by_field)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *, int __pyx_skip_dispatch);
   PyObject *(*_has_by_field)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *, int __pyx_skip_dispatch);
   PyObject *(*as_builder)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, int __pyx_skip_dispatch, struct __pyx_opt_args_5capnp_3lib_5capnp_20_DynamicStructReader_as_builder *__pyx_optional_args);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructReader;
 
 
-/* "capnp/lib/capnp.pyx":1212
+/* "capnp/lib/capnp.pyx":1249
  * 
  * 
  * cdef class _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *     """Builds Cap'n Proto structs
  * 
  */
 
@@ -3057,30 +3071,30 @@
   PyObject *(*disown)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*as_reader)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, int __pyx_skip_dispatch);
   PyObject *(*copy)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, int __pyx_skip_dispatch, struct __pyx_opt_args_5capnp_3lib_5capnp_21_DynamicStructBuilder_copy *__pyx_optional_args);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder;
 
 
-/* "capnp/lib/capnp.pyx":1032
+/* "capnp/lib/capnp.pyx":1069
  * 
  * 
  * cdef class _DynamicEnumField:             # <<<<<<<<<<<<<<
  *     cdef _init(self, proto):
  *         self.thisptr = proto
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnumField {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *, PyObject *);
   PyObject *(*_str)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnumField *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicEnumField;
 
 
-/* "capnp/lib/capnp.pyx":2616
+/* "capnp/lib/capnp.pyx":2701
  * 
  * 
  * cdef class _Schema:             # <<<<<<<<<<<<<<
  *     cdef _init(self, C_Schema other):
  *         self.thisptr = other
  */
 
@@ -3091,44 +3105,44 @@
   PyObject *(*as_interface)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *, int __pyx_skip_dispatch);
   PyObject *(*as_enum)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *, int __pyx_skip_dispatch);
   PyObject *(*get_proto)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema *__pyx_vtabptr_5capnp_3lib_5capnp__Schema;
 
 
-/* "capnp/lib/capnp.pyx":2786
+/* "capnp/lib/capnp.pyx":2871
  * 
  * 
  * cdef class _InterfaceSchema:             # <<<<<<<<<<<<<<
  *     cdef _init(self, C_InterfaceSchema other):
  *         self.thisptr = other
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *,  ::capnp::InterfaceSchema);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *__pyx_vtabptr_5capnp_3lib_5capnp__InterfaceSchema;
 
 
-/* "capnp/lib/capnp.pyx":989
+/* "capnp/lib/capnp.pyx":1026
  * 
  * 
  * cdef class _DynamicEnum:             # <<<<<<<<<<<<<<
  *     cdef _init(self, capnp.DynamicEnum other, object parent):
  *         self.thisptr = other
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *,  ::capnp::DynamicEnum, PyObject *);
   PyObject *(*_as_str)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicEnum;
 
 
-/* "capnp/lib/capnp.pyx":513
+/* "capnp/lib/capnp.pyx":528
  * 
  * 
  * cdef class _DynamicListBuilder:             # <<<<<<<<<<<<<<
  *     """Class for building Cap'n Proto Lists
  * 
  */
 
@@ -3139,15 +3153,15 @@
   PyObject *(*adopt)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *, struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *, int __pyx_skip_dispatch);
   PyObject *(*disown)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*init)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *, PyObject *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicListBuilder;
 
 
-/* "capnp/lib/capnp.pyx":3500
+/* "capnp/lib/capnp.pyx":3585
  * 
  * 
  * cdef class _MessageBuilder:             # <<<<<<<<<<<<<<
  *     """An abstract base class for building Cap'n Proto messages
  * 
  */
 
@@ -3172,116 +3186,116 @@
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__VoidPromiseFulfiller {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller *, ::kj::PromiseFulfiller<void> *);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__VoidPromiseFulfiller *__pyx_vtabptr_5capnp_3lib_5capnp__VoidPromiseFulfiller;
 
 
-/* "capnp/lib/capnp.pyx":187
+/* "capnp/lib/capnp.pyx":196
  * 
  * 
  * cdef class _KjExceptionWrapper:             # <<<<<<<<<<<<<<
  *     cdef capnp.Exception * thisptr
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__KjExceptionWrapper {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *,  ::kj::Exception &);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__KjExceptionWrapper *__pyx_vtabptr_5capnp_3lib_5capnp__KjExceptionWrapper;
 
 
-/* "capnp/lib/capnp.pyx":335
+/* "capnp/lib/capnp.pyx":348
  * 
  * 
  * cdef class _NodeReader:             # <<<<<<<<<<<<<<
  *     cdef C_Node.Reader thisptr
  *     cdef init(self, C_Node.Reader other):
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__NodeReader {
   PyObject *(*init)(struct __pyx_obj_5capnp_3lib_5capnp__NodeReader *,  ::capnp::schema::Node::Reader);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__NodeReader *__pyx_vtabptr_5capnp_3lib_5capnp__NodeReader;
 
 
-/* "capnp/lib/capnp.pyx":379
+/* "capnp/lib/capnp.pyx":392
  * 
  * 
  * cdef class _NestedNodeReader:             # <<<<<<<<<<<<<<
  *     cdef C_Node.NestedNode.Reader thisptr
  *     cdef init(self, C_Node.NestedNode.Reader other):
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__NestedNodeReader {
   PyObject *(*init)(struct __pyx_obj_5capnp_3lib_5capnp__NestedNodeReader *,  ::capnp::schema::Node::NestedNode::Reader);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__NestedNodeReader *__pyx_vtabptr_5capnp_3lib_5capnp__NestedNodeReader;
 
 
-/* "capnp/lib/capnp.pyx":393
+/* "capnp/lib/capnp.pyx":406
  * 
  * 
  * cdef class _DynamicListReader:             # <<<<<<<<<<<<<<
  *     """Class for reading Cap'n Proto Lists
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *,  ::capnp::DynamicList::Reader, PyObject *);
   PyObject *(*_get)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *, int64_t, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicListReader;
 
 
-/* "capnp/lib/capnp.pyx":438
+/* "capnp/lib/capnp.pyx":451
  * 
  * 
  * cdef class _DynamicResizableListBuilder:             # <<<<<<<<<<<<<<
  *     """Class for building growable Cap'n Proto Lists
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicResizableListBuilder {
   PyObject *(*add)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicResizableListBuilder *, int __pyx_skip_dispatch);
   PyObject *(*_get)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicResizableListBuilder *, PyObject *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicResizableListBuilder *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicResizableListBuilder;
 
 
-/* "capnp/lib/capnp.pyx":607
+/* "capnp/lib/capnp.pyx":622
  * 
  * 
  * cdef class _List_NestedNode_Reader:             # <<<<<<<<<<<<<<
  *     cdef C_Node.NestedNode.Reader.ListNestedNodeReader thisptr
  *     cdef _init(self, List[C_Node.NestedNode].Reader other):
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__List_NestedNode_Reader {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader *,  ::capnp::List< ::capnp::schema::Node::NestedNode> ::Reader);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__List_NestedNode_Reader *__pyx_vtabptr_5capnp_3lib_5capnp__List_NestedNode_Reader;
 
 
-/* "capnp/lib/capnp.pyx":1593
+/* "capnp/lib/capnp.pyx":1632
  * 
  * 
  * cdef class _DynamicStructPipeline:             # <<<<<<<<<<<<<<
  *     """Reads Cap'n Proto structs
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructPipeline {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *,  ::capnp::DynamicStruct::Pipeline *, PyObject *);
   PyObject *(*_get)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *, PyObject *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructPipeline *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructPipeline;
 
 
-/* "capnp/lib/capnp.pyx":1674
+/* "capnp/lib/capnp.pyx":1713
  * 
  * 
  * cdef class _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *     cdef C_DynamicObject.Reader thisptr
  *     cdef public object _parent
  */
 
@@ -3291,15 +3305,15 @@
   PyObject *(*as_interface)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*as_list)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*as_text)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectReader *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicObjectReader;
 
 
-/* "capnp/lib/capnp.pyx":1714
+/* "capnp/lib/capnp.pyx":1753
  * 
  * 
  * cdef class _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *     cdef C_DynamicObject.Builder * thisptr
  *     cdef public object _parent
  */
 
@@ -3313,15 +3327,15 @@
   PyObject *(*init_as_list)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, PyObject *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*as_text)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, int __pyx_skip_dispatch);
   PyObject *(*as_reader)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectBuilder *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicObjectBuilder;
 
 
-/* "capnp/lib/capnp.pyx":1818
+/* "capnp/lib/capnp.pyx":1867
  *         return this.kjLoop
  * 
  * cdef class _EventLoop:             # <<<<<<<<<<<<<<
  *     cdef Own[WaitScope] wait_scope
  *     cdef Own[AsyncIoEventPort] event_port
  */
 
@@ -3329,15 +3343,15 @@
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *, PyObject *);
   PyObject *(*close)(struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *);
   PyObject *(*check)(struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *__pyx_vtabptr_5capnp_3lib_5capnp__EventLoop;
 
 
-/* "capnp/lib/capnp.pyx":1892
+/* "capnp/lib/capnp.pyx":1957
  * 
  * 
  * cdef class _CallContext:             # <<<<<<<<<<<<<<
  *     cdef CallContext * thisptr
  * 
  */
 
@@ -3346,30 +3360,30 @@
   PyObject *(*_get_results)(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_5capnp_3lib_5capnp_12_CallContext__get_results *__pyx_optional_args);
   PyObject *(*release_params)(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *, int __pyx_skip_dispatch);
   PyObject *(*tail_call)(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *, struct __pyx_obj_5capnp_3lib_5capnp__Request *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__CallContext *__pyx_vtabptr_5capnp_3lib_5capnp__CallContext;
 
 
-/* "capnp/lib/capnp.pyx":1937
+/* "capnp/lib/capnp.pyx":2003
  *     return _promise_to_asyncio(helpers.convert_to_pypromise(move(promise)))
  * 
  * cdef class _Promise:             # <<<<<<<<<<<<<<
  *     cdef Own[PyPromise] thisptr
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__Promise {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__Promise *, __pyx_t_5capnp_8includes_9capnp_cpp_PyPromise);
   PyObject *(*cancel)(struct __pyx_obj_5capnp_3lib_5capnp__Promise *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__Promise *__pyx_vtabptr_5capnp_3lib_5capnp__Promise;
 
 
-/* "capnp/lib/capnp.pyx":1948
+/* "capnp/lib/capnp.pyx":2014
  * 
  * 
  * cdef class _RemotePromise:             # <<<<<<<<<<<<<<
  *     cdef object _parent
  *     """A pointer to a parent object that needs to be kept alive for this promise to function."""
  */
 
@@ -3378,15 +3392,15 @@
   void (*_check_consumed)(struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *);
   PyObject *(*_get)(struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*cancel)(struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *__pyx_vtabptr_5capnp_3lib_5capnp__RemotePromise;
 
 
-/* "capnp/lib/capnp.pyx":2010
+/* "capnp/lib/capnp.pyx":2076
  * 
  * 
  * cdef class _Request(_DynamicStructBuilder):             # <<<<<<<<<<<<<<
  *     cdef Request * thisptr_child
  *     cdef public bint is_consumed
  */
 
@@ -3394,15 +3408,15 @@
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder __pyx_base;
   PyObject *(*_init_child)(struct __pyx_obj_5capnp_3lib_5capnp__Request *,  ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct>, PyObject *);
   PyObject *(*send)(struct __pyx_obj_5capnp_3lib_5capnp__Request *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__Request *__pyx_vtabptr_5capnp_3lib_5capnp__Request;
 
 
-/* "capnp/lib/capnp.pyx":2031
+/* "capnp/lib/capnp.pyx":2097
  * 
  * 
  * cdef class _Response(_DynamicStructReader):             # <<<<<<<<<<<<<<
  *     cdef Response * thisptr_child
  * 
  */
 
@@ -3410,15 +3424,15 @@
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader __pyx_base;
   PyObject *(*_init_child)(struct __pyx_obj_5capnp_3lib_5capnp__Response *,  ::capnp::Response< ::capnp::DynamicStruct>, PyObject *);
   PyObject *(*_init_childptr)(struct __pyx_obj_5capnp_3lib_5capnp__Response *,  ::capnp::Response< ::capnp::DynamicStruct> *, PyObject *);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__Response *__pyx_vtabptr_5capnp_3lib_5capnp__Response;
 
 
-/* "capnp/lib/capnp.pyx":2050
+/* "capnp/lib/capnp.pyx":2116
  *     pass
  * 
  * cdef class _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *     cdef C_DynamicCapability.Client thisptr
  *     cdef public object _parent, _cached_schema
  */
 
@@ -3431,91 +3445,91 @@
   PyObject *(*_request_helper)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*upcast)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*cast_as)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicCapabilityClient;
 
 
-/* "capnp/lib/capnp.pyx":2175
+/* "capnp/lib/capnp.pyx":2241
  * 
  * 
  * cdef class _CapabilityClient:             # <<<<<<<<<<<<<<
  *     cdef C_Capability.Client * thisptr
  *     cdef public object _parent
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__CapabilityClient {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *,  ::capnp::Capability::Client, PyObject *);
   PyObject *(*cast_as)(struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *, PyObject *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__CapabilityClient *__pyx_vtabptr_5capnp_3lib_5capnp__CapabilityClient;
 
 
-/* "capnp/lib/capnp.pyx":2196
+/* "capnp/lib/capnp.pyx":2262
  * 
  * 
  * cdef class _TwoPartyVatNetwork:             # <<<<<<<<<<<<<<
  *     cdef Own[C_TwoPartyVatNetwork] thisptr
  *     cdef _AsyncIoStream stream
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__TwoPartyVatNetwork {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *, struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *,  ::capnp::rpc::twoparty::Side,  ::capnp::ReaderOptions);
   PyObject *(*on_disconnect)(struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__TwoPartyVatNetwork *__pyx_vtabptr_5capnp_3lib_5capnp__TwoPartyVatNetwork;
 
 
-/* "capnp/lib/capnp.pyx":2212
+/* "capnp/lib/capnp.pyx":2278
  * 
  * 
  * cdef class TwoPartyClient:             # <<<<<<<<<<<<<<
  *     """
  *     TwoPartyClient for RPC Communication
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp_TwoPartyClient {
   PyObject *(*bootstrap)(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyClient *, int __pyx_skip_dispatch);
   PyObject *(*on_disconnect)(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyClient *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp_TwoPartyClient *__pyx_vtabptr_5capnp_3lib_5capnp_TwoPartyClient;
 
 
-/* "capnp/lib/capnp.pyx":2258
+/* "capnp/lib/capnp.pyx":2324
  * 
  * 
  * cdef class TwoPartyServer:             # <<<<<<<<<<<<<<
  *     """
  *     TwoPartyServer for RPC Communication
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp_TwoPartyServer {
   PyObject *(*bootstrap)(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyServer *, int __pyx_skip_dispatch);
   PyObject *(*on_disconnect)(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyServer *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp_TwoPartyServer *__pyx_vtabptr_5capnp_3lib_5capnp_TwoPartyServer;
 
 
-/* "capnp/lib/capnp.pyx":2416
+/* "capnp/lib/capnp.pyx":2489
  *     pass
  * 
  * cdef class _PyAsyncIoStreamProtocol(DummyBaseClass, asyncio.BufferedProtocol):             # <<<<<<<<<<<<<<
- *     # TODO: Temporary. Needed due to a missing __slots__ definitions in BufferedProtocol on Python 3.7.
- *     #       See https://github.com/python/cpython/issues/79575. Can be removed once Python 3.7 is unsupported.
+ *     cdef object _task
+ * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol {
   PyObject *(*write_loop)(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *);
   PyObject *(*read_reset)(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *);
   PyObject *(*write_reset)(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_vtabptr_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol;
 
 
-/* "capnp/lib/capnp.pyx":2642
+/* "capnp/lib/capnp.pyx":2727
  * 
  * 
  * cdef class _StructSchema(_Schema):             # <<<<<<<<<<<<<<
  *     cdef C_StructSchema thisptr_child
  *     cdef object __fieldnames, __union_fields, __non_union_fields, __fields, __getters
  */
 
@@ -3523,57 +3537,57 @@
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema __pyx_base;
   PyObject *(*_init_child)(struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *,  ::capnp::StructSchema);
    ::capnp::StructSchema (*_thisptr)(struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *__pyx_vtabptr_5capnp_3lib_5capnp__StructSchema;
 
 
-/* "capnp/lib/capnp.pyx":2766
+/* "capnp/lib/capnp.pyx":2851
  * 
  * 
  * cdef class _InterfaceMethod:             # <<<<<<<<<<<<<<
  *     cdef C_InterfaceSchema.Method thisptr
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceMethod {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *,  ::capnp::InterfaceSchema::Method);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceMethod *__pyx_vtabptr_5capnp_3lib_5capnp__InterfaceMethod;
 
 
-/* "capnp/lib/capnp.pyx":2865
+/* "capnp/lib/capnp.pyx":2950
  * 
  * 
  * cdef class _EnumSchema:             # <<<<<<<<<<<<<<
  *     cdef C_EnumSchema thisptr
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__EnumSchema {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *,  ::capnp::EnumSchema);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__EnumSchema *__pyx_vtabptr_5capnp_3lib_5capnp__EnumSchema;
 
 
-/* "capnp/lib/capnp.pyx":2971
+/* "capnp/lib/capnp.pyx":3056
  * 
  * 
  * cdef class _ListSchema:             # <<<<<<<<<<<<<<
  *     cdef C_ListSchema thisptr
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__ListSchema {
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *,  ::capnp::ListSchema);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__ListSchema *__pyx_vtabptr_5capnp_3lib_5capnp__ListSchema;
 
 
-/* "capnp/lib/capnp.pyx":3016
+/* "capnp/lib/capnp.pyx":3101
  * 
  * 
  * cdef class _ParsedSchema(_Schema):             # <<<<<<<<<<<<<<
  *     cdef C_ParsedSchema thisptr_child
  *     cdef _init_child(self, C_ParsedSchema other):
  */
 
@@ -3581,174 +3595,174 @@
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema __pyx_base;
   PyObject *(*_init_child)(struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *,  ::capnp::ParsedSchema);
   PyObject *(*get_nested)(struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *, PyObject *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__ParsedSchema *__pyx_vtabptr_5capnp_3lib_5capnp__ParsedSchema;
 
 
-/* "capnp/lib/capnp.pyx":3622
+/* "capnp/lib/capnp.pyx":3707
  * 
  * 
  * cdef class _MallocMessageBuilder(_MessageBuilder):             # <<<<<<<<<<<<<<
  *     """The main class for building Cap'n Proto messages
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__MallocMessageBuilder {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageBuilder __pyx_base;
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__MallocMessageBuilder *__pyx_vtabptr_5capnp_3lib_5capnp__MallocMessageBuilder;
 
 
-/* "capnp/lib/capnp.pyx":3644
+/* "capnp/lib/capnp.pyx":3729
  * 
  * 
  * cdef class _MessageReader:             # <<<<<<<<<<<<<<
  *     """An abstract base class for reading Cap'n Proto messages
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader {
   PyObject *(*get_root)(struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *, PyObject *, int __pyx_skip_dispatch);
   PyObject *(*get_root_as_any)(struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *, int __pyx_skip_dispatch);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
 
 
-/* "capnp/lib/capnp.pyx":3690
+/* "capnp/lib/capnp.pyx":3775
  * 
  * 
  * cdef class _StreamFdMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a file descriptor
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__StreamFdMessageReader {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__StreamFdMessageReader *__pyx_vtabptr_5capnp_3lib_5capnp__StreamFdMessageReader;
 
 
-/* "capnp/lib/capnp.pyx":3713
+/* "capnp/lib/capnp.pyx":3800
  * 
  * 
  * cdef class _PackedMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a file descriptor in a packed manner
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReader {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *,  ::kj::BufferedInputStream &, struct __pyx_opt_args_5capnp_3lib_5capnp_20_PackedMessageReader__init *__pyx_optional_args);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReader *__pyx_vtabptr_5capnp_3lib_5capnp__PackedMessageReader;
 
 
-/* "capnp/lib/capnp.pyx":3742
+/* "capnp/lib/capnp.pyx":3829
  * 
  * 
  * cdef class _PackedMessageReaderBytes(_MessageReader):             # <<<<<<<<<<<<<<
  *     cdef schema_cpp.ArrayInputStream * stream
  *     cdef Py_buffer view
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReaderBytes {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReaderBytes *__pyx_vtabptr_5capnp_3lib_5capnp__PackedMessageReaderBytes;
 
 
-/* "capnp/lib/capnp.pyx":3764
+/* "capnp/lib/capnp.pyx":3851
  * 
  * 
  * cdef class _InputMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a file descriptor in a packed manner
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__InputMessageReader {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader *,  ::kj::BufferedInputStream &, struct __pyx_opt_args_5capnp_3lib_5capnp_19_InputMessageReader__init *__pyx_optional_args);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__InputMessageReader *__pyx_vtabptr_5capnp_3lib_5capnp__InputMessageReader;
 
 
-/* "capnp/lib/capnp.pyx":3793
+/* "capnp/lib/capnp.pyx":3880
  * 
  * 
  * cdef class _PackedFdMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a file descriptor in a packed manner
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedFdMessageReader {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedFdMessageReader *__pyx_vtabptr_5capnp_3lib_5capnp__PackedFdMessageReader;
 
 
-/* "capnp/lib/capnp.pyx":3815
+/* "capnp/lib/capnp.pyx":3904
  *         del self.thisptr
  * 
  * cdef class _AsyncMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     """Read a Cap'n Proto message from a AsyncIoStream class.
  * 
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__AsyncMessageReader {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__AsyncMessageReader *,  ::kj::Own< ::capnp::MessageReader> );
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__AsyncMessageReader *__pyx_vtabptr_5capnp_3lib_5capnp__AsyncMessageReader;
 
 
-/* "capnp/lib/capnp.pyx":4047
+/* "capnp/lib/capnp.pyx":4136
  * 
  * @cython.internal
  * cdef class _FlatArrayMessageReaderAligned(_MessageReader):             # <<<<<<<<<<<<<<
  *     """
  *     Creates a reader based on a contiguous block of memory
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
   PyObject *(*_init)(struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *, PyObject *, char const *, Py_ssize_t, struct __pyx_opt_args_5capnp_3lib_5capnp_30_FlatArrayMessageReaderAligned__init *__pyx_optional_args);
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *__pyx_vtabptr_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned;
 
 
-/* "capnp/lib/capnp.pyx":4078
+/* "capnp/lib/capnp.pyx":4167
  * 
  * @cython.internal
  * cdef class _FlatArrayMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  *     cdef object _object_to_pin
  *     cdef _BufferView _buffer_view
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReader {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReader *__pyx_vtabptr_5capnp_3lib_5capnp__FlatArrayMessageReader;
 
 
-/* "capnp/lib/capnp.pyx":4122
+/* "capnp/lib/capnp.pyx":4211
  * 
  * @cython.internal
  * cdef class _SegmentArrayMessageReader(_MessageReader):             # <<<<<<<<<<<<<<
  * 
  *     cdef object _objects_to_pin
  */
 
 struct __pyx_vtabstruct_5capnp_3lib_5capnp__SegmentArrayMessageReader {
   struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageReader __pyx_base;
 };
 static struct __pyx_vtabstruct_5capnp_3lib_5capnp__SegmentArrayMessageReader *__pyx_vtabptr_5capnp_3lib_5capnp__SegmentArrayMessageReader;
 
 
-/* "capnp/lib/capnp.pyx":4163
+/* "capnp/lib/capnp.pyx":4252
  * 
  * @cython.internal
  * cdef class _FlatMessageBuilder(_MessageBuilder):             # <<<<<<<<<<<<<<
  *     cdef object _object_to_pin
  *     cdef Py_buffer view
  */
 
@@ -4575,16 +4589,21 @@
 
 /* append.proto */
 static CYTHON_INLINE int __Pyx_PyObject_Append(PyObject* L, PyObject* x);
 
 /* ModInt[Py_ssize_t].proto */
 static CYTHON_INLINE Py_ssize_t __Pyx_mod_Py_ssize_t(Py_ssize_t, Py_ssize_t);
 
-/* None.proto */
-static CYTHON_INLINE void __Pyx_RaiseUnboundLocalError(const char *varname);
+/* set_iter.proto */
+static CYTHON_INLINE PyObject* __Pyx_set_iterator(PyObject* iterable, int is_set,
+                                                  Py_ssize_t* p_orig_length, int* p_source_is_set);
+static CYTHON_INLINE int __Pyx_set_iter_next(
+        PyObject* iter_obj, Py_ssize_t orig_length,
+        Py_ssize_t* ppos, PyObject **value,
+        int source_is_set);
 
 /* Import.proto */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);
 
 /* ImportFrom.proto */
 static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name);
 
@@ -5222,27 +5241,28 @@
 static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_7_run = 0;
 static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio = 0;
 static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed = 0;
 static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection = 0;
 static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection = 0;
 static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server = 0;
 static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes = 0;
-static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_26_load = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes = 0;
+static PyTypeObject *__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_27_load = 0;
 static PyObject *__pyx_v_5capnp_3lib_5capnp__type_registry = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__void = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__bool = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__int8 = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__int16 = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__int32 = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__int64 = 0;
@@ -5252,14 +5272,15 @@
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__uint64 = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__float32 = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__float64 = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__text = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__data = 0;
 static struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *__pyx_v_5capnp_3lib_5capnp__any_pointer = 0;
 static PyObject *__pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x;
+static void __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(void); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp_to_python_reader( ::capnp::DynamicValue::Reader, PyObject *); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp_to_python_builder( ::capnp::DynamicValue::Builder, PyObject *); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp__to_dict(PyObject *, int, int); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp__from_list(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp__from_tuple(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp__setDynamicFieldWithField( ::capnp::DynamicStruct::Builder, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *, PyObject *, PyObject *); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp_wrap_dynamic_struct_reader( ::capnp::Response< ::capnp::DynamicStruct> &); /*proto*/
@@ -5269,14 +5290,16 @@
 static PyObject *__pyx_f_5capnp_3lib_5capnp_get_exception_info(PyObject *, PyObject *, PyObject *); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp__find_field_order(PyObject *); /*proto*/
 static void __pyx_f_5capnp_3lib_5capnp_promise_task_add_done_callback(PyObject *, PyObject *, ::kj::PromiseFulfiller<void> &); /*proto*/
 static void __pyx_f_5capnp_3lib_5capnp_promise_task_cancel(PyObject *); /*proto*/
 static  ::capnp::ReaderOptions __pyx_f_5capnp_3lib_5capnp_make_reader_opts(PyObject *, PyObject *); /*proto*/
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_builder(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *); /*proto*/
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_reader(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *); /*proto*/
+static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_builder(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *); /*proto*/
+static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_reader(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *); /*proto*/
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_client(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *); /*proto*/
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_server(PyObject *); /*proto*/
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_enum(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *); /*proto*/
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_any_pointer(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *); /*proto*/
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_any_pointer_builder(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp__setBytesField( ::capnp::DynamicStruct::Builder, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *, PyObject *); /*proto*/
 static PyObject *__pyx_f_5capnp_3lib_5capnp__setBaseStringField( ::capnp::DynamicStruct::Builder, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *, PyObject *); /*proto*/
@@ -5322,15 +5345,14 @@
 static PyObject *__pyx_builtin_IndexError;
 static PyObject *__pyx_builtin_enumerate;
 static PyObject *__pyx_builtin_RuntimeError;
 static PyObject *__pyx_builtin_xrange;
 static PyObject *__pyx_builtin_NotImplementedError;
 static PyObject *__pyx_builtin_IOError;
 static PyObject *__pyx_builtin_StopIteration;
-static PyObject *__pyx_builtin_NameError;
 static PyObject *__pyx_builtin_MemoryError;
 static const char __pyx_k_r[] = "r";
 static const char __pyx_k_w[] = "w";
 static const char __pyx_k__3[] = "";
 static const char __pyx_k__8[] = ":";
 static const char __pyx_k_eq[] = "__eq__";
 static const char __pyx_k_fd[] = "fd";
@@ -5366,19 +5388,18 @@
 static const char __pyx_k_Data[] = "Data";
 static const char __pyx_k_Enum[] = "Enum";
 static const char __pyx_k_Int8[] = "Int8";
 static const char __pyx_k_PyPy[] = "PyPy";
 static const char __pyx_k_Text[] = "Text";
 static const char __pyx_k_Type[] = "_Type";
 static const char __pyx_k_Void[] = "Void";
-static const char __pyx_k__150[] = ".";
-static const char __pyx_k__151[] = "_";
-static const char __pyx_k__152[] = "-";
-static const char __pyx_k__154[] = " ";
-static const char __pyx_k__157[] = "..";
+static const char __pyx_k__152[] = ".";
+static const char __pyx_k__153[] = "_";
+static const char __pyx_k__154[] = "-";
+static const char __pyx_k__156[] = " ";
 static const char __pyx_k_args[] = "args";
 static const char __pyx_k_base[] = "__base__";
 static const char __pyx_k_call[] = "__call__";
 static const char __pyx_k_copy[] = "copy";
 static const char __pyx_k_coro[] = "coro";
 static const char __pyx_k_data[] = "data";
 static const char __pyx_k_dict[] = "__dict__";
@@ -5477,15 +5498,14 @@
 static const char __pyx_k_fileno[] = "fileno";
 static const char __pyx_k_format[] = "format";
 static const char __pyx_k_gather[] = "gather";
 static const char __pyx_k_getcwd[] = "getcwd";
 static const char __pyx_k_import[] = "__import__";
 static const char __pyx_k_init_2[] = "__init__";
 static const char __pyx_k_isEnum[] = "isEnum";
-static const char __pyx_k_is_abs[] = "is_abs";
 static const char __pyx_k_isfile[] = "isfile";
 static const char __pyx_k_kwargs[] = "kwargs";
 static const char __pyx_k_load_2[] = "load";
 static const char __pyx_k_module[] = "module";
 static const char __pyx_k_name_2[] = "__name__";
 static const char __pyx_k_nature[] = "nature";
 static const char __pyx_k_object[] = "object";
@@ -5505,15 +5525,14 @@
 static const char __pyx_k_send_2[] = "_send";
 static const char __pyx_k_server[] = "server";
 static const char __pyx_k_socket[] = "socket";
 static const char __pyx_k_sorted[] = "sorted";
 static const char __pyx_k_stream[] = "stream";
 static const char __pyx_k_struct[] = "struct";
 static const char __pyx_k_target[] = "target";
-static const char __pyx_k_task_2[] = "_task";
 static const char __pyx_k_type_2[] = "_type";
 static const char __pyx_k_upcast[] = "upcast";
 static const char __pyx_k_update[] = "update";
 static const char __pyx_k_values[] = "values";
 static const char __pyx_k_writer[] = "writer";
 static const char __pyx_k_xrange[] = "xrange";
 static const char __pyx_k_Builder[] = "Builder";
@@ -5527,24 +5546,25 @@
 static const char __pyx_k_arg_val[] = "arg_val";
 static const char __pyx_k_as_enum[] = "as_enum";
 static const char __pyx_k_as_list[] = "as_list";
 static const char __pyx_k_as_text[] = "as_text";
 static const char __pyx_k_asyncio[] = "asyncio";
 static const char __pyx_k_builder[] = "builder";
 static const char __pyx_k_capnp_2[] = "_capnp";
+static const char __pyx_k_capnp_3[] = "capnp.";
+static const char __pyx_k_capnp_4[] = "/capnp";
 static const char __pyx_k_cast_as[] = "cast_as";
 static const char __pyx_k_connect[] = "_connect";
 static const char __pyx_k_context[] = "context";
 static const char __pyx_k_dirname[] = "dirname";
 static const char __pyx_k_disable[] = "disable";
 static const char __pyx_k_genexpr[] = "genexpr";
 static const char __pyx_k_imports[] = "imports";
 static const char __pyx_k_inspect[] = "inspect";
 static const char __pyx_k_isConst[] = "isConst";
-static const char __pyx_k_is_file[] = "is_file";
 static const char __pyx_k_kj_loop[] = "kj_loop";
 static const char __pyx_k_mapping[] = "mapping";
 static const char __pyx_k_message[] = "message";
 static const char __pyx_k_modules[] = "modules";
 static const char __pyx_k_ordered[] = "ordered";
 static const char __pyx_k_partial[] = "_partial";
 static const char __pyx_k_prepare[] = "__prepare__";
@@ -5561,18 +5581,16 @@
 static const char __pyx_k_wrapper[] = "wrapper";
 static const char __pyx_k_Importer[] = "_Importer";
 static const char __pyx_k_Response[] = "_Response";
 static const char __pyx_k_Server_2[] = "Server";
 static const char __pyx_k_arg_name[] = "arg_name";
 static const char __pyx_k_basename[] = "basename";
 static const char __pyx_k_callback[] = "callback";
-static const char __pyx_k_dir_name[] = "dir_name";
 static const char __pyx_k_diskPath[] = "diskPath";
 static const char __pyx_k_endswith[] = "endswith";
-static const char __pyx_k_exc_info[] = "exc_info";
 static const char __pyx_k_finalize[] = "finalize";
 static const char __pyx_k_fullname[] = "fullname";
 static const char __pyx_k_get_root[] = "get_root";
 static const char __pyx_k_getstate[] = "__getstate__";
 static const char __pyx_k_importer[] = "_importer";
 static const char __pyx_k_isStruct[] = "isStruct";
 static const char __pyx_k_module_2[] = "__module__";
@@ -5588,39 +5606,36 @@
 static const char __pyx_k_set_root[] = "set_root";
 static const char __pyx_k_setstate[] = "__setstate__";
 static const char __pyx_k_socket_2[] = "_socket";
 static const char __pyx_k_tb_frame[] = "tb_frame";
 static const char __pyx_k_to_bytes[] = "to_bytes";
 static const char __pyx_k_warnings[] = "_warnings";
 static const char __pyx_k_EventLoop[] = "_EventLoop";
-static const char __pyx_k_NameError[] = "NameError";
 static const char __pyx_k_TypeError[] = "TypeError";
 static const char __pyx_k_as_reader[] = "as_reader";
 static const char __pyx_k_as_struct[] = "as_struct";
 static const char __pyx_k_bootstrap[] = "bootstrap";
 static const char __pyx_k_call_soon[] = "call_soon";
 static const char __pyx_k_cancelled[] = "cancelled";
 static const char __pyx_k_cap_count[] = "cap_count";
 static const char __pyx_k_codeOrder[] = "codeOrder";
 static const char __pyx_k_context_2[] = "_context";
 static const char __pyx_k_enum_name[] = "enum_name";
 static const char __pyx_k_enumerate[] = "enumerate";
 static const char __pyx_k_exception[] = "exception";
-static const char __pyx_k_extension[] = "extension";
 static const char __pyx_k_file_name[] = "file_name";
 static const char __pyx_k_find_spec[] = "find_spec";
 static const char __pyx_k_from_dict[] = "from_dict";
 static const char __pyx_k_fulfiller[] = "fulfiller";
 static const char __pyx_k_functools[] = "functools";
 static const char __pyx_k_get_proto[] = "get_proto";
 static const char __pyx_k_init_root[] = "init_root";
 static const char __pyx_k_inspect_2[] = "_inspect";
 static const char __pyx_k_isenabled[] = "isenabled";
 static const char __pyx_k_iteritems[] = "iteritems";
-static const char __pyx_k_join_path[] = "join_path";
 static const char __pyx_k_kj_loop_2[] = "_kj_loop";
 static const char __pyx_k_kjpromise[] = "kjpromise";
 static const char __pyx_k_make_enum[] = "_make_enum";
 static const char __pyx_k_meta_path[] = "meta_path";
 static const char __pyx_k_metaclass[] = "__metaclass__";
 static const char __pyx_k_mod_parts[] = "mod_parts";
 static const char __pyx_k_nodeProto[] = "_nodeProto";
@@ -5667,33 +5682,34 @@
 static const char __pyx_k_pyx_result[] = "__pyx_result";
 static const char __pyx_k_pyx_vtable[] = "__pyx_vtable__";
 static const char __pyx_k_raw_schema[] = "raw_schema";
 static const char __pyx_k_read_async[] = "read_async";
 static const char __pyx_k_s_reader_s[] = "<%s reader %s>";
 static const char __pyx_k_sequential[] = "sequential";
 static const char __pyx_k_set_result[] = "set_result";
+static const char __pyx_k_startswith[] = "startswith";
 static const char __pyx_k_sub_module[] = "sub_module";
 static const char __pyx_k_subversion[] = "subversion";
 static const char __pyx_k_total_size[] = "total_size";
 static const char __pyx_k_warnings_2[] = "warnings";
 static const char __pyx_k_word_count[] = "word_count";
 static const char __pyx_k_CallContext[] = "_CallContext";
 static const char __pyx_k_DynamicEnum[] = "_DynamicEnum";
 static const char __pyx_k_KjException[] = "KjException";
 static const char __pyx_k_MemoryError[] = "MemoryError";
 static const char __pyx_k_MessageSize[] = "_MessageSize";
 static const char __pyx_k_OrderedDict[] = "OrderedDict";
 static const char __pyx_k_PickleError[] = "PickleError";
+static const char __pyx_k_capnp_paths[] = "_capnp_paths";
 static const char __pyx_k_capnp_types[] = "capnp.types";
 static const char __pyx_k_co_filename[] = "co_filename";
 static const char __pyx_k_collections[] = "_collections";
 static const char __pyx_k_create_task[] = "create_task";
 static const char __pyx_k_description[] = "description";
 static const char __pyx_k_displayName[] = "displayName";
-static const char __pyx_k_extra_paths[] = "extra_paths";
 static const char __pyx_k_fields_list[] = "fields_list";
 static const char __pyx_k_fulfiller_2[] = "_fulfiller";
 static const char __pyx_k_get_results[] = "_get_results";
 static const char __pyx_k_has_no_such[] = "has no such";
 static const char __pyx_k_isInterface[] = "isInterface";
 static const char __pyx_k_iscoroutine[] = "iscoroutine";
 static const char __pyx_k_load_module[] = "load_module";
@@ -5787,38 +5803,35 @@
 static const char __pyx_k_as_const_value[] = "as_const_value";
 static const char __pyx_k_contextmanager[] = "contextmanager";
 static const char __pyx_k_init_capnp_api[] = "_init_capnp_api";
 static const char __pyx_k_release_params[] = "release_params";
 static const char __pyx_k_request_helper[] = "_request_helper";
 static const char __pyx_k_resume_reading[] = "resume_reading";
 static const char __pyx_k_struct_reducer[] = "_struct_reducer";
-static const char __pyx_k_this_file_path[] = "this_file_path";
-static const char __pyx_k_Importer___init[] = "_Importer.__init__";
+static const char __pyx_k_with_traceback[] = "with_traceback";
 static const char __pyx_k_InterfaceMethod[] = "_InterfaceMethod";
 static const char __pyx_k_InterfaceModule[] = "_InterfaceModule";
 static const char __pyx_k_InterfaceSchema[] = "_InterfaceSchema";
 static const char __pyx_k_Member_was_null[] = "Member was null.";
 static const char __pyx_k_add_import_hook[] = "add_import_hook";
 static const char __pyx_k_capnp_lib_capnp[] = "capnp.lib.capnp";
 static const char __pyx_k_connection_lost[] = "connection_lost";
 static const char __pyx_k_get_root_as_any[] = "get_root_as_any";
-static const char __pyx_k_has_underscores[] = "has_underscores";
 static const char __pyx_k_parse_disk_file[] = "_parse_disk_file";
 static const char __pyx_k_pyx_PickleError[] = "__pyx_PickleError";
 static const char __pyx_k_reverse_mapping[] = "reverse_mapping";
 static const char __pyx_k_setstate_cython[] = "__setstate_cython__";
 static const char __pyx_k_to_bytes_packed[] = "to_bytes_packed";
 static const char __pyx_k_BufferedProtocol[] = "BufferedProtocol";
 static const char __pyx_k_CapabilityClient[] = "_CapabilityClient";
 static const char __pyx_k_DynamicEnumField[] = "_DynamicEnumField";
 static const char __pyx_k_KjException_file[] = "KjException.file";
 static const char __pyx_k_KjException_line[] = "KjException.line";
 static const char __pyx_k_KjException_type[] = "KjException.type";
 static const char __pyx_k_NestedNodeReader[] = "_NestedNodeReader";
-static const char __pyx_k_additional_paths[] = "additional_paths";
 static const char __pyx_k_find_method_args[] = "_find_method_args";
 static const char __pyx_k_format_exception[] = "format_exception";
 static const char __pyx_k_get_running_loop[] = "get_running_loop";
 static const char __pyx_k_non_union_fields[] = "non_union_fields";
 static const char __pyx_k_DynamicListReader[] = "_DynamicListReader";
 static const char __pyx_k_EnumModule___init[] = "_EnumModule.__init__";
 static const char __pyx_k_KjException___str[] = "KjException.__str__";
@@ -5831,25 +5844,25 @@
 static const char __pyx_k_create_connection[] = "create_connection";
 static const char __pyx_k_discriminantCount[] = "discriminantCount";
 static const char __pyx_k_discriminantValue[] = "discriminantValue";
 static const char __pyx_k_from_bytes_packed[] = "from_bytes_packed";
 static const char __pyx_k_load_locals__load[] = "load.<locals>._load";
 static const char __pyx_k_methods_inherited[] = "methods_inherited";
 static const char __pyx_k_return_exceptions[] = "return_exceptions";
-static const char __pyx_k_usr_include_capnp[] = "/usr/include/capnp";
 static const char __pyx_k_usr_local_include[] = "/usr/local/include";
 static const char __pyx_k_AsyncMessageReader[] = "_AsyncMessageReader";
 static const char __pyx_k_DynamicListBuilder[] = "_DynamicListBuilder";
 static const char __pyx_k_Importer_find_spec[] = "_Importer.find_spec";
 static const char __pyx_k_InputMessageReader[] = "_InputMessageReader";
 static const char __pyx_k_KjExceptionWrapper[] = "_KjExceptionWrapper";
 static const char __pyx_k_KjException___init[] = "KjException.__init__";
 static const char __pyx_k_Loader_load_module[] = "_Loader.load_module";
 static const char __pyx_k_TwoPartyVatNetwork[] = "_TwoPartyVatNetwork";
 static const char __pyx_k_asyncio_coroutines[] = "asyncio.coroutines";
+static const char __pyx_k_capnp_module_names[] = "capnp_module_names";
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
 static const char __pyx_k_connected_callback[] = "connected_callback";
 static const char __pyx_k_create_unix_server[] = "create_unix_server";
 static const char __pyx_k_field_schema_for_s[] = "<field schema for %s>";
 static const char __pyx_k_remove_import_hook[] = "remove_import_hook";
 static const char __pyx_k_CAPNP_VERSION_MAJOR[] = "_CAPNP_VERSION_MAJOR";
 static const char __pyx_k_CAPNP_VERSION_MICRO[] = "_CAPNP_VERSION_MICRO";
@@ -5863,14 +5876,15 @@
 static const char __pyx_k_StructModule___init[] = "_StructModule.__init__";
 static const char __pyx_k_Unknown_schema_type[] = "Unknown schema type";
 static const char __pyx_k_asynccontextmanager[] = "asynccontextmanager";
 static const char __pyx_k_capnp_lib_capnp_pyx[] = "capnp/lib/capnp.pyx";
 static const char __pyx_k_capnp_list_reader_s[] = "<capnp list reader %s>";
 static const char __pyx_k_importlib_machinery[] = "importlib.machinery";
 static const char __pyx_k_init_resizable_list[] = "init_resizable_list";
+static const char __pyx_k_raised_an_exception[] = " raised an exception";
 static const char __pyx_k_read_multiple_bytes[] = "read_multiple_bytes";
 static const char __pyx_k_write_message_to_fd[] = "_write_message_to_fd";
 static const char __pyx_k_DynamicObjectBuilder[] = "_DynamicObjectBuilder";
 static const char __pyx_k_DynamicStructBuilder[] = "_DynamicStructBuilder";
 static const char __pyx_k_MallocMessageBuilder[] = "_MallocMessageBuilder";
 static const char __pyx_k_VoidPromiseFulfiller[] = "_VoidPromiseFulfiller";
 static const char __pyx_k_capnp_list_builder_s[] = "<capnp list builder %s>";
@@ -5888,34 +5902,33 @@
 static const char __pyx_k_asynccontextmanager_2[] = "_asynccontextmanager";
 static const char __pyx_k_InterfaceModule___init[] = "_InterfaceModule.__init__";
 static const char __pyx_k_KjException__to_python[] = "KjException._to_python";
 static const char __pyx_k_List_NestedNode_Reader[] = "_List_NestedNode_Reader";
 static const char __pyx_k_Schema_type_is_unknown[] = "Schema type is unknown";
 static const char __pyx_k_Server_task_for_method[] = "Server task for method ";
 static const char __pyx_k_StructModuleWhich___eq[] = "_StructModuleWhich.__eq__";
+static const char __pyx_k_call_exception_handler[] = "call_exception_handler";
 static const char __pyx_k_create_unix_connection[] = "create_unix_connection";
 static const char __pyx_k_method_names_inherited[] = "method_names_inherited";
 static const char __pyx_k_to_bytes_packed_helper[] = "_to_bytes_packed_helper";
+static const char __pyx_k_Cancelled_server_method[] = "Cancelled server method ";
 static const char __pyx_k_DynamicCapabilityClient[] = "_DynamicCapabilityClient";
 static const char __pyx_k_DynamicCapabilityServer[] = "_DynamicCapabilityServer";
 static const char __pyx_k_KjException_description[] = "KjException.description";
 static const char __pyx_k_PyAsyncIoStreamProtocol[] = "_PyAsyncIoStreamProtocol";
 static const char __pyx_k_StructModule_from_bytes[] = "_StructModule.from_bytes";
 static const char __pyx_k_StructModule_read_async[] = "_StructModule.read_async";
 static const char __pyx_k_get_segments_for_output[] = "get_segments_for_output";
 static const char __pyx_k_message_to_packed_bytes[] = "_message_to_packed_bytes";
 static const char __pyx_k_num_first_segment_words[] = "num_first_segment_words";
-static const char __pyx_k_usr_local_include_capnp[] = "/usr/local/include/capnp";
 static const char __pyx_k_void_task_done_callback[] = "void_task_done_callback";
 static const char __pyx_k_Method_named_s_not_found[] = "Method named %s not found.";
 static const char __pyx_k_PackedMessageReaderBytes[] = "_PackedMessageReaderBytes";
 static const char __pyx_k_StructModule_new_message[] = "_StructModule.new_message";
 static const char __pyx_k_StructModule_read_packed[] = "_StructModule.read_packed";
-static const char __pyx_k_capnp_module_name_dashes[] = "capnp_module_name_dashes";
-static const char __pyx_k_capnp_module_name_spaces[] = "capnp_module_name_spaces";
 static const char __pyx_k_make_enum_locals_genexpr[] = "_make_enum.<locals>.genexpr";
 static const char __pyx_k_traversal_limit_in_words[] = "traversal_limit_in_words";
 static const char __pyx_k_using_wait_please_report[] = "using wait(), please report";
 static const char __pyx_k_AsyncIoStream_wait_closed[] = "_AsyncIoStream.wait_closed";
 static const char __pyx_k_could_not_get_read_buffer[] = "could not get read buffer";
 static const char __pyx_k_pyx_unpickle__MessageSize[] = "__pyx_unpickle__MessageSize";
 static const char __pyx_k_setRunnable_locals_lambda[] = "setRunnable.<locals>.<lambda>";
@@ -5925,14 +5938,15 @@
 static const char __pyx_k_StructModule_read_multiple[] = "_StructModule.read_multiple";
 static const char __pyx_k_read_multiple_bytes_packed[] = "read_multiple_bytes_packed";
 static const char __pyx_k_write_packed_message_to_fd[] = "_write_packed_message_to_fd";
 static const char __pyx_k_AsyncIoStream_create_server[] = "_AsyncIoStream.create_server";
 static const char __pyx_k_DynamicResizableListBuilder[] = "_DynamicResizableListBuilder";
 static const char __pyx_k_InterfaceModule__new_client[] = "_InterfaceModule._new_client";
 static const char __pyx_k_MultiplePackedMessageReader[] = "_MultiplePackedMessageReader";
+static const char __pyx_k_connection_made_locals_done[] = "connection_made.<locals>.done";
 static const char __pyx_k_create_server_locals_lambda[] = "create_server.<locals>.<lambda>";
 static const char __pyx_k_expected_isSetInUnion_field[] = "expected isSetInUnion(field)";
 static const char __pyx_k_invalid_module_expected_got[] = "invalid module, expected {}, got {}";
 static const char __pyx_k_pyx_unpickle_DummyBaseClass[] = "__pyx_unpickle_DummyBaseClass";
 static const char __pyx_k_File_does_not_end_with_capnp[] = "File does not end with .capnp, {}";
 static const char __pyx_k_cleanup_global_schema_parser[] = "cleanup_global_schema_parser";
 static const char __pyx_k_StructABCMeta___instancecheck[] = "_StructABCMeta.__instancecheck__";
@@ -5972,14 +5986,15 @@
 static const char __pyx_k_Argument_socket_should_be_a_Asyn[] = "Argument socket should be a AsyncIoStream, was ";
 static const char __pyx_k_Attempted_to_call_which_on_a_non[] = "Attempted to call which on a non-union type";
 static const char __pyx_k_Cannot_call_method_with_position[] = "Cannot call method `{}` with positional args, since its param struct is not implicitly defined and thus does not have a set order of arguments";
 static const char __pyx_k_Cannot_convert_type_to_Python_Ty[] = "Cannot convert type to Python. Type is unknown by capnproto library";
 static const char __pyx_k_Couldn_t_determine_python_except[] = "Couldn't determine python exception";
 static const char __pyx_k_Currently_you_cannot_poll_promis[] = "Currently you cannot poll promises while pycapnp is running in asyncio mode. ";
 static const char __pyx_k_Currently_you_cannot_wait_for_pr[] = "Currently you cannot wait for promises while pycapnp is running in asyncio mode. ";
+static const char __pyx_k_Exception_in_pycapnp_server_call[] = "Exception in pycapnp server callback";
 static const char __pyx_k_If_you_have_a_use_case_to_poll_t[] = "If you have a use-case to poll the asyncio loop using poll(), please report";
 static const char __pyx_k_Incompatible_checksums_0x_x_vs_0[] = "Incompatible checksums (0x%x vs (0x49eb231, 0x3ff2cd3, 0xe658944) = (_field, _list, _message, _parent, _schema))";
 static const char __pyx_k_Invalid_buffer_passed_to_BufferV[] = "Invalid buffer passed to BufferView";
 static const char __pyx_k_Promise_was_already_used_in_a_co[] = "Promise was already used in a consuming operation. You can no longer use this Promise object";
 static const char __pyx_k_Request_has_already_been_sent_Yo[] = "Request has already been sent. You can only send a request once.";
 static const char __pyx_k_Server_function_is_not_a_corouti[] = "Server function ({}) is not a coroutine";
 static const char __pyx_k_Someone_meddled_with_the_KJ_even[] = "Someone meddled with the KJ event loop!";
@@ -6034,14 +6049,15 @@
 static PyObject *__pyx_n_s_BufferedProtocol;
 static PyObject *__pyx_n_s_Builder;
 static PyObject *__pyx_n_s_CAPNP_VERSION;
 static PyObject *__pyx_n_s_CAPNP_VERSION_MAJOR;
 static PyObject *__pyx_n_s_CAPNP_VERSION_MICRO;
 static PyObject *__pyx_n_s_CAPNP_VERSION_MINOR;
 static PyObject *__pyx_n_s_CallContext;
+static PyObject *__pyx_kp_u_Cancelled_server_method;
 static PyObject *__pyx_kp_s_Cannot_call_method_with_position;
 static PyObject *__pyx_kp_s_Cannot_convert_type_to_Python_Ty;
 static PyObject *__pyx_kp_s_Cannot_convert_type_to_Python_Ty_2;
 static PyObject *__pyx_n_s_CapabilityClient;
 static PyObject *__pyx_kp_b_Couldn_t_determine_python_except;
 static PyObject *__pyx_kp_s_Currently_you_cannot_poll_promis;
 static PyObject *__pyx_kp_s_Currently_you_cannot_wait_for_pr;
@@ -6064,23 +6080,23 @@
 static PyObject *__pyx_n_s_DynamicStructReader;
 static PyObject *__pyx_n_s_EOF;
 static PyObject *__pyx_n_s_Enum;
 static PyObject *__pyx_n_s_EnumModule;
 static PyObject *__pyx_n_s_EnumModule___init;
 static PyObject *__pyx_n_s_EnumSchema;
 static PyObject *__pyx_n_s_EventLoop;
+static PyObject *__pyx_kp_s_Exception_in_pycapnp_server_call;
 static PyObject *__pyx_n_s_FAILED;
 static PyObject *__pyx_kp_s_File_does_not_end_with_capnp;
 static PyObject *__pyx_kp_s_File_not_found;
 static PyObject *__pyx_n_s_Float32;
 static PyObject *__pyx_n_s_Float64;
 static PyObject *__pyx_n_s_IOError;
 static PyObject *__pyx_kp_s_If_you_have_a_use_case_to_poll_t;
 static PyObject *__pyx_n_s_Importer;
-static PyObject *__pyx_n_s_Importer___init;
 static PyObject *__pyx_n_s_Importer_find_spec;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_2;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_3;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_4;
 static PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_5;
 static PyObject *__pyx_n_s_IndexError;
@@ -6123,15 +6139,14 @@
 static PyObject *__pyx_n_s_ModuleSpec;
 static PyObject *__pyx_n_s_ModuleType;
 static PyObject *__pyx_n_s_ModuleType_2;
 static PyObject *__pyx_n_s_MultipleBytesMessageReader;
 static PyObject *__pyx_n_s_MultipleBytesPackedMessageReade;
 static PyObject *__pyx_n_s_MultipleMessageReader;
 static PyObject *__pyx_n_s_MultiplePackedMessageReader;
-static PyObject *__pyx_n_s_NameError;
 static PyObject *__pyx_n_s_NestedNodeReader;
 static PyObject *__pyx_n_s_NodeReader;
 static PyObject *__pyx_n_s_NotImplementedError;
 static PyObject *__pyx_n_s_OTHER;
 static PyObject *__pyx_n_s_OVERLOADED;
 static PyObject *__pyx_n_s_OrderedDict;
 static PyObject *__pyx_kp_s_Out_of_bounds;
@@ -6213,27 +6228,25 @@
 static PyObject *__pyx_n_s_ValueError;
 static PyObject *__pyx_n_s_Void;
 static PyObject *__pyx_n_s_VoidPromiseFulfiller;
 static PyObject *__pyx_n_s_WeakSet;
 static PyObject *__pyx_kp_s_You_can_only_call_write_on_the_m;
 static PyObject *__pyx_kp_s_You_must_provide_a_bootstrap_int;
 static PyObject *__pyx_kp_s_You_should_instead_use_await_If;
-static PyObject *__pyx_kp_s__150;
-static PyObject *__pyx_n_s__151;
 static PyObject *__pyx_kp_s__152;
+static PyObject *__pyx_n_s__153;
 static PyObject *__pyx_kp_s__154;
-static PyObject *__pyx_kp_s__157;
+static PyObject *__pyx_kp_s__156;
 static PyObject *__pyx_kp_b__3;
 static PyObject *__pyx_kp_s__3;
 static PyObject *__pyx_kp_s__8;
 static PyObject *__pyx_n_s_abspath;
 static PyObject *__pyx_n_s_add;
 static PyObject *__pyx_n_s_add_done_callback;
 static PyObject *__pyx_n_s_add_import_hook;
-static PyObject *__pyx_n_s_additional_paths;
 static PyObject *__pyx_n_s_adopt;
 static PyObject *__pyx_n_s_aenter;
 static PyObject *__pyx_n_s_aexit;
 static PyObject *__pyx_n_s_append;
 static PyObject *__pyx_n_s_arg_name;
 static PyObject *__pyx_n_s_arg_val;
 static PyObject *__pyx_n_s_args;
@@ -6259,31 +6272,34 @@
 static PyObject *__pyx_kp_s_backing_array_was_not_large_enou;
 static PyObject *__pyx_n_s_base;
 static PyObject *__pyx_n_s_basename;
 static PyObject *__pyx_n_s_bootstrap;
 static PyObject *__pyx_n_s_buf;
 static PyObject *__pyx_n_s_builder;
 static PyObject *__pyx_n_s_call;
+static PyObject *__pyx_n_s_call_exception_handler;
 static PyObject *__pyx_n_s_call_server_method_locals_finali;
 static PyObject *__pyx_n_s_call_soon;
 static PyObject *__pyx_n_s_callback;
 static PyObject *__pyx_n_s_callback_arg;
 static PyObject *__pyx_n_s_can_write_eof;
 static PyObject *__pyx_n_s_cancel;
 static PyObject *__pyx_n_s_cancelled;
 static PyObject *__pyx_n_s_cap_count;
 static PyObject *__pyx_kp_s_capnp;
 static PyObject *__pyx_n_s_capnp_2;
+static PyObject *__pyx_kp_s_capnp_3;
+static PyObject *__pyx_kp_s_capnp_4;
 static PyObject *__pyx_n_s_capnp_lib_capnp;
 static PyObject *__pyx_kp_s_capnp_lib_capnp_pyx;
 static PyObject *__pyx_kp_s_capnp_list_builder_s;
 static PyObject *__pyx_kp_s_capnp_list_reader_s;
 static PyObject *__pyx_n_s_capnp_module_name;
-static PyObject *__pyx_n_s_capnp_module_name_dashes;
-static PyObject *__pyx_n_s_capnp_module_name_spaces;
+static PyObject *__pyx_n_s_capnp_module_names;
+static PyObject *__pyx_n_s_capnp_paths;
 static PyObject *__pyx_kp_s_capnp_types;
 static PyObject *__pyx_n_s_cast_as;
 static PyObject *__pyx_n_s_class;
 static PyObject *__pyx_n_s_cleanup_global_schema_parser;
 static PyObject *__pyx_n_s_cline_in_traceback;
 static PyObject *__pyx_n_s_close;
 static PyObject *__pyx_n_s_closed_future;
@@ -6291,14 +6307,15 @@
 static PyObject *__pyx_n_s_co_filename;
 static PyObject *__pyx_n_s_codeOrder;
 static PyObject *__pyx_n_s_collections;
 static PyObject *__pyx_n_s_collections_2;
 static PyObject *__pyx_n_s_connect;
 static PyObject *__pyx_n_s_connected_callback;
 static PyObject *__pyx_n_s_connection_lost;
+static PyObject *__pyx_n_s_connection_made_locals_done;
 static PyObject *__pyx_n_s_context;
 static PyObject *__pyx_n_s_context_2;
 static PyObject *__pyx_n_s_contextlib;
 static PyObject *__pyx_n_s_contextmanager;
 static PyObject *__pyx_n_s_copy;
 static PyObject *__pyx_n_s_coro;
 static PyObject *__pyx_kp_s_could_not_get_read_buffer;
@@ -6312,15 +6329,14 @@
 static PyObject *__pyx_n_s_create_unix_connection_locals_la;
 static PyObject *__pyx_n_s_create_unix_server;
 static PyObject *__pyx_n_s_create_unix_server_locals_lambda;
 static PyObject *__pyx_n_s_data;
 static PyObject *__pyx_n_s_deregister_all_types;
 static PyObject *__pyx_n_s_description;
 static PyObject *__pyx_n_s_dict;
-static PyObject *__pyx_n_s_dir_name;
 static PyObject *__pyx_n_s_dirname;
 static PyObject *__pyx_kp_u_disable;
 static PyObject *__pyx_n_s_discriminantCount;
 static PyObject *__pyx_n_s_discriminantValue;
 static PyObject *__pyx_n_s_diskPath;
 static PyObject *__pyx_n_s_disown;
 static PyObject *__pyx_n_s_displayName;
@@ -6337,23 +6353,20 @@
 static PyObject *__pyx_n_s_enum_name;
 static PyObject *__pyx_n_s_enumerants;
 static PyObject *__pyx_n_s_enumerate;
 static PyObject *__pyx_n_s_enums;
 static PyObject *__pyx_n_s_eq;
 static PyObject *__pyx_n_s_err;
 static PyObject *__pyx_n_s_exc;
-static PyObject *__pyx_n_s_exc_info;
 static PyObject *__pyx_n_s_exception;
 static PyObject *__pyx_n_s_exit;
 static PyObject *__pyx_kp_s_expected_buffer_like_object_in_F;
 static PyObject *__pyx_kp_s_expected_isSetInUnion_field;
 static PyObject *__pyx_kp_s_expected_variable_length_string;
 static PyObject *__pyx_n_s_extend;
-static PyObject *__pyx_n_s_extension;
-static PyObject *__pyx_n_s_extra_paths;
 static PyObject *__pyx_n_s_f_code;
 static PyObject *__pyx_n_s_fd;
 static PyObject *__pyx_n_s_fdopen;
 static PyObject *__pyx_n_s_field;
 static PyObject *__pyx_n_s_field_schema;
 static PyObject *__pyx_kp_s_field_schema_for_s;
 static PyObject *__pyx_n_s_fieldnames;
@@ -6396,15 +6409,14 @@
 static PyObject *__pyx_n_s_getcwd;
 static PyObject *__pyx_n_s_getstate;
 static PyObject *__pyx_n_s_global_schema_parser;
 static PyObject *__pyx_n_s_group;
 static PyObject *__pyx_n_s_has;
 static PyObject *__pyx_n_s_has_by_field;
 static PyObject *__pyx_kp_s_has_no_such;
-static PyObject *__pyx_n_s_has_underscores;
 static PyObject *__pyx_n_s_host;
 static PyObject *__pyx_n_s_id;
 static PyObject *__pyx_n_s_import;
 static PyObject *__pyx_n_s_importer;
 static PyObject *__pyx_n_s_importlib_machinery;
 static PyObject *__pyx_n_s_imports;
 static PyObject *__pyx_n_s_index;
@@ -6420,26 +6432,23 @@
 static PyObject *__pyx_n_s_inspect_2;
 static PyObject *__pyx_n_s_instancecheck;
 static PyObject *__pyx_kp_s_invalid_module_expected_got;
 static PyObject *__pyx_n_s_isConst;
 static PyObject *__pyx_n_s_isEnum;
 static PyObject *__pyx_n_s_isInterface;
 static PyObject *__pyx_n_s_isStruct;
-static PyObject *__pyx_n_s_is_abs;
 static PyObject *__pyx_n_s_is_closing;
-static PyObject *__pyx_n_s_is_file;
 static PyObject *__pyx_n_s_isabs;
 static PyObject *__pyx_n_s_iscoroutine;
 static PyObject *__pyx_n_s_isdir;
 static PyObject *__pyx_kp_u_isenabled;
 static PyObject *__pyx_n_s_isfile;
 static PyObject *__pyx_n_s_items;
 static PyObject *__pyx_n_s_iteritems;
 static PyObject *__pyx_n_s_join;
-static PyObject *__pyx_n_s_join_path;
 static PyObject *__pyx_n_s_key;
 static PyObject *__pyx_n_s_kj_loop;
 static PyObject *__pyx_n_s_kj_loop_2;
 static PyObject *__pyx_n_s_kjpromise;
 static PyObject *__pyx_n_s_klass;
 static PyObject *__pyx_n_s_kwargs;
 static PyObject *__pyx_n_s_line;
@@ -6537,14 +6546,15 @@
 static PyObject *__pyx_n_s_pyx_unpickle__DynamicEnumField;
 static PyObject *__pyx_n_s_pyx_unpickle__DynamicResizable;
 static PyObject *__pyx_n_s_pyx_unpickle__MessageSize;
 static PyObject *__pyx_n_s_pyx_unpickle__MultipleBytesMes;
 static PyObject *__pyx_n_s_pyx_vtable;
 static PyObject *__pyx_n_s_qualname;
 static PyObject *__pyx_n_s_r;
+static PyObject *__pyx_kp_u_raised_an_exception;
 static PyObject *__pyx_n_s_random;
 static PyObject *__pyx_n_s_random_2;
 static PyObject *__pyx_n_s_range;
 static PyObject *__pyx_n_s_raw_field;
 static PyObject *__pyx_n_s_raw_schema;
 static PyObject *__pyx_n_s_rb;
 static PyObject *__pyx_n_s_read;
@@ -6621,14 +6631,15 @@
 static PyObject *__pyx_n_s_size;
 static PyObject *__pyx_n_s_skip_copy;
 static PyObject *__pyx_n_s_slots;
 static PyObject *__pyx_n_s_socket;
 static PyObject *__pyx_n_s_socket_2;
 static PyObject *__pyx_n_s_sorted;
 static PyObject *__pyx_n_s_split;
+static PyObject *__pyx_n_s_startswith;
 static PyObject *__pyx_n_s_staticmethod;
 static PyObject *__pyx_n_s_str;
 static PyObject *__pyx_n_s_str_2;
 static PyObject *__pyx_n_s_stream;
 static PyObject *__pyx_kp_s_stringsource;
 static PyObject *__pyx_n_s_struct;
 static PyObject *__pyx_n_s_struct_reducer;
@@ -6637,20 +6648,18 @@
 static PyObject *__pyx_n_s_success;
 static PyObject *__pyx_n_s_superclasses;
 static PyObject *__pyx_n_s_sys;
 static PyObject *__pyx_n_s_sys_2;
 static PyObject *__pyx_n_s_tail_call;
 static PyObject *__pyx_n_s_target;
 static PyObject *__pyx_n_s_task;
-static PyObject *__pyx_n_s_task_2;
 static PyObject *__pyx_n_s_tasks;
 static PyObject *__pyx_n_s_tb_frame;
 static PyObject *__pyx_n_s_tb_lineno;
 static PyObject *__pyx_n_s_test;
-static PyObject *__pyx_n_s_this_file_path;
 static PyObject *__pyx_n_s_threading;
 static PyObject *__pyx_n_s_threading_2;
 static PyObject *__pyx_n_s_throw;
 static PyObject *__pyx_n_s_to_bytes;
 static PyObject *__pyx_n_s_to_bytes_packed;
 static PyObject *__pyx_n_s_to_bytes_packed_helper;
 static PyObject *__pyx_n_s_to_dict;
@@ -6669,17 +6678,15 @@
 static PyObject *__pyx_n_s_union_field;
 static PyObject *__pyx_n_s_union_fields;
 static PyObject *__pyx_n_s_upcast;
 static PyObject *__pyx_n_s_update;
 static PyObject *__pyx_n_s_upper;
 static PyObject *__pyx_kp_s_using_wait_please_report;
 static PyObject *__pyx_kp_s_usr_include;
-static PyObject *__pyx_kp_s_usr_include_capnp;
 static PyObject *__pyx_kp_s_usr_local_include;
-static PyObject *__pyx_kp_s_usr_local_include_capnp;
 static PyObject *__pyx_kp_s_utf_8;
 static PyObject *__pyx_n_s_val;
 static PyObject *__pyx_n_s_value;
 static PyObject *__pyx_n_s_values;
 static PyObject *__pyx_n_s_verbose;
 static PyObject *__pyx_n_s_void_task_done_callback;
 static PyObject *__pyx_n_s_w;
@@ -6689,14 +6696,15 @@
 static PyObject *__pyx_n_s_warnings_2;
 static PyObject *__pyx_kp_u_was_cancelled;
 static PyObject *__pyx_n_s_weakref;
 static PyObject *__pyx_n_s_weakref_2;
 static PyObject *__pyx_n_s_which;
 static PyObject *__pyx_n_s_which_2;
 static PyObject *__pyx_n_s_which_str;
+static PyObject *__pyx_n_s_with_traceback;
 static PyObject *__pyx_n_s_word_count;
 static PyObject *__pyx_n_s_wrapper;
 static PyObject *__pyx_n_s_write;
 static PyObject *__pyx_n_s_write_async;
 static PyObject *__pyx_n_s_write_eof;
 static PyObject *__pyx_n_s_write_message_to_fd;
 static PyObject *__pyx_n_s_write_packed_message_to_fd;
@@ -7020,14 +7028,15 @@
 static PyObject *__pyx_lambda_funcdef_lambda5(PyObject *__pyx_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_22create_unix_server(PyObject *__pyx_v_callback, PyObject *__pyx_v_path, PyObject *__pyx_v_kwargs); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_25__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_27__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_14DummyBaseClass___reduce_cython__(struct __pyx_obj_5capnp_3lib_5capnp_DummyBaseClass *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_14DummyBaseClass_2__setstate_cython__(struct __pyx_obj_5capnp_3lib_5capnp_DummyBaseClass *__pyx_v_self, PyObject *__pyx_v___pyx_state); /* proto */
 static int __pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol___init__(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self, PyObject *__pyx_v_connected_callback, PyObject *__pyx_v_callback_arg); /* proto */
+static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15connection_made_done(PyObject *__pyx_self, PyObject *__pyx_v_task); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_2connection_made(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self, PyObject *__pyx_v_transport); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_4connection_lost(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self, PyObject *__pyx_v_exc); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_6get_buffer(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self, PyObject *__pyx_v_size_hint); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_8buffer_updated(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self, PyObject *__pyx_v_size); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_10pause_writing(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_12resume_writing(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_14eof_received(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self); /* proto */
@@ -7271,19 +7280,18 @@
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_19_FlatMessageBuilder_4__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_5capnp_3lib_5capnp__FlatMessageBuilder *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_19_FlatMessageBuilder_6__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_5capnp_3lib_5capnp__FlatMessageBuilder *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_18_message_to_packed_bytes(CYTHON_UNUSED PyObject *__pyx_self, struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *__pyx_v_message); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_20_write_message_to_fd(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_fd, struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *__pyx_v_message); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_22_write_packed_message_to_fd(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_fd, struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *__pyx_v_message); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24cleanup_global_schema_parser(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_26load(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_file_name, PyObject *__pyx_v_display_name, PyObject *__pyx_v_imports); /* proto */
-static PyObject *__pyx_pf_5capnp_3lib_5capnp_7_Loader___init__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_fullname, PyObject *__pyx_v_path, PyObject *__pyx_v_additional_paths); /* proto */
+static PyObject *__pyx_pf_5capnp_3lib_5capnp_7_Loader___init__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_fullname, PyObject *__pyx_v_path); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_7_Loader_2load_module(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_fullname); /* proto */
-static PyObject *__pyx_pf_5capnp_3lib_5capnp_9_Importer___init__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_additional_paths); /* proto */
-static PyObject *__pyx_pf_5capnp_3lib_5capnp_9_Importer_2find_spec(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_fullname, PyObject *__pyx_v_package_path, CYTHON_UNUSED PyObject *__pyx_v_target); /* proto */
-static PyObject *__pyx_pf_5capnp_3lib_5capnp_28add_import_hook(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_additional_paths); /* proto */
+static PyObject *__pyx_pf_5capnp_3lib_5capnp_9_Importer_find_spec(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_fullname, PyObject *__pyx_v_package_path, CYTHON_UNUSED PyObject *__pyx_v_target); /* proto */
+static PyObject *__pyx_pf_5capnp_3lib_5capnp_28add_import_hook(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_30remove_import_hook(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_32_init_capnp_api(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_34__pyx_unpickle__DynamicResizableListBuilder(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_36__pyx_unpickle__DynamicEnumField(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_38__pyx_unpickle__MessageSize(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_40__pyx_unpickle__DynamicCapabilityServer(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_42__pyx_unpickle_DummyBaseClass(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
@@ -7363,27 +7371,28 @@
 static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_7_run(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_14___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_16___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_18___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_20___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_22___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_26_load(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_15___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_17___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_19___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_21___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_23___get__(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_27_load(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static __Pyx_CachedCFunction __pyx_umethod_PyDict_Type_get = {0, &__pyx_n_s_get_2, 0, 0, 0};
 static PyObject *__pyx_int_0;
 static PyObject *__pyx_int_1;
 static PyObject *__pyx_int_2;
 static PyObject *__pyx_int_3;
 static PyObject *__pyx_int_4;
 static PyObject *__pyx_int_8;
@@ -7400,17 +7409,16 @@
 static PyObject *__pyx_int_224926043;
 static PyObject *__pyx_int_226231452;
 static PyObject *__pyx_int_228825662;
 static PyObject *__pyx_int_238750788;
 static PyObject *__pyx_int_241535300;
 static PyObject *__pyx_int_255744626;
 static PyObject *__pyx_int_neg_8;
-static PyObject *__pyx_k__99;
-static PyObject *__pyx_k__149;
-static PyObject *__pyx_k__156;
+static PyObject *__pyx_k__101;
+static PyObject *__pyx_k__151;
 static PyObject *__pyx_tuple_;
 static PyObject *__pyx_tuple__2;
 static PyObject *__pyx_tuple__4;
 static PyObject *__pyx_tuple__6;
 static PyObject *__pyx_tuple__7;
 static PyObject *__pyx_tuple__9;
 static PyObject *__pyx_slice__24;
@@ -7462,15 +7470,14 @@
 static PyObject *__pyx_tuple__61;
 static PyObject *__pyx_tuple__62;
 static PyObject *__pyx_tuple__63;
 static PyObject *__pyx_tuple__64;
 static PyObject *__pyx_tuple__69;
 static PyObject *__pyx_tuple__70;
 static PyObject *__pyx_tuple__71;
-static PyObject *__pyx_tuple__72;
 static PyObject *__pyx_tuple__73;
 static PyObject *__pyx_tuple__74;
 static PyObject *__pyx_tuple__75;
 static PyObject *__pyx_tuple__76;
 static PyObject *__pyx_tuple__77;
 static PyObject *__pyx_tuple__78;
 static PyObject *__pyx_tuple__79;
@@ -7481,26 +7488,26 @@
 static PyObject *__pyx_tuple__84;
 static PyObject *__pyx_tuple__85;
 static PyObject *__pyx_tuple__86;
 static PyObject *__pyx_tuple__87;
 static PyObject *__pyx_tuple__88;
 static PyObject *__pyx_tuple__89;
 static PyObject *__pyx_tuple__90;
-static PyObject *__pyx_tuple__93;
+static PyObject *__pyx_tuple__91;
+static PyObject *__pyx_tuple__92;
 static PyObject *__pyx_tuple__95;
-static PyObject *__pyx_tuple__96;
 static PyObject *__pyx_tuple__97;
 static PyObject *__pyx_tuple__98;
+static PyObject *__pyx_tuple__99;
 static PyObject *__pyx_codeobj__5;
 static PyObject *__pyx_tuple__100;
-static PyObject *__pyx_tuple__101;
+static PyObject *__pyx_tuple__102;
 static PyObject *__pyx_tuple__103;
 static PyObject *__pyx_tuple__105;
 static PyObject *__pyx_tuple__107;
-static PyObject *__pyx_tuple__108;
 static PyObject *__pyx_tuple__109;
 static PyObject *__pyx_tuple__110;
 static PyObject *__pyx_tuple__111;
 static PyObject *__pyx_tuple__112;
 static PyObject *__pyx_tuple__113;
 static PyObject *__pyx_tuple__114;
 static PyObject *__pyx_tuple__115;
@@ -7533,16 +7540,18 @@
 static PyObject *__pyx_tuple__142;
 static PyObject *__pyx_tuple__143;
 static PyObject *__pyx_tuple__144;
 static PyObject *__pyx_tuple__145;
 static PyObject *__pyx_tuple__146;
 static PyObject *__pyx_tuple__147;
 static PyObject *__pyx_tuple__148;
-static PyObject *__pyx_tuple__153;
+static PyObject *__pyx_tuple__149;
+static PyObject *__pyx_tuple__150;
 static PyObject *__pyx_tuple__155;
+static PyObject *__pyx_tuple__157;
 static PyObject *__pyx_tuple__158;
 static PyObject *__pyx_tuple__159;
 static PyObject *__pyx_tuple__160;
 static PyObject *__pyx_tuple__161;
 static PyObject *__pyx_tuple__162;
 static PyObject *__pyx_tuple__163;
 static PyObject *__pyx_tuple__165;
@@ -7605,37 +7614,36 @@
 static PyObject *__pyx_tuple__252;
 static PyObject *__pyx_tuple__254;
 static PyObject *__pyx_tuple__257;
 static PyObject *__pyx_tuple__259;
 static PyObject *__pyx_tuple__261;
 static PyObject *__pyx_tuple__263;
 static PyObject *__pyx_tuple__265;
-static PyObject *__pyx_tuple__267;
-static PyObject *__pyx_tuple__268;
-static PyObject *__pyx_tuple__272;
-static PyObject *__pyx_tuple__274;
-static PyObject *__pyx_tuple__276;
-static PyObject *__pyx_tuple__278;
-static PyObject *__pyx_tuple__280;
-static PyObject *__pyx_tuple__282;
+static PyObject *__pyx_tuple__269;
+static PyObject *__pyx_tuple__271;
+static PyObject *__pyx_tuple__273;
+static PyObject *__pyx_tuple__275;
+static PyObject *__pyx_tuple__277;
+static PyObject *__pyx_tuple__279;
 static PyObject *__pyx_codeobj__36;
 static PyObject *__pyx_codeobj__38;
 static PyObject *__pyx_codeobj__43;
 static PyObject *__pyx_codeobj__45;
 static PyObject *__pyx_codeobj__47;
 static PyObject *__pyx_codeobj__65;
 static PyObject *__pyx_codeobj__66;
 static PyObject *__pyx_codeobj__67;
 static PyObject *__pyx_codeobj__68;
-static PyObject *__pyx_codeobj__91;
-static PyObject *__pyx_codeobj__92;
+static PyObject *__pyx_codeobj__72;
+static PyObject *__pyx_codeobj__93;
 static PyObject *__pyx_codeobj__94;
-static PyObject *__pyx_codeobj__102;
+static PyObject *__pyx_codeobj__96;
 static PyObject *__pyx_codeobj__104;
 static PyObject *__pyx_codeobj__106;
+static PyObject *__pyx_codeobj__108;
 static PyObject *__pyx_codeobj__164;
 static PyObject *__pyx_codeobj__166;
 static PyObject *__pyx_codeobj__168;
 static PyObject *__pyx_codeobj__170;
 static PyObject *__pyx_codeobj__172;
 static PyObject *__pyx_codeobj__176;
 static PyObject *__pyx_codeobj__179;
@@ -7667,23 +7675,22 @@
 static PyObject *__pyx_codeobj__255;
 static PyObject *__pyx_codeobj__256;
 static PyObject *__pyx_codeobj__258;
 static PyObject *__pyx_codeobj__260;
 static PyObject *__pyx_codeobj__262;
 static PyObject *__pyx_codeobj__264;
 static PyObject *__pyx_codeobj__266;
-static PyObject *__pyx_codeobj__269;
+static PyObject *__pyx_codeobj__267;
+static PyObject *__pyx_codeobj__268;
 static PyObject *__pyx_codeobj__270;
-static PyObject *__pyx_codeobj__271;
-static PyObject *__pyx_codeobj__273;
-static PyObject *__pyx_codeobj__275;
-static PyObject *__pyx_codeobj__277;
-static PyObject *__pyx_codeobj__279;
-static PyObject *__pyx_codeobj__281;
-static PyObject *__pyx_codeobj__283;
+static PyObject *__pyx_codeobj__272;
+static PyObject *__pyx_codeobj__274;
+static PyObject *__pyx_codeobj__276;
+static PyObject *__pyx_codeobj__278;
+static PyObject *__pyx_codeobj__280;
 /* Late includes */
 
 /* "capnp/lib/capnp.pyx":55
  * 
  * 
  * def register_type(id, klass):             # <<<<<<<<<<<<<<
  *     _type_registry[id] = klass
@@ -8234,15 +8241,15 @@
 }
 
 /* "capnp/lib/capnp.pyx":77
  *        return self
  * 
  * def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):             # <<<<<<<<<<<<<<
  *     if fulfiller.fulfiller == NULL:
- *         return
+ *         if not task.cancelled():
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_5void_task_done_callback(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
 static char __pyx_doc_5capnp_3lib_5capnp_4void_task_done_callback[] = "void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task)";
 static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_5void_task_done_callback = {"void_task_done_callback", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_5capnp_3lib_5capnp_5void_task_done_callback, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5capnp_3lib_5capnp_4void_task_done_callback};
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_5void_task_done_callback(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
@@ -8321,425 +8328,613 @@
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_4void_task_done_callback(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_method_name, struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller *__pyx_v_fulfiller, PyObject *__pyx_v_task) {
   PyObject *__pyx_v_exc = NULL;
+  PyObject *__pyx_v_context = NULL;
   PyObject *__pyx_v_res = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
-  Py_ssize_t __pyx_t_5;
-  Py_UCS4 __pyx_t_6;
-  char *__pyx_t_7;
-  int __pyx_t_8;
-  PyObject *__pyx_t_9 = NULL;
+  int __pyx_t_5;
+  Py_ssize_t __pyx_t_6;
+  Py_UCS4 __pyx_t_7;
+  PyObject *__pyx_t_8 = NULL;
+  char *__pyx_t_9;
   int __pyx_t_10;
   PyObject *__pyx_t_11 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("void_task_done_callback", 0);
 
   /* "capnp/lib/capnp.pyx":78
  * 
  * def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):
  *     if fulfiller.fulfiller == NULL:             # <<<<<<<<<<<<<<
- *         return
- * 
+ *         if not task.cancelled():
+ *             exc = task.exception()
  */
   __pyx_t_1 = ((__pyx_v_fulfiller->fulfiller == NULL) != 0);
   if (__pyx_t_1) {
 
     /* "capnp/lib/capnp.pyx":79
  * def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):
  *     if fulfiller.fulfiller == NULL:
+ *         if not task.cancelled():             # <<<<<<<<<<<<<<
+ *             exc = task.exception()
+ *             if exc is not None:
+ */
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 79, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_4 = NULL;
+    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
+      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
+      if (likely(__pyx_t_4)) {
+        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
+        __Pyx_INCREF(__pyx_t_4);
+        __Pyx_INCREF(function);
+        __Pyx_DECREF_SET(__pyx_t_3, function);
+      }
+    }
+    __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
+    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 79, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 79, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_t_5 = ((!__pyx_t_1) != 0);
+    if (__pyx_t_5) {
+
+      /* "capnp/lib/capnp.pyx":80
+ *     if fulfiller.fulfiller == NULL:
+ *         if not task.cancelled():
+ *             exc = task.exception()             # <<<<<<<<<<<<<<
+ *             if exc is not None:
+ *                 context = {
+ */
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_exception); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 80, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_3);
+      __pyx_t_4 = NULL;
+      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
+        __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
+        if (likely(__pyx_t_4)) {
+          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
+          __Pyx_INCREF(__pyx_t_4);
+          __Pyx_INCREF(function);
+          __Pyx_DECREF_SET(__pyx_t_3, function);
+        }
+      }
+      __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
+      __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
+      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 80, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_2);
+      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+      __pyx_v_exc = __pyx_t_2;
+      __pyx_t_2 = 0;
+
+      /* "capnp/lib/capnp.pyx":81
+ *         if not task.cancelled():
+ *             exc = task.exception()
+ *             if exc is not None:             # <<<<<<<<<<<<<<
+ *                 context = {
+ *                     'message': f"Cancelled server method {method_name} raised an exception",
+ */
+      __pyx_t_5 = (__pyx_v_exc != Py_None);
+      __pyx_t_1 = (__pyx_t_5 != 0);
+      if (__pyx_t_1) {
+
+        /* "capnp/lib/capnp.pyx":83
+ *             if exc is not None:
+ *                 context = {
+ *                     'message': f"Cancelled server method {method_name} raised an exception",             # <<<<<<<<<<<<<<
+ *                     'exception': exc,
+ *                     'task': task,
+ */
+        __pyx_t_2 = __Pyx_PyDict_NewPresized(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 83, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_2);
+        __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 83, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_3);
+        __pyx_t_6 = 0;
+        __pyx_t_7 = 127;
+        __Pyx_INCREF(__pyx_kp_u_Cancelled_server_method);
+        __pyx_t_6 += 24;
+        __Pyx_GIVEREF(__pyx_kp_u_Cancelled_server_method);
+        PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_kp_u_Cancelled_server_method);
+        __pyx_t_4 = __Pyx_PyObject_FormatSimple(__pyx_v_method_name, __pyx_empty_unicode); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 83, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_4);
+        __pyx_t_7 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) > __pyx_t_7) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) : __pyx_t_7;
+        __pyx_t_6 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_4);
+        __Pyx_GIVEREF(__pyx_t_4);
+        PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_4);
+        __pyx_t_4 = 0;
+        __Pyx_INCREF(__pyx_kp_u_raised_an_exception);
+        __pyx_t_6 += 20;
+        __Pyx_GIVEREF(__pyx_kp_u_raised_an_exception);
+        PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_kp_u_raised_an_exception);
+        __pyx_t_4 = __Pyx_PyUnicode_Join(__pyx_t_3, 3, __pyx_t_6, __pyx_t_7); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 83, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_4);
+        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+        if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_message, __pyx_t_4) < 0) __PYX_ERR(0, 83, __pyx_L1_error)
+        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+
+        /* "capnp/lib/capnp.pyx":84
+ *                 context = {
+ *                     'message': f"Cancelled server method {method_name} raised an exception",
+ *                     'exception': exc,             # <<<<<<<<<<<<<<
+ *                     'task': task,
+ *                 }
+ */
+        if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_exception, __pyx_v_exc) < 0) __PYX_ERR(0, 83, __pyx_L1_error)
+
+        /* "capnp/lib/capnp.pyx":85
+ *                     'message': f"Cancelled server method {method_name} raised an exception",
+ *                     'exception': exc,
+ *                     'task': task,             # <<<<<<<<<<<<<<
+ *                 }
+ *                 asyncio.get_running_loop().call_exception_handler(context)
+ */
+        if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_task, __pyx_v_task) < 0) __PYX_ERR(0, 83, __pyx_L1_error)
+        __pyx_v_context = ((PyObject*)__pyx_t_2);
+        __pyx_t_2 = 0;
+
+        /* "capnp/lib/capnp.pyx":87
+ *                     'task': task,
+ *                 }
+ *                 asyncio.get_running_loop().call_exception_handler(context)             # <<<<<<<<<<<<<<
+ *         return
+ * 
+ */
+        __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 87, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_3);
+        __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 87, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_8);
+        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+        __pyx_t_3 = NULL;
+        if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_8))) {
+          __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_8);
+          if (likely(__pyx_t_3)) {
+            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
+            __Pyx_INCREF(__pyx_t_3);
+            __Pyx_INCREF(function);
+            __Pyx_DECREF_SET(__pyx_t_8, function);
+          }
+        }
+        __pyx_t_4 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_8);
+        __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
+        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 87, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_4);
+        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
+        __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_call_exception_handler); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 87, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_8);
+        __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+        __pyx_t_4 = NULL;
+        if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
+          __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_8);
+          if (likely(__pyx_t_4)) {
+            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
+            __Pyx_INCREF(__pyx_t_4);
+            __Pyx_INCREF(function);
+            __Pyx_DECREF_SET(__pyx_t_8, function);
+          }
+        }
+        __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_4, __pyx_v_context) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_v_context);
+        __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 87, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_2);
+        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
+        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+
+        /* "capnp/lib/capnp.pyx":81
+ *         if not task.cancelled():
+ *             exc = task.exception()
+ *             if exc is not None:             # <<<<<<<<<<<<<<
+ *                 context = {
+ *                     'message': f"Cancelled server method {method_name} raised an exception",
+ */
+      }
+
+      /* "capnp/lib/capnp.pyx":79
+ * def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):
+ *     if fulfiller.fulfiller == NULL:
+ *         if not task.cancelled():             # <<<<<<<<<<<<<<
+ *             exc = task.exception()
+ *             if exc is not None:
+ */
+    }
+
+    /* "capnp/lib/capnp.pyx":88
+ *                 }
+ *                 asyncio.get_running_loop().call_exception_handler(context)
  *         return             # <<<<<<<<<<<<<<
  * 
  *     if task.cancelled():
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
     /* "capnp/lib/capnp.pyx":78
  * 
  * def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):
  *     if fulfiller.fulfiller == NULL:             # <<<<<<<<<<<<<<
- *         return
- * 
+ *         if not task.cancelled():
+ *             exc = task.exception()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":81
+  /* "capnp/lib/capnp.pyx":90
  *         return
  * 
  *     if task.cancelled():             # <<<<<<<<<<<<<<
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
  *             f"Server task for method {method_name} was cancelled")))
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 81, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 90, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_8);
   __pyx_t_4 = NULL;
-  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
-    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
+  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
+    __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_8);
     if (likely(__pyx_t_4)) {
-      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
+      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
-      __Pyx_DECREF_SET(__pyx_t_3, function);
+      __Pyx_DECREF_SET(__pyx_t_8, function);
     }
   }
-  __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
+  __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_8);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 81, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 90, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 81, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 90, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":83
+    /* "capnp/lib/capnp.pyx":92
  *     if task.cancelled():
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
  *             f"Server task for method {method_name} was cancelled")))             # <<<<<<<<<<<<<<
  *         return
  * 
  */
-    __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 83, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 92, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_5 = 0;
-    __pyx_t_6 = 127;
+    __pyx_t_6 = 0;
+    __pyx_t_7 = 127;
     __Pyx_INCREF(__pyx_kp_u_Server_task_for_method);
-    __pyx_t_5 += 23;
+    __pyx_t_6 += 23;
     __Pyx_GIVEREF(__pyx_kp_u_Server_task_for_method);
     PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_kp_u_Server_task_for_method);
-    __pyx_t_3 = __Pyx_PyObject_FormatSimple(__pyx_v_method_name, __pyx_empty_unicode); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 83, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_6 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_3) > __pyx_t_6) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_3) : __pyx_t_6;
-    __pyx_t_5 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_3);
-    __Pyx_GIVEREF(__pyx_t_3);
-    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_3);
-    __pyx_t_3 = 0;
+    __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_v_method_name, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 92, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_8);
+    __pyx_t_7 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_8) > __pyx_t_7) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_8) : __pyx_t_7;
+    __pyx_t_6 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_8);
+    __Pyx_GIVEREF(__pyx_t_8);
+    PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_8);
+    __pyx_t_8 = 0;
     __Pyx_INCREF(__pyx_kp_u_was_cancelled);
-    __pyx_t_5 += 14;
+    __pyx_t_6 += 14;
     __Pyx_GIVEREF(__pyx_kp_u_was_cancelled);
     PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_kp_u_was_cancelled);
-    __pyx_t_3 = __Pyx_PyUnicode_Join(__pyx_t_2, 3, __pyx_t_5, __pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 83, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_8 = __Pyx_PyUnicode_Join(__pyx_t_2, 3, __pyx_t_6, __pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 92, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_t_3); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 83, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyObject_AsWritableString(__pyx_t_8); if (unlikely((!__pyx_t_9) && PyErr_Occurred())) __PYX_ERR(0, 92, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":82
+    /* "capnp/lib/capnp.pyx":91
  * 
  *     if task.cancelled():
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(             # <<<<<<<<<<<<<<
  *             f"Server task for method {method_name} was cancelled")))
  *         return
  */
-    __pyx_v_fulfiller->fulfiller->reject(makeException( ::kj::StringPtr(__pyx_t_7)));
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_v_fulfiller->fulfiller->reject(makeException( ::kj::StringPtr(__pyx_t_9)));
+    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-    /* "capnp/lib/capnp.pyx":84
+    /* "capnp/lib/capnp.pyx":93
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
  *             f"Server task for method {method_name} was cancelled")))
  *         return             # <<<<<<<<<<<<<<
  * 
  *     exc = task.exception()
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":81
+    /* "capnp/lib/capnp.pyx":90
  *         return
  * 
  *     if task.cancelled():             # <<<<<<<<<<<<<<
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
  *             f"Server task for method {method_name} was cancelled")))
  */
   }
 
-  /* "capnp/lib/capnp.pyx":86
+  /* "capnp/lib/capnp.pyx":95
  *         return
  * 
  *     exc = task.exception()             # <<<<<<<<<<<<<<
  *     if exc is not None:
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(''.join(
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_exception); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 86, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_exception); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 95, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
-  __pyx_t_3 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
+  __pyx_t_8 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 86, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
+  if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 95, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_8);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_v_exc = __pyx_t_3;
-  __pyx_t_3 = 0;
+  __pyx_v_exc = __pyx_t_8;
+  __pyx_t_8 = 0;
 
-  /* "capnp/lib/capnp.pyx":87
+  /* "capnp/lib/capnp.pyx":96
  * 
  *     exc = task.exception()
  *     if exc is not None:             # <<<<<<<<<<<<<<
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(''.join(
  *             _traceback.format_exception(type(exc), exc, exc.__traceback__)))))
  */
   __pyx_t_1 = (__pyx_v_exc != Py_None);
-  __pyx_t_8 = (__pyx_t_1 != 0);
-  if (__pyx_t_8) {
+  __pyx_t_5 = (__pyx_t_1 != 0);
+  if (__pyx_t_5) {
 
-    /* "capnp/lib/capnp.pyx":89
+    /* "capnp/lib/capnp.pyx":98
  *     if exc is not None:
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(''.join(
  *             _traceback.format_exception(type(exc), exc, exc.__traceback__)))))             # <<<<<<<<<<<<<<
  *         return
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_traceback); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 89, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_traceback); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 98, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_format_exception); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 89, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_format_exception); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 98, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_exc, __pyx_n_s_traceback_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 89, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_exc, __pyx_n_s_traceback_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 98, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_9 = NULL;
+    __pyx_t_3 = NULL;
     __pyx_t_10 = 0;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
-      __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_4);
-      if (likely(__pyx_t_9)) {
+      __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
+      if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
-        __Pyx_INCREF(__pyx_t_9);
+        __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
         __pyx_t_10 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_4)) {
-      PyObject *__pyx_temp[4] = {__pyx_t_9, ((PyObject *)Py_TYPE(__pyx_v_exc)), __pyx_v_exc, __pyx_t_2};
-      __pyx_t_3 = __Pyx_PyFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_10, 3+__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 89, __pyx_L1_error)
-      __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_GOTREF(__pyx_t_3);
+      PyObject *__pyx_temp[4] = {__pyx_t_3, ((PyObject *)Py_TYPE(__pyx_v_exc)), __pyx_v_exc, __pyx_t_2};
+      __pyx_t_8 = __Pyx_PyFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_10, 3+__pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 98, __pyx_L1_error)
+      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
+      __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_4)) {
-      PyObject *__pyx_temp[4] = {__pyx_t_9, ((PyObject *)Py_TYPE(__pyx_v_exc)), __pyx_v_exc, __pyx_t_2};
-      __pyx_t_3 = __Pyx_PyCFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_10, 3+__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 89, __pyx_L1_error)
-      __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_GOTREF(__pyx_t_3);
+      PyObject *__pyx_temp[4] = {__pyx_t_3, ((PyObject *)Py_TYPE(__pyx_v_exc)), __pyx_v_exc, __pyx_t_2};
+      __pyx_t_8 = __Pyx_PyCFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_10, 3+__pyx_t_10); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 98, __pyx_L1_error)
+      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
+      __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     } else
     #endif
     {
-      __pyx_t_11 = PyTuple_New(3+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 89, __pyx_L1_error)
+      __pyx_t_11 = PyTuple_New(3+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 98, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_11);
-      if (__pyx_t_9) {
-        __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
+      if (__pyx_t_3) {
+        __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_3); __pyx_t_3 = NULL;
       }
       __Pyx_INCREF(((PyObject *)Py_TYPE(__pyx_v_exc)));
       __Pyx_GIVEREF(((PyObject *)Py_TYPE(__pyx_v_exc)));
       PyTuple_SET_ITEM(__pyx_t_11, 0+__pyx_t_10, ((PyObject *)Py_TYPE(__pyx_v_exc)));
       __Pyx_INCREF(__pyx_v_exc);
       __Pyx_GIVEREF(__pyx_v_exc);
       PyTuple_SET_ITEM(__pyx_t_11, 1+__pyx_t_10, __pyx_v_exc);
       __Pyx_GIVEREF(__pyx_t_2);
       PyTuple_SET_ITEM(__pyx_t_11, 2+__pyx_t_10, __pyx_t_2);
       __pyx_t_2 = 0;
-      __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_11, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 89, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_3);
+      __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_11, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 98, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":88
+    /* "capnp/lib/capnp.pyx":97
  *     exc = task.exception()
  *     if exc is not None:
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(''.join(             # <<<<<<<<<<<<<<
  *             _traceback.format_exception(type(exc), exc, exc.__traceback__)))))
  *         return
  */
-    __pyx_t_4 = __Pyx_PyString_Join(__pyx_kp_s__3, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 88, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyString_Join(__pyx_kp_s__3, __pyx_t_8); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 97, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_t_4); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 88, __pyx_L1_error)
-    __pyx_v_fulfiller->fulfiller->reject(makeException( ::kj::StringPtr(__pyx_t_7)));
+    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
+    __pyx_t_9 = __Pyx_PyObject_AsWritableString(__pyx_t_4); if (unlikely((!__pyx_t_9) && PyErr_Occurred())) __PYX_ERR(0, 97, __pyx_L1_error)
+    __pyx_v_fulfiller->fulfiller->reject(makeException( ::kj::StringPtr(__pyx_t_9)));
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":90
+    /* "capnp/lib/capnp.pyx":99
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(''.join(
  *             _traceback.format_exception(type(exc), exc, exc.__traceback__)))))
  *         return             # <<<<<<<<<<<<<<
  * 
  *     res = task.result()
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":87
+    /* "capnp/lib/capnp.pyx":96
  * 
  *     exc = task.exception()
  *     if exc is not None:             # <<<<<<<<<<<<<<
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(''.join(
  *             _traceback.format_exception(type(exc), exc, exc.__traceback__)))))
  */
   }
 
-  /* "capnp/lib/capnp.pyx":92
+  /* "capnp/lib/capnp.pyx":101
  *         return
  * 
  *     res = task.result()             # <<<<<<<<<<<<<<
  *     if res is not None:
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_result); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 92, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_result); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 101, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_8);
   __pyx_t_11 = NULL;
-  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
-    __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_3);
+  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
+    __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_8);
     if (likely(__pyx_t_11)) {
-      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
+      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
       __Pyx_INCREF(__pyx_t_11);
       __Pyx_INCREF(function);
-      __Pyx_DECREF_SET(__pyx_t_3, function);
+      __Pyx_DECREF_SET(__pyx_t_8, function);
     }
   }
-  __pyx_t_4 = (__pyx_t_11) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_11) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
+  __pyx_t_4 = (__pyx_t_11) ? __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_11) : __Pyx_PyObject_CallNoArg(__pyx_t_8);
   __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
-  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 92, __pyx_L1_error)
+  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 101, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
   __pyx_v_res = __pyx_t_4;
   __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":93
+  /* "capnp/lib/capnp.pyx":102
  * 
  *     res = task.result()
  *     if res is not None:             # <<<<<<<<<<<<<<
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
  *             f"Async server function ({method_name}) returned a non-none value: return = {res}")))
  */
-  __pyx_t_8 = (__pyx_v_res != Py_None);
-  __pyx_t_1 = (__pyx_t_8 != 0);
+  __pyx_t_5 = (__pyx_v_res != Py_None);
+  __pyx_t_1 = (__pyx_t_5 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":95
+    /* "capnp/lib/capnp.pyx":104
  *     if res is not None:
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
  *             f"Async server function ({method_name}) returned a non-none value: return = {res}")))             # <<<<<<<<<<<<<<
  *     else:
  *         fulfiller.fulfiller.fulfill()
  */
-    __pyx_t_4 = PyTuple_New(4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 95, __pyx_L1_error)
+    __pyx_t_4 = PyTuple_New(4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 104, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = 0;
-    __pyx_t_6 = 127;
+    __pyx_t_6 = 0;
+    __pyx_t_7 = 127;
     __Pyx_INCREF(__pyx_kp_u_Async_server_function);
-    __pyx_t_5 += 23;
+    __pyx_t_6 += 23;
     __Pyx_GIVEREF(__pyx_kp_u_Async_server_function);
     PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_kp_u_Async_server_function);
-    __pyx_t_3 = __Pyx_PyObject_FormatSimple(__pyx_v_method_name, __pyx_empty_unicode); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 95, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_6 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_3) > __pyx_t_6) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_3) : __pyx_t_6;
-    __pyx_t_5 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_3);
-    __Pyx_GIVEREF(__pyx_t_3);
-    PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_3);
-    __pyx_t_3 = 0;
+    __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_v_method_name, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 104, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_8);
+    __pyx_t_7 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_8) > __pyx_t_7) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_8) : __pyx_t_7;
+    __pyx_t_6 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_8);
+    __Pyx_GIVEREF(__pyx_t_8);
+    PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_8);
+    __pyx_t_8 = 0;
     __Pyx_INCREF(__pyx_kp_u_returned_a_non_none_value_retur);
-    __pyx_t_5 += 38;
+    __pyx_t_6 += 38;
     __Pyx_GIVEREF(__pyx_kp_u_returned_a_non_none_value_retur);
     PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_kp_u_returned_a_non_none_value_retur);
-    __pyx_t_3 = __Pyx_PyObject_FormatSimple(__pyx_v_res, __pyx_empty_unicode); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 95, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_6 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_3) > __pyx_t_6) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_3) : __pyx_t_6;
-    __pyx_t_5 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_3);
-    __Pyx_GIVEREF(__pyx_t_3);
-    PyTuple_SET_ITEM(__pyx_t_4, 3, __pyx_t_3);
-    __pyx_t_3 = 0;
-    __pyx_t_3 = __Pyx_PyUnicode_Join(__pyx_t_4, 4, __pyx_t_5, __pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 95, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_8 = __Pyx_PyObject_FormatSimple(__pyx_v_res, __pyx_empty_unicode); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 104, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_8);
+    __pyx_t_7 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_8) > __pyx_t_7) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_8) : __pyx_t_7;
+    __pyx_t_6 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_8);
+    __Pyx_GIVEREF(__pyx_t_8);
+    PyTuple_SET_ITEM(__pyx_t_4, 3, __pyx_t_8);
+    __pyx_t_8 = 0;
+    __pyx_t_8 = __Pyx_PyUnicode_Join(__pyx_t_4, 4, __pyx_t_6, __pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 104, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_t_3); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 95, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyObject_AsWritableString(__pyx_t_8); if (unlikely((!__pyx_t_9) && PyErr_Occurred())) __PYX_ERR(0, 104, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":94
+    /* "capnp/lib/capnp.pyx":103
  *     res = task.result()
  *     if res is not None:
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(             # <<<<<<<<<<<<<<
  *             f"Async server function ({method_name}) returned a non-none value: return = {res}")))
  *     else:
  */
-    __pyx_v_fulfiller->fulfiller->reject(makeException( ::kj::StringPtr(__pyx_t_7)));
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_v_fulfiller->fulfiller->reject(makeException( ::kj::StringPtr(__pyx_t_9)));
+    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-    /* "capnp/lib/capnp.pyx":93
+    /* "capnp/lib/capnp.pyx":102
  * 
  *     res = task.result()
  *     if res is not None:             # <<<<<<<<<<<<<<
  *         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
  *             f"Async server function ({method_name}) returned a non-none value: return = {res}")))
  */
-    goto __pyx_L6;
+    goto __pyx_L8;
   }
 
-  /* "capnp/lib/capnp.pyx":97
+  /* "capnp/lib/capnp.pyx":106
  *             f"Async server function ({method_name}) returned a non-none value: return = {res}")))
  *     else:
  *         fulfiller.fulfiller.fulfill()             # <<<<<<<<<<<<<<
  * 
  * cdef api void promise_task_add_done_callback(object task, object callback, VoidPromiseFulfiller& fulfiller):
  */
   /*else*/ {
     __pyx_v_fulfiller->fulfiller->fulfill();
   }
-  __pyx_L6:;
+  __pyx_L8:;
 
   /* "capnp/lib/capnp.pyx":77
  *        return self
  * 
  * def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):             # <<<<<<<<<<<<<<
  *     if fulfiller.fulfiller == NULL:
- *         return
+ *         if not task.cancelled():
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4);
-  __Pyx_XDECREF(__pyx_t_9);
+  __Pyx_XDECREF(__pyx_t_8);
   __Pyx_XDECREF(__pyx_t_11);
   __Pyx_AddTraceback("capnp.lib.capnp.void_task_done_callback", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_exc);
+  __Pyx_XDECREF(__pyx_v_context);
   __Pyx_XDECREF(__pyx_v_res);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":99
+/* "capnp/lib/capnp.pyx":108
  *         fulfiller.fulfiller.fulfill()
  * 
  * cdef api void promise_task_add_done_callback(object task, object callback, VoidPromiseFulfiller& fulfiller):             # <<<<<<<<<<<<<<
  *     wrapper = _VoidPromiseFulfiller()._init(&fulfiller)
  *     task.add_done_callback(_partial(callback, wrapper))
  */
 
@@ -8754,39 +8949,39 @@
   int __pyx_t_6;
   PyObject *__pyx_t_7 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("promise_task_add_done_callback", 0);
 
-  /* "capnp/lib/capnp.pyx":100
+  /* "capnp/lib/capnp.pyx":109
  * 
  * cdef api void promise_task_add_done_callback(object task, object callback, VoidPromiseFulfiller& fulfiller):
  *     wrapper = _VoidPromiseFulfiller()._init(&fulfiller)             # <<<<<<<<<<<<<<
  *     task.add_done_callback(_partial(callback, wrapper))
  *     task._fulfiller = wrapper
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__VoidPromiseFulfiller)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 100, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__VoidPromiseFulfiller)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 109, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__VoidPromiseFulfiller *)((struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller *)__pyx_t_1), (&__pyx_v_fulfiller)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 100, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__VoidPromiseFulfiller *)((struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller *)__pyx_t_1), (&__pyx_v_fulfiller)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 109, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_wrapper = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":101
+  /* "capnp/lib/capnp.pyx":110
  * cdef api void promise_task_add_done_callback(object task, object callback, VoidPromiseFulfiller& fulfiller):
  *     wrapper = _VoidPromiseFulfiller()._init(&fulfiller)
  *     task.add_done_callback(_partial(callback, wrapper))             # <<<<<<<<<<<<<<
  *     task._fulfiller = wrapper
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_add_done_callback); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 101, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_add_done_callback); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 110, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_partial); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 101, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_partial); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 110, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __pyx_t_5 = NULL;
   __pyx_t_6 = 0;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_5)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
@@ -8795,40 +8990,40 @@
       __Pyx_DECREF_SET(__pyx_t_4, function);
       __pyx_t_6 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_4)) {
     PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_v_callback, __pyx_v_wrapper};
-    __pyx_t_3 = __Pyx_PyFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 101, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 110, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_GOTREF(__pyx_t_3);
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_4)) {
     PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_v_callback, __pyx_v_wrapper};
-    __pyx_t_3 = __Pyx_PyCFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 101, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyCFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 110, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_GOTREF(__pyx_t_3);
   } else
   #endif
   {
-    __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 101, __pyx_L1_error)
+    __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 110, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     if (__pyx_t_5) {
       __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_5); __pyx_t_5 = NULL;
     }
     __Pyx_INCREF(__pyx_v_callback);
     __Pyx_GIVEREF(__pyx_v_callback);
     PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_6, __pyx_v_callback);
     __Pyx_INCREF(__pyx_v_wrapper);
     __Pyx_GIVEREF(__pyx_v_wrapper);
     PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_6, __pyx_v_wrapper);
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_7, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 101, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_7, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 110, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
   }
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_1);
@@ -8838,29 +9033,29 @@
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_1, function);
     }
   }
   __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_4, __pyx_t_3) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 101, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 110, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":102
+  /* "capnp/lib/capnp.pyx":111
  *     wrapper = _VoidPromiseFulfiller()._init(&fulfiller)
  *     task.add_done_callback(_partial(callback, wrapper))
  *     task._fulfiller = wrapper             # <<<<<<<<<<<<<<
  * 
  * cdef api void promise_task_cancel(object task):
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_task, __pyx_n_s_fulfiller_2, __pyx_v_wrapper) < 0) __PYX_ERR(0, 102, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_task, __pyx_n_s_fulfiller_2, __pyx_v_wrapper) < 0) __PYX_ERR(0, 111, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":99
+  /* "capnp/lib/capnp.pyx":108
  *         fulfiller.fulfiller.fulfill()
  * 
  * cdef api void promise_task_add_done_callback(object task, object callback, VoidPromiseFulfiller& fulfiller):             # <<<<<<<<<<<<<<
  *     wrapper = _VoidPromiseFulfiller()._init(&fulfiller)
  *     task.add_done_callback(_partial(callback, wrapper))
  */
 
@@ -8875,15 +9070,15 @@
   __Pyx_XDECREF(__pyx_t_7);
   __Pyx_WriteUnraisable("capnp.lib.capnp.promise_task_add_done_callback", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_wrapper);
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":104
+/* "capnp/lib/capnp.pyx":113
  *     task._fulfiller = wrapper
  * 
  * cdef api void promise_task_cancel(object task):             # <<<<<<<<<<<<<<
  *     (<_VoidPromiseFulfiller>task._fulfiller).fulfiller = NULL
  *     task.cancel()
  */
 
@@ -8893,53 +9088,53 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("promise_task_cancel", 0);
 
-  /* "capnp/lib/capnp.pyx":105
+  /* "capnp/lib/capnp.pyx":114
  * 
  * cdef api void promise_task_cancel(object task):
  *     (<_VoidPromiseFulfiller>task._fulfiller).fulfiller = NULL             # <<<<<<<<<<<<<<
  *     task.cancel()
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_fulfiller_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 105, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_fulfiller_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 114, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   ((struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller *)__pyx_t_1)->fulfiller = NULL;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":106
+  /* "capnp/lib/capnp.pyx":115
  * cdef api void promise_task_cancel(object task):
  *     (<_VoidPromiseFulfiller>task._fulfiller).fulfiller = NULL
  *     task.cancel()             # <<<<<<<<<<<<<<
  * 
  * def fill_context(method_name, context, returned_data):
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_cancel); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 106, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_cancel); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 115, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 106, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 115, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":104
+  /* "capnp/lib/capnp.pyx":113
  *     task._fulfiller = wrapper
  * 
  * cdef api void promise_task_cancel(object task):             # <<<<<<<<<<<<<<
  *     (<_VoidPromiseFulfiller>task._fulfiller).fulfiller = NULL
  *     task.cancel()
  */
 
@@ -8950,15 +9145,15 @@
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3);
   __Pyx_WriteUnraisable("capnp.lib.capnp.promise_task_cancel", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":108
+/* "capnp/lib/capnp.pyx":117
  *     task.cancel()
  * 
  * def fill_context(method_name, context, returned_data):             # <<<<<<<<<<<<<<
  *     if returned_data is None:
  *         return
  */
 
@@ -8997,40 +9192,40 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_method_name)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_context)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("fill_context", 1, 3, 3, 1); __PYX_ERR(0, 108, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("fill_context", 1, 3, 3, 1); __PYX_ERR(0, 117, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_returned_data)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("fill_context", 1, 3, 3, 2); __PYX_ERR(0, 108, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("fill_context", 1, 3, 3, 2); __PYX_ERR(0, 117, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "fill_context") < 0)) __PYX_ERR(0, 108, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "fill_context") < 0)) __PYX_ERR(0, 117, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_method_name = values[0];
     __pyx_v_context = values[1];
     __pyx_v_returned_data = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("fill_context", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 108, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("fill_context", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 117, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp.fill_context", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_6fill_context(__pyx_self, __pyx_v_method_name, __pyx_v_context, __pyx_v_returned_data);
 
@@ -9064,140 +9259,140 @@
   int __pyx_t_16;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("fill_context", 0);
   __Pyx_INCREF(__pyx_v_returned_data);
 
-  /* "capnp/lib/capnp.pyx":109
+  /* "capnp/lib/capnp.pyx":118
  * 
  * def fill_context(method_name, context, returned_data):
  *     if returned_data is None:             # <<<<<<<<<<<<<<
  *         return
  *     if not isinstance(returned_data, tuple):
  */
   __pyx_t_1 = (__pyx_v_returned_data == Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":110
+    /* "capnp/lib/capnp.pyx":119
  * def fill_context(method_name, context, returned_data):
  *     if returned_data is None:
  *         return             # <<<<<<<<<<<<<<
  *     if not isinstance(returned_data, tuple):
  *         returned_data = (returned_data,)
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":109
+    /* "capnp/lib/capnp.pyx":118
  * 
  * def fill_context(method_name, context, returned_data):
  *     if returned_data is None:             # <<<<<<<<<<<<<<
  *         return
  *     if not isinstance(returned_data, tuple):
  */
   }
 
-  /* "capnp/lib/capnp.pyx":111
+  /* "capnp/lib/capnp.pyx":120
  *     if returned_data is None:
  *         return
  *     if not isinstance(returned_data, tuple):             # <<<<<<<<<<<<<<
  *         returned_data = (returned_data,)
  *     names = _find_field_order(context.results.schema.node.struct)
  */
   __pyx_t_2 = PyTuple_Check(__pyx_v_returned_data); 
   __pyx_t_1 = ((!(__pyx_t_2 != 0)) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":112
+    /* "capnp/lib/capnp.pyx":121
  *         return
  *     if not isinstance(returned_data, tuple):
  *         returned_data = (returned_data,)             # <<<<<<<<<<<<<<
  *     names = _find_field_order(context.results.schema.node.struct)
  *     if len(returned_data) > len(names):
  */
-    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 112, __pyx_L1_error)
+    __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 121, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_INCREF(__pyx_v_returned_data);
     __Pyx_GIVEREF(__pyx_v_returned_data);
     PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_returned_data);
     __Pyx_DECREF_SET(__pyx_v_returned_data, __pyx_t_3);
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":111
+    /* "capnp/lib/capnp.pyx":120
  *     if returned_data is None:
  *         return
  *     if not isinstance(returned_data, tuple):             # <<<<<<<<<<<<<<
  *         returned_data = (returned_data,)
  *     names = _find_field_order(context.results.schema.node.struct)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":113
+  /* "capnp/lib/capnp.pyx":122
  *     if not isinstance(returned_data, tuple):
  *         returned_data = (returned_data,)
  *     names = _find_field_order(context.results.schema.node.struct)             # <<<<<<<<<<<<<<
  *     if len(returned_data) > len(names):
  *         raise KjException(
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_context, __pyx_n_s_results); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 113, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_context, __pyx_n_s_results); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 122, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_schema); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 113, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_schema); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 122, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_node); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 113, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_node); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 122, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_struct); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 113, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_struct); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 122, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__find_field_order(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 113, __pyx_L1_error)
+  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__find_field_order(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 122, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_v_names = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":114
+  /* "capnp/lib/capnp.pyx":123
  *         returned_data = (returned_data,)
  *     names = _find_field_order(context.results.schema.node.struct)
  *     if len(returned_data) > len(names):             # <<<<<<<<<<<<<<
  *         raise KjException(
  *             "Too many values returned from `{}`. Expected {} and got {}"
  */
-  __pyx_t_5 = PyObject_Length(__pyx_v_returned_data); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 114, __pyx_L1_error)
-  __pyx_t_6 = PyObject_Length(__pyx_v_names); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 114, __pyx_L1_error)
+  __pyx_t_5 = PyObject_Length(__pyx_v_returned_data); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 123, __pyx_L1_error)
+  __pyx_t_6 = PyObject_Length(__pyx_v_names); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 123, __pyx_L1_error)
   __pyx_t_1 = ((__pyx_t_5 > __pyx_t_6) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":115
+    /* "capnp/lib/capnp.pyx":124
  *     names = _find_field_order(context.results.schema.node.struct)
  *     if len(returned_data) > len(names):
  *         raise KjException(             # <<<<<<<<<<<<<<
  *             "Too many values returned from `{}`. Expected {} and got {}"
  *             .format(method_name, len(names), len(returned_data)))
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 115, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 124, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
 
-    /* "capnp/lib/capnp.pyx":117
+    /* "capnp/lib/capnp.pyx":126
  *         raise KjException(
  *             "Too many values returned from `{}`. Expected {} and got {}"
  *             .format(method_name, len(names), len(returned_data)))             # <<<<<<<<<<<<<<
  * 
  *     results = context.results
  */
-    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Too_many_values_returned_from_Ex, __pyx_n_s_format); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 117, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Too_many_values_returned_from_Ex, __pyx_n_s_format); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 126, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
-    __pyx_t_6 = PyObject_Length(__pyx_v_names); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 117, __pyx_L1_error)
-    __pyx_t_9 = PyInt_FromSsize_t(__pyx_t_6); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 117, __pyx_L1_error)
+    __pyx_t_6 = PyObject_Length(__pyx_v_names); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 126, __pyx_L1_error)
+    __pyx_t_9 = PyInt_FromSsize_t(__pyx_t_6); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 126, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
-    __pyx_t_6 = PyObject_Length(__pyx_v_returned_data); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 117, __pyx_L1_error)
-    __pyx_t_10 = PyInt_FromSsize_t(__pyx_t_6); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 117, __pyx_L1_error)
+    __pyx_t_6 = PyObject_Length(__pyx_v_returned_data); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 126, __pyx_L1_error)
+    __pyx_t_10 = PyInt_FromSsize_t(__pyx_t_6); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 126, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_10);
     __pyx_t_11 = NULL;
     __pyx_t_12 = 0;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
       __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_8);
       if (likely(__pyx_t_11)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
@@ -9206,47 +9401,47 @@
         __Pyx_DECREF_SET(__pyx_t_8, function);
         __pyx_t_12 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_8)) {
       PyObject *__pyx_temp[4] = {__pyx_t_11, __pyx_v_method_name, __pyx_t_9, __pyx_t_10};
-      __pyx_t_7 = __Pyx_PyFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_12, 3+__pyx_t_12); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 117, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_12, 3+__pyx_t_12); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 126, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_8)) {
       PyObject *__pyx_temp[4] = {__pyx_t_11, __pyx_v_method_name, __pyx_t_9, __pyx_t_10};
-      __pyx_t_7 = __Pyx_PyCFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_12, 3+__pyx_t_12); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 117, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyCFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_12, 3+__pyx_t_12); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 126, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
     } else
     #endif
     {
-      __pyx_t_13 = PyTuple_New(3+__pyx_t_12); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 117, __pyx_L1_error)
+      __pyx_t_13 = PyTuple_New(3+__pyx_t_12); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 126, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_13);
       if (__pyx_t_11) {
         __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_13, 0, __pyx_t_11); __pyx_t_11 = NULL;
       }
       __Pyx_INCREF(__pyx_v_method_name);
       __Pyx_GIVEREF(__pyx_v_method_name);
       PyTuple_SET_ITEM(__pyx_t_13, 0+__pyx_t_12, __pyx_v_method_name);
       __Pyx_GIVEREF(__pyx_t_9);
       PyTuple_SET_ITEM(__pyx_t_13, 1+__pyx_t_12, __pyx_t_9);
       __Pyx_GIVEREF(__pyx_t_10);
       PyTuple_SET_ITEM(__pyx_t_13, 2+__pyx_t_12, __pyx_t_10);
       __pyx_t_9 = 0;
       __pyx_t_10 = 0;
-      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_13, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 117, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_13, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 126, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
     }
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     __pyx_t_8 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_4);
@@ -9256,171 +9451,171 @@
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_3 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_8, __pyx_t_7) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_7);
     __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 115, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 124, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(0, 115, __pyx_L1_error)
+    __PYX_ERR(0, 124, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":114
+    /* "capnp/lib/capnp.pyx":123
  *         returned_data = (returned_data,)
  *     names = _find_field_order(context.results.schema.node.struct)
  *     if len(returned_data) > len(names):             # <<<<<<<<<<<<<<
  *         raise KjException(
  *             "Too many values returned from `{}`. Expected {} and got {}"
  */
   }
 
-  /* "capnp/lib/capnp.pyx":119
+  /* "capnp/lib/capnp.pyx":128
  *             .format(method_name, len(names), len(returned_data)))
  * 
  *     results = context.results             # <<<<<<<<<<<<<<
  *     for arg_name, arg_val in zip(names, returned_data):
  *         setattr(results, arg_name, arg_val)
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_context, __pyx_n_s_results); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 119, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_context, __pyx_n_s_results); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 128, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_v_results = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":120
+  /* "capnp/lib/capnp.pyx":129
  * 
  *     results = context.results
  *     for arg_name, arg_val in zip(names, returned_data):             # <<<<<<<<<<<<<<
  *         setattr(results, arg_name, arg_val)
  * 
  */
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 120, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 129, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_INCREF(__pyx_v_names);
   __Pyx_GIVEREF(__pyx_v_names);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_names);
   __Pyx_INCREF(__pyx_v_returned_data);
   __Pyx_GIVEREF(__pyx_v_returned_data);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_v_returned_data);
-  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_zip, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 120, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_zip, __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 129, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (likely(PyList_CheckExact(__pyx_t_4)) || PyTuple_CheckExact(__pyx_t_4)) {
     __pyx_t_3 = __pyx_t_4; __Pyx_INCREF(__pyx_t_3); __pyx_t_6 = 0;
     __pyx_t_14 = NULL;
   } else {
-    __pyx_t_6 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 120, __pyx_L1_error)
+    __pyx_t_6 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 129, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_14 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 120, __pyx_L1_error)
+    __pyx_t_14 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 129, __pyx_L1_error)
   }
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   for (;;) {
     if (likely(!__pyx_t_14)) {
       if (likely(PyList_CheckExact(__pyx_t_3))) {
         if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_6); __Pyx_INCREF(__pyx_t_4); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 120, __pyx_L1_error)
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_6); __Pyx_INCREF(__pyx_t_4); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 129, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 120, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 129, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       } else {
         if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_6); __Pyx_INCREF(__pyx_t_4); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 120, __pyx_L1_error)
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_6); __Pyx_INCREF(__pyx_t_4); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 129, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 120, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 129, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       }
     } else {
       __pyx_t_4 = __pyx_t_14(__pyx_t_3);
       if (unlikely(!__pyx_t_4)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 120, __pyx_L1_error)
+          else __PYX_ERR(0, 129, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_4);
     }
     if ((likely(PyTuple_CheckExact(__pyx_t_4))) || (PyList_CheckExact(__pyx_t_4))) {
       PyObject* sequence = __pyx_t_4;
       Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
       if (unlikely(size != 2)) {
         if (size > 2) __Pyx_RaiseTooManyValuesError(2);
         else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-        __PYX_ERR(0, 120, __pyx_L1_error)
+        __PYX_ERR(0, 129, __pyx_L1_error)
       }
       #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
       if (likely(PyTuple_CheckExact(sequence))) {
         __pyx_t_7 = PyTuple_GET_ITEM(sequence, 0); 
         __pyx_t_8 = PyTuple_GET_ITEM(sequence, 1); 
       } else {
         __pyx_t_7 = PyList_GET_ITEM(sequence, 0); 
         __pyx_t_8 = PyList_GET_ITEM(sequence, 1); 
       }
       __Pyx_INCREF(__pyx_t_7);
       __Pyx_INCREF(__pyx_t_8);
       #else
-      __pyx_t_7 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 120, __pyx_L1_error)
+      __pyx_t_7 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 129, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_8 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 120, __pyx_L1_error)
+      __pyx_t_8 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 129, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       #endif
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     } else {
       Py_ssize_t index = -1;
-      __pyx_t_13 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 120, __pyx_L1_error)
+      __pyx_t_13 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 129, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __pyx_t_15 = Py_TYPE(__pyx_t_13)->tp_iternext;
       index = 0; __pyx_t_7 = __pyx_t_15(__pyx_t_13); if (unlikely(!__pyx_t_7)) goto __pyx_L8_unpacking_failed;
       __Pyx_GOTREF(__pyx_t_7);
       index = 1; __pyx_t_8 = __pyx_t_15(__pyx_t_13); if (unlikely(!__pyx_t_8)) goto __pyx_L8_unpacking_failed;
       __Pyx_GOTREF(__pyx_t_8);
-      if (__Pyx_IternextUnpackEndCheck(__pyx_t_15(__pyx_t_13), 2) < 0) __PYX_ERR(0, 120, __pyx_L1_error)
+      if (__Pyx_IternextUnpackEndCheck(__pyx_t_15(__pyx_t_13), 2) < 0) __PYX_ERR(0, 129, __pyx_L1_error)
       __pyx_t_15 = NULL;
       __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
       goto __pyx_L9_unpacking_done;
       __pyx_L8_unpacking_failed:;
       __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
       __pyx_t_15 = NULL;
       if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-      __PYX_ERR(0, 120, __pyx_L1_error)
+      __PYX_ERR(0, 129, __pyx_L1_error)
       __pyx_L9_unpacking_done:;
     }
     __Pyx_XDECREF_SET(__pyx_v_arg_name, __pyx_t_7);
     __pyx_t_7 = 0;
     __Pyx_XDECREF_SET(__pyx_v_arg_val, __pyx_t_8);
     __pyx_t_8 = 0;
 
-    /* "capnp/lib/capnp.pyx":121
+    /* "capnp/lib/capnp.pyx":130
  *     results = context.results
  *     for arg_name, arg_val in zip(names, returned_data):
  *         setattr(results, arg_name, arg_val)             # <<<<<<<<<<<<<<
  * 
  * cdef api VoidPromise * call_server_method(object server,
  */
-    __pyx_t_16 = PyObject_SetAttr(__pyx_v_results, __pyx_v_arg_name, __pyx_v_arg_val); if (unlikely(__pyx_t_16 == ((int)-1))) __PYX_ERR(0, 121, __pyx_L1_error)
+    __pyx_t_16 = PyObject_SetAttr(__pyx_v_results, __pyx_v_arg_name, __pyx_v_arg_val); if (unlikely(__pyx_t_16 == ((int)-1))) __PYX_ERR(0, 130, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":120
+    /* "capnp/lib/capnp.pyx":129
  * 
  *     results = context.results
  *     for arg_name, arg_val in zip(names, returned_data):             # <<<<<<<<<<<<<<
  *         setattr(results, arg_name, arg_val)
  * 
  */
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":108
+  /* "capnp/lib/capnp.pyx":117
  *     task.cancel()
  * 
  * def fill_context(method_name, context, returned_data):             # <<<<<<<<<<<<<<
  *     if returned_data is None:
  *         return
  */
 
@@ -9446,15 +9641,15 @@
   __Pyx_XDECREF(__pyx_v_returned_data);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_18call_server_method_2generator10(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":141
+/* "capnp/lib/capnp.pyx":150
  *         task = asyncio.create_task(ret)
  *     else:
  *         async def finalize():             # <<<<<<<<<<<<<<
  *             params = context.params
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}
  */
 
@@ -9480,23 +9675,23 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("finalize", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 141, __pyx_L1_error)
+    __PYX_ERR(0, 150, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method *) __Pyx_CyFunction_GetClosure(__pyx_self);
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_18call_server_method_2generator10, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_finalize, __pyx_n_s_call_server_method_locals_finali, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 141, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_18call_server_method_2generator10, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_finalize, __pyx_n_s_call_server_method_locals_finali, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 150, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -9531,190 +9726,190 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L7_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 141, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 150, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":142
+  /* "capnp/lib/capnp.pyx":151
  *     else:
  *         async def finalize():
  *             params = context.params             # <<<<<<<<<<<<<<
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}
  *             params_dict['_context'] = context
  */
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context)) { __Pyx_RaiseClosureNameError("context"); __PYX_ERR(0, 142, __pyx_L1_error) }
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context, __pyx_n_s_params); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 142, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context)) { __Pyx_RaiseClosureNameError("context"); __PYX_ERR(0, 151, __pyx_L1_error) }
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context, __pyx_n_s_params); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 151, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_params = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":143
+  /* "capnp/lib/capnp.pyx":152
  *         async def finalize():
  *             params = context.params
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}             # <<<<<<<<<<<<<<
  *             params_dict['_context'] = context
  *             func = getattr(server, method_name) # will raise if no function found
  */
   { /* enter inner scope */
-    __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 143, __pyx_L1_error)
+    __pyx_t_1 = PyDict_New(); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 152, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_params, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 143, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_params, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 152, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 143, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 152, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     if (likely(PyList_CheckExact(__pyx_t_3)) || PyTuple_CheckExact(__pyx_t_3)) {
       __pyx_t_2 = __pyx_t_3; __Pyx_INCREF(__pyx_t_2); __pyx_t_4 = 0;
       __pyx_t_5 = NULL;
     } else {
-      __pyx_t_4 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 143, __pyx_L1_error)
+      __pyx_t_4 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 152, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __pyx_t_5 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 143, __pyx_L1_error)
+      __pyx_t_5 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 152, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     for (;;) {
       if (likely(!__pyx_t_5)) {
         if (likely(PyList_CheckExact(__pyx_t_2))) {
           if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_2)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_3 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 143, __pyx_L1_error)
+          __pyx_t_3 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 152, __pyx_L1_error)
           #else
-          __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 143, __pyx_L1_error)
+          __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 152, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_3);
           #endif
         } else {
           if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 143, __pyx_L1_error)
+          __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 152, __pyx_L1_error)
           #else
-          __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 143, __pyx_L1_error)
+          __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 152, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_3);
           #endif
         }
       } else {
         __pyx_t_3 = __pyx_t_5(__pyx_t_2);
         if (unlikely(!__pyx_t_3)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(0, 143, __pyx_L1_error)
+            else __PYX_ERR(0, 152, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_3);
       }
       __Pyx_XGOTREF(__pyx_cur_scope->__pyx_7genexpr__pyx_v_name);
       __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_7genexpr__pyx_v_name, __pyx_t_3);
       __Pyx_GIVEREF(__pyx_t_3);
       __pyx_t_3 = 0;
-      __pyx_t_3 = __Pyx_GetAttr(__pyx_cur_scope->__pyx_v_params, __pyx_cur_scope->__pyx_7genexpr__pyx_v_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 143, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_GetAttr(__pyx_cur_scope->__pyx_v_params, __pyx_cur_scope->__pyx_7genexpr__pyx_v_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 152, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      if (unlikely(PyDict_SetItem(__pyx_t_1, (PyObject*)__pyx_cur_scope->__pyx_7genexpr__pyx_v_name, (PyObject*)__pyx_t_3))) __PYX_ERR(0, 143, __pyx_L1_error)
+      if (unlikely(PyDict_SetItem(__pyx_t_1, (PyObject*)__pyx_cur_scope->__pyx_7genexpr__pyx_v_name, (PyObject*)__pyx_t_3))) __PYX_ERR(0, 152, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     }
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   } /* exit inner scope */
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_params_dict = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":144
+  /* "capnp/lib/capnp.pyx":153
  *             params = context.params
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}
  *             params_dict['_context'] = context             # <<<<<<<<<<<<<<
  *             func = getattr(server, method_name) # will raise if no function found
  *             ret = func(**params_dict)
  */
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context)) { __Pyx_RaiseClosureNameError("context"); __PYX_ERR(0, 144, __pyx_L1_error) }
-  if (unlikely(PyDict_SetItem(__pyx_cur_scope->__pyx_v_params_dict, __pyx_n_s_context_2, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_context) < 0)) __PYX_ERR(0, 144, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context)) { __Pyx_RaiseClosureNameError("context"); __PYX_ERR(0, 153, __pyx_L1_error) }
+  if (unlikely(PyDict_SetItem(__pyx_cur_scope->__pyx_v_params_dict, __pyx_n_s_context_2, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_context) < 0)) __PYX_ERR(0, 153, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":145
+  /* "capnp/lib/capnp.pyx":154
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}
  *             params_dict['_context'] = context
  *             func = getattr(server, method_name) # will raise if no function found             # <<<<<<<<<<<<<<
  *             ret = func(**params_dict)
  *             if not asyncio.iscoroutine(ret):
  */
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_server)) { __Pyx_RaiseClosureNameError("server"); __PYX_ERR(0, 145, __pyx_L1_error) }
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_server)) { __Pyx_RaiseClosureNameError("server"); __PYX_ERR(0, 154, __pyx_L1_error) }
   __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_server;
   __Pyx_INCREF(__pyx_t_1);
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name)) { __Pyx_RaiseClosureNameError("method_name"); __PYX_ERR(0, 145, __pyx_L1_error) }
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name)) { __Pyx_RaiseClosureNameError("method_name"); __PYX_ERR(0, 154, __pyx_L1_error) }
   __pyx_t_2 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_GetAttr(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 145, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_GetAttr(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 154, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_cur_scope->__pyx_v_func = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":146
+  /* "capnp/lib/capnp.pyx":155
  *             params_dict['_context'] = context
  *             func = getattr(server, method_name) # will raise if no function found
  *             ret = func(**params_dict)             # <<<<<<<<<<<<<<
  *             if not asyncio.iscoroutine(ret):
  *                 raise ValueError(
  */
-  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_params_dict); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 146, __pyx_L1_error)
+  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_params_dict); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 155, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_cur_scope->__pyx_v_func, __pyx_empty_tuple, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 146, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_cur_scope->__pyx_v_func, __pyx_empty_tuple, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 155, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_cur_scope->__pyx_v_ret = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":147
+  /* "capnp/lib/capnp.pyx":156
  *             func = getattr(server, method_name) # will raise if no function found
  *             ret = func(**params_dict)
  *             if not asyncio.iscoroutine(ret):             # <<<<<<<<<<<<<<
  *                 raise ValueError(
  *                     "Server function ({}) is not a coroutine"
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 147, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 156, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_iscoroutine); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 147, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_iscoroutine); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 156, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_1, function);
     }
   }
   __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_3, __pyx_cur_scope->__pyx_v_ret) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_cur_scope->__pyx_v_ret);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 147, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 156, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 147, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_6 < 0)) __PYX_ERR(0, 156, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_7 = ((!__pyx_t_6) != 0);
   if (unlikely(__pyx_t_7)) {
 
-    /* "capnp/lib/capnp.pyx":150
+    /* "capnp/lib/capnp.pyx":159
  *                 raise ValueError(
  *                     "Server function ({}) is not a coroutine"
  *                     .format(method_name, str(ret)))             # <<<<<<<<<<<<<<
  *             fill_context(method_name, context, await ret)
  *         task = asyncio.create_task(finalize())
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Server_function_is_not_a_corouti, __pyx_n_s_format); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 150, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Server_function_is_not_a_corouti, __pyx_n_s_format); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 159, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name)) { __Pyx_RaiseClosureNameError("method_name"); __PYX_ERR(0, 150, __pyx_L1_error) }
-    __pyx_t_3 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_cur_scope->__pyx_v_ret); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 150, __pyx_L1_error)
+    if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name)) { __Pyx_RaiseClosureNameError("method_name"); __PYX_ERR(0, 159, __pyx_L1_error) }
+    __pyx_t_3 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_cur_scope->__pyx_v_ret); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 159, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_8 = NULL;
     __pyx_t_9 = 0;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_8)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
@@ -9723,81 +9918,81 @@
         __Pyx_DECREF_SET(__pyx_t_1, function);
         __pyx_t_9 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_1)) {
       PyObject *__pyx_temp[3] = {__pyx_t_8, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name, __pyx_t_3};
-      __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_9, 2+__pyx_t_9); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 150, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_9, 2+__pyx_t_9); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 159, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_1)) {
       PyObject *__pyx_temp[3] = {__pyx_t_8, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name, __pyx_t_3};
-      __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_9, 2+__pyx_t_9); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 150, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_9, 2+__pyx_t_9); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 159, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     } else
     #endif
     {
-      __pyx_t_10 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 150, __pyx_L1_error)
+      __pyx_t_10 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 159, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_10);
       if (__pyx_t_8) {
         __Pyx_GIVEREF(__pyx_t_8); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_8); __pyx_t_8 = NULL;
       }
       __Pyx_INCREF(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name);
       __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name);
       PyTuple_SET_ITEM(__pyx_t_10, 0+__pyx_t_9, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name);
       __Pyx_GIVEREF(__pyx_t_3);
       PyTuple_SET_ITEM(__pyx_t_10, 1+__pyx_t_9, __pyx_t_3);
       __pyx_t_3 = 0;
-      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_10, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 150, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_10, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 159, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
     }
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":148
+    /* "capnp/lib/capnp.pyx":157
  *             ret = func(**params_dict)
  *             if not asyncio.iscoroutine(ret):
  *                 raise ValueError(             # <<<<<<<<<<<<<<
  *                     "Server function ({}) is not a coroutine"
  *                     .format(method_name, str(ret)))
  */
-    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 148, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 157, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 148, __pyx_L1_error)
+    __PYX_ERR(0, 157, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":147
+    /* "capnp/lib/capnp.pyx":156
  *             func = getattr(server, method_name) # will raise if no function found
  *             ret = func(**params_dict)
  *             if not asyncio.iscoroutine(ret):             # <<<<<<<<<<<<<<
  *                 raise ValueError(
  *                     "Server function ({}) is not a coroutine"
  */
   }
 
-  /* "capnp/lib/capnp.pyx":151
+  /* "capnp/lib/capnp.pyx":160
  *                     "Server function ({}) is not a coroutine"
  *                     .format(method_name, str(ret)))
  *             fill_context(method_name, context, await ret)             # <<<<<<<<<<<<<<
  *         task = asyncio.create_task(finalize())
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_fill_context); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 151, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_fill_context); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 160, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name)) { __Pyx_RaiseClosureNameError("method_name"); __PYX_ERR(0, 151, __pyx_L1_error) }
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context)) { __Pyx_RaiseClosureNameError("context"); __PYX_ERR(0, 151, __pyx_L1_error) }
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name)) { __Pyx_RaiseClosureNameError("method_name"); __PYX_ERR(0, 160, __pyx_L1_error) }
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context)) { __Pyx_RaiseClosureNameError("context"); __PYX_ERR(0, 160, __pyx_L1_error) }
   __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_cur_scope->__pyx_v_ret);
   __Pyx_XGOTREF(__pyx_r);
   if (likely(__pyx_r)) {
     __Pyx_XGIVEREF(__pyx_t_1);
     __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
     __Pyx_XGIVEREF(__pyx_t_2);
     __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
@@ -9810,19 +10005,19 @@
     __pyx_L7_resume_from_await:;
     __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
     __pyx_cur_scope->__pyx_t_0 = 0;
     __Pyx_XGOTREF(__pyx_t_1);
     __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
     __pyx_cur_scope->__pyx_t_1 = 0;
     __Pyx_XGOTREF(__pyx_t_2);
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 151, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 160, __pyx_L1_error)
     __pyx_t_10 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_10);
   } else {
     __pyx_t_10 = NULL;
-    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_10) < 0) __PYX_ERR(0, 151, __pyx_L1_error)
+    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_10) < 0) __PYX_ERR(0, 160, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_10);
   }
   __pyx_t_3 = NULL;
   __pyx_t_9 = 0;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
@@ -9832,53 +10027,53 @@
       __Pyx_DECREF_SET(__pyx_t_2, function);
       __pyx_t_9 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[4] = {__pyx_t_3, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_context, __pyx_t_10};
-    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_9, 3+__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 151, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_9, 3+__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 160, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[4] = {__pyx_t_3, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_context, __pyx_t_10};
-    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_9, 3+__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 151, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_9, 3+__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 160, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
   } else
   #endif
   {
-    __pyx_t_8 = PyTuple_New(3+__pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 151, __pyx_L1_error)
+    __pyx_t_8 = PyTuple_New(3+__pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 160, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     if (__pyx_t_3) {
       __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_3); __pyx_t_3 = NULL;
     }
     __Pyx_INCREF(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name);
     __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name);
     PyTuple_SET_ITEM(__pyx_t_8, 0+__pyx_t_9, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_method_name);
     __Pyx_INCREF(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context);
     __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_context);
     PyTuple_SET_ITEM(__pyx_t_8, 1+__pyx_t_9, __pyx_cur_scope->__pyx_outer_scope->__pyx_v_context);
     __Pyx_GIVEREF(__pyx_t_10);
     PyTuple_SET_ITEM(__pyx_t_8, 2+__pyx_t_9, __pyx_t_10);
     __pyx_t_10 = 0;
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 151, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_8, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 160, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":141
+  /* "capnp/lib/capnp.pyx":150
  *         task = asyncio.create_task(ret)
  *     else:
  *         async def finalize():             # <<<<<<<<<<<<<<
  *             params = context.params
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}
  */
 
@@ -9899,15 +10094,15 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":123
+/* "capnp/lib/capnp.pyx":132
  *         setattr(results, arg_name, arg_val)
  * 
  * cdef api VoidPromise * call_server_method(object server,             # <<<<<<<<<<<<<<
  *                                           char * _method_name,
  *                                           CallContext & _context,
  */
 
@@ -9937,108 +10132,108 @@
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("call_server_method", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 123, __pyx_L1_error)
+    __PYX_ERR(0, 132, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_server = __pyx_v_server;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_server);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_server);
   __Pyx_INCREF(__pyx_v__kj_loop);
 
-  /* "capnp/lib/capnp.pyx":127
+  /* "capnp/lib/capnp.pyx":136
  *                                           CallContext & _context,
  *                                           object _kj_loop) except * with gil:
  *     method_name = <object>_method_name             # <<<<<<<<<<<<<<
  *     kj_loop = <_EventLoop>_kj_loop
  *     kj_loop.check()
  */
-  __pyx_t_1 = __Pyx_PyStr_FromString(__pyx_v__method_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 127, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(__pyx_v__method_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 136, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __pyx_t_1;
   __Pyx_INCREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_cur_scope->__pyx_v_method_name = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":128
+  /* "capnp/lib/capnp.pyx":137
  *                                           object _kj_loop) except * with gil:
  *     method_name = <object>_method_name
  *     kj_loop = <_EventLoop>_kj_loop             # <<<<<<<<<<<<<<
  *     kj_loop.check()
  * 
  */
   __pyx_t_2 = __pyx_v__kj_loop;
   __Pyx_INCREF(__pyx_t_2);
   __pyx_v_kj_loop = ((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":129
+  /* "capnp/lib/capnp.pyx":138
  *     method_name = <object>_method_name
  *     kj_loop = <_EventLoop>_kj_loop
  *     kj_loop.check()             # <<<<<<<<<<<<<<
  * 
  *     context = _CallContext()._init(_context) # TODO:MEMORY: invalidate this with promise chain
  */
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)__pyx_v_kj_loop->__pyx_vtab)->check(__pyx_v_kj_loop); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 129, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)__pyx_v_kj_loop->__pyx_vtab)->check(__pyx_v_kj_loop); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 138, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":131
+  /* "capnp/lib/capnp.pyx":140
  *     kj_loop.check()
  * 
  *     context = _CallContext()._init(_context) # TODO:MEMORY: invalidate this with promise chain             # <<<<<<<<<<<<<<
  *     func = getattr(server, method_name+'_context', None)
  *     if func is not None:
  */
-  __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__CallContext)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 131, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__CallContext)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 140, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__CallContext *)((struct __pyx_obj_5capnp_3lib_5capnp__CallContext *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__CallContext *)__pyx_t_2), __pyx_v__context); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 131, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__CallContext *)((struct __pyx_obj_5capnp_3lib_5capnp__CallContext *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__CallContext *)__pyx_t_2), __pyx_v__context); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 140, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_context = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":132
+  /* "capnp/lib/capnp.pyx":141
  * 
  *     context = _CallContext()._init(_context) # TODO:MEMORY: invalidate this with promise chain
  *     func = getattr(server, method_name+'_context', None)             # <<<<<<<<<<<<<<
  *     if func is not None:
  *         ret = func(context)
  */
   __pyx_t_1 = __pyx_cur_scope->__pyx_v_server;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = PyNumber_Add(__pyx_cur_scope->__pyx_v_method_name, __pyx_n_s_context_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 132, __pyx_L1_error)
+  __pyx_t_2 = PyNumber_Add(__pyx_cur_scope->__pyx_v_method_name, __pyx_n_s_context_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 141, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_GetAttr3(__pyx_t_1, __pyx_t_2, Py_None); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 132, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_GetAttr3(__pyx_t_1, __pyx_t_2, Py_None); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 141, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_func = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":133
+  /* "capnp/lib/capnp.pyx":142
  *     context = _CallContext()._init(_context) # TODO:MEMORY: invalidate this with promise chain
  *     func = getattr(server, method_name+'_context', None)
  *     if func is not None:             # <<<<<<<<<<<<<<
  *         ret = func(context)
  *         if not asyncio.iscoroutine(ret):
  */
   __pyx_t_4 = (__pyx_v_func != Py_None);
   __pyx_t_5 = (__pyx_t_4 != 0);
   if (__pyx_t_5) {
 
-    /* "capnp/lib/capnp.pyx":134
+    /* "capnp/lib/capnp.pyx":143
  *     func = getattr(server, method_name+'_context', None)
  *     if func is not None:
  *         ret = func(context)             # <<<<<<<<<<<<<<
  *         if not asyncio.iscoroutine(ret):
  *             raise ValueError(
  */
     __Pyx_INCREF(__pyx_v_func);
@@ -10050,62 +10245,62 @@
         __Pyx_INCREF(__pyx_t_1);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_3 = (__pyx_t_1) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_1, __pyx_cur_scope->__pyx_v_context) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_cur_scope->__pyx_v_context);
     __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 134, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 143, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_v_ret = __pyx_t_3;
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":135
+    /* "capnp/lib/capnp.pyx":144
  *     if func is not None:
  *         ret = func(context)
  *         if not asyncio.iscoroutine(ret):             # <<<<<<<<<<<<<<
  *             raise ValueError(
  *                 "Server function ({}) is not a coroutine"
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 135, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 144, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_iscoroutine); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 135, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_iscoroutine); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 144, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_t_2 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_2)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_2);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_3 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_2, __pyx_v_ret) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_ret);
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 135, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 144, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 135, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 144, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_4 = ((!__pyx_t_5) != 0);
     if (unlikely(__pyx_t_4)) {
 
-      /* "capnp/lib/capnp.pyx":138
+      /* "capnp/lib/capnp.pyx":147
  *             raise ValueError(
  *                 "Server function ({}) is not a coroutine"
  *                 .format(method_name, str(ret)))             # <<<<<<<<<<<<<<
  *         task = asyncio.create_task(ret)
  *     else:
  */
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Server_function_is_not_a_corouti, __pyx_n_s_format); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 138, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Server_function_is_not_a_corouti, __pyx_n_s_format); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 147, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_ret); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 138, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_ret); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 147, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
       __pyx_t_6 = NULL;
       __pyx_t_7 = 0;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
         __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_1);
         if (likely(__pyx_t_6)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
@@ -10114,194 +10309,194 @@
           __Pyx_DECREF_SET(__pyx_t_1, function);
           __pyx_t_7 = 1;
         }
       }
       #if CYTHON_FAST_PYCALL
       if (PyFunction_Check(__pyx_t_1)) {
         PyObject *__pyx_temp[3] = {__pyx_t_6, __pyx_cur_scope->__pyx_v_method_name, __pyx_t_2};
-        __pyx_t_3 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 138, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 147, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       } else
       #endif
       #if CYTHON_FAST_PYCCALL
       if (__Pyx_PyFastCFunction_Check(__pyx_t_1)) {
         PyObject *__pyx_temp[3] = {__pyx_t_6, __pyx_cur_scope->__pyx_v_method_name, __pyx_t_2};
-        __pyx_t_3 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 138, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 147, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       } else
       #endif
       {
-        __pyx_t_8 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 138, __pyx_L1_error)
+        __pyx_t_8 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 147, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_8);
         if (__pyx_t_6) {
           __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_8, 0, __pyx_t_6); __pyx_t_6 = NULL;
         }
         __Pyx_INCREF(__pyx_cur_scope->__pyx_v_method_name);
         __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_method_name);
         PyTuple_SET_ITEM(__pyx_t_8, 0+__pyx_t_7, __pyx_cur_scope->__pyx_v_method_name);
         __Pyx_GIVEREF(__pyx_t_2);
         PyTuple_SET_ITEM(__pyx_t_8, 1+__pyx_t_7, __pyx_t_2);
         __pyx_t_2 = 0;
-        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_8, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 138, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_8, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 147, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       }
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":136
+      /* "capnp/lib/capnp.pyx":145
  *         ret = func(context)
  *         if not asyncio.iscoroutine(ret):
  *             raise ValueError(             # <<<<<<<<<<<<<<
  *                 "Server function ({}) is not a coroutine"
  *                 .format(method_name, str(ret)))
  */
-      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 136, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 145, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_Raise(__pyx_t_1, 0, 0, 0);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-      __PYX_ERR(0, 136, __pyx_L1_error)
+      __PYX_ERR(0, 145, __pyx_L1_error)
 
-      /* "capnp/lib/capnp.pyx":135
+      /* "capnp/lib/capnp.pyx":144
  *     if func is not None:
  *         ret = func(context)
  *         if not asyncio.iscoroutine(ret):             # <<<<<<<<<<<<<<
  *             raise ValueError(
  *                 "Server function ({}) is not a coroutine"
  */
     }
 
-    /* "capnp/lib/capnp.pyx":139
+    /* "capnp/lib/capnp.pyx":148
  *                 "Server function ({}) is not a coroutine"
  *                 .format(method_name, str(ret)))
  *         task = asyncio.create_task(ret)             # <<<<<<<<<<<<<<
  *     else:
  *         async def finalize():
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 139, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 148, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_create_task); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 139, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_create_task); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 148, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_8))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_8);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_8, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_3, __pyx_v_ret) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_v_ret);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 139, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 148, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     __pyx_v_task = __pyx_t_1;
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":133
+    /* "capnp/lib/capnp.pyx":142
  *     context = _CallContext()._init(_context) # TODO:MEMORY: invalidate this with promise chain
  *     func = getattr(server, method_name+'_context', None)
  *     if func is not None:             # <<<<<<<<<<<<<<
  *         ret = func(context)
  *         if not asyncio.iscoroutine(ret):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":141
+  /* "capnp/lib/capnp.pyx":150
  *         task = asyncio.create_task(ret)
  *     else:
  *         async def finalize():             # <<<<<<<<<<<<<<
  *             params = context.params
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}
  */
   /*else*/ {
-    __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_18call_server_method_1finalize, 0, __pyx_n_s_call_server_method_locals_finali, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__5)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 141, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_18call_server_method_1finalize, 0, __pyx_n_s_call_server_method_locals_finali, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__5)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 150, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_v_finalize = __pyx_t_1;
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":152
+    /* "capnp/lib/capnp.pyx":161
  *                     .format(method_name, str(ret)))
  *             fill_context(method_name, context, await ret)
  *         task = asyncio.create_task(finalize())             # <<<<<<<<<<<<<<
  * 
  *     kj_loop.active_tasks.add(task)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 152, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 161, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_create_task); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 152, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_create_task); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 161, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    __pyx_t_8 = __pyx_pf_5capnp_3lib_5capnp_18call_server_method_finalize(__pyx_v_finalize); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 152, __pyx_L1_error)
+    __pyx_t_8 = __pyx_pf_5capnp_3lib_5capnp_18call_server_method_finalize(__pyx_v_finalize); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 161, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __pyx_t_2 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_2)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_2);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_2, __pyx_t_8) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_8);
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 152, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 161, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_v_task = __pyx_t_1;
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":154
+  /* "capnp/lib/capnp.pyx":163
  *         task = asyncio.create_task(finalize())
  * 
  *     kj_loop.active_tasks.add(task)             # <<<<<<<<<<<<<<
  *     callback = _partial(void_task_done_callback, method_name)
  *     return new VoidPromise(helpers.taskToPromise(
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_kj_loop->active_tasks, __pyx_n_s_add); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 154, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_kj_loop->active_tasks, __pyx_n_s_add); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 163, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_8 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_8)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_8);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_8, __pyx_v_task) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_task);
   __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 154, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 163, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":155
+  /* "capnp/lib/capnp.pyx":164
  * 
  *     kj_loop.active_tasks.add(task)
  *     callback = _partial(void_task_done_callback, method_name)             # <<<<<<<<<<<<<<
  *     return new VoidPromise(helpers.taskToPromise(
  *         capnp.heap[PyRefCounter](<PyObject*>task),
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_partial); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 155, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_partial); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 164, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_void_task_done_callback); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 155, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_void_task_done_callback); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 164, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_8);
   __pyx_t_2 = NULL;
   __pyx_t_7 = 0;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
@@ -10310,60 +10505,60 @@
       __Pyx_DECREF_SET(__pyx_t_3, function);
       __pyx_t_7 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_3)) {
     PyObject *__pyx_temp[3] = {__pyx_t_2, __pyx_t_8, __pyx_cur_scope->__pyx_v_method_name};
-    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 155, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 164, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
     PyObject *__pyx_temp[3] = {__pyx_t_2, __pyx_t_8, __pyx_cur_scope->__pyx_v_method_name};
-    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 155, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_7, 2+__pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 164, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
   } else
   #endif
   {
-    __pyx_t_6 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 155, __pyx_L1_error)
+    __pyx_t_6 = PyTuple_New(2+__pyx_t_7); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 164, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     if (__pyx_t_2) {
       __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_2); __pyx_t_2 = NULL;
     }
     __Pyx_GIVEREF(__pyx_t_8);
     PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_7, __pyx_t_8);
     __Pyx_INCREF(__pyx_cur_scope->__pyx_v_method_name);
     __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_method_name);
     PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_7, __pyx_cur_scope->__pyx_v_method_name);
     __pyx_t_8 = 0;
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 155, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 164, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_v_callback = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":156
+  /* "capnp/lib/capnp.pyx":165
  *     kj_loop.active_tasks.add(task)
  *     callback = _partial(void_task_done_callback, method_name)
  *     return new VoidPromise(helpers.taskToPromise(             # <<<<<<<<<<<<<<
  *         capnp.heap[PyRefCounter](<PyObject*>task),
  *         <PyObject*>callback))
  */
   __pyx_r = new __pyx_t_5capnp_8includes_9capnp_cpp_VoidPromise(taskToPromise( ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_task)), ((PyObject *)__pyx_v_callback)));
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":123
+  /* "capnp/lib/capnp.pyx":132
  *         setattr(results, arg_name, arg_val)
  * 
  * cdef api VoidPromise * call_server_method(object server,             # <<<<<<<<<<<<<<
  *                                           char * _method_name,
  *                                           CallContext & _context,
  */
 
@@ -10389,15 +10584,15 @@
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":170
+/* "capnp/lib/capnp.pyx":179
  * 
  * 
  * def _make_enum(enum_name, *sequential, **named):             # <<<<<<<<<<<<<<
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  */
 
@@ -10444,26 +10639,26 @@
       switch (pos_args) {
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_enum_name)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_named, values, used_pos_args, "_make_enum") < 0)) __PYX_ERR(0, 170, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_named, values, used_pos_args, "_make_enum") < 0)) __PYX_ERR(0, 179, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_enum_name = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_make_enum", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 170, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_make_enum", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 179, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_DECREF(__pyx_v_sequential); __pyx_v_sequential = 0;
   __Pyx_DECREF(__pyx_v_named); __pyx_v_named = 0;
   __Pyx_AddTraceback("capnp.lib.capnp._make_enum", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
@@ -10473,15 +10668,15 @@
   __Pyx_XDECREF(__pyx_v_sequential);
   __Pyx_XDECREF(__pyx_v_named);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_10_make_enum_2generator11(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":172
+/* "capnp/lib/capnp.pyx":181
  * def _make_enum(enum_name, *sequential, **named):
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())             # <<<<<<<<<<<<<<
  *     enums['reverse_mapping'] = reverse
  *     return type(enum_name, (), enums)
  */
 
@@ -10493,23 +10688,23 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 172, __pyx_L1_error)
+    __PYX_ERR(0, 181, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_10_make_enum_2generator11, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_make_enum_locals_genexpr, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 172, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_10_make_enum_2generator11, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_make_enum_locals_genexpr, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 181, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -10540,43 +10735,43 @@
   switch (__pyx_generator->resume_label) {
     case 0: goto __pyx_L3_first_run;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 172, __pyx_L1_error)
-  __pyx_r = PyDict_New(); if (unlikely(!__pyx_r)) __PYX_ERR(0, 172, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 181, __pyx_L1_error)
+  __pyx_r = PyDict_New(); if (unlikely(!__pyx_r)) __PYX_ERR(0, 181, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_r);
   __pyx_t_2 = 0;
-  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_enums)) { __Pyx_RaiseClosureNameError("enums"); __PYX_ERR(0, 172, __pyx_L1_error) }
+  if (unlikely(!__pyx_cur_scope->__pyx_outer_scope->__pyx_v_enums)) { __Pyx_RaiseClosureNameError("enums"); __PYX_ERR(0, 181, __pyx_L1_error) }
   if (unlikely(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_enums == Py_None)) {
     PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "iteritems");
-    __PYX_ERR(0, 172, __pyx_L1_error)
+    __PYX_ERR(0, 181, __pyx_L1_error)
   }
-  __pyx_t_5 = __Pyx_dict_iterator(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_enums, 1, __pyx_n_s_iteritems, (&__pyx_t_3), (&__pyx_t_4)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 172, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_dict_iterator(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_enums, 1, __pyx_n_s_iteritems, (&__pyx_t_3), (&__pyx_t_4)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 181, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_1);
   __pyx_t_1 = __pyx_t_5;
   __pyx_t_5 = 0;
   while (1) {
     __pyx_t_7 = __Pyx_dict_iter_next(__pyx_t_1, __pyx_t_3, &__pyx_t_2, &__pyx_t_5, &__pyx_t_6, NULL, __pyx_t_4);
     if (unlikely(__pyx_t_7 == 0)) break;
-    if (unlikely(__pyx_t_7 == -1)) __PYX_ERR(0, 172, __pyx_L1_error)
+    if (unlikely(__pyx_t_7 == -1)) __PYX_ERR(0, 181, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_GOTREF(__pyx_t_6);
     __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_key);
     __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_key, __pyx_t_5);
     __Pyx_GIVEREF(__pyx_t_5);
     __pyx_t_5 = 0;
     __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_value);
     __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_value, __pyx_t_6);
     __Pyx_GIVEREF(__pyx_t_6);
     __pyx_t_6 = 0;
-    if (unlikely(PyDict_SetItem(__pyx_r, (PyObject*)__pyx_cur_scope->__pyx_v_value, (PyObject*)__pyx_cur_scope->__pyx_v_key))) __PYX_ERR(0, 172, __pyx_L1_error)
+    if (unlikely(PyDict_SetItem(__pyx_r, (PyObject*)__pyx_cur_scope->__pyx_v_value, (PyObject*)__pyx_cur_scope->__pyx_v_key))) __PYX_ERR(0, 181, __pyx_L1_error)
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
@@ -10592,15 +10787,15 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":170
+/* "capnp/lib/capnp.pyx":179
  * 
  * 
  * def _make_enum(enum_name, *sequential, **named):             # <<<<<<<<<<<<<<
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  */
 
@@ -10618,109 +10813,109 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_make_enum", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 170, __pyx_L1_error)
+    __PYX_ERR(0, 179, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
 
-  /* "capnp/lib/capnp.pyx":171
+  /* "capnp/lib/capnp.pyx":180
  * 
  * def _make_enum(enum_name, *sequential, **named):
  *     enums = dict(zip(sequential, range(len(sequential))), **named)             # <<<<<<<<<<<<<<
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  *     enums['reverse_mapping'] = reverse
  */
-  __pyx_t_1 = PyTuple_GET_SIZE(__pyx_v_sequential); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(0, 171, __pyx_L1_error)
-  __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 171, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_GET_SIZE(__pyx_v_sequential); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(0, 180, __pyx_L1_error)
+  __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_range, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 171, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_range, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 171, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_v_sequential);
   __Pyx_GIVEREF(__pyx_v_sequential);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_sequential);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_3);
   __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_zip, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 171, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_zip, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 171, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3);
   __pyx_t_3 = 0;
-  __pyx_t_3 = PyDict_Copy(__pyx_v_named); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 171, __pyx_L1_error)
+  __pyx_t_3 = PyDict_Copy(__pyx_v_named); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyObject_Call(((PyObject *)(&PyDict_Type)), __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 171, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(((PyObject *)(&PyDict_Type)), __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_4);
   __pyx_cur_scope->__pyx_v_enums = ((PyObject*)__pyx_t_4);
   __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":172
+  /* "capnp/lib/capnp.pyx":181
  * def _make_enum(enum_name, *sequential, **named):
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())             # <<<<<<<<<<<<<<
  *     enums['reverse_mapping'] = reverse
  *     return type(enum_name, (), enums)
  */
-  __pyx_t_4 = __pyx_pf_5capnp_3lib_5capnp_10_make_enum_genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 172, __pyx_L1_error)
+  __pyx_t_4 = __pyx_pf_5capnp_3lib_5capnp_10_make_enum_genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 181, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_3 = __Pyx_Generator_Next(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 172, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_Generator_Next(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 181, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_v_reverse = ((PyObject*)__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":173
+  /* "capnp/lib/capnp.pyx":182
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  *     enums['reverse_mapping'] = reverse             # <<<<<<<<<<<<<<
  *     return type(enum_name, (), enums)
  * 
  */
-  if (unlikely(PyDict_SetItem(__pyx_cur_scope->__pyx_v_enums, __pyx_n_s_reverse_mapping, __pyx_v_reverse) < 0)) __PYX_ERR(0, 173, __pyx_L1_error)
+  if (unlikely(PyDict_SetItem(__pyx_cur_scope->__pyx_v_enums, __pyx_n_s_reverse_mapping, __pyx_v_reverse) < 0)) __PYX_ERR(0, 182, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":174
+  /* "capnp/lib/capnp.pyx":183
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  *     enums['reverse_mapping'] = reverse
  *     return type(enum_name, (), enums)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 174, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 183, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_INCREF(__pyx_v_enum_name);
   __Pyx_GIVEREF(__pyx_v_enum_name);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_v_enum_name);
   __Pyx_INCREF(__pyx_empty_tuple);
   __Pyx_GIVEREF(__pyx_empty_tuple);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_empty_tuple);
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_enums);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_enums);
   PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_cur_scope->__pyx_v_enums);
-  __pyx_t_4 = __Pyx_PyObject_Call(((PyObject *)(&PyType_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 174, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(((PyObject *)(&PyType_Type)), __pyx_t_3, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 183, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_4;
   __pyx_t_4 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":170
+  /* "capnp/lib/capnp.pyx":179
  * 
  * 
  * def _make_enum(enum_name, *sequential, **named):             # <<<<<<<<<<<<<<
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  */
 
@@ -10736,64 +10931,64 @@
   __Pyx_XDECREF(__pyx_gb_5capnp_3lib_5capnp_10_make_enum_2generator11);
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":190
+/* "capnp/lib/capnp.pyx":199
  *     cdef capnp.Exception * thisptr
  * 
  *     cdef _init(self, capnp.Exception & other):             # <<<<<<<<<<<<<<
  *         self.thisptr = new capnp.Exception(move(other))
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_19_KjExceptionWrapper__init(struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *__pyx_v_self,  ::kj::Exception &__pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":191
+  /* "capnp/lib/capnp.pyx":200
  * 
  *     cdef _init(self, capnp.Exception & other):
  *         self.thisptr = new capnp.Exception(move(other))             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = new  ::kj::Exception(cython_std::move< ::kj::Exception &>(__pyx_v_other));
 
-  /* "capnp/lib/capnp.pyx":192
+  /* "capnp/lib/capnp.pyx":201
  *     cdef _init(self, capnp.Exception & other):
  *         self.thisptr = new capnp.Exception(move(other))
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":190
+  /* "capnp/lib/capnp.pyx":199
  *     cdef capnp.Exception * thisptr
  * 
  *     cdef _init(self, capnp.Exception & other):             # <<<<<<<<<<<<<<
  *         self.thisptr = new capnp.Exception(move(other))
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":194
+/* "capnp/lib/capnp.pyx":203
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -10808,36 +11003,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_19_KjExceptionWrapper___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":195
+  /* "capnp/lib/capnp.pyx":204
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  *     property file:
  */
   delete __pyx_v_self->thisptr;
 
-  /* "capnp/lib/capnp.pyx":194
+  /* "capnp/lib/capnp.pyx":203
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":198
+/* "capnp/lib/capnp.pyx":207
  * 
  *     property file:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return <char*>self.thisptr.getFile()
  *     property line:
  */
 
@@ -10859,29 +11054,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":199
+  /* "capnp/lib/capnp.pyx":208
  *     property file:
  *         def __get__(self):
  *             return <char*>self.thisptr.getFile()             # <<<<<<<<<<<<<<
  *     property line:
  *         def __get__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_v_self->thisptr->getFile())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 199, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_v_self->thisptr->getFile())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 208, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":198
+  /* "capnp/lib/capnp.pyx":207
  * 
  *     property file:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return <char*>self.thisptr.getFile()
  *     property line:
  */
 
@@ -10892,15 +11087,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":201
+/* "capnp/lib/capnp.pyx":210
  *             return <char*>self.thisptr.getFile()
  *     property line:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getLine()
  *     property type:
  */
 
@@ -10922,29 +11117,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":202
+  /* "capnp/lib/capnp.pyx":211
  *     property line:
  *         def __get__(self):
  *             return self.thisptr.getLine()             # <<<<<<<<<<<<<<
  *     property type:
  *         def __get__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->thisptr->getLine()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 202, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->thisptr->getLine()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 211, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":201
+  /* "capnp/lib/capnp.pyx":210
  *             return <char*>self.thisptr.getFile()
  *     property line:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getLine()
  *     property type:
  */
 
@@ -10955,15 +11150,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":204
+/* "capnp/lib/capnp.pyx":213
  *             return self.thisptr.getLine()
  *     property type:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             cdef int temp = <int>self.thisptr.getType()
  *             return _Type.reverse_mapping[temp]
  */
 
@@ -10987,44 +11182,44 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":205
+  /* "capnp/lib/capnp.pyx":214
  *     property type:
  *         def __get__(self):
  *             cdef int temp = <int>self.thisptr.getType()             # <<<<<<<<<<<<<<
  *             return _Type.reverse_mapping[temp]
  *     property description:
  */
   __pyx_v_temp = ((int)__pyx_v_self->thisptr->getType());
 
-  /* "capnp/lib/capnp.pyx":206
+  /* "capnp/lib/capnp.pyx":215
  *         def __get__(self):
  *             cdef int temp = <int>self.thisptr.getType()
  *             return _Type.reverse_mapping[temp]             # <<<<<<<<<<<<<<
  *     property description:
  *         def __get__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_Type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 206, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_Type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_reverse_mapping); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 206, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_reverse_mapping); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_2, __pyx_v_temp, int, 1, __Pyx_PyInt_From_int, 0, 1, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 206, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_2, __pyx_v_temp, int, 1, __Pyx_PyInt_From_int, 0, 1, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":204
+  /* "capnp/lib/capnp.pyx":213
  *             return self.thisptr.getLine()
  *     property type:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             cdef int temp = <int>self.thisptr.getType()
  *             return _Type.reverse_mapping[temp]
  */
 
@@ -11036,15 +11231,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":208
+/* "capnp/lib/capnp.pyx":217
  *             return _Type.reverse_mapping[temp]
  *     property description:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return <char*>self.thisptr.getDescription().cStr()
  * 
  */
 
@@ -11066,29 +11261,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":209
+  /* "capnp/lib/capnp.pyx":218
  *     property description:
  *         def __get__(self):
  *             return <char*>self.thisptr.getDescription().cStr()             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_v_self->thisptr->getDescription().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 209, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_v_self->thisptr->getDescription().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 218, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":208
+  /* "capnp/lib/capnp.pyx":217
  *             return _Type.reverse_mapping[temp]
  *     property description:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return <char*>self.thisptr.getDescription().cStr()
  * 
  */
 
@@ -11099,15 +11294,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":211
+/* "capnp/lib/capnp.pyx":220
  *             return <char*>self.thisptr.getDescription().cStr()
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>strException(deref(self.thisptr)).cStr()
  * 
  */
 
@@ -11129,29 +11324,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":212
+  /* "capnp/lib/capnp.pyx":221
  * 
  *     def __str__(self):
  *         return <char*>strException(deref(self.thisptr)).cStr()             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *) ::kj::str((*__pyx_v_self->thisptr)).cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 212, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *) ::kj::str((*__pyx_v_self->thisptr)).cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 221, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":211
+  /* "capnp/lib/capnp.pyx":220
  *             return <char*>self.thisptr.getDescription().cStr()
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>strException(deref(self.thisptr)).cStr()
  * 
  */
 
@@ -11277,15 +11472,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._KjExceptionWrapper.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":225
+/* "capnp/lib/capnp.pyx":234
  *     Type = _make_enum("Type", **{x: x for x in _Type.reverse_mapping.values()})
  * 
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):             # <<<<<<<<<<<<<<
  *         if wrapper is not None:
  *             self.wrapper = wrapper
  */
 
@@ -11366,15 +11561,15 @@
         case  5:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_type);
           if (value) { values[5] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 225, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 234, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  6: values[5] = PyTuple_GET_ITEM(__pyx_args, 5);
         CYTHON_FALLTHROUGH;
         case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
         CYTHON_FALLTHROUGH;
@@ -11394,15 +11589,15 @@
     __pyx_v_nature = values[2];
     __pyx_v_durability = values[3];
     __pyx_v_wrapper = values[4];
     __pyx_v_type = values[5];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 6, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 225, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 6, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 234, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp.KjException.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_11KjException___init__(__pyx_self, __pyx_v_self, __pyx_v_message, __pyx_v_nature, __pyx_v_durability, __pyx_v_wrapper, __pyx_v_type);
 
@@ -11418,105 +11613,105 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":226
+  /* "capnp/lib/capnp.pyx":235
  * 
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):
  *         if wrapper is not None:             # <<<<<<<<<<<<<<
  *             self.wrapper = wrapper
  *             self.message = str(wrapper)
  */
   __pyx_t_1 = (__pyx_v_wrapper != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":227
+    /* "capnp/lib/capnp.pyx":236
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):
  *         if wrapper is not None:
  *             self.wrapper = wrapper             # <<<<<<<<<<<<<<
  *             self.message = str(wrapper)
  *         else:
  */
-    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_wrapper, __pyx_v_wrapper) < 0) __PYX_ERR(0, 227, __pyx_L1_error)
+    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_wrapper, __pyx_v_wrapper) < 0) __PYX_ERR(0, 236, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":228
+    /* "capnp/lib/capnp.pyx":237
  *         if wrapper is not None:
  *             self.wrapper = wrapper
  *             self.message = str(wrapper)             # <<<<<<<<<<<<<<
  *         else:
  *             self.wrapper = None
  */
-    __pyx_t_3 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_wrapper); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 228, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_wrapper); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 237, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_message, __pyx_t_3) < 0) __PYX_ERR(0, 228, __pyx_L1_error)
+    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_message, __pyx_t_3) < 0) __PYX_ERR(0, 237, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":226
+    /* "capnp/lib/capnp.pyx":235
  * 
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):
  *         if wrapper is not None:             # <<<<<<<<<<<<<<
  *             self.wrapper = wrapper
  *             self.message = str(wrapper)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":230
+  /* "capnp/lib/capnp.pyx":239
  *             self.message = str(wrapper)
  *         else:
  *             self.wrapper = None             # <<<<<<<<<<<<<<
  *             self.message = message
  *             self.nature = nature
  */
   /*else*/ {
-    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_wrapper, Py_None) < 0) __PYX_ERR(0, 230, __pyx_L1_error)
+    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_wrapper, Py_None) < 0) __PYX_ERR(0, 239, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":231
+    /* "capnp/lib/capnp.pyx":240
  *         else:
  *             self.wrapper = None
  *             self.message = message             # <<<<<<<<<<<<<<
  *             self.nature = nature
  *             self.durability = durability
  */
-    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_message, __pyx_v_message) < 0) __PYX_ERR(0, 231, __pyx_L1_error)
+    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_message, __pyx_v_message) < 0) __PYX_ERR(0, 240, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":232
+    /* "capnp/lib/capnp.pyx":241
  *             self.wrapper = None
  *             self.message = message
  *             self.nature = nature             # <<<<<<<<<<<<<<
  *             self.durability = durability
  *             self._type = type
  */
-    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_nature, __pyx_v_nature) < 0) __PYX_ERR(0, 232, __pyx_L1_error)
+    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_nature, __pyx_v_nature) < 0) __PYX_ERR(0, 241, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":233
+    /* "capnp/lib/capnp.pyx":242
  *             self.message = message
  *             self.nature = nature
  *             self.durability = durability             # <<<<<<<<<<<<<<
  *             self._type = type
  * 
  */
-    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_durability, __pyx_v_durability) < 0) __PYX_ERR(0, 233, __pyx_L1_error)
+    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_durability, __pyx_v_durability) < 0) __PYX_ERR(0, 242, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":234
+    /* "capnp/lib/capnp.pyx":243
  *             self.nature = nature
  *             self.durability = durability
  *             self._type = type             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
-    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_type_2, __pyx_v_type) < 0) __PYX_ERR(0, 234, __pyx_L1_error)
+    if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_type_2, __pyx_v_type) < 0) __PYX_ERR(0, 243, __pyx_L1_error)
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":225
+  /* "capnp/lib/capnp.pyx":234
  *     Type = _make_enum("Type", **{x: x for x in _Type.reverse_mapping.values()})
  * 
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):             # <<<<<<<<<<<<<<
  *         if wrapper is not None:
  *             self.wrapper = wrapper
  */
 
@@ -11529,15 +11724,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":237
+/* "capnp/lib/capnp.pyx":246
  * 
  *     @property
  *     def file(self):             # <<<<<<<<<<<<<<
  *         return self.wrapper.file
  * 
  */
 
@@ -11562,32 +11757,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("file", 0);
 
-  /* "capnp/lib/capnp.pyx":238
+  /* "capnp/lib/capnp.pyx":247
  *     @property
  *     def file(self):
  *         return self.wrapper.file             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 238, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 247, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_file); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 238, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_file); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 247, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":237
+  /* "capnp/lib/capnp.pyx":246
  * 
  *     @property
  *     def file(self):             # <<<<<<<<<<<<<<
  *         return self.wrapper.file
  * 
  */
 
@@ -11599,15 +11794,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":241
+/* "capnp/lib/capnp.pyx":250
  * 
  *     @property
  *     def line(self):             # <<<<<<<<<<<<<<
  *         return self.wrapper.line
  * 
  */
 
@@ -11632,32 +11827,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("line", 0);
 
-  /* "capnp/lib/capnp.pyx":242
+  /* "capnp/lib/capnp.pyx":251
  *     @property
  *     def line(self):
  *         return self.wrapper.line             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 242, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 251, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_line); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 242, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_line); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 251, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":241
+  /* "capnp/lib/capnp.pyx":250
  * 
  *     @property
  *     def line(self):             # <<<<<<<<<<<<<<
  *         return self.wrapper.line
  * 
  */
 
@@ -11669,15 +11864,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":245
+/* "capnp/lib/capnp.pyx":254
  * 
  *     @property
  *     def type(self):             # <<<<<<<<<<<<<<
  *         if self.wrapper is not None:
  *             return self.wrapper.type
  */
 
@@ -11704,71 +11899,71 @@
   int __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("type", 0);
 
-  /* "capnp/lib/capnp.pyx":246
+  /* "capnp/lib/capnp.pyx":255
  *     @property
  *     def type(self):
  *         if self.wrapper is not None:             # <<<<<<<<<<<<<<
  *             return self.wrapper.type
  *         else:
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 246, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 255, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = (__pyx_t_1 != Py_None);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":247
+    /* "capnp/lib/capnp.pyx":256
  *     def type(self):
  *         if self.wrapper is not None:
  *             return self.wrapper.type             # <<<<<<<<<<<<<<
  *         else:
  *             return self._type
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 247, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 256, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_type); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 247, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_type); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 256, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":246
+    /* "capnp/lib/capnp.pyx":255
  *     @property
  *     def type(self):
  *         if self.wrapper is not None:             # <<<<<<<<<<<<<<
  *             return self.wrapper.type
  *         else:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":249
+  /* "capnp/lib/capnp.pyx":258
  *             return self.wrapper.type
  *         else:
  *             return self._type             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_type_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 249, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_type_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 258, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":245
+  /* "capnp/lib/capnp.pyx":254
  * 
  *     @property
  *     def type(self):             # <<<<<<<<<<<<<<
  *         if self.wrapper is not None:
  *             return self.wrapper.type
  */
 
@@ -11780,15 +11975,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":252
+/* "capnp/lib/capnp.pyx":261
  * 
  *     @property
  *     def description(self):             # <<<<<<<<<<<<<<
  *         if self.wrapper is not None:
  *             return self.wrapper.description
  */
 
@@ -11815,71 +12010,71 @@
   int __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("description", 0);
 
-  /* "capnp/lib/capnp.pyx":253
+  /* "capnp/lib/capnp.pyx":262
  *     @property
  *     def description(self):
  *         if self.wrapper is not None:             # <<<<<<<<<<<<<<
  *             return self.wrapper.description
  *         else:
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 253, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 262, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = (__pyx_t_1 != Py_None);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":254
+    /* "capnp/lib/capnp.pyx":263
  *     def description(self):
  *         if self.wrapper is not None:
  *             return self.wrapper.description             # <<<<<<<<<<<<<<
  *         else:
  *             return self.message
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 254, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 263, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_description); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 254, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_description); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 263, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":253
+    /* "capnp/lib/capnp.pyx":262
  *     @property
  *     def description(self):
  *         if self.wrapper is not None:             # <<<<<<<<<<<<<<
  *             return self.wrapper.description
  *         else:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":256
+  /* "capnp/lib/capnp.pyx":265
  *             return self.wrapper.description
  *         else:
  *             return self.message             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_message); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 256, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_message); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 265, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":252
+  /* "capnp/lib/capnp.pyx":261
  * 
  *     @property
  *     def description(self):             # <<<<<<<<<<<<<<
  *         if self.wrapper is not None:
  *             return self.wrapper.description
  */
 
@@ -11891,15 +12086,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":258
+/* "capnp/lib/capnp.pyx":267
  *             return self.message
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return self.message
  * 
  */
 
@@ -11923,29 +12118,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":259
+  /* "capnp/lib/capnp.pyx":268
  * 
  *     def __str__(self):
  *         return self.message             # <<<<<<<<<<<<<<
  * 
  *     def _to_python(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 259, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 268, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":258
+  /* "capnp/lib/capnp.pyx":267
  *             return self.message
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return self.message
  * 
  */
 
@@ -11956,20 +12151,20 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":261
+/* "capnp/lib/capnp.pyx":270
  *         return self.message
  * 
  *     def _to_python(self):             # <<<<<<<<<<<<<<
  *         message = self.message
- *         if self.wrapper.type == 'FAILED':
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_11KjException_13_to_python(PyObject *__pyx_self, PyObject *__pyx_v_self); /*proto*/
 static char __pyx_doc_5capnp_3lib_5capnp_11KjException_12_to_python[] = "KjException._to_python(self)";
 static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_11KjException_13_to_python = {"_to_python", (PyCFunction)__pyx_pw_5capnp_3lib_5capnp_11KjException_13_to_python, METH_O, __pyx_doc_5capnp_3lib_5capnp_11KjException_12_to_python};
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_11KjException_13_to_python(PyObject *__pyx_self, PyObject *__pyx_v_self) {
@@ -11984,130 +12179,168 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_11KjException_12_to_python(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self) {
   PyObject *__pyx_v_message = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
+  int __pyx_t_2;
   int __pyx_t_3;
   int __pyx_t_4;
+  PyObject *__pyx_t_5 = NULL;
+  PyObject *__pyx_t_6 = NULL;
+  PyObject *__pyx_t_7 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_to_python", 0);
 
-  /* "capnp/lib/capnp.pyx":262
+  /* "capnp/lib/capnp.pyx":271
  * 
  *     def _to_python(self):
  *         message = self.message             # <<<<<<<<<<<<<<
- *         if self.wrapper.type == 'FAILED':
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':
  *             if 'has no such' in self.message:
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 262, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 271, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_message = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":263
+  /* "capnp/lib/capnp.pyx":272
  *     def _to_python(self):
  *         message = self.message
- *         if self.wrapper.type == 'FAILED':             # <<<<<<<<<<<<<<
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':             # <<<<<<<<<<<<<<
  *             if 'has no such' in self.message:
- *                 return AttributeError(message)
+ *                 return AttributeError(message).with_traceback(self.__traceback__)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 263, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 272, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_type); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 263, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_t_3 = (__pyx_t_1 != Py_None);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_3 = (__Pyx_PyString_Equals(__pyx_t_2, __pyx_n_s_FAILED, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 263, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (__pyx_t_3) {
+  __pyx_t_4 = (__pyx_t_3 != 0);
+  if (__pyx_t_4) {
+  } else {
+    __pyx_t_2 = __pyx_t_4;
+    goto __pyx_L4_bool_binop_done;
+  }
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_wrapper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 272, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_type); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 272, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_5);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_4 = (__Pyx_PyString_Equals(__pyx_t_5, __pyx_n_s_FAILED, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 272, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
+  __pyx_t_2 = __pyx_t_4;
+  __pyx_L4_bool_binop_done:;
+  if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":264
+    /* "capnp/lib/capnp.pyx":273
  *         message = self.message
- *         if self.wrapper.type == 'FAILED':
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':
  *             if 'has no such' in self.message:             # <<<<<<<<<<<<<<
- *                 return AttributeError(message)
+ *                 return AttributeError(message).with_traceback(self.__traceback__)
  *         return self
  */
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_message); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 264, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = (__Pyx_PySequence_ContainsTF(__pyx_kp_s_has_no_such, __pyx_t_2, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 264, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_4 = (__pyx_t_3 != 0);
+    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_message); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 273, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_5);
+    __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_kp_s_has_no_such, __pyx_t_5, Py_EQ)); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 273, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
+    __pyx_t_4 = (__pyx_t_2 != 0);
     if (__pyx_t_4) {
 
-      /* "capnp/lib/capnp.pyx":265
- *         if self.wrapper.type == 'FAILED':
+      /* "capnp/lib/capnp.pyx":274
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':
  *             if 'has no such' in self.message:
- *                 return AttributeError(message)             # <<<<<<<<<<<<<<
+ *                 return AttributeError(message).with_traceback(self.__traceback__)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
       __Pyx_XDECREF(__pyx_r);
-      __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_v_message); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 265, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_2);
-      __pyx_r = __pyx_t_2;
-      __pyx_t_2 = 0;
+      __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_v_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 274, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_1);
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_with_traceback); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 274, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_6);
+      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_traceback_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 274, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_1);
+      __pyx_t_7 = NULL;
+      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
+        __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_6);
+        if (likely(__pyx_t_7)) {
+          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
+          __Pyx_INCREF(__pyx_t_7);
+          __Pyx_INCREF(function);
+          __Pyx_DECREF_SET(__pyx_t_6, function);
+        }
+      }
+      __pyx_t_5 = (__pyx_t_7) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_7, __pyx_t_1) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_1);
+      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
+      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 274, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_5);
+      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
+      __pyx_r = __pyx_t_5;
+      __pyx_t_5 = 0;
       goto __pyx_L0;
 
-      /* "capnp/lib/capnp.pyx":264
+      /* "capnp/lib/capnp.pyx":273
  *         message = self.message
- *         if self.wrapper.type == 'FAILED':
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':
  *             if 'has no such' in self.message:             # <<<<<<<<<<<<<<
- *                 return AttributeError(message)
+ *                 return AttributeError(message).with_traceback(self.__traceback__)
  *         return self
  */
     }
 
-    /* "capnp/lib/capnp.pyx":263
+    /* "capnp/lib/capnp.pyx":272
  *     def _to_python(self):
  *         message = self.message
- *         if self.wrapper.type == 'FAILED':             # <<<<<<<<<<<<<<
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':             # <<<<<<<<<<<<<<
  *             if 'has no such' in self.message:
- *                 return AttributeError(message)
+ *                 return AttributeError(message).with_traceback(self.__traceback__)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":266
+  /* "capnp/lib/capnp.pyx":275
  *             if 'has no such' in self.message:
- *                 return AttributeError(message)
+ *                 return AttributeError(message).with_traceback(self.__traceback__)
  *         return self             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self);
   __pyx_r = __pyx_v_self;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":261
+  /* "capnp/lib/capnp.pyx":270
  *         return self.message
  * 
  *     def _to_python(self):             # <<<<<<<<<<<<<<
  *         message = self.message
- *         if self.wrapper.type == 'FAILED':
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_5);
+  __Pyx_XDECREF(__pyx_t_6);
+  __Pyx_XDECREF(__pyx_t_7);
   __Pyx_AddTraceback("capnp.lib.capnp.KjException._to_python", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_message);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":269
+/* "capnp/lib/capnp.pyx":278
  * 
  * 
  * cdef api object wrap_kj_exception(capnp.Exception & exception) with gil:             # <<<<<<<<<<<<<<
  *     PyErr_Clear()
  *     wrapper = _KjExceptionWrapper()._init(exception)
  */
 
@@ -12123,70 +12356,70 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   #ifdef WITH_THREAD
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("wrap_kj_exception", 0);
 
-  /* "capnp/lib/capnp.pyx":270
+  /* "capnp/lib/capnp.pyx":279
  * 
  * cdef api object wrap_kj_exception(capnp.Exception & exception) with gil:
  *     PyErr_Clear()             # <<<<<<<<<<<<<<
  *     wrapper = _KjExceptionWrapper()._init(exception)
  *     ret = KjException(wrapper=wrapper)
  */
   PyErr_Clear();
 
-  /* "capnp/lib/capnp.pyx":271
+  /* "capnp/lib/capnp.pyx":280
  * cdef api object wrap_kj_exception(capnp.Exception & exception) with gil:
  *     PyErr_Clear()
  *     wrapper = _KjExceptionWrapper()._init(exception)             # <<<<<<<<<<<<<<
  *     ret = KjException(wrapper=wrapper)
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__KjExceptionWrapper)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 271, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__KjExceptionWrapper)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 280, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__KjExceptionWrapper *)((struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *)__pyx_t_1), __pyx_v_exception); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 271, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__KjExceptionWrapper *)((struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *)__pyx_t_1), __pyx_v_exception); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 280, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_wrapper = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":272
+  /* "capnp/lib/capnp.pyx":281
  *     PyErr_Clear()
  *     wrapper = _KjExceptionWrapper()._init(exception)
  *     ret = KjException(wrapper=wrapper)             # <<<<<<<<<<<<<<
  * 
  *     return ret
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 272, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 281, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 272, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 281, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_wrapper, __pyx_v_wrapper) < 0) __PYX_ERR(0, 272, __pyx_L1_error)
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 272, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_wrapper, __pyx_v_wrapper) < 0) __PYX_ERR(0, 281, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 281, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_ret = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":274
+  /* "capnp/lib/capnp.pyx":283
  *     ret = KjException(wrapper=wrapper)
  * 
  *     return ret             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_ret);
   __pyx_r = __pyx_v_ret;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":269
+  /* "capnp/lib/capnp.pyx":278
  * 
  * 
  * cdef api object wrap_kj_exception(capnp.Exception & exception) with gil:             # <<<<<<<<<<<<<<
  *     PyErr_Clear()
  *     wrapper = _KjExceptionWrapper()._init(exception)
  */
 
@@ -12204,15 +12437,15 @@
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":277
+/* "capnp/lib/capnp.pyx":286
  * 
  * 
  * cdef api object wrap_kj_exception_for_reraise(capnp.Exception & exception) with gil:             # <<<<<<<<<<<<<<
  *     wrapper = _KjExceptionWrapper()._init(exception)
  * 
  */
 
@@ -12228,61 +12461,61 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   #ifdef WITH_THREAD
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("wrap_kj_exception_for_reraise", 0);
 
-  /* "capnp/lib/capnp.pyx":278
+  /* "capnp/lib/capnp.pyx":287
  * 
  * cdef api object wrap_kj_exception_for_reraise(capnp.Exception & exception) with gil:
  *     wrapper = _KjExceptionWrapper()._init(exception)             # <<<<<<<<<<<<<<
  * 
  *     ret = KjException(wrapper=wrapper)
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__KjExceptionWrapper)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 278, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__KjExceptionWrapper)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 287, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__KjExceptionWrapper *)((struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *)__pyx_t_1), __pyx_v_exception); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 278, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__KjExceptionWrapper *)((struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *)__pyx_t_1), __pyx_v_exception); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 287, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_wrapper = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":280
+  /* "capnp/lib/capnp.pyx":289
  *     wrapper = _KjExceptionWrapper()._init(exception)
  * 
  *     ret = KjException(wrapper=wrapper)             # <<<<<<<<<<<<<<
  *     return ret
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 280, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 289, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 280, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 289, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_wrapper, __pyx_v_wrapper) < 0) __PYX_ERR(0, 280, __pyx_L1_error)
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 280, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_wrapper, __pyx_v_wrapper) < 0) __PYX_ERR(0, 289, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_empty_tuple, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 289, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_ret = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":281
+  /* "capnp/lib/capnp.pyx":290
  * 
  *     ret = KjException(wrapper=wrapper)
  *     return ret             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_ret);
   __pyx_r = __pyx_v_ret;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":277
+  /* "capnp/lib/capnp.pyx":286
  * 
  * 
  * cdef api object wrap_kj_exception_for_reraise(capnp.Exception & exception) with gil:             # <<<<<<<<<<<<<<
  *     wrapper = _KjExceptionWrapper()._init(exception)
  * 
  */
 
@@ -12300,15 +12533,48 @@
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":284
+/* "capnp/lib/capnp.pyx":293
+ * 
+ * 
+ * cdef void reraise_kj_exception():             # <<<<<<<<<<<<<<
+ *     helpers.reraise_kj_exception()
+ * 
+ */
+
+static void __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(void) {
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("reraise_kj_exception", 0);
+
+  /* "capnp/lib/capnp.pyx":294
+ * 
+ * cdef void reraise_kj_exception():
+ *     helpers.reraise_kj_exception()             # <<<<<<<<<<<<<<
+ * 
+ * 
+ */
+  c_reraise_kj_exception();
+
+  /* "capnp/lib/capnp.pyx":293
+ * 
+ * 
+ * cdef void reraise_kj_exception():             # <<<<<<<<<<<<<<
+ *     helpers.reraise_kj_exception()
+ * 
+ */
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+}
+
+/* "capnp/lib/capnp.pyx":297
  * 
  * 
  * cdef api object get_exception_info(object exc_type, object exc_obj, object exc_tb) with gil:             # <<<<<<<<<<<<<<
  *     try:
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),
  */
 
@@ -12332,15 +12598,15 @@
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("get_exception_info", 0);
   __Pyx_INCREF(__pyx_v_exc_type);
   __Pyx_INCREF(__pyx_v_exc_obj);
   __Pyx_INCREF(__pyx_v_exc_tb);
 
-  /* "capnp/lib/capnp.pyx":285
+  /* "capnp/lib/capnp.pyx":298
  * 
  * cdef api object get_exception_info(object exc_type, object exc_obj, object exc_tb) with gil:
  *     try:             # <<<<<<<<<<<<<<
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),
  *                 exc_tb.tb_lineno,
  */
   {
@@ -12348,119 +12614,119 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":286
+      /* "capnp/lib/capnp.pyx":299
  * cdef api object get_exception_info(object exc_type, object exc_obj, object exc_tb) with gil:
  *     try:
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),             # <<<<<<<<<<<<<<
  *                 exc_tb.tb_lineno,
  *                 (repr(exc_type) + ":" + str(exc_obj)).encode())
  */
       __Pyx_XDECREF(__pyx_r);
-      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_exc_tb, __pyx_n_s_tb_frame); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 286, __pyx_L3_error)
+      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_exc_tb, __pyx_n_s_tb_frame); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 299, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_5);
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_f_code); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 286, __pyx_L3_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_f_code); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 299, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_co_filename); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 286, __pyx_L3_error)
+      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_co_filename); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 299, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_encode); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 286, __pyx_L3_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_encode); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 299, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __pyx_t_5 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
         __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_6);
         if (likely(__pyx_t_5)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
           __Pyx_INCREF(__pyx_t_5);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_6, function);
         }
       }
       __pyx_t_4 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 286, __pyx_L3_error)
+      if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 299, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-      /* "capnp/lib/capnp.pyx":287
+      /* "capnp/lib/capnp.pyx":300
  *     try:
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),
  *                 exc_tb.tb_lineno,             # <<<<<<<<<<<<<<
  *                 (repr(exc_type) + ":" + str(exc_obj)).encode())
  *     except Exception:
  */
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_exc_tb, __pyx_n_s_tb_lineno); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 287, __pyx_L3_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_exc_tb, __pyx_n_s_tb_lineno); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 300, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_6);
 
-      /* "capnp/lib/capnp.pyx":288
+      /* "capnp/lib/capnp.pyx":301
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),
  *                 exc_tb.tb_lineno,
  *                 (repr(exc_type) + ":" + str(exc_obj)).encode())             # <<<<<<<<<<<<<<
  *     except Exception:
  *         return (b'', 0, b"Couldn't determine python exception")
  */
-      __pyx_t_7 = PyObject_Repr(__pyx_v_exc_type); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 288, __pyx_L3_error)
+      __pyx_t_7 = PyObject_Repr(__pyx_v_exc_type); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 301, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_8 = PyNumber_Add(__pyx_t_7, __pyx_kp_s__8); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 288, __pyx_L3_error)
+      __pyx_t_8 = PyNumber_Add(__pyx_t_7, __pyx_kp_s__8); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 301, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __pyx_t_7 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_exc_obj); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 288, __pyx_L3_error)
+      __pyx_t_7 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_exc_obj); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 301, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_9 = PyNumber_Add(__pyx_t_8, __pyx_t_7); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 288, __pyx_L3_error)
+      __pyx_t_9 = PyNumber_Add(__pyx_t_8, __pyx_t_7); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 301, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_9, __pyx_n_s_encode); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 288, __pyx_L3_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_9, __pyx_n_s_encode); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 301, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       __pyx_t_9 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
         __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_7);
         if (likely(__pyx_t_9)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
           __Pyx_INCREF(__pyx_t_9);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_7, function);
         }
       }
       __pyx_t_5 = (__pyx_t_9) ? __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_9) : __Pyx_PyObject_CallNoArg(__pyx_t_7);
       __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 288, __pyx_L3_error)
+      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 301, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":286
+      /* "capnp/lib/capnp.pyx":299
  * cdef api object get_exception_info(object exc_type, object exc_obj, object exc_tb) with gil:
  *     try:
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),             # <<<<<<<<<<<<<<
  *                 exc_tb.tb_lineno,
  *                 (repr(exc_type) + ":" + str(exc_obj)).encode())
  */
-      __pyx_t_7 = PyTuple_New(3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 286, __pyx_L3_error)
+      __pyx_t_7 = PyTuple_New(3); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 299, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_GIVEREF(__pyx_t_4);
       PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_4);
       __Pyx_GIVEREF(__pyx_t_6);
       PyTuple_SET_ITEM(__pyx_t_7, 1, __pyx_t_6);
       __Pyx_GIVEREF(__pyx_t_5);
       PyTuple_SET_ITEM(__pyx_t_7, 2, __pyx_t_5);
       __pyx_t_4 = 0;
       __pyx_t_6 = 0;
       __pyx_t_5 = 0;
       __pyx_r = __pyx_t_7;
       __pyx_t_7 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":285
+      /* "capnp/lib/capnp.pyx":298
  * 
  * cdef api object get_exception_info(object exc_type, object exc_obj, object exc_tb) with gil:
  *     try:             # <<<<<<<<<<<<<<
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),
  *                 exc_tb.tb_lineno,
  */
     }
@@ -12468,30 +12734,30 @@
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
     __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-    /* "capnp/lib/capnp.pyx":289
+    /* "capnp/lib/capnp.pyx":302
  *                 exc_tb.tb_lineno,
  *                 (repr(exc_type) + ":" + str(exc_obj)).encode())
  *     except Exception:             # <<<<<<<<<<<<<<
  *         return (b'', 0, b"Couldn't determine python exception")
  * 
  */
     __pyx_t_10 = __Pyx_PyErr_ExceptionMatches(((PyObject *)(&((PyTypeObject*)PyExc_Exception)[0])));
     if (__pyx_t_10) {
       __Pyx_AddTraceback("capnp.lib.capnp.get_exception_info", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_7, &__pyx_t_5, &__pyx_t_6) < 0) __PYX_ERR(0, 289, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_7, &__pyx_t_5, &__pyx_t_6) < 0) __PYX_ERR(0, 302, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_6);
 
-      /* "capnp/lib/capnp.pyx":290
+      /* "capnp/lib/capnp.pyx":303
  *                 (repr(exc_type) + ":" + str(exc_obj)).encode())
  *     except Exception:
  *         return (b'', 0, b"Couldn't determine python exception")             # <<<<<<<<<<<<<<
  * 
  * 
  */
       __Pyx_XDECREF(__pyx_r);
@@ -12501,15 +12767,15 @@
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       goto __pyx_L6_except_return;
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":285
+    /* "capnp/lib/capnp.pyx":298
  * 
  * cdef api object get_exception_info(object exc_type, object exc_obj, object exc_tb) with gil:
  *     try:             # <<<<<<<<<<<<<<
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),
  *                 exc_tb.tb_lineno,
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -12527,15 +12793,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":284
+  /* "capnp/lib/capnp.pyx":297
  * 
  * 
  * cdef api object get_exception_info(object exc_type, object exc_obj, object exc_tb) with gil:             # <<<<<<<<<<<<<<
  *     try:
  *         return (exc_tb.tb_frame.f_code.co_filename.encode(),
  */
 
@@ -12557,15 +12823,15 @@
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":293
+/* "capnp/lib/capnp.pyx":306
  * 
  * 
  * cdef schema_cpp.ReaderOptions make_reader_opts(traversal_limit_in_words, nesting_limit) with gil:             # <<<<<<<<<<<<<<
  *     cdef schema_cpp.ReaderOptions opts
  *     if traversal_limit_in_words is not None:
  */
 
@@ -12583,85 +12849,85 @@
   #ifdef WITH_THREAD
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("make_reader_opts", 0);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_INCREF(__pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":295
+  /* "capnp/lib/capnp.pyx":308
  * cdef schema_cpp.ReaderOptions make_reader_opts(traversal_limit_in_words, nesting_limit) with gil:
  *     cdef schema_cpp.ReaderOptions opts
  *     if traversal_limit_in_words is not None:             # <<<<<<<<<<<<<<
  *         opts.traversalLimitInWords = traversal_limit_in_words
  *     if nesting_limit is not None:
  */
   __pyx_t_1 = (__pyx_v_traversal_limit_in_words != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":296
+    /* "capnp/lib/capnp.pyx":309
  *     cdef schema_cpp.ReaderOptions opts
  *     if traversal_limit_in_words is not None:
  *         opts.traversalLimitInWords = traversal_limit_in_words             # <<<<<<<<<<<<<<
  *     if nesting_limit is not None:
  *         opts.nestingLimit = nesting_limit
  */
-    __pyx_t_3 = __Pyx_PyInt_As_uint64_t(__pyx_v_traversal_limit_in_words); if (unlikely((__pyx_t_3 == ((uint64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 296, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_As_uint64_t(__pyx_v_traversal_limit_in_words); if (unlikely((__pyx_t_3 == ((uint64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 309, __pyx_L1_error)
     __pyx_v_opts.traversalLimitInWords = __pyx_t_3;
 
-    /* "capnp/lib/capnp.pyx":295
+    /* "capnp/lib/capnp.pyx":308
  * cdef schema_cpp.ReaderOptions make_reader_opts(traversal_limit_in_words, nesting_limit) with gil:
  *     cdef schema_cpp.ReaderOptions opts
  *     if traversal_limit_in_words is not None:             # <<<<<<<<<<<<<<
  *         opts.traversalLimitInWords = traversal_limit_in_words
  *     if nesting_limit is not None:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":297
+  /* "capnp/lib/capnp.pyx":310
  *     if traversal_limit_in_words is not None:
  *         opts.traversalLimitInWords = traversal_limit_in_words
  *     if nesting_limit is not None:             # <<<<<<<<<<<<<<
  *         opts.nestingLimit = nesting_limit
  *     return opts
  */
   __pyx_t_2 = (__pyx_v_nesting_limit != Py_None);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":298
+    /* "capnp/lib/capnp.pyx":311
  *         opts.traversalLimitInWords = traversal_limit_in_words
  *     if nesting_limit is not None:
  *         opts.nestingLimit = nesting_limit             # <<<<<<<<<<<<<<
  *     return opts
  * 
  */
-    __pyx_t_4 = __Pyx_PyInt_As_unsigned_int(__pyx_v_nesting_limit); if (unlikely((__pyx_t_4 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 298, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyInt_As_unsigned_int(__pyx_v_nesting_limit); if (unlikely((__pyx_t_4 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 311, __pyx_L1_error)
     __pyx_v_opts.nestingLimit = __pyx_t_4;
 
-    /* "capnp/lib/capnp.pyx":297
+    /* "capnp/lib/capnp.pyx":310
  *     if traversal_limit_in_words is not None:
  *         opts.traversalLimitInWords = traversal_limit_in_words
  *     if nesting_limit is not None:             # <<<<<<<<<<<<<<
  *         opts.nestingLimit = nesting_limit
  *     return opts
  */
   }
 
-  /* "capnp/lib/capnp.pyx":299
+  /* "capnp/lib/capnp.pyx":312
  *     if nesting_limit is not None:
  *         opts.nestingLimit = nesting_limit
  *     return opts             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_r = __pyx_v_opts;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":293
+  /* "capnp/lib/capnp.pyx":306
  * 
  * 
  * cdef schema_cpp.ReaderOptions make_reader_opts(traversal_limit_in_words, nesting_limit) with gil:             # <<<<<<<<<<<<<<
  *     cdef schema_cpp.ReaderOptions opts
  *     if traversal_limit_in_words is not None:
  */
 
@@ -12675,64 +12941,64 @@
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":337
+/* "capnp/lib/capnp.pyx":350
  * cdef class _NodeReader:
  *     cdef C_Node.Reader thisptr
  *     cdef init(self, C_Node.Reader other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_11_NodeReader_init(struct __pyx_obj_5capnp_3lib_5capnp__NodeReader *__pyx_v_self,  ::capnp::schema::Node::Reader __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("init", 0);
 
-  /* "capnp/lib/capnp.pyx":338
+  /* "capnp/lib/capnp.pyx":351
  *     cdef C_Node.Reader thisptr
  *     cdef init(self, C_Node.Reader other):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":339
+  /* "capnp/lib/capnp.pyx":352
  *     cdef init(self, C_Node.Reader other):
  *         self.thisptr = other
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     property displayName:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":337
+  /* "capnp/lib/capnp.pyx":350
  * cdef class _NodeReader:
  *     cdef C_Node.Reader thisptr
  *     cdef init(self, C_Node.Reader other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":342
+/* "capnp/lib/capnp.pyx":355
  * 
  *     property displayName:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return <char*>self.thisptr.getDisplayName().cStr()
  * 
  */
 
@@ -12754,29 +13020,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":343
+  /* "capnp/lib/capnp.pyx":356
  *     property displayName:
  *         def __get__(self):
  *             return <char*>self.thisptr.getDisplayName().cStr()             # <<<<<<<<<<<<<<
  * 
  *     property scopeId:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_v_self->thisptr.getDisplayName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 343, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_v_self->thisptr.getDisplayName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 356, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":342
+  /* "capnp/lib/capnp.pyx":355
  * 
  *     property displayName:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return <char*>self.thisptr.getDisplayName().cStr()
  * 
  */
 
@@ -12787,15 +13053,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":346
+/* "capnp/lib/capnp.pyx":359
  * 
  *     property scopeId:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getScopeId()
  * 
  */
 
@@ -12817,29 +13083,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":347
+  /* "capnp/lib/capnp.pyx":360
  *     property scopeId:
  *         def __get__(self):
  *             return self.thisptr.getScopeId()             # <<<<<<<<<<<<<<
  * 
  *     property id:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getScopeId()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 347, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getScopeId()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 360, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":346
+  /* "capnp/lib/capnp.pyx":359
  * 
  *     property scopeId:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getScopeId()
  * 
  */
 
@@ -12850,15 +13116,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":350
+/* "capnp/lib/capnp.pyx":363
  * 
  *     property id:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getId()
  * 
  */
 
@@ -12880,29 +13146,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":351
+  /* "capnp/lib/capnp.pyx":364
  *     property id:
  *         def __get__(self):
  *             return self.thisptr.getId()             # <<<<<<<<<<<<<<
  * 
  *     property nestedNodes:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getId()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 351, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getId()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 364, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":350
+  /* "capnp/lib/capnp.pyx":363
  * 
  *     property id:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getId()
  * 
  */
 
@@ -12913,15 +13179,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":354
+/* "capnp/lib/capnp.pyx":367
  * 
  *     property nestedNodes:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _List_NestedNode_Reader()._init(self.thisptr.getNestedNodes())
  * 
  */
 
@@ -12944,32 +13210,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":355
+  /* "capnp/lib/capnp.pyx":368
  *     property nestedNodes:
  *         def __get__(self):
  *             return _List_NestedNode_Reader()._init(self.thisptr.getNestedNodes())             # <<<<<<<<<<<<<<
  * 
  *     property isStruct:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__List_NestedNode_Reader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 355, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__List_NestedNode_Reader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 368, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__List_NestedNode_Reader *)((struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader *)__pyx_t_1), __pyx_v_self->thisptr.getNestedNodes()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 355, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__List_NestedNode_Reader *)((struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader *)__pyx_t_1), __pyx_v_self->thisptr.getNestedNodes()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 368, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":354
+  /* "capnp/lib/capnp.pyx":367
  * 
  *     property nestedNodes:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _List_NestedNode_Reader()._init(self.thisptr.getNestedNodes())
  * 
  */
 
@@ -12981,15 +13247,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":358
+/* "capnp/lib/capnp.pyx":371
  * 
  *     property isStruct:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.isStruct()
  * 
  */
 
@@ -13011,29 +13277,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":359
+  /* "capnp/lib/capnp.pyx":372
  *     property isStruct:
  *         def __get__(self):
  *             return self.thisptr.isStruct()             # <<<<<<<<<<<<<<
  * 
  *     property isConst:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->thisptr.isStruct()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 359, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->thisptr.isStruct()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 372, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":358
+  /* "capnp/lib/capnp.pyx":371
  * 
  *     property isStruct:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.isStruct()
  * 
  */
 
@@ -13044,15 +13310,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":362
+/* "capnp/lib/capnp.pyx":375
  * 
  *     property isConst:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.isConst()
  * 
  */
 
@@ -13074,29 +13340,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":363
+  /* "capnp/lib/capnp.pyx":376
  *     property isConst:
  *         def __get__(self):
  *             return self.thisptr.isConst()             # <<<<<<<<<<<<<<
  * 
  *     property isInterface:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->thisptr.isConst()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 363, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->thisptr.isConst()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 376, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":362
+  /* "capnp/lib/capnp.pyx":375
  * 
  *     property isConst:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.isConst()
  * 
  */
 
@@ -13107,15 +13373,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":366
+/* "capnp/lib/capnp.pyx":379
  * 
  *     property isInterface:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.isInterface()
  * 
  */
 
@@ -13137,29 +13403,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":367
+  /* "capnp/lib/capnp.pyx":380
  *     property isInterface:
  *         def __get__(self):
  *             return self.thisptr.isInterface()             # <<<<<<<<<<<<<<
  * 
  *     property isEnum:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->thisptr.isInterface()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 367, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->thisptr.isInterface()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 380, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":366
+  /* "capnp/lib/capnp.pyx":379
  * 
  *     property isInterface:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.isInterface()
  * 
  */
 
@@ -13170,15 +13436,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":370
+/* "capnp/lib/capnp.pyx":383
  * 
  *     property isEnum:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.isEnum()
  * 
  */
 
@@ -13200,29 +13466,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":371
+  /* "capnp/lib/capnp.pyx":384
  *     property isEnum:
  *         def __get__(self):
  *             return self.thisptr.isEnum()             # <<<<<<<<<<<<<<
  * 
  *     property node:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->thisptr.isEnum()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 371, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->thisptr.isEnum()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 384, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":370
+  /* "capnp/lib/capnp.pyx":383
  * 
  *     property isEnum:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.isEnum()
  * 
  */
 
@@ -13233,15 +13499,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":375
+/* "capnp/lib/capnp.pyx":388
  *     property node:
  *         """A property that returns the NodeReader as a DynamicStructReader."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr, self)
  * 
  */
 
@@ -13264,32 +13530,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":376
+  /* "capnp/lib/capnp.pyx":389
  *         """A property that returns the NodeReader as a DynamicStructReader."""
  *         def __get__(self):
  *             return _DynamicStructReader()._init(self.thisptr, self)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 376, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 389, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_v_self->thisptr), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 376, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_v_self->thisptr), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 389, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":375
+  /* "capnp/lib/capnp.pyx":388
  *     property node:
  *         """A property that returns the NodeReader as a DynamicStructReader."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr, self)
  * 
  */
 
@@ -13416,64 +13682,64 @@
   __Pyx_AddTraceback("capnp.lib.capnp._NodeReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":381
+/* "capnp/lib/capnp.pyx":394
  * cdef class _NestedNodeReader:
  *     cdef C_Node.NestedNode.Reader thisptr
  *     cdef init(self, C_Node.NestedNode.Reader other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_17_NestedNodeReader_init(struct __pyx_obj_5capnp_3lib_5capnp__NestedNodeReader *__pyx_v_self,  ::capnp::schema::Node::NestedNode::Reader __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("init", 0);
 
-  /* "capnp/lib/capnp.pyx":382
+  /* "capnp/lib/capnp.pyx":395
  *     cdef C_Node.NestedNode.Reader thisptr
  *     cdef init(self, C_Node.NestedNode.Reader other):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":383
+  /* "capnp/lib/capnp.pyx":396
  *     cdef init(self, C_Node.NestedNode.Reader other):
  *         self.thisptr = other
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     property name:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":381
+  /* "capnp/lib/capnp.pyx":394
  * cdef class _NestedNodeReader:
  *     cdef C_Node.NestedNode.Reader thisptr
  *     cdef init(self, C_Node.NestedNode.Reader other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":386
+/* "capnp/lib/capnp.pyx":399
  * 
  *     property name:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return <char*>self.thisptr.getName().cStr()
  *     property id:
  */
 
@@ -13495,29 +13761,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":387
+  /* "capnp/lib/capnp.pyx":400
  *     property name:
  *         def __get__(self):
  *             return <char*>self.thisptr.getName().cStr()             # <<<<<<<<<<<<<<
  *     property id:
  *         def __get__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_v_self->thisptr.getName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 387, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_v_self->thisptr.getName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 400, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":386
+  /* "capnp/lib/capnp.pyx":399
  * 
  *     property name:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return <char*>self.thisptr.getName().cStr()
  *     property id:
  */
 
@@ -13528,15 +13794,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":389
+/* "capnp/lib/capnp.pyx":402
  *             return <char*>self.thisptr.getName().cStr()
  *     property id:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getId()
  * 
  */
 
@@ -13558,29 +13824,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":390
+  /* "capnp/lib/capnp.pyx":403
  *     property id:
  *         def __get__(self):
  *             return self.thisptr.getId()             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getId()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 390, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getId()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 403, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":389
+  /* "capnp/lib/capnp.pyx":402
  *             return <char*>self.thisptr.getName().cStr()
  *     property id:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getId()
  * 
  */
 
@@ -13706,77 +13972,77 @@
   __Pyx_AddTraceback("capnp.lib.capnp._NestedNodeReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":412
+/* "capnp/lib/capnp.pyx":425
  *     cdef C_DynamicList.Reader thisptr
  *     cdef public object _parent
  *     cdef _init(self, C_DynamicList.Reader other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_18_DynamicListReader__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *__pyx_v_self,  ::capnp::DynamicList::Reader __pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":413
+  /* "capnp/lib/capnp.pyx":426
  *     cdef public object _parent
  *     cdef _init(self, C_DynamicList.Reader other, object parent):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":414
+  /* "capnp/lib/capnp.pyx":427
  *     cdef _init(self, C_DynamicList.Reader other, object parent):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":415
+  /* "capnp/lib/capnp.pyx":428
  *         self.thisptr = other
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get(self, int64_t index):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":412
+  /* "capnp/lib/capnp.pyx":425
  *     cdef C_DynamicList.Reader thisptr
  *     cdef public object _parent
  *     cdef _init(self, C_DynamicList.Reader other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":417
+/* "capnp/lib/capnp.pyx":430
  *         return self
  * 
  *     cpdef _get(self, int64_t index):             # <<<<<<<<<<<<<<
  *         return to_python_reader(self.thisptr[index], self._parent)
  * 
  */
 
@@ -13799,19 +14065,19 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 417, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 430, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_18_DynamicListReader_1_get)) {
         __Pyx_XDECREF(__pyx_r);
-        __pyx_t_3 = __Pyx_PyInt_From_int64_t(__pyx_v_index); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 417, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyInt_From_int64_t(__pyx_v_index); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 430, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_4 = __pyx_t_1; __pyx_t_5 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
           __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
           if (likely(__pyx_t_5)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
@@ -13819,15 +14085,15 @@
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_4, function);
           }
         }
         __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_5, __pyx_t_3) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3);
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 417, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 430, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -13840,38 +14106,38 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":418
+  /* "capnp/lib/capnp.pyx":431
  * 
  *     cpdef _get(self, int64_t index):
  *         return to_python_reader(self.thisptr[index], self._parent)             # <<<<<<<<<<<<<<
  * 
  *     def __getitem__(self, int64_t index):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_6 = __pyx_v_self->thisptr[__pyx_v_index];
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 418, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 431, __pyx_L1_error)
   }
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_reader((( ::capnp::DynamicValue::Reader)__pyx_t_6), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 418, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_reader((( ::capnp::DynamicValue::Reader)__pyx_t_6), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 431, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":417
+  /* "capnp/lib/capnp.pyx":430
  *         return self
  * 
  *     cpdef _get(self, int64_t index):             # <<<<<<<<<<<<<<
  *         return to_python_reader(self.thisptr[index], self._parent)
  * 
  */
 
@@ -13898,15 +14164,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_get (wrapper)", 0);
   assert(__pyx_arg_index); {
-    __pyx_v_index = __Pyx_PyInt_As_int64_t(__pyx_arg_index); if (unlikely((__pyx_v_index == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 417, __pyx_L3_error)
+    __pyx_v_index = __Pyx_PyInt_As_int64_t(__pyx_arg_index); if (unlikely((__pyx_v_index == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 430, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListReader._get", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
@@ -13922,15 +14188,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_18_DynamicListReader__get(__pyx_v_self, __pyx_v_index, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 417, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_18_DynamicListReader__get(__pyx_v_self, __pyx_v_index, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 430, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -13939,15 +14205,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":420
+/* "capnp/lib/capnp.pyx":433
  *         return to_python_reader(self.thisptr[index], self._parent)
  * 
  *     def __getitem__(self, int64_t index):             # <<<<<<<<<<<<<<
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:
  */
 
@@ -13958,15 +14224,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__getitem__ (wrapper)", 0);
   assert(__pyx_arg_index); {
-    __pyx_v_index = __Pyx_PyInt_As_int64_t(__pyx_arg_index); if (unlikely((__pyx_v_index == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 420, __pyx_L3_error)
+    __pyx_v_index = __Pyx_PyInt_As_int64_t(__pyx_arg_index); if (unlikely((__pyx_v_index == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 433, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListReader.__getitem__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
@@ -13984,83 +14250,83 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getitem__", 0);
 
-  /* "capnp/lib/capnp.pyx":421
+  /* "capnp/lib/capnp.pyx":434
  * 
  *     def __getitem__(self, int64_t index):
  *         cdef uint size = self.thisptr.size()             # <<<<<<<<<<<<<<
  *         if index >= size:
  *             raise IndexError('Out of bounds')
  */
   __pyx_v_size = __pyx_v_self->thisptr.size();
 
-  /* "capnp/lib/capnp.pyx":422
+  /* "capnp/lib/capnp.pyx":435
  *     def __getitem__(self, int64_t index):
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:             # <<<<<<<<<<<<<<
  *             raise IndexError('Out of bounds')
  *         index = index % size
  */
   __pyx_t_1 = ((__pyx_v_index >= __pyx_v_size) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":423
+    /* "capnp/lib/capnp.pyx":436
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:
  *             raise IndexError('Out of bounds')             # <<<<<<<<<<<<<<
  *         index = index % size
  *         return self._get(index)
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_IndexError, __pyx_tuple__14, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 423, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_IndexError, __pyx_tuple__14, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 436, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 423, __pyx_L1_error)
+    __PYX_ERR(0, 436, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":422
+    /* "capnp/lib/capnp.pyx":435
  *     def __getitem__(self, int64_t index):
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:             # <<<<<<<<<<<<<<
  *             raise IndexError('Out of bounds')
  *         index = index % size
  */
   }
 
-  /* "capnp/lib/capnp.pyx":424
+  /* "capnp/lib/capnp.pyx":437
  *         if index >= size:
  *             raise IndexError('Out of bounds')
  *         index = index % size             # <<<<<<<<<<<<<<
  *         return self._get(index)
  * 
  */
   if (unlikely(__pyx_v_size == 0)) {
     PyErr_SetString(PyExc_ZeroDivisionError, "integer division or modulo by zero");
-    __PYX_ERR(0, 424, __pyx_L1_error)
+    __PYX_ERR(0, 437, __pyx_L1_error)
   }
   __pyx_v_index = __Pyx_mod_int64_t(__pyx_v_index, __pyx_v_size);
 
-  /* "capnp/lib/capnp.pyx":425
+  /* "capnp/lib/capnp.pyx":438
  *             raise IndexError('Out of bounds')
  *         index = index % size
  *         return self._get(index)             # <<<<<<<<<<<<<<
  * 
  *     def __len__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_index, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 425, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_index, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 438, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":420
+  /* "capnp/lib/capnp.pyx":433
  *         return to_python_reader(self.thisptr[index], self._parent)
  * 
  *     def __getitem__(self, int64_t index):             # <<<<<<<<<<<<<<
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:
  */
 
@@ -14071,15 +14337,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":427
+/* "capnp/lib/capnp.pyx":440
  *         return self._get(index)
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr.size()
  * 
  */
 
@@ -14097,39 +14363,39 @@
 }
 
 static Py_ssize_t __pyx_pf_5capnp_3lib_5capnp_18_DynamicListReader_4__len__(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *__pyx_v_self) {
   Py_ssize_t __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__len__", 0);
 
-  /* "capnp/lib/capnp.pyx":428
+  /* "capnp/lib/capnp.pyx":441
  * 
  *     def __len__(self):
  *         return self.thisptr.size()             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   __pyx_r = __pyx_v_self->thisptr.size();
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":427
+  /* "capnp/lib/capnp.pyx":440
  *         return self._get(index)
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr.size()
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":430
+/* "capnp/lib/capnp.pyx":443
  *         return self.thisptr.size()
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>printListReader(self.thisptr).flatten().cStr()
  * 
  */
 
@@ -14152,35 +14418,35 @@
    ::kj::StringTree __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":431
+  /* "capnp/lib/capnp.pyx":444
  * 
  *     def __str__(self):
  *         return <char*>printListReader(self.thisptr).flatten().cStr()             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 =  ::capnp::prettyPrint(__pyx_v_self->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 431, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 444, __pyx_L1_error)
   }
-  __pyx_t_2 = __Pyx_PyStr_FromString(((char *)__pyx_t_1.flatten().cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 431, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyStr_FromString(((char *)__pyx_t_1.flatten().cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 444, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":430
+  /* "capnp/lib/capnp.pyx":443
  *         return self.thisptr.size()
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>printListReader(self.thisptr).flatten().cStr()
  * 
  */
 
@@ -14191,15 +14457,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":433
+/* "capnp/lib/capnp.pyx":446
  *         return <char*>printListReader(self.thisptr).flatten().cStr()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         # TODO:  Print the list type.
  *         return '<capnp list reader %s>' % <char*>strListReader(self.thisptr).cStr()
  */
 
@@ -14222,32 +14488,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":435
+  /* "capnp/lib/capnp.pyx":448
  *     def __repr__(self):
  *         # TODO:  Print the list type.
  *         return '<capnp list reader %s>' % <char*>strListReader(self.thisptr).cStr()             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *) ::kj::str(__pyx_v_self->thisptr).cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 435, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *) ::kj::str(__pyx_v_self->thisptr).cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 448, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_capnp_list_reader_s, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 435, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_capnp_list_reader_s, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 448, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":433
+  /* "capnp/lib/capnp.pyx":446
  *         return <char*>printListReader(self.thisptr).flatten().cStr()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         # TODO:  Print the list type.
  *         return '<capnp list reader %s>' % <char*>strListReader(self.thisptr).cStr()
  */
 
@@ -14259,15 +14525,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":411
+/* "capnp/lib/capnp.pyx":424
  *     """
  *     cdef C_DynamicList.Reader thisptr
  *     cdef public object _parent             # <<<<<<<<<<<<<<
  *     cdef _init(self, C_DynamicList.Reader other, object parent):
  *         self.thisptr = other
  */
 
@@ -14469,15 +14735,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":467
+/* "capnp/lib/capnp.pyx":482
  *     cdef public list _list
  * 
  *     def __init__(self, parent, field, schema):             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         self._message = parent._parent
  */
 
@@ -14514,40 +14780,40 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_parent)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_field)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 467, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 482, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 467, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 482, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 467, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 482, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_parent = values[0];
     __pyx_v_field = values[1];
     __pyx_v_schema = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 467, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 482, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicResizableListBuilder.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_28_DynamicResizableListBuilder___init__(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicResizableListBuilder *)__pyx_v_self), __pyx_v_parent, __pyx_v_field, __pyx_v_schema);
 
@@ -14561,84 +14827,84 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":468
+  /* "capnp/lib/capnp.pyx":483
  * 
  *     def __init__(self, parent, field, schema):
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         self._message = parent._parent
  *         self._field = field
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":469
+  /* "capnp/lib/capnp.pyx":484
  *     def __init__(self, parent, field, schema):
  *         self._parent = parent
  *         self._message = parent._parent             # <<<<<<<<<<<<<<
  *         self._field = field
  *         self._schema = schema
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_parent, __pyx_n_s_parent_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 469, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_parent, __pyx_n_s_parent_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 484, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->_message);
   __Pyx_DECREF(__pyx_v_self->_message);
   __pyx_v_self->_message = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":470
+  /* "capnp/lib/capnp.pyx":485
  *         self._parent = parent
  *         self._message = parent._parent
  *         self._field = field             # <<<<<<<<<<<<<<
  *         self._schema = schema
  * 
  */
   __Pyx_INCREF(__pyx_v_field);
   __Pyx_GIVEREF(__pyx_v_field);
   __Pyx_GOTREF(__pyx_v_self->_field);
   __Pyx_DECREF(__pyx_v_self->_field);
   __pyx_v_self->_field = __pyx_v_field;
 
-  /* "capnp/lib/capnp.pyx":471
+  /* "capnp/lib/capnp.pyx":486
  *         self._message = parent._parent
  *         self._field = field
  *         self._schema = schema             # <<<<<<<<<<<<<<
  * 
  *         self._list = list()
  */
   __Pyx_INCREF(__pyx_v_schema);
   __Pyx_GIVEREF(__pyx_v_schema);
   __Pyx_GOTREF(__pyx_v_self->_schema);
   __Pyx_DECREF(__pyx_v_self->_schema);
   __pyx_v_self->_schema = __pyx_v_schema;
 
-  /* "capnp/lib/capnp.pyx":473
+  /* "capnp/lib/capnp.pyx":488
  *         self._schema = schema
  * 
  *         self._list = list()             # <<<<<<<<<<<<<<
  * 
  *     cpdef add(self):
  */
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 473, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 488, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->_list);
   __Pyx_DECREF(__pyx_v_self->_list);
   __pyx_v_self->_list = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":467
+  /* "capnp/lib/capnp.pyx":482
  *     cdef public list _list
  * 
  *     def __init__(self, parent, field, schema):             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         self._message = parent._parent
  */
 
@@ -14650,15 +14916,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicResizableListBuilder.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":475
+/* "capnp/lib/capnp.pyx":490
  *         self._list = list()
  * 
  *     cpdef add(self):             # <<<<<<<<<<<<<<
  *         """A method for adding a new struct to the list
  * 
  */
 
@@ -14682,15 +14948,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_add); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 475, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_add); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 490, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_28_DynamicResizableListBuilder_3add)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -14699,15 +14965,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 475, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 490, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -14720,103 +14986,103 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":483
+  /* "capnp/lib/capnp.pyx":498
  *         :rtype: :class:`_DynamicStructBuilder`
  *         """
  *         orphan = self._message.new_orphan(self._schema)             # <<<<<<<<<<<<<<
  *         orphan_val = orphan.get()
  *         self._list.append((orphan, orphan_val))
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->_message, __pyx_n_s_new_orphan); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 483, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->_message, __pyx_n_s_new_orphan); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 498, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_self->_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_self->_schema);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 483, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 498, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_orphan = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":484
+  /* "capnp/lib/capnp.pyx":499
  *         """
  *         orphan = self._message.new_orphan(self._schema)
  *         orphan_val = orphan.get()             # <<<<<<<<<<<<<<
  *         self._list.append((orphan, orphan_val))
  *         return orphan_val
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_orphan, __pyx_n_s_get_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 484, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_orphan, __pyx_n_s_get_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 499, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 484, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 499, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_orphan_val = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":485
+  /* "capnp/lib/capnp.pyx":500
  *         orphan = self._message.new_orphan(self._schema)
  *         orphan_val = orphan.get()
  *         self._list.append((orphan, orphan_val))             # <<<<<<<<<<<<<<
  *         return orphan_val
  * 
  */
   if (unlikely(__pyx_v_self->_list == Py_None)) {
     PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "append");
-    __PYX_ERR(0, 485, __pyx_L1_error)
+    __PYX_ERR(0, 500, __pyx_L1_error)
   }
-  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 485, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 500, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(__pyx_v_orphan);
   __Pyx_GIVEREF(__pyx_v_orphan);
   PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_orphan);
   __Pyx_INCREF(__pyx_v_orphan_val);
   __Pyx_GIVEREF(__pyx_v_orphan_val);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_orphan_val);
-  __pyx_t_5 = __Pyx_PyList_Append(__pyx_v_self->_list, __pyx_t_1); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 485, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyList_Append(__pyx_v_self->_list, __pyx_t_1); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 500, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":486
+  /* "capnp/lib/capnp.pyx":501
  *         orphan_val = orphan.get()
  *         self._list.append((orphan, orphan_val))
  *         return orphan_val             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get(self, index):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_orphan_val);
   __pyx_r = __pyx_v_orphan_val;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":475
+  /* "capnp/lib/capnp.pyx":490
  *         self._list = list()
  * 
  *     cpdef add(self):             # <<<<<<<<<<<<<<
  *         """A method for adding a new struct to the list
  * 
  */
 
@@ -14855,15 +15121,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("add", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_28_DynamicResizableListBuilder_add(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 475, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_28_DynamicResizableListBuilder_add(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 490, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -14872,15 +15138,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":488
+/* "capnp/lib/capnp.pyx":503
  *         return orphan_val
  * 
  *     cpdef _get(self, index):             # <<<<<<<<<<<<<<
  *         return self._list[index][1]
  * 
  */
 
@@ -14901,15 +15167,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 488, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 503, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_28_DynamicResizableListBuilder_5_get)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -14918,15 +15184,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_index) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_index);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 488, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 503, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -14939,36 +15205,36 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":489
+  /* "capnp/lib/capnp.pyx":504
  * 
  *     cpdef _get(self, index):
  *         return self._list[index][1]             # <<<<<<<<<<<<<<
  * 
  *     def __getitem__(self, index):
  */
   __Pyx_XDECREF(__pyx_r);
   if (unlikely(__pyx_v_self->_list == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-    __PYX_ERR(0, 489, __pyx_L1_error)
+    __PYX_ERR(0, 504, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyObject_GetItem(__pyx_v_self->_list, __pyx_v_index); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 489, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetItem(__pyx_v_self->_list, __pyx_v_index); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 504, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_1, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 489, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_1, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 504, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":488
+  /* "capnp/lib/capnp.pyx":503
  *         return orphan_val
  * 
  *     cpdef _get(self, index):             # <<<<<<<<<<<<<<
  *         return self._list[index][1]
  * 
  */
 
@@ -15005,15 +15271,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_28_DynamicResizableListBuilder__get(__pyx_v_self, __pyx_v_index, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 488, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_28_DynamicResizableListBuilder__get(__pyx_v_self, __pyx_v_index, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 503, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -15022,15 +15288,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":491
+/* "capnp/lib/capnp.pyx":506
  *         return self._list[index][1]
  * 
  *     def __getitem__(self, index):             # <<<<<<<<<<<<<<
  *         return self._list[index][1]
  * 
  */
 
@@ -15053,36 +15319,36 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getitem__", 0);
 
-  /* "capnp/lib/capnp.pyx":492
+  /* "capnp/lib/capnp.pyx":507
  * 
  *     def __getitem__(self, index):
  *         return self._list[index][1]             # <<<<<<<<<<<<<<
  * 
  *     # def __setitem__(self, index, val):
  */
   __Pyx_XDECREF(__pyx_r);
   if (unlikely(__pyx_v_self->_list == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-    __PYX_ERR(0, 492, __pyx_L1_error)
+    __PYX_ERR(0, 507, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyObject_GetItem(__pyx_v_self->_list, __pyx_v_index); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 492, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetItem(__pyx_v_self->_list, __pyx_v_index); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 507, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_1, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 492, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_GetItemInt(__pyx_t_1, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 507, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":491
+  /* "capnp/lib/capnp.pyx":506
  *         return self._list[index][1]
  * 
  *     def __getitem__(self, index):             # <<<<<<<<<<<<<<
  *         return self._list[index][1]
  * 
  */
 
@@ -15094,15 +15360,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":497
+/* "capnp/lib/capnp.pyx":512
  *     #     self._list[index] = val
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return len(self._list)
  * 
  */
 
@@ -15125,33 +15391,33 @@
   PyObject *__pyx_t_1 = NULL;
   Py_ssize_t __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__len__", 0);
 
-  /* "capnp/lib/capnp.pyx":498
+  /* "capnp/lib/capnp.pyx":513
  * 
  *     def __len__(self):
  *         return len(self._list)             # <<<<<<<<<<<<<<
  * 
  *     def finish(self):
  */
   __pyx_t_1 = __pyx_v_self->_list;
   __Pyx_INCREF(__pyx_t_1);
   if (unlikely(__pyx_t_1 == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
-    __PYX_ERR(0, 498, __pyx_L1_error)
+    __PYX_ERR(0, 513, __pyx_L1_error)
   }
-  __pyx_t_2 = PyList_GET_SIZE(__pyx_t_1); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 498, __pyx_L1_error)
+  __pyx_t_2 = PyList_GET_SIZE(__pyx_t_1); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 513, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":497
+  /* "capnp/lib/capnp.pyx":512
  *     #     self._list[index] = val
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return len(self._list)
  * 
  */
 
@@ -15161,15 +15427,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicResizableListBuilder.__len__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":500
+/* "capnp/lib/capnp.pyx":515
  *         return len(self._list)
  * 
  *     def finish(self):             # <<<<<<<<<<<<<<
  *         """A method for closing this list and serializing all its members to the message
  * 
  */
 
@@ -15204,34 +15470,34 @@
   PyObject *(*__pyx_t_8)(PyObject *);
   PyObject *__pyx_t_9 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("finish", 0);
 
-  /* "capnp/lib/capnp.pyx":506
+  /* "capnp/lib/capnp.pyx":521
  *         ie. inaccessible but still taking up space.
  *         """
  *         cdef int i = 0             # <<<<<<<<<<<<<<
  *         new_list = self._parent.init(self._field, len(self))
  *         for orphan, _ in self._list:
  */
   __pyx_v_i = 0;
 
-  /* "capnp/lib/capnp.pyx":507
+  /* "capnp/lib/capnp.pyx":522
  *         """
  *         cdef int i = 0
  *         new_list = self._parent.init(self._field, len(self))             # <<<<<<<<<<<<<<
  *         for orphan, _ in self._list:
  *             new_list.adopt(i, orphan)
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->_parent, __pyx_n_s_init); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 507, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->_parent, __pyx_n_s_init); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 522, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyObject_Length(((PyObject *)__pyx_v_self)); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 507, __pyx_L1_error)
-  __pyx_t_4 = PyInt_FromSsize_t(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 507, __pyx_L1_error)
+  __pyx_t_3 = PyObject_Length(((PyObject *)__pyx_v_self)); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 522, __pyx_L1_error)
+  __pyx_t_4 = PyInt_FromSsize_t(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 522, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __pyx_t_5 = NULL;
   __pyx_t_6 = 0;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_5)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
@@ -15240,130 +15506,130 @@
       __Pyx_DECREF_SET(__pyx_t_2, function);
       __pyx_t_6 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_v_self->_field, __pyx_t_4};
-    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 507, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 522, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_v_self->_field, __pyx_t_4};
-    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 507, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 522, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   } else
   #endif
   {
-    __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 507, __pyx_L1_error)
+    __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 522, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     if (__pyx_t_5) {
       __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_5); __pyx_t_5 = NULL;
     }
     __Pyx_INCREF(__pyx_v_self->_field);
     __Pyx_GIVEREF(__pyx_v_self->_field);
     PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_6, __pyx_v_self->_field);
     __Pyx_GIVEREF(__pyx_t_4);
     PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_6, __pyx_t_4);
     __pyx_t_4 = 0;
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 507, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 522, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_new_list = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":508
+  /* "capnp/lib/capnp.pyx":523
  *         cdef int i = 0
  *         new_list = self._parent.init(self._field, len(self))
  *         for orphan, _ in self._list:             # <<<<<<<<<<<<<<
  *             new_list.adopt(i, orphan)
  *             i += 1
  */
   if (unlikely(__pyx_v_self->_list == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "'NoneType' object is not iterable");
-    __PYX_ERR(0, 508, __pyx_L1_error)
+    __PYX_ERR(0, 523, __pyx_L1_error)
   }
   __pyx_t_1 = __pyx_v_self->_list; __Pyx_INCREF(__pyx_t_1); __pyx_t_3 = 0;
   for (;;) {
     if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_1)) break;
     #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-    __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_3); __Pyx_INCREF(__pyx_t_2); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 508, __pyx_L1_error)
+    __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_3); __Pyx_INCREF(__pyx_t_2); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 523, __pyx_L1_error)
     #else
-    __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 508, __pyx_L1_error)
+    __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 523, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     #endif
     if ((likely(PyTuple_CheckExact(__pyx_t_2))) || (PyList_CheckExact(__pyx_t_2))) {
       PyObject* sequence = __pyx_t_2;
       Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
       if (unlikely(size != 2)) {
         if (size > 2) __Pyx_RaiseTooManyValuesError(2);
         else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-        __PYX_ERR(0, 508, __pyx_L1_error)
+        __PYX_ERR(0, 523, __pyx_L1_error)
       }
       #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
       if (likely(PyTuple_CheckExact(sequence))) {
         __pyx_t_7 = PyTuple_GET_ITEM(sequence, 0); 
         __pyx_t_4 = PyTuple_GET_ITEM(sequence, 1); 
       } else {
         __pyx_t_7 = PyList_GET_ITEM(sequence, 0); 
         __pyx_t_4 = PyList_GET_ITEM(sequence, 1); 
       }
       __Pyx_INCREF(__pyx_t_7);
       __Pyx_INCREF(__pyx_t_4);
       #else
-      __pyx_t_7 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 508, __pyx_L1_error)
+      __pyx_t_7 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 523, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_4 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 508, __pyx_L1_error)
+      __pyx_t_4 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 523, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
       #endif
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     } else {
       Py_ssize_t index = -1;
-      __pyx_t_5 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 508, __pyx_L1_error)
+      __pyx_t_5 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 523, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __pyx_t_8 = Py_TYPE(__pyx_t_5)->tp_iternext;
       index = 0; __pyx_t_7 = __pyx_t_8(__pyx_t_5); if (unlikely(!__pyx_t_7)) goto __pyx_L5_unpacking_failed;
       __Pyx_GOTREF(__pyx_t_7);
       index = 1; __pyx_t_4 = __pyx_t_8(__pyx_t_5); if (unlikely(!__pyx_t_4)) goto __pyx_L5_unpacking_failed;
       __Pyx_GOTREF(__pyx_t_4);
-      if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_5), 2) < 0) __PYX_ERR(0, 508, __pyx_L1_error)
+      if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_5), 2) < 0) __PYX_ERR(0, 523, __pyx_L1_error)
       __pyx_t_8 = NULL;
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       goto __pyx_L6_unpacking_done;
       __pyx_L5_unpacking_failed:;
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __pyx_t_8 = NULL;
       if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-      __PYX_ERR(0, 508, __pyx_L1_error)
+      __PYX_ERR(0, 523, __pyx_L1_error)
       __pyx_L6_unpacking_done:;
     }
     __Pyx_XDECREF_SET(__pyx_v_orphan, __pyx_t_7);
     __pyx_t_7 = 0;
     __Pyx_XDECREF_SET(__pyx_v__, __pyx_t_4);
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":509
+    /* "capnp/lib/capnp.pyx":524
  *         new_list = self._parent.init(self._field, len(self))
  *         for orphan, _ in self._list:
  *             new_list.adopt(i, orphan)             # <<<<<<<<<<<<<<
  *             i += 1
  * 
  */
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_new_list, __pyx_n_s_adopt); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 509, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_new_list, __pyx_n_s_adopt); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 524, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_7 = __Pyx_PyInt_From_int(__pyx_v_i); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 509, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_From_int(__pyx_v_i); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 524, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_t_5 = NULL;
     __pyx_t_6 = 0;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
@@ -15372,68 +15638,68 @@
         __Pyx_DECREF_SET(__pyx_t_4, function);
         __pyx_t_6 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_4)) {
       PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_t_7, __pyx_v_orphan};
-      __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 509, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 524, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_4)) {
       PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_t_7, __pyx_v_orphan};
-      __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 509, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_4, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 524, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     } else
     #endif
     {
-      __pyx_t_9 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 509, __pyx_L1_error)
+      __pyx_t_9 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 524, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       if (__pyx_t_5) {
         __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_5); __pyx_t_5 = NULL;
       }
       __Pyx_GIVEREF(__pyx_t_7);
       PyTuple_SET_ITEM(__pyx_t_9, 0+__pyx_t_6, __pyx_t_7);
       __Pyx_INCREF(__pyx_v_orphan);
       __Pyx_GIVEREF(__pyx_v_orphan);
       PyTuple_SET_ITEM(__pyx_t_9, 1+__pyx_t_6, __pyx_v_orphan);
       __pyx_t_7 = 0;
-      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_9, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 509, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_9, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 524, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":510
+    /* "capnp/lib/capnp.pyx":525
  *         for orphan, _ in self._list:
  *             new_list.adopt(i, orphan)
  *             i += 1             # <<<<<<<<<<<<<<
  * 
  * 
  */
     __pyx_v_i = (__pyx_v_i + 1);
 
-    /* "capnp/lib/capnp.pyx":508
+    /* "capnp/lib/capnp.pyx":523
  *         cdef int i = 0
  *         new_list = self._parent.init(self._field, len(self))
  *         for orphan, _ in self._list:             # <<<<<<<<<<<<<<
  *             new_list.adopt(i, orphan)
  *             i += 1
  */
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":500
+  /* "capnp/lib/capnp.pyx":515
  *         return len(self._list)
  * 
  *     def finish(self):             # <<<<<<<<<<<<<<
  *         """A method for closing this list and serializing all its members to the message
  * 
  */
 
@@ -15454,15 +15720,15 @@
   __Pyx_XDECREF(__pyx_v_orphan);
   __Pyx_XDECREF(__pyx_v__);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":464
+/* "capnp/lib/capnp.pyx":479
  *         person.write(f)
  *     """
  *     cdef public object _parent, _message, _field, _schema             # <<<<<<<<<<<<<<
  *     cdef public list _list
  * 
  */
 
@@ -15810,15 +16076,15 @@
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":465
+/* "capnp/lib/capnp.pyx":480
  *     """
  *     cdef public object _parent, _message, _field, _schema
  *     cdef public list _list             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, parent, field, schema):
  */
 
@@ -15868,15 +16134,15 @@
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 0);
-  if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 465, __pyx_L1_error)
+  if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 480, __pyx_L1_error)
   __pyx_t_1 = __pyx_v_value;
   __Pyx_INCREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->_list);
   __Pyx_DECREF(__pyx_v_self->_list);
   __pyx_v_self->_list = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
@@ -16257,77 +16523,77 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":532
+/* "capnp/lib/capnp.pyx":547
  *             print phone.number
  *     """
  *     cdef _init(self, C_DynamicList.Builder other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *__pyx_v_self,  ::capnp::DynamicList::Builder __pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":533
+  /* "capnp/lib/capnp.pyx":548
  *     """
  *     cdef _init(self, C_DynamicList.Builder other, object parent):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":534
+  /* "capnp/lib/capnp.pyx":549
  *     cdef _init(self, C_DynamicList.Builder other, object parent):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":535
+  /* "capnp/lib/capnp.pyx":550
  *         self.thisptr = other
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get(self, int64_t index):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":532
+  /* "capnp/lib/capnp.pyx":547
  *             print phone.number
  *     """
  *     cdef _init(self, C_DynamicList.Builder other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":537
+/* "capnp/lib/capnp.pyx":552
  *         return self
  * 
  *     cpdef _get(self, int64_t index):             # <<<<<<<<<<<<<<
  *         return to_python_builder(self.thisptr[index], self._parent)
  * 
  */
 
@@ -16350,19 +16616,19 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 537, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 552, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_19_DynamicListBuilder_1_get)) {
         __Pyx_XDECREF(__pyx_r);
-        __pyx_t_3 = __Pyx_PyInt_From_int64_t(__pyx_v_index); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 537, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyInt_From_int64_t(__pyx_v_index); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 552, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_4 = __pyx_t_1; __pyx_t_5 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
           __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
           if (likely(__pyx_t_5)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
@@ -16370,15 +16636,15 @@
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_4, function);
           }
         }
         __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_5, __pyx_t_3) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3);
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 537, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 552, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -16391,38 +16657,38 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":538
+  /* "capnp/lib/capnp.pyx":553
  * 
  *     cpdef _get(self, int64_t index):
  *         return to_python_builder(self.thisptr[index], self._parent)             # <<<<<<<<<<<<<<
  * 
  *     def __getitem__(self, int64_t index):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_6 = __pyx_v_self->thisptr[__pyx_v_index];
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 538, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 553, __pyx_L1_error)
   }
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_6), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 538, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_6), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 553, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":537
+  /* "capnp/lib/capnp.pyx":552
  *         return self
  * 
  *     cpdef _get(self, int64_t index):             # <<<<<<<<<<<<<<
  *         return to_python_builder(self.thisptr[index], self._parent)
  * 
  */
 
@@ -16449,15 +16715,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_get (wrapper)", 0);
   assert(__pyx_arg_index); {
-    __pyx_v_index = __Pyx_PyInt_As_int64_t(__pyx_arg_index); if (unlikely((__pyx_v_index == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 537, __pyx_L3_error)
+    __pyx_v_index = __Pyx_PyInt_As_int64_t(__pyx_arg_index); if (unlikely((__pyx_v_index == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 552, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListBuilder._get", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
@@ -16473,15 +16739,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder__get(__pyx_v_self, __pyx_v_index, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 537, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder__get(__pyx_v_self, __pyx_v_index, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 552, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -16490,15 +16756,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":540
+/* "capnp/lib/capnp.pyx":555
  *         return to_python_builder(self.thisptr[index], self._parent)
  * 
  *     def __getitem__(self, int64_t index):             # <<<<<<<<<<<<<<
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:
  */
 
@@ -16509,15 +16775,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__getitem__ (wrapper)", 0);
   assert(__pyx_arg_index); {
-    __pyx_v_index = __Pyx_PyInt_As_int64_t(__pyx_arg_index); if (unlikely((__pyx_v_index == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 540, __pyx_L3_error)
+    __pyx_v_index = __Pyx_PyInt_As_int64_t(__pyx_arg_index); if (unlikely((__pyx_v_index == ((int64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 555, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListBuilder.__getitem__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
@@ -16535,83 +16801,83 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getitem__", 0);
 
-  /* "capnp/lib/capnp.pyx":541
+  /* "capnp/lib/capnp.pyx":556
  * 
  *     def __getitem__(self, int64_t index):
  *         cdef uint size = self.thisptr.size()             # <<<<<<<<<<<<<<
  *         if index >= size:
  *             raise IndexError('Out of bounds')
  */
   __pyx_v_size = __pyx_v_self->thisptr.size();
 
-  /* "capnp/lib/capnp.pyx":542
+  /* "capnp/lib/capnp.pyx":557
  *     def __getitem__(self, int64_t index):
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:             # <<<<<<<<<<<<<<
  *             raise IndexError('Out of bounds')
  *         index = index % size
  */
   __pyx_t_1 = ((__pyx_v_index >= __pyx_v_size) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":543
+    /* "capnp/lib/capnp.pyx":558
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:
  *             raise IndexError('Out of bounds')             # <<<<<<<<<<<<<<
  *         index = index % size
  *         return self._get(index)
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_IndexError, __pyx_tuple__14, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 543, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_IndexError, __pyx_tuple__14, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 558, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 543, __pyx_L1_error)
+    __PYX_ERR(0, 558, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":542
+    /* "capnp/lib/capnp.pyx":557
  *     def __getitem__(self, int64_t index):
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:             # <<<<<<<<<<<<<<
  *             raise IndexError('Out of bounds')
  *         index = index % size
  */
   }
 
-  /* "capnp/lib/capnp.pyx":544
+  /* "capnp/lib/capnp.pyx":559
  *         if index >= size:
  *             raise IndexError('Out of bounds')
  *         index = index % size             # <<<<<<<<<<<<<<
  *         return self._get(index)
  * 
  */
   if (unlikely(__pyx_v_size == 0)) {
     PyErr_SetString(PyExc_ZeroDivisionError, "integer division or modulo by zero");
-    __PYX_ERR(0, 544, __pyx_L1_error)
+    __PYX_ERR(0, 559, __pyx_L1_error)
   }
   __pyx_v_index = __Pyx_mod_int64_t(__pyx_v_index, __pyx_v_size);
 
-  /* "capnp/lib/capnp.pyx":545
+  /* "capnp/lib/capnp.pyx":560
  *             raise IndexError('Out of bounds')
  *         index = index % size
  *         return self._get(index)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _set(self, index, value):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_index, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 545, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_index, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 560, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":540
+  /* "capnp/lib/capnp.pyx":555
  *         return to_python_builder(self.thisptr[index], self._parent)
  * 
  *     def __getitem__(self, int64_t index):             # <<<<<<<<<<<<<<
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:
  */
 
@@ -16622,15 +16888,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":547
+/* "capnp/lib/capnp.pyx":562
  *         return self._get(index)
  * 
  *     cpdef _set(self, index, value):             # <<<<<<<<<<<<<<
  *         _setDynamicField(self.thisptr, index, value, self._parent)
  * 
  */
 
@@ -16653,15 +16919,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 547, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 562, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_19_DynamicListBuilder_5_set)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -16673,40 +16939,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_index, __pyx_v_value};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 547, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 562, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_index, __pyx_v_value};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 547, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 562, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 547, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 562, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_index);
           __Pyx_GIVEREF(__pyx_v_index);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_index);
           __Pyx_INCREF(__pyx_v_value);
           __Pyx_GIVEREF(__pyx_v_value);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_value);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 547, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 562, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -16721,29 +16987,29 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":548
+  /* "capnp/lib/capnp.pyx":563
  * 
  *     cpdef _set(self, index, value):
  *         _setDynamicField(self.thisptr, index, value, self._parent)             # <<<<<<<<<<<<<<
  * 
  *     def __setitem__(self, index, value):
  */
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_fuse_0__pyx_f_5capnp_3lib_5capnp__setDynamicField(__pyx_v_self->thisptr, __pyx_v_index, __pyx_v_value, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 548, __pyx_L1_error)
+  __pyx_t_2 = __pyx_fuse_0__pyx_f_5capnp_3lib_5capnp__setDynamicField(__pyx_v_self->thisptr, __pyx_v_index, __pyx_v_value, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 563, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":547
+  /* "capnp/lib/capnp.pyx":562
  *         return self._get(index)
  * 
  *     cpdef _set(self, index, value):             # <<<<<<<<<<<<<<
  *         _setDynamicField(self.thisptr, index, value, self._parent)
  * 
  */
 
@@ -16795,32 +17061,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_index)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_value)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_set", 1, 2, 2, 1); __PYX_ERR(0, 547, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_set", 1, 2, 2, 1); __PYX_ERR(0, 562, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_set") < 0)) __PYX_ERR(0, 547, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_set") < 0)) __PYX_ERR(0, 562, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_index = values[0];
     __pyx_v_value = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_set", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 547, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_set", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 562, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListBuilder._set", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_19_DynamicListBuilder_4_set(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_self), __pyx_v_index, __pyx_v_value);
 
@@ -16834,15 +17100,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_set", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder__set(__pyx_v_self, __pyx_v_index, __pyx_v_value, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 547, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder__set(__pyx_v_self, __pyx_v_index, __pyx_v_value, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 562, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -16851,15 +17117,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":550
+/* "capnp/lib/capnp.pyx":565
  *         _setDynamicField(self.thisptr, index, value, self._parent)
  * 
  *     def __setitem__(self, index, value):             # <<<<<<<<<<<<<<
  *         size = self.thisptr.size()
  *         if index >= size:
  */
 
@@ -16885,87 +17151,87 @@
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setitem__", 0);
   __Pyx_INCREF(__pyx_v_index);
 
-  /* "capnp/lib/capnp.pyx":551
+  /* "capnp/lib/capnp.pyx":566
  * 
  *     def __setitem__(self, index, value):
  *         size = self.thisptr.size()             # <<<<<<<<<<<<<<
  *         if index >= size:
  *             raise IndexError('Out of bounds')
  */
-  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->thisptr.size()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 551, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->thisptr.size()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 566, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_size = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":552
+  /* "capnp/lib/capnp.pyx":567
  *     def __setitem__(self, index, value):
  *         size = self.thisptr.size()
  *         if index >= size:             # <<<<<<<<<<<<<<
  *             raise IndexError('Out of bounds')
  *         index = index % size
  */
-  __pyx_t_1 = PyObject_RichCompare(__pyx_v_index, __pyx_v_size, Py_GE); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 552, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 552, __pyx_L1_error)
+  __pyx_t_1 = PyObject_RichCompare(__pyx_v_index, __pyx_v_size, Py_GE); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 567, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 567, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (unlikely(__pyx_t_2)) {
 
-    /* "capnp/lib/capnp.pyx":553
+    /* "capnp/lib/capnp.pyx":568
  *         size = self.thisptr.size()
  *         if index >= size:
  *             raise IndexError('Out of bounds')             # <<<<<<<<<<<<<<
  *         index = index % size
  *         _setDynamicField(self.thisptr, index, value, self._parent)
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_IndexError, __pyx_tuple__14, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 553, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_IndexError, __pyx_tuple__14, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 568, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 553, __pyx_L1_error)
+    __PYX_ERR(0, 568, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":552
+    /* "capnp/lib/capnp.pyx":567
  *     def __setitem__(self, index, value):
  *         size = self.thisptr.size()
  *         if index >= size:             # <<<<<<<<<<<<<<
  *             raise IndexError('Out of bounds')
  *         index = index % size
  */
   }
 
-  /* "capnp/lib/capnp.pyx":554
+  /* "capnp/lib/capnp.pyx":569
  *         if index >= size:
  *             raise IndexError('Out of bounds')
  *         index = index % size             # <<<<<<<<<<<<<<
  *         _setDynamicField(self.thisptr, index, value, self._parent)
  * 
  */
-  __pyx_t_1 = PyNumber_Remainder(__pyx_v_index, __pyx_v_size); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 554, __pyx_L1_error)
+  __pyx_t_1 = PyNumber_Remainder(__pyx_v_index, __pyx_v_size); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF_SET(__pyx_v_index, __pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":555
+  /* "capnp/lib/capnp.pyx":570
  *             raise IndexError('Out of bounds')
  *         index = index % size
  *         _setDynamicField(self.thisptr, index, value, self._parent)             # <<<<<<<<<<<<<<
  * 
  *     def __len__(self):
  */
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_3 = __pyx_fuse_0__pyx_f_5capnp_3lib_5capnp__setDynamicField(__pyx_v_self->thisptr, __pyx_v_index, __pyx_v_value, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 555, __pyx_L1_error)
+  __pyx_t_3 = __pyx_fuse_0__pyx_f_5capnp_3lib_5capnp__setDynamicField(__pyx_v_self->thisptr, __pyx_v_index, __pyx_v_value, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 570, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":550
+  /* "capnp/lib/capnp.pyx":565
  *         _setDynamicField(self.thisptr, index, value, self._parent)
  * 
  *     def __setitem__(self, index, value):             # <<<<<<<<<<<<<<
  *         size = self.thisptr.size()
  *         if index >= size:
  */
 
@@ -16980,15 +17246,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_size);
   __Pyx_XDECREF(__pyx_v_index);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":557
+/* "capnp/lib/capnp.pyx":572
  *         _setDynamicField(self.thisptr, index, value, self._parent)
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr.size()
  * 
  */
 
@@ -17006,39 +17272,39 @@
 }
 
 static Py_ssize_t __pyx_pf_5capnp_3lib_5capnp_19_DynamicListBuilder_8__len__(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *__pyx_v_self) {
   Py_ssize_t __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__len__", 0);
 
-  /* "capnp/lib/capnp.pyx":558
+  /* "capnp/lib/capnp.pyx":573
  * 
  *     def __len__(self):
  *         return self.thisptr.size()             # <<<<<<<<<<<<<<
  * 
  *     cpdef adopt(self, index, _DynamicOrphan orphan):
  */
   __pyx_r = __pyx_v_self->thisptr.size();
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":557
+  /* "capnp/lib/capnp.pyx":572
  *         _setDynamicField(self.thisptr, index, value, self._parent)
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr.size()
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":560
+/* "capnp/lib/capnp.pyx":575
  *         return self.thisptr.size()
  * 
  *     cpdef adopt(self, index, _DynamicOrphan orphan):             # <<<<<<<<<<<<<<
  *         """A method for adopting Cap'n Proto orphans
  * 
  */
 
@@ -17062,15 +17328,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_adopt); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 560, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_adopt); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 575, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_19_DynamicListBuilder_11adopt)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -17082,40 +17348,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_index, ((PyObject *)__pyx_v_orphan)};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 560, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 575, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_index, ((PyObject *)__pyx_v_orphan)};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 560, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 575, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 560, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 575, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_index);
           __Pyx_GIVEREF(__pyx_v_index);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_index);
           __Pyx_INCREF(((PyObject *)__pyx_v_orphan));
           __Pyx_GIVEREF(((PyObject *)__pyx_v_orphan));
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, ((PyObject *)__pyx_v_orphan));
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 560, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 575, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -17130,30 +17396,30 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":574
+  /* "capnp/lib/capnp.pyx":589
  *         :rtype: void
  *         """
  *         self.thisptr.adopt(index, orphan.move())             # <<<<<<<<<<<<<<
  * 
  *     cpdef disown(self, index):
  */
-  __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_index); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 574, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_index); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 589, __pyx_L1_error)
   try {
     __pyx_v_self->thisptr.adopt(__pyx_t_7, ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_v_orphan->__pyx_vtab)->move(__pyx_v_orphan));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 574, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 589, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":560
+  /* "capnp/lib/capnp.pyx":575
  *         return self.thisptr.size()
  * 
  *     cpdef adopt(self, index, _DynamicOrphan orphan):             # <<<<<<<<<<<<<<
  *         """A method for adopting Cap'n Proto orphans
  * 
  */
 
@@ -17205,38 +17471,38 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_index)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_orphan)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("adopt", 1, 2, 2, 1); __PYX_ERR(0, 560, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("adopt", 1, 2, 2, 1); __PYX_ERR(0, 575, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "adopt") < 0)) __PYX_ERR(0, 560, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "adopt") < 0)) __PYX_ERR(0, 575, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_index = values[0];
     __pyx_v_orphan = ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)values[1]);
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("adopt", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 560, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("adopt", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 575, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListBuilder.adopt", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_orphan), __pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan, 1, "orphan", 0))) __PYX_ERR(0, 560, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_orphan), __pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan, 1, "orphan", 0))) __PYX_ERR(0, 575, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_19_DynamicListBuilder_10adopt(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_self), __pyx_v_index, __pyx_v_orphan);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -17249,15 +17515,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("adopt", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_adopt(__pyx_v_self, __pyx_v_index, __pyx_v_orphan, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 560, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_adopt(__pyx_v_self, __pyx_v_index, __pyx_v_orphan, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 575, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -17266,15 +17532,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":576
+/* "capnp/lib/capnp.pyx":591
  *         self.thisptr.adopt(index, orphan.move())
  * 
  *     cpdef disown(self, index):             # <<<<<<<<<<<<<<
  *         """A method for disowning Cap'n Proto orphans
  * 
  */
 
@@ -17296,15 +17562,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_disown); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 576, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_disown); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 591, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_19_DynamicListBuilder_13disown)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -17313,15 +17579,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_index) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_index);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 576, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 591, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -17334,36 +17600,36 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":586
+  /* "capnp/lib/capnp.pyx":601
  *         :rtype: :class:`_DynamicOrphan`
  *         """
  *         return _DynamicOrphan()._init(self.thisptr.disown(index), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef init(self, index, size):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 586, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 601, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_5 = __Pyx_PyInt_As_unsigned_int(__pyx_v_index); if (unlikely((__pyx_t_5 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 586, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyInt_As_unsigned_int(__pyx_v_index); if (unlikely((__pyx_t_5 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 601, __pyx_L1_error)
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1), __pyx_v_self->thisptr.disown(__pyx_t_5), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 586, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1), __pyx_v_self->thisptr.disown(__pyx_t_5), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 601, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":576
+  /* "capnp/lib/capnp.pyx":591
  *         self.thisptr.adopt(index, orphan.move())
  * 
  *     cpdef disown(self, index):             # <<<<<<<<<<<<<<
  *         """A method for disowning Cap'n Proto orphans
  * 
  */
 
@@ -17400,15 +17666,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("disown", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_disown(__pyx_v_self, __pyx_v_index, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 576, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_disown(__pyx_v_self, __pyx_v_index, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 591, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -17417,15 +17683,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":588
+/* "capnp/lib/capnp.pyx":603
  *         return _DynamicOrphan()._init(self.thisptr.disown(index), self._parent)
  * 
  *     cpdef init(self, index, size):             # <<<<<<<<<<<<<<
  *         """A method for initializing an element in a list
  * 
  */
 
@@ -17451,15 +17717,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 588, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 603, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_19_DynamicListBuilder_15init)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -17471,40 +17737,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_index, __pyx_v_size};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 588, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 603, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_index, __pyx_v_size};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 588, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 603, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 588, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 603, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_index);
           __Pyx_GIVEREF(__pyx_v_index);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_index);
           __Pyx_INCREF(__pyx_v_size);
           __Pyx_GIVEREF(__pyx_v_size);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_size);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 588, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 603, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -17519,40 +17785,40 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":597
+  /* "capnp/lib/capnp.pyx":612
  *         :param size: Size of the element to be initialized.
  *         """
  *         return to_python_builder(self.thisptr.init(index, size), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_index); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 597, __pyx_L1_error)
-  __pyx_t_8 = __Pyx_PyInt_As_unsigned_int(__pyx_v_size); if (unlikely((__pyx_t_8 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 597, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_index); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 612, __pyx_L1_error)
+  __pyx_t_8 = __Pyx_PyInt_As_unsigned_int(__pyx_v_size); if (unlikely((__pyx_t_8 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 612, __pyx_L1_error)
   try {
     __pyx_t_9 = __pyx_v_self->thisptr.init(__pyx_t_7, __pyx_t_8);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 597, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 612, __pyx_L1_error)
   }
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_9), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 597, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_9), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 612, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":588
+  /* "capnp/lib/capnp.pyx":603
  *         return _DynamicOrphan()._init(self.thisptr.disown(index), self._parent)
  * 
  *     cpdef init(self, index, size):             # <<<<<<<<<<<<<<
  *         """A method for initializing an element in a list
  * 
  */
 
@@ -17602,32 +17868,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_index)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_size)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("init", 1, 2, 2, 1); __PYX_ERR(0, 588, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("init", 1, 2, 2, 1); __PYX_ERR(0, 603, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "init") < 0)) __PYX_ERR(0, 588, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "init") < 0)) __PYX_ERR(0, 603, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_index = values[0];
     __pyx_v_size = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("init", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 588, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("init", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 603, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListBuilder.init", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_19_DynamicListBuilder_14init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_self), __pyx_v_index, __pyx_v_size);
 
@@ -17641,15 +17907,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("init", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_init(__pyx_v_self, __pyx_v_index, __pyx_v_size, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 588, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_init(__pyx_v_self, __pyx_v_index, __pyx_v_size, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 603, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -17658,15 +17924,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":599
+/* "capnp/lib/capnp.pyx":614
  *         return to_python_builder(self.thisptr.init(index, size), self._parent)
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>printListBuilder(self.thisptr).flatten().cStr()
  * 
  */
 
@@ -17689,35 +17955,35 @@
    ::kj::StringTree __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":600
+  /* "capnp/lib/capnp.pyx":615
  * 
  *     def __str__(self):
  *         return <char*>printListBuilder(self.thisptr).flatten().cStr()             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 =  ::capnp::prettyPrint(__pyx_v_self->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 600, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 615, __pyx_L1_error)
   }
-  __pyx_t_2 = __Pyx_PyStr_FromString(((char *)__pyx_t_1.flatten().cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 600, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyStr_FromString(((char *)__pyx_t_1.flatten().cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 615, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":599
+  /* "capnp/lib/capnp.pyx":614
  *         return to_python_builder(self.thisptr.init(index, size), self._parent)
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>printListBuilder(self.thisptr).flatten().cStr()
  * 
  */
 
@@ -17728,15 +17994,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":602
+/* "capnp/lib/capnp.pyx":617
  *         return <char*>printListBuilder(self.thisptr).flatten().cStr()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         # TODO:  Print the list type.
  *         return '<capnp list builder %s>' % <char*>strListBuilder(self.thisptr).cStr()
  */
 
@@ -17759,32 +18025,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":604
+  /* "capnp/lib/capnp.pyx":619
  *     def __repr__(self):
  *         # TODO:  Print the list type.
  *         return '<capnp list builder %s>' % <char*>strListBuilder(self.thisptr).cStr()             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *) ::kj::str(__pyx_v_self->thisptr).cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 604, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *) ::kj::str(__pyx_v_self->thisptr).cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 619, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_capnp_list_builder_s, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 604, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_capnp_list_builder_s, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 619, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":602
+  /* "capnp/lib/capnp.pyx":617
  *         return <char*>printListBuilder(self.thisptr).flatten().cStr()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         # TODO:  Print the list type.
  *         return '<capnp list builder %s>' % <char*>strListBuilder(self.thisptr).cStr()
  */
 
@@ -18006,64 +18272,64 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicListBuilder.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":609
+/* "capnp/lib/capnp.pyx":624
  * cdef class _List_NestedNode_Reader:
  *     cdef C_Node.NestedNode.Reader.ListNestedNodeReader thisptr
  *     cdef _init(self, List[C_Node.NestedNode].Reader other):             # <<<<<<<<<<<<<<
  *         self.thisptr = <C_Node.NestedNode.Reader.ListNestedNodeReader>other
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_23_List_NestedNode_Reader__init(struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader *__pyx_v_self,  ::capnp::List< ::capnp::schema::Node::NestedNode> ::Reader __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":610
+  /* "capnp/lib/capnp.pyx":625
  *     cdef C_Node.NestedNode.Reader.ListNestedNodeReader thisptr
  *     cdef _init(self, List[C_Node.NestedNode].Reader other):
  *         self.thisptr = <C_Node.NestedNode.Reader.ListNestedNodeReader>other             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = ((capnp::List<capnp::schema::Node::NestedNode>::Reader)__pyx_v_other);
 
-  /* "capnp/lib/capnp.pyx":611
+  /* "capnp/lib/capnp.pyx":626
  *     cdef _init(self, List[C_Node.NestedNode].Reader other):
  *         self.thisptr = <C_Node.NestedNode.Reader.ListNestedNodeReader>other
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __getitem__(self, index):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":609
+  /* "capnp/lib/capnp.pyx":624
  * cdef class _List_NestedNode_Reader:
  *     cdef C_Node.NestedNode.Reader.ListNestedNodeReader thisptr
  *     cdef _init(self, List[C_Node.NestedNode].Reader other):             # <<<<<<<<<<<<<<
  *         self.thisptr = <C_Node.NestedNode.Reader.ListNestedNodeReader>other
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":613
+/* "capnp/lib/capnp.pyx":628
  *         return self
  * 
  *     def __getitem__(self, index):             # <<<<<<<<<<<<<<
  *         size = self.thisptr.size()
  *         if index >= size:
  */
 
@@ -18090,91 +18356,91 @@
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getitem__", 0);
   __Pyx_INCREF(__pyx_v_index);
 
-  /* "capnp/lib/capnp.pyx":614
+  /* "capnp/lib/capnp.pyx":629
  * 
  *     def __getitem__(self, index):
  *         size = self.thisptr.size()             # <<<<<<<<<<<<<<
  *         if index >= size:
  *             raise IndexError('Out of bounds')
  */
-  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->thisptr.size()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 614, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->thisptr.size()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_size = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":615
+  /* "capnp/lib/capnp.pyx":630
  *     def __getitem__(self, index):
  *         size = self.thisptr.size()
  *         if index >= size:             # <<<<<<<<<<<<<<
  *             raise IndexError('Out of bounds')
  *         index = index % size
  */
-  __pyx_t_1 = PyObject_RichCompare(__pyx_v_index, __pyx_v_size, Py_GE); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 615, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 615, __pyx_L1_error)
+  __pyx_t_1 = PyObject_RichCompare(__pyx_v_index, __pyx_v_size, Py_GE); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 630, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 630, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (unlikely(__pyx_t_2)) {
 
-    /* "capnp/lib/capnp.pyx":616
+    /* "capnp/lib/capnp.pyx":631
  *         size = self.thisptr.size()
  *         if index >= size:
  *             raise IndexError('Out of bounds')             # <<<<<<<<<<<<<<
  *         index = index % size
  *         return _NestedNodeReader().init(<C_Node.NestedNode.Reader>self.thisptr[index])
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_IndexError, __pyx_tuple__14, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 616, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_IndexError, __pyx_tuple__14, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 631, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 616, __pyx_L1_error)
+    __PYX_ERR(0, 631, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":615
+    /* "capnp/lib/capnp.pyx":630
  *     def __getitem__(self, index):
  *         size = self.thisptr.size()
  *         if index >= size:             # <<<<<<<<<<<<<<
  *             raise IndexError('Out of bounds')
  *         index = index % size
  */
   }
 
-  /* "capnp/lib/capnp.pyx":617
+  /* "capnp/lib/capnp.pyx":632
  *         if index >= size:
  *             raise IndexError('Out of bounds')
  *         index = index % size             # <<<<<<<<<<<<<<
  *         return _NestedNodeReader().init(<C_Node.NestedNode.Reader>self.thisptr[index])
  * 
  */
-  __pyx_t_1 = PyNumber_Remainder(__pyx_v_index, __pyx_v_size); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 617, __pyx_L1_error)
+  __pyx_t_1 = PyNumber_Remainder(__pyx_v_index, __pyx_v_size); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 632, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF_SET(__pyx_v_index, __pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":618
+  /* "capnp/lib/capnp.pyx":633
  *             raise IndexError('Out of bounds')
  *         index = index % size
  *         return _NestedNodeReader().init(<C_Node.NestedNode.Reader>self.thisptr[index])             # <<<<<<<<<<<<<<
  * 
  *     def __len__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__NestedNodeReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 618, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__NestedNodeReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 633, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_PyInt_As_unsigned_int(__pyx_v_index); if (unlikely((__pyx_t_3 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 618, __pyx_L1_error)
-  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__NestedNodeReader *)((struct __pyx_obj_5capnp_3lib_5capnp__NestedNodeReader *)__pyx_t_1)->__pyx_vtab)->init(((struct __pyx_obj_5capnp_3lib_5capnp__NestedNodeReader *)__pyx_t_1), (( ::capnp::schema::Node::NestedNode::Reader)(__pyx_v_self->thisptr[__pyx_t_3]))); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 618, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_As_unsigned_int(__pyx_v_index); if (unlikely((__pyx_t_3 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 633, __pyx_L1_error)
+  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__NestedNodeReader *)((struct __pyx_obj_5capnp_3lib_5capnp__NestedNodeReader *)__pyx_t_1)->__pyx_vtab)->init(((struct __pyx_obj_5capnp_3lib_5capnp__NestedNodeReader *)__pyx_t_1), (( ::capnp::schema::Node::NestedNode::Reader)(__pyx_v_self->thisptr[__pyx_t_3]))); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 633, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_4;
   __pyx_t_4 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":613
+  /* "capnp/lib/capnp.pyx":628
  *         return self
  * 
  *     def __getitem__(self, index):             # <<<<<<<<<<<<<<
  *         size = self.thisptr.size()
  *         if index >= size:
  */
 
@@ -18188,15 +18454,15 @@
   __Pyx_XDECREF(__pyx_v_size);
   __Pyx_XDECREF(__pyx_v_index);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":620
+/* "capnp/lib/capnp.pyx":635
  *         return _NestedNodeReader().init(<C_Node.NestedNode.Reader>self.thisptr[index])
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr.size()
  * 
  */
 
@@ -18214,25 +18480,25 @@
 }
 
 static Py_ssize_t __pyx_pf_5capnp_3lib_5capnp_23_List_NestedNode_Reader_2__len__(struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader *__pyx_v_self) {
   Py_ssize_t __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__len__", 0);
 
-  /* "capnp/lib/capnp.pyx":621
+  /* "capnp/lib/capnp.pyx":636
  * 
  *     def __len__(self):
  *         return self.thisptr.size()             # <<<<<<<<<<<<<<
  * 
  * # cdef to_python_pipeline(C_DynamicValue.Pipeline self, object parent):
  */
   __pyx_r = __pyx_v_self->thisptr.size();
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":620
+  /* "capnp/lib/capnp.pyx":635
  *         return _NestedNodeReader().init(<C_Node.NestedNode.Reader>self.thisptr[index])
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr.size()
  * 
  */
 
@@ -18353,15 +18619,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._List_NestedNode_Reader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":635
+/* "capnp/lib/capnp.pyx":650
  * 
  * 
  * cdef to_python_reader(C_DynamicValue.Reader self, object parent):             # <<<<<<<<<<<<<<
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:
  */
 
@@ -18375,421 +18641,421 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_python_reader", 0);
 
-  /* "capnp/lib/capnp.pyx":636
+  /* "capnp/lib/capnp.pyx":651
  * 
  * cdef to_python_reader(C_DynamicValue.Reader self, object parent):
  *     cdef int type = self.getType()             # <<<<<<<<<<<<<<
  *     if type == capnp.TYPE_BOOL:
  *         return self.asBool()
  */
   __pyx_v_type = __pyx_v_self.getType();
 
-  /* "capnp/lib/capnp.pyx":637
+  /* "capnp/lib/capnp.pyx":652
  * cdef to_python_reader(C_DynamicValue.Reader self, object parent):
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:             # <<<<<<<<<<<<<<
  *         return self.asBool()
  *     elif type == capnp.TYPE_INT:
  */
   switch (__pyx_v_type) {
     case  ::capnp::DynamicValue::BOOL:
 
-    /* "capnp/lib/capnp.pyx":638
+    /* "capnp/lib/capnp.pyx":653
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:
  *         return self.asBool()             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_INT:
  *         return self.asInt()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self.as<bool>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 638, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self.as<bool>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 653, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":637
+    /* "capnp/lib/capnp.pyx":652
  * cdef to_python_reader(C_DynamicValue.Reader self, object parent):
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:             # <<<<<<<<<<<<<<
  *         return self.asBool()
  *     elif type == capnp.TYPE_INT:
  */
     break;
     case  ::capnp::DynamicValue::INT:
 
-    /* "capnp/lib/capnp.pyx":640
+    /* "capnp/lib/capnp.pyx":655
  *         return self.asBool()
  *     elif type == capnp.TYPE_INT:
  *         return self.asInt()             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_UINT:
  *         return self.asUint()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyInt_From_int64_t(__pyx_v_self.as<int64_t>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 640, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_From_int64_t(__pyx_v_self.as<int64_t>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 655, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":639
+    /* "capnp/lib/capnp.pyx":654
  *     if type == capnp.TYPE_BOOL:
  *         return self.asBool()
  *     elif type == capnp.TYPE_INT:             # <<<<<<<<<<<<<<
  *         return self.asInt()
  *     elif type == capnp.TYPE_UINT:
  */
     break;
     case  ::capnp::DynamicValue::UINT:
 
-    /* "capnp/lib/capnp.pyx":642
+    /* "capnp/lib/capnp.pyx":657
  *         return self.asInt()
  *     elif type == capnp.TYPE_UINT:
  *         return self.asUint()             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_FLOAT:
  *         return self.asDouble()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self.as<uint64_t>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 642, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self.as<uint64_t>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 657, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":641
+    /* "capnp/lib/capnp.pyx":656
  *     elif type == capnp.TYPE_INT:
  *         return self.asInt()
  *     elif type == capnp.TYPE_UINT:             # <<<<<<<<<<<<<<
  *         return self.asUint()
  *     elif type == capnp.TYPE_FLOAT:
  */
     break;
     case  ::capnp::DynamicValue::FLOAT:
 
-    /* "capnp/lib/capnp.pyx":644
+    /* "capnp/lib/capnp.pyx":659
  *         return self.asUint()
  *     elif type == capnp.TYPE_FLOAT:
  *         return self.asDouble()             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_TEXT:
  *         temp_text = self.asText()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self.as<double>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
+    __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self.as<double>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 659, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":643
+    /* "capnp/lib/capnp.pyx":658
  *     elif type == capnp.TYPE_UINT:
  *         return self.asUint()
  *     elif type == capnp.TYPE_FLOAT:             # <<<<<<<<<<<<<<
  *         return self.asDouble()
  *     elif type == capnp.TYPE_TEXT:
  */
     break;
     case  ::capnp::DynamicValue::TEXT:
 
-    /* "capnp/lib/capnp.pyx":646
+    /* "capnp/lib/capnp.pyx":661
  *         return self.asDouble()
  *     elif type == capnp.TYPE_TEXT:
  *         temp_text = self.asText()             # <<<<<<<<<<<<<<
  *         return (<char*>temp_text.begin())[:temp_text.size()]
  *     elif type == capnp.TYPE_DATA:
  */
     __pyx_v_temp_text = __pyx_v_self.as< ::capnp::Text>();
 
-    /* "capnp/lib/capnp.pyx":647
+    /* "capnp/lib/capnp.pyx":662
  *     elif type == capnp.TYPE_TEXT:
  *         temp_text = self.asText()
  *         return (<char*>temp_text.begin())[:temp_text.size()]             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_DATA:
  *         temp_data = self.asData()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyStr_FromStringAndSize(((char *)__pyx_v_temp_text.begin()) + 0, __pyx_v_temp_text.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 647, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyStr_FromStringAndSize(((char *)__pyx_v_temp_text.begin()) + 0, __pyx_v_temp_text.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 662, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":645
+    /* "capnp/lib/capnp.pyx":660
  *     elif type == capnp.TYPE_FLOAT:
  *         return self.asDouble()
  *     elif type == capnp.TYPE_TEXT:             # <<<<<<<<<<<<<<
  *         temp_text = self.asText()
  *         return (<char*>temp_text.begin())[:temp_text.size()]
  */
     break;
     case  ::capnp::DynamicValue::DATA:
 
-    /* "capnp/lib/capnp.pyx":649
+    /* "capnp/lib/capnp.pyx":664
  *         return (<char*>temp_text.begin())[:temp_text.size()]
  *     elif type == capnp.TYPE_DATA:
  *         temp_data = self.asData()             # <<<<<<<<<<<<<<
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])
  *     elif type == capnp.TYPE_LIST:
  */
     __pyx_v_temp_data = __pyx_v_self.as< ::capnp::Data>();
 
-    /* "capnp/lib/capnp.pyx":650
+    /* "capnp/lib/capnp.pyx":665
  *     elif type == capnp.TYPE_DATA:
  *         temp_data = self.asData()
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_LIST:
  *         return _DynamicListReader()._init(self.asList(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(((char *)__pyx_v_temp_data.begin()) + 0, __pyx_v_temp_data.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 650, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(((char *)__pyx_v_temp_data.begin()) + 0, __pyx_v_temp_data.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 665, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_INCREF(((PyObject*)__pyx_t_1));
     __pyx_r = __pyx_t_1;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":648
+    /* "capnp/lib/capnp.pyx":663
  *         temp_text = self.asText()
  *         return (<char*>temp_text.begin())[:temp_text.size()]
  *     elif type == capnp.TYPE_DATA:             # <<<<<<<<<<<<<<
  *         temp_data = self.asData()
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])
  */
     break;
     case  ::capnp::DynamicValue::LIST:
 
-    /* "capnp/lib/capnp.pyx":652
+    /* "capnp/lib/capnp.pyx":667
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])
  *     elif type == capnp.TYPE_LIST:
  *         return _DynamicListReader()._init(self.asList(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_STRUCT:
  *         return _DynamicStructReader()._init(self.asStruct(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 652, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 667, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicList>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 652, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicList>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 667, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":651
+    /* "capnp/lib/capnp.pyx":666
  *         temp_data = self.asData()
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])
  *     elif type == capnp.TYPE_LIST:             # <<<<<<<<<<<<<<
  *         return _DynamicListReader()._init(self.asList(), parent)
  *     elif type == capnp.TYPE_STRUCT:
  */
     break;
     case  ::capnp::DynamicValue::STRUCT:
 
-    /* "capnp/lib/capnp.pyx":654
+    /* "capnp/lib/capnp.pyx":669
  *         return _DynamicListReader()._init(self.asList(), parent)
  *     elif type == capnp.TYPE_STRUCT:
  *         return _DynamicStructReader()._init(self.asStruct(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_ENUM:
  *         return _DynamicEnum()._init(self.asEnum(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 654, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 669, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_2), __pyx_v_self.as< ::capnp::DynamicStruct>(), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 654, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_2), __pyx_v_self.as< ::capnp::DynamicStruct>(), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 669, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":653
+    /* "capnp/lib/capnp.pyx":668
  *     elif type == capnp.TYPE_LIST:
  *         return _DynamicListReader()._init(self.asList(), parent)
  *     elif type == capnp.TYPE_STRUCT:             # <<<<<<<<<<<<<<
  *         return _DynamicStructReader()._init(self.asStruct(), parent)
  *     elif type == capnp.TYPE_ENUM:
  */
     break;
     case  ::capnp::DynamicValue::ENUM:
 
-    /* "capnp/lib/capnp.pyx":656
+    /* "capnp/lib/capnp.pyx":671
  *         return _DynamicStructReader()._init(self.asStruct(), parent)
  *     elif type == capnp.TYPE_ENUM:
  *         return _DynamicEnum()._init(self.asEnum(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_VOID:
  *         return None
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicEnum)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 656, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicEnum)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 671, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicEnum>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 656, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicEnum>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 671, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":655
+    /* "capnp/lib/capnp.pyx":670
  *     elif type == capnp.TYPE_STRUCT:
  *         return _DynamicStructReader()._init(self.asStruct(), parent)
  *     elif type == capnp.TYPE_ENUM:             # <<<<<<<<<<<<<<
  *         return _DynamicEnum()._init(self.asEnum(), parent)
  *     elif type == capnp.TYPE_VOID:
  */
     break;
     case  ::capnp::DynamicValue::VOID:
 
-    /* "capnp/lib/capnp.pyx":658
+    /* "capnp/lib/capnp.pyx":673
  *         return _DynamicEnum()._init(self.asEnum(), parent)
  *     elif type == capnp.TYPE_VOID:
  *         return None             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_ANY_POINTER:
  *         return _DynamicObjectReader()._init(self.asObject(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":657
+    /* "capnp/lib/capnp.pyx":672
  *     elif type == capnp.TYPE_ENUM:
  *         return _DynamicEnum()._init(self.asEnum(), parent)
  *     elif type == capnp.TYPE_VOID:             # <<<<<<<<<<<<<<
  *         return None
  *     elif type == capnp.TYPE_ANY_POINTER:
  */
     break;
     case  ::capnp::DynamicValue::ANY_POINTER:
 
-    /* "capnp/lib/capnp.pyx":660
+    /* "capnp/lib/capnp.pyx":675
  *         return None
  *     elif type == capnp.TYPE_ANY_POINTER:
  *         return _DynamicObjectReader()._init(self.asObject(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_CAPABILITY:
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 660, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 675, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_2), __pyx_v_self.as< ::capnp::AnyPointer>(), __pyx_v_parent); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 660, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_2), __pyx_v_self.as< ::capnp::AnyPointer>(), __pyx_v_parent); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 675, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":659
+    /* "capnp/lib/capnp.pyx":674
  *     elif type == capnp.TYPE_VOID:
  *         return None
  *     elif type == capnp.TYPE_ANY_POINTER:             # <<<<<<<<<<<<<<
  *         return _DynamicObjectReader()._init(self.asObject(), parent)
  *     elif type == capnp.TYPE_CAPABILITY:
  */
     break;
     case  ::capnp::DynamicValue::CAPABILITY:
 
-    /* "capnp/lib/capnp.pyx":662
+    /* "capnp/lib/capnp.pyx":677
  *         return _DynamicObjectReader()._init(self.asObject(), parent)
  *     elif type == capnp.TYPE_CAPABILITY:
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_UNKNOWN:
  *         raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 662, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 677, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicCapability>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 662, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicCapability>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 677, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":661
+    /* "capnp/lib/capnp.pyx":676
  *     elif type == capnp.TYPE_ANY_POINTER:
  *         return _DynamicObjectReader()._init(self.asObject(), parent)
  *     elif type == capnp.TYPE_CAPABILITY:             # <<<<<<<<<<<<<<
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)
  *     elif type == capnp.TYPE_UNKNOWN:
  */
     break;
     case  ::capnp::DynamicValue::UNKNOWN:
 
-    /* "capnp/lib/capnp.pyx":664
+    /* "capnp/lib/capnp.pyx":679
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)
  *     elif type == capnp.TYPE_UNKNOWN:
  *         raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")             # <<<<<<<<<<<<<<
  *     else:
  *         raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 664, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 679, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_3, __pyx_kp_s_Cannot_convert_type_to_Python_Ty) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_kp_s_Cannot_convert_type_to_Python_Ty);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 664, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 679, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 664, __pyx_L1_error)
+    __PYX_ERR(0, 679, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":663
+    /* "capnp/lib/capnp.pyx":678
  *     elif type == capnp.TYPE_CAPABILITY:
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)
  *     elif type == capnp.TYPE_UNKNOWN:             # <<<<<<<<<<<<<<
  *         raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  *     else:
  */
     break;
     default:
 
-    /* "capnp/lib/capnp.pyx":666
+    /* "capnp/lib/capnp.pyx":681
  *         raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  *     else:
  *         raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 666, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 681, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_3, __pyx_kp_s_Cannot_convert_type_to_Python_Ty_2) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_kp_s_Cannot_convert_type_to_Python_Ty_2);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 666, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 681, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 666, __pyx_L1_error)
+    __PYX_ERR(0, 681, __pyx_L1_error)
     break;
   }
 
-  /* "capnp/lib/capnp.pyx":635
+  /* "capnp/lib/capnp.pyx":650
  * 
  * 
  * cdef to_python_reader(C_DynamicValue.Reader self, object parent):             # <<<<<<<<<<<<<<
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:
  */
 
@@ -18802,15 +19068,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":669
+/* "capnp/lib/capnp.pyx":684
  * 
  * 
  * cdef to_python_builder(C_DynamicValue.Builder self, object parent):             # <<<<<<<<<<<<<<
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:
  */
 
@@ -18824,421 +19090,421 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_python_builder", 0);
 
-  /* "capnp/lib/capnp.pyx":670
+  /* "capnp/lib/capnp.pyx":685
  * 
  * cdef to_python_builder(C_DynamicValue.Builder self, object parent):
  *     cdef int type = self.getType()             # <<<<<<<<<<<<<<
  *     if type == capnp.TYPE_BOOL:
  *         return self.asBool()
  */
   __pyx_v_type = __pyx_v_self.getType();
 
-  /* "capnp/lib/capnp.pyx":671
+  /* "capnp/lib/capnp.pyx":686
  * cdef to_python_builder(C_DynamicValue.Builder self, object parent):
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:             # <<<<<<<<<<<<<<
  *         return self.asBool()
  *     elif type == capnp.TYPE_INT:
  */
   switch (__pyx_v_type) {
     case  ::capnp::DynamicValue::BOOL:
 
-    /* "capnp/lib/capnp.pyx":672
+    /* "capnp/lib/capnp.pyx":687
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:
  *         return self.asBool()             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_INT:
  *         return self.asInt()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self.as<bool>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 672, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self.as<bool>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 687, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":671
+    /* "capnp/lib/capnp.pyx":686
  * cdef to_python_builder(C_DynamicValue.Builder self, object parent):
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:             # <<<<<<<<<<<<<<
  *         return self.asBool()
  *     elif type == capnp.TYPE_INT:
  */
     break;
     case  ::capnp::DynamicValue::INT:
 
-    /* "capnp/lib/capnp.pyx":674
+    /* "capnp/lib/capnp.pyx":689
  *         return self.asBool()
  *     elif type == capnp.TYPE_INT:
  *         return self.asInt()             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_UINT:
  *         return self.asUint()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyInt_From_int64_t(__pyx_v_self.as<int64_t>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 674, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_From_int64_t(__pyx_v_self.as<int64_t>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 689, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":673
+    /* "capnp/lib/capnp.pyx":688
  *     if type == capnp.TYPE_BOOL:
  *         return self.asBool()
  *     elif type == capnp.TYPE_INT:             # <<<<<<<<<<<<<<
  *         return self.asInt()
  *     elif type == capnp.TYPE_UINT:
  */
     break;
     case  ::capnp::DynamicValue::UINT:
 
-    /* "capnp/lib/capnp.pyx":676
+    /* "capnp/lib/capnp.pyx":691
  *         return self.asInt()
  *     elif type == capnp.TYPE_UINT:
  *         return self.asUint()             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_FLOAT:
  *         return self.asDouble()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self.as<uint64_t>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 676, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self.as<uint64_t>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 691, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":675
+    /* "capnp/lib/capnp.pyx":690
  *     elif type == capnp.TYPE_INT:
  *         return self.asInt()
  *     elif type == capnp.TYPE_UINT:             # <<<<<<<<<<<<<<
  *         return self.asUint()
  *     elif type == capnp.TYPE_FLOAT:
  */
     break;
     case  ::capnp::DynamicValue::FLOAT:
 
-    /* "capnp/lib/capnp.pyx":678
+    /* "capnp/lib/capnp.pyx":693
  *         return self.asUint()
  *     elif type == capnp.TYPE_FLOAT:
  *         return self.asDouble()             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_TEXT:
  *         temp_text = self.asText()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self.as<double>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 678, __pyx_L1_error)
+    __pyx_t_1 = PyFloat_FromDouble(__pyx_v_self.as<double>()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 693, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":677
+    /* "capnp/lib/capnp.pyx":692
  *     elif type == capnp.TYPE_UINT:
  *         return self.asUint()
  *     elif type == capnp.TYPE_FLOAT:             # <<<<<<<<<<<<<<
  *         return self.asDouble()
  *     elif type == capnp.TYPE_TEXT:
  */
     break;
     case  ::capnp::DynamicValue::TEXT:
 
-    /* "capnp/lib/capnp.pyx":680
+    /* "capnp/lib/capnp.pyx":695
  *         return self.asDouble()
  *     elif type == capnp.TYPE_TEXT:
  *         temp_text = self.asText()             # <<<<<<<<<<<<<<
  *         return (<char*>temp_text.begin())[:temp_text.size()]
  *     elif type == capnp.TYPE_DATA:
  */
     __pyx_v_temp_text = __pyx_v_self.as< ::capnp::Text>();
 
-    /* "capnp/lib/capnp.pyx":681
+    /* "capnp/lib/capnp.pyx":696
  *     elif type == capnp.TYPE_TEXT:
  *         temp_text = self.asText()
  *         return (<char*>temp_text.begin())[:temp_text.size()]             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_DATA:
  *         temp_data = self.asData()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyStr_FromStringAndSize(((char *)__pyx_v_temp_text.begin()) + 0, __pyx_v_temp_text.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 681, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyStr_FromStringAndSize(((char *)__pyx_v_temp_text.begin()) + 0, __pyx_v_temp_text.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 696, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":679
+    /* "capnp/lib/capnp.pyx":694
  *     elif type == capnp.TYPE_FLOAT:
  *         return self.asDouble()
  *     elif type == capnp.TYPE_TEXT:             # <<<<<<<<<<<<<<
  *         temp_text = self.asText()
  *         return (<char*>temp_text.begin())[:temp_text.size()]
  */
     break;
     case  ::capnp::DynamicValue::DATA:
 
-    /* "capnp/lib/capnp.pyx":683
+    /* "capnp/lib/capnp.pyx":698
  *         return (<char*>temp_text.begin())[:temp_text.size()]
  *     elif type == capnp.TYPE_DATA:
  *         temp_data = self.asData()             # <<<<<<<<<<<<<<
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])
  *     elif type == capnp.TYPE_LIST:
  */
     __pyx_v_temp_data = __pyx_v_self.as< ::capnp::Data>();
 
-    /* "capnp/lib/capnp.pyx":684
+    /* "capnp/lib/capnp.pyx":699
  *     elif type == capnp.TYPE_DATA:
  *         temp_data = self.asData()
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_LIST:
  *         return _DynamicListBuilder()._init(self.asList(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(((char *)__pyx_v_temp_data.begin()) + 0, __pyx_v_temp_data.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 684, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(((char *)__pyx_v_temp_data.begin()) + 0, __pyx_v_temp_data.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 699, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_INCREF(((PyObject*)__pyx_t_1));
     __pyx_r = __pyx_t_1;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":682
+    /* "capnp/lib/capnp.pyx":697
  *         temp_text = self.asText()
  *         return (<char*>temp_text.begin())[:temp_text.size()]
  *     elif type == capnp.TYPE_DATA:             # <<<<<<<<<<<<<<
  *         temp_data = self.asData()
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])
  */
     break;
     case  ::capnp::DynamicValue::LIST:
 
-    /* "capnp/lib/capnp.pyx":686
+    /* "capnp/lib/capnp.pyx":701
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])
  *     elif type == capnp.TYPE_LIST:
  *         return _DynamicListBuilder()._init(self.asList(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_STRUCT:
  *         return _DynamicStructBuilder()._init(self.asStruct(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 686, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 701, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicList>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 686, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicList>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 701, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":685
+    /* "capnp/lib/capnp.pyx":700
  *         temp_data = self.asData()
  *         return <bytes>((<char*>temp_data.begin())[:temp_data.size()])
  *     elif type == capnp.TYPE_LIST:             # <<<<<<<<<<<<<<
  *         return _DynamicListBuilder()._init(self.asList(), parent)
  *     elif type == capnp.TYPE_STRUCT:
  */
     break;
     case  ::capnp::DynamicValue::STRUCT:
 
-    /* "capnp/lib/capnp.pyx":688
+    /* "capnp/lib/capnp.pyx":703
  *         return _DynamicListBuilder()._init(self.asList(), parent)
  *     elif type == capnp.TYPE_STRUCT:
  *         return _DynamicStructBuilder()._init(self.asStruct(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_ENUM:
  *         return _DynamicEnum()._init(self.asEnum(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 688, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 703, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_2), __pyx_v_self.as< ::capnp::DynamicStruct>(), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 688, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_2), __pyx_v_self.as< ::capnp::DynamicStruct>(), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 703, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":687
+    /* "capnp/lib/capnp.pyx":702
  *     elif type == capnp.TYPE_LIST:
  *         return _DynamicListBuilder()._init(self.asList(), parent)
  *     elif type == capnp.TYPE_STRUCT:             # <<<<<<<<<<<<<<
  *         return _DynamicStructBuilder()._init(self.asStruct(), parent)
  *     elif type == capnp.TYPE_ENUM:
  */
     break;
     case  ::capnp::DynamicValue::ENUM:
 
-    /* "capnp/lib/capnp.pyx":690
+    /* "capnp/lib/capnp.pyx":705
  *         return _DynamicStructBuilder()._init(self.asStruct(), parent)
  *     elif type == capnp.TYPE_ENUM:
  *         return _DynamicEnum()._init(self.asEnum(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_VOID:
  *         return None
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicEnum)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 690, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicEnum)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 705, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicEnum>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 690, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicEnum>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 705, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":689
+    /* "capnp/lib/capnp.pyx":704
  *     elif type == capnp.TYPE_STRUCT:
  *         return _DynamicStructBuilder()._init(self.asStruct(), parent)
  *     elif type == capnp.TYPE_ENUM:             # <<<<<<<<<<<<<<
  *         return _DynamicEnum()._init(self.asEnum(), parent)
  *     elif type == capnp.TYPE_VOID:
  */
     break;
     case  ::capnp::DynamicValue::VOID:
 
-    /* "capnp/lib/capnp.pyx":692
+    /* "capnp/lib/capnp.pyx":707
  *         return _DynamicEnum()._init(self.asEnum(), parent)
  *     elif type == capnp.TYPE_VOID:
  *         return None             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_ANY_POINTER:
  *         return _DynamicObjectBuilder()._init(self.asObject(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":691
+    /* "capnp/lib/capnp.pyx":706
  *     elif type == capnp.TYPE_ENUM:
  *         return _DynamicEnum()._init(self.asEnum(), parent)
  *     elif type == capnp.TYPE_VOID:             # <<<<<<<<<<<<<<
  *         return None
  *     elif type == capnp.TYPE_ANY_POINTER:
  */
     break;
     case  ::capnp::DynamicValue::ANY_POINTER:
 
-    /* "capnp/lib/capnp.pyx":694
+    /* "capnp/lib/capnp.pyx":709
  *         return None
  *     elif type == capnp.TYPE_ANY_POINTER:
  *         return _DynamicObjectBuilder()._init(self.asObject(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_CAPABILITY:
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 694, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 709, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_t_2), __pyx_v_self.as< ::capnp::AnyPointer>(), __pyx_v_parent); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 694, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_t_2), __pyx_v_self.as< ::capnp::AnyPointer>(), __pyx_v_parent); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 709, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":693
+    /* "capnp/lib/capnp.pyx":708
  *     elif type == capnp.TYPE_VOID:
  *         return None
  *     elif type == capnp.TYPE_ANY_POINTER:             # <<<<<<<<<<<<<<
  *         return _DynamicObjectBuilder()._init(self.asObject(), parent)
  *     elif type == capnp.TYPE_CAPABILITY:
  */
     break;
     case  ::capnp::DynamicValue::CAPABILITY:
 
-    /* "capnp/lib/capnp.pyx":696
+    /* "capnp/lib/capnp.pyx":711
  *         return _DynamicObjectBuilder()._init(self.asObject(), parent)
  *     elif type == capnp.TYPE_CAPABILITY:
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)             # <<<<<<<<<<<<<<
  *     elif type == capnp.TYPE_UNKNOWN:
  *         raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 696, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 711, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicCapability>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 696, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self.as< ::capnp::DynamicCapability>(), __pyx_v_parent); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 711, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":695
+    /* "capnp/lib/capnp.pyx":710
  *     elif type == capnp.TYPE_ANY_POINTER:
  *         return _DynamicObjectBuilder()._init(self.asObject(), parent)
  *     elif type == capnp.TYPE_CAPABILITY:             # <<<<<<<<<<<<<<
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)
  *     elif type == capnp.TYPE_UNKNOWN:
  */
     break;
     case  ::capnp::DynamicValue::UNKNOWN:
 
-    /* "capnp/lib/capnp.pyx":698
+    /* "capnp/lib/capnp.pyx":713
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)
  *     elif type == capnp.TYPE_UNKNOWN:
  *         raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")             # <<<<<<<<<<<<<<
  *     else:
  *         raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 698, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 713, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_3, __pyx_kp_s_Cannot_convert_type_to_Python_Ty) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_kp_s_Cannot_convert_type_to_Python_Ty);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 698, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 713, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 698, __pyx_L1_error)
+    __PYX_ERR(0, 713, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":697
+    /* "capnp/lib/capnp.pyx":712
  *     elif type == capnp.TYPE_CAPABILITY:
  *         return _DynamicCapabilityClient()._init(self.asCapability(), parent)
  *     elif type == capnp.TYPE_UNKNOWN:             # <<<<<<<<<<<<<<
  *         raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  *     else:
  */
     break;
     default:
 
-    /* "capnp/lib/capnp.pyx":700
+    /* "capnp/lib/capnp.pyx":715
  *         raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  *     else:
  *         raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 700, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 715, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_3, __pyx_kp_s_Cannot_convert_type_to_Python_Ty_2) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_kp_s_Cannot_convert_type_to_Python_Ty_2);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 700, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 715, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 700, __pyx_L1_error)
+    __PYX_ERR(0, 715, __pyx_L1_error)
     break;
   }
 
-  /* "capnp/lib/capnp.pyx":669
+  /* "capnp/lib/capnp.pyx":684
  * 
  * 
  * cdef to_python_builder(C_DynamicValue.Builder self, object parent):             # <<<<<<<<<<<<<<
  *     cdef int type = self.getType()
  *     if type == capnp.TYPE_BOOL:
  */
 
@@ -19251,126 +19517,213 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":703
+/* "capnp/lib/capnp.pyx":718
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_struct_builder(_DynamicStructBuilder value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr.asReader())
  * 
  */
 
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_builder(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *__pyx_v_value) {
    ::capnp::DynamicValue::Reader __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_extract_dynamic_struct_builder", 0);
 
-  /* "capnp/lib/capnp.pyx":704
+  /* "capnp/lib/capnp.pyx":719
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_struct_builder(_DynamicStructBuilder value):
  *     return C_DynamicValue.Reader(value.thisptr.asReader())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_r =  ::capnp::DynamicValue::Reader(__pyx_v_value->thisptr.asReader());
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":703
+  /* "capnp/lib/capnp.pyx":718
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_struct_builder(_DynamicStructBuilder value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr.asReader())
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":707
+/* "capnp/lib/capnp.pyx":722
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_struct_reader(_DynamicStructReader value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr)
  * 
  */
 
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_reader(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *__pyx_v_value) {
    ::capnp::DynamicValue::Reader __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_extract_dynamic_struct_reader", 0);
 
-  /* "capnp/lib/capnp.pyx":708
+  /* "capnp/lib/capnp.pyx":723
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_struct_reader(_DynamicStructReader value):
  *     return C_DynamicValue.Reader(value.thisptr)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_r =  ::capnp::DynamicValue::Reader(__pyx_v_value->thisptr);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":707
+  /* "capnp/lib/capnp.pyx":722
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_struct_reader(_DynamicStructReader value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr)
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":711
+/* "capnp/lib/capnp.pyx":726
+ * 
+ * 
+ * cdef C_DynamicValue.Reader _extract_dynamic_list_builder(_DynamicListBuilder value):             # <<<<<<<<<<<<<<
+ *     return C_DynamicValue.Reader(value.thisptr.asReader())
+ * 
+ */
+
+static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_builder(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *__pyx_v_value) {
+   ::capnp::DynamicValue::Reader __pyx_r;
+  __Pyx_RefNannyDeclarations
+   ::capnp::DynamicList::Reader __pyx_t_1;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("_extract_dynamic_list_builder", 0);
+
+  /* "capnp/lib/capnp.pyx":727
+ * 
+ * cdef C_DynamicValue.Reader _extract_dynamic_list_builder(_DynamicListBuilder value):
+ *     return C_DynamicValue.Reader(value.thisptr.asReader())             # <<<<<<<<<<<<<<
+ * 
+ * 
+ */
+  try {
+    __pyx_t_1 = __pyx_v_value->thisptr.asReader();
+  } catch(...) {
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 727, __pyx_L1_error)
+  }
+  __pyx_r =  ::capnp::DynamicValue::Reader(__pyx_t_1);
+  goto __pyx_L0;
+
+  /* "capnp/lib/capnp.pyx":726
+ * 
+ * 
+ * cdef C_DynamicValue.Reader _extract_dynamic_list_builder(_DynamicListBuilder value):             # <<<<<<<<<<<<<<
+ *     return C_DynamicValue.Reader(value.thisptr.asReader())
+ * 
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_WriteUnraisable("capnp.lib.capnp._extract_dynamic_list_builder", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
+  __Pyx_pretend_to_initialize(&__pyx_r);
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "capnp/lib/capnp.pyx":730
+ * 
+ * 
+ * cdef C_DynamicValue.Reader _extract_dynamic_list_reader(_DynamicListReader value):             # <<<<<<<<<<<<<<
+ *     return C_DynamicValue.Reader(value.thisptr)
+ * 
+ */
+
+static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_reader(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *__pyx_v_value) {
+   ::capnp::DynamicValue::Reader __pyx_r;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("_extract_dynamic_list_reader", 0);
+
+  /* "capnp/lib/capnp.pyx":731
+ * 
+ * cdef C_DynamicValue.Reader _extract_dynamic_list_reader(_DynamicListReader value):
+ *     return C_DynamicValue.Reader(value.thisptr)             # <<<<<<<<<<<<<<
+ * 
+ * 
+ */
+  __pyx_r =  ::capnp::DynamicValue::Reader(__pyx_v_value->thisptr);
+  goto __pyx_L0;
+
+  /* "capnp/lib/capnp.pyx":730
+ * 
+ * 
+ * cdef C_DynamicValue.Reader _extract_dynamic_list_reader(_DynamicListReader value):             # <<<<<<<<<<<<<<
+ *     return C_DynamicValue.Reader(value.thisptr)
+ * 
+ */
+
+  /* function exit code */
+  __pyx_L0:;
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "capnp/lib/capnp.pyx":734
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_client(_DynamicCapabilityClient value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr)
  * 
  */
 
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_client(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *__pyx_v_value) {
    ::capnp::DynamicValue::Reader __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_extract_dynamic_client", 0);
 
-  /* "capnp/lib/capnp.pyx":712
+  /* "capnp/lib/capnp.pyx":735
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_client(_DynamicCapabilityClient value):
  *     return C_DynamicValue.Reader(value.thisptr)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_r =  ::capnp::DynamicValue::Reader(__pyx_v_value->thisptr);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":711
+  /* "capnp/lib/capnp.pyx":734
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_client(_DynamicCapabilityClient value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr)
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":715
+/* "capnp/lib/capnp.pyx":738
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_server(object value):             # <<<<<<<<<<<<<<
  *     cdef _InterfaceSchema schema = value.schema
  *     kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()
  */
 
@@ -19381,50 +19734,50 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_extract_dynamic_server", 0);
 
-  /* "capnp/lib/capnp.pyx":716
+  /* "capnp/lib/capnp.pyx":739
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_server(object value):
  *     cdef _InterfaceSchema schema = value.schema             # <<<<<<<<<<<<<<
  *     kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *     return C_DynamicValue.Reader(capnp.heap[PythonInterfaceDynamicImpl](
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 716, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 739, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 716, __pyx_L1_error)
+  if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 739, __pyx_L1_error)
   __pyx_v_schema = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":717
+  /* "capnp/lib/capnp.pyx":740
  * cdef C_DynamicValue.Reader _extract_dynamic_server(object value):
  *     cdef _InterfaceSchema schema = value.schema
  *     kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(capnp.heap[PythonInterfaceDynamicImpl](
  *         schema.thisptr,
  */
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 717, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 740, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_kj_loop = ((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":718
+  /* "capnp/lib/capnp.pyx":741
  *     cdef _InterfaceSchema schema = value.schema
  *     kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *     return C_DynamicValue.Reader(capnp.heap[PythonInterfaceDynamicImpl](             # <<<<<<<<<<<<<<
  *         schema.thisptr,
  *         capnp.heap[PyRefCounter](<PyObject*>value),
  */
   __pyx_r =  ::capnp::DynamicValue::Reader( ::kj::heap<PythonInterfaceDynamicImpl>(__pyx_v_schema->thisptr,  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_value)),  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_kj_loop))));
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":715
+  /* "capnp/lib/capnp.pyx":738
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_server(object value):             # <<<<<<<<<<<<<<
  *     cdef _InterfaceSchema schema = value.schema
  *     kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()
  */
 
@@ -19436,89 +19789,89 @@
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_schema);
   __Pyx_XDECREF((PyObject *)__pyx_v_kj_loop);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":724
+/* "capnp/lib/capnp.pyx":747
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_enum(_DynamicEnum value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr)
  * 
  */
 
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_dynamic_enum(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *__pyx_v_value) {
    ::capnp::DynamicValue::Reader __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_extract_dynamic_enum", 0);
 
-  /* "capnp/lib/capnp.pyx":725
+  /* "capnp/lib/capnp.pyx":748
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_enum(_DynamicEnum value):
  *     return C_DynamicValue.Reader(value.thisptr)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_r =  ::capnp::DynamicValue::Reader(__pyx_v_value->thisptr);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":724
+  /* "capnp/lib/capnp.pyx":747
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_dynamic_enum(_DynamicEnum value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr)
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":728
+/* "capnp/lib/capnp.pyx":751
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_any_pointer(_DynamicObjectReader value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr)
  * 
  */
 
 static  ::capnp::DynamicValue::Reader __pyx_f_5capnp_3lib_5capnp__extract_any_pointer(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *__pyx_v_value) {
    ::capnp::DynamicValue::Reader __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_extract_any_pointer", 0);
 
-  /* "capnp/lib/capnp.pyx":729
+  /* "capnp/lib/capnp.pyx":752
  * 
  * cdef C_DynamicValue.Reader _extract_any_pointer(_DynamicObjectReader value):
  *     return C_DynamicValue.Reader(value.thisptr)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_r =  ::capnp::DynamicValue::Reader(__pyx_v_value->thisptr);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":728
+  /* "capnp/lib/capnp.pyx":751
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_any_pointer(_DynamicObjectReader value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr)
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":732
+/* "capnp/lib/capnp.pyx":755
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_any_pointer_builder(_DynamicObjectBuilder value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr.asReader())
  * 
  */
 
@@ -19527,31 +19880,31 @@
   __Pyx_RefNannyDeclarations
    ::capnp::AnyPointer::Reader __pyx_t_1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_extract_any_pointer_builder", 0);
 
-  /* "capnp/lib/capnp.pyx":733
+  /* "capnp/lib/capnp.pyx":756
  * 
  * cdef C_DynamicValue.Reader _extract_any_pointer_builder(_DynamicObjectBuilder value):
  *     return C_DynamicValue.Reader(value.thisptr.asReader())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   try {
     __pyx_t_1 = __pyx_v_value->thisptr->asReader();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 733, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 756, __pyx_L1_error)
   }
   __pyx_r =  ::capnp::DynamicValue::Reader(__pyx_t_1);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":732
+  /* "capnp/lib/capnp.pyx":755
  * 
  * 
  * cdef C_DynamicValue.Reader _extract_any_pointer_builder(_DynamicObjectBuilder value):             # <<<<<<<<<<<<<<
  *     return C_DynamicValue.Reader(value.thisptr.asReader())
  * 
  */
 
@@ -19560,15 +19913,15 @@
   __Pyx_WriteUnraisable("capnp.lib.capnp._extract_any_pointer_builder", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
   __Pyx_pretend_to_initialize(&__pyx_r);
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":736
+/* "capnp/lib/capnp.pyx":759
  * 
  * 
  * cdef _setBytes(_DynamicSetterClasses thisptr, field, value):             # <<<<<<<<<<<<<<
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  */
 
@@ -19581,50 +19934,50 @@
   Py_ssize_t __pyx_t_2;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__pyx_fuse_0_setBytes", 0);
 
-  /* "capnp/lib/capnp.pyx":737
+  /* "capnp/lib/capnp.pyx":760
  * 
  * cdef _setBytes(_DynamicSetterClasses thisptr, field, value):
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.set(field, temp)
  */
-  __pyx_t_1 = __Pyx_PyObject_AsWritableString(__pyx_v_value); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 737, __pyx_L1_error)
-  __pyx_t_2 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 737, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_AsWritableString(__pyx_v_value); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 760, __pyx_L1_error)
+  __pyx_t_2 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 760, __pyx_L1_error)
   __pyx_v_temp_string =  ::kj::StringPtr(((char *)__pyx_t_1), __pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":738
+  /* "capnp/lib/capnp.pyx":761
  * cdef _setBytes(_DynamicSetterClasses thisptr, field, value):
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)             # <<<<<<<<<<<<<<
  *     thisptr.set(field, temp)
  * 
  */
   __pyx_v_temp =  ::capnp::DynamicValue::Reader(__pyx_v_temp_string);
 
-  /* "capnp/lib/capnp.pyx":739
+  /* "capnp/lib/capnp.pyx":762
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_3 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_3 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 739, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_3 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 762, __pyx_L1_error)
   try {
     __pyx_v_thisptr.set(__pyx_t_3, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 739, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 762, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":736
+  /* "capnp/lib/capnp.pyx":759
  * 
  * 
  * cdef _setBytes(_DynamicSetterClasses thisptr, field, value):             # <<<<<<<<<<<<<<
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  */
 
@@ -19648,50 +20001,50 @@
   char *__pyx_t_1;
   Py_ssize_t __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__pyx_fuse_1_setBytes", 0);
 
-  /* "capnp/lib/capnp.pyx":737
+  /* "capnp/lib/capnp.pyx":760
  * 
  * cdef _setBytes(_DynamicSetterClasses thisptr, field, value):
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.set(field, temp)
  */
-  __pyx_t_1 = __Pyx_PyObject_AsWritableString(__pyx_v_value); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 737, __pyx_L1_error)
-  __pyx_t_2 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 737, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_AsWritableString(__pyx_v_value); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 760, __pyx_L1_error)
+  __pyx_t_2 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 760, __pyx_L1_error)
   __pyx_v_temp_string =  ::kj::StringPtr(((char *)__pyx_t_1), __pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":738
+  /* "capnp/lib/capnp.pyx":761
  * cdef _setBytes(_DynamicSetterClasses thisptr, field, value):
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)             # <<<<<<<<<<<<<<
  *     thisptr.set(field, temp)
  * 
  */
   __pyx_v_temp =  ::capnp::DynamicValue::Reader(__pyx_v_temp_string);
 
-  /* "capnp/lib/capnp.pyx":739
+  /* "capnp/lib/capnp.pyx":762
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 739, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 762, __pyx_L1_error)
   try {
     __pyx_v_thisptr.set(__pyx_t_1, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 739, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 762, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":736
+  /* "capnp/lib/capnp.pyx":759
  * 
  * 
  * cdef _setBytes(_DynamicSetterClasses thisptr, field, value):             # <<<<<<<<<<<<<<
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  */
 
@@ -19703,15 +20056,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":742
+/* "capnp/lib/capnp.pyx":765
  * 
  * 
  * cdef _setBaseString(_DynamicSetterClasses thisptr, field, value):             # <<<<<<<<<<<<<<
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  */
 
@@ -19728,77 +20081,77 @@
   Py_ssize_t __pyx_t_5;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__pyx_fuse_0_setBaseString", 0);
 
-  /* "capnp/lib/capnp.pyx":743
+  /* "capnp/lib/capnp.pyx":766
  * 
  * cdef _setBaseString(_DynamicSetterClasses thisptr, field, value):
  *     encoded_value = value.encode('utf-8')             # <<<<<<<<<<<<<<
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_encode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 743, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_encode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 766, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_utf_8) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_utf_8);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 743, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 766, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_encoded_value = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":744
+  /* "capnp/lib/capnp.pyx":767
  * cdef _setBaseString(_DynamicSetterClasses thisptr, field, value):
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.set(field, temp)
  */
-  __pyx_t_4 = __Pyx_PyObject_AsWritableString(__pyx_v_encoded_value); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 744, __pyx_L1_error)
-  __pyx_t_5 = PyObject_Length(__pyx_v_encoded_value); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 744, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_AsWritableString(__pyx_v_encoded_value); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 767, __pyx_L1_error)
+  __pyx_t_5 = PyObject_Length(__pyx_v_encoded_value); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 767, __pyx_L1_error)
   __pyx_v_temp_string =  ::kj::StringPtr(((char *)__pyx_t_4), __pyx_t_5);
 
-  /* "capnp/lib/capnp.pyx":745
+  /* "capnp/lib/capnp.pyx":768
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)             # <<<<<<<<<<<<<<
  *     thisptr.set(field, temp)
  * 
  */
   __pyx_v_temp =  ::capnp::DynamicValue::Reader(__pyx_v_temp_string);
 
-  /* "capnp/lib/capnp.pyx":746
+  /* "capnp/lib/capnp.pyx":769
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_6 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_6 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 746, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_6 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 769, __pyx_L1_error)
   try {
     __pyx_v_thisptr.set(__pyx_t_6, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 746, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 769, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":742
+  /* "capnp/lib/capnp.pyx":765
  * 
  * 
  * cdef _setBaseString(_DynamicSetterClasses thisptr, field, value):             # <<<<<<<<<<<<<<
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  */
 
@@ -19830,77 +20183,77 @@
   char *__pyx_t_4;
   Py_ssize_t __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__pyx_fuse_1_setBaseString", 0);
 
-  /* "capnp/lib/capnp.pyx":743
+  /* "capnp/lib/capnp.pyx":766
  * 
  * cdef _setBaseString(_DynamicSetterClasses thisptr, field, value):
  *     encoded_value = value.encode('utf-8')             # <<<<<<<<<<<<<<
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_encode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 743, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_encode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 766, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_utf_8) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_utf_8);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 743, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 766, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_encoded_value = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":744
+  /* "capnp/lib/capnp.pyx":767
  * cdef _setBaseString(_DynamicSetterClasses thisptr, field, value):
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.set(field, temp)
  */
-  __pyx_t_4 = __Pyx_PyObject_AsWritableString(__pyx_v_encoded_value); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 744, __pyx_L1_error)
-  __pyx_t_5 = PyObject_Length(__pyx_v_encoded_value); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 744, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_AsWritableString(__pyx_v_encoded_value); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 767, __pyx_L1_error)
+  __pyx_t_5 = PyObject_Length(__pyx_v_encoded_value); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 767, __pyx_L1_error)
   __pyx_v_temp_string =  ::kj::StringPtr(((char *)__pyx_t_4), __pyx_t_5);
 
-  /* "capnp/lib/capnp.pyx":745
+  /* "capnp/lib/capnp.pyx":768
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)             # <<<<<<<<<<<<<<
  *     thisptr.set(field, temp)
  * 
  */
   __pyx_v_temp =  ::capnp::DynamicValue::Reader(__pyx_v_temp_string);
 
-  /* "capnp/lib/capnp.pyx":746
+  /* "capnp/lib/capnp.pyx":769
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_4 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 746, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 769, __pyx_L1_error)
   try {
     __pyx_v_thisptr.set(__pyx_t_4, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 746, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 769, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":742
+  /* "capnp/lib/capnp.pyx":765
  * 
  * 
  * cdef _setBaseString(_DynamicSetterClasses thisptr, field, value):             # <<<<<<<<<<<<<<
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  */
 
@@ -19916,15 +20269,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_encoded_value);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":749
+/* "capnp/lib/capnp.pyx":772
  * 
  * 
  * cdef _setBytesField(DynamicStruct_Builder thisptr, _StructSchemaField field, value):             # <<<<<<<<<<<<<<
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  */
 
@@ -19936,49 +20289,49 @@
   char *__pyx_t_1;
   Py_ssize_t __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_setBytesField", 0);
 
-  /* "capnp/lib/capnp.pyx":750
+  /* "capnp/lib/capnp.pyx":773
  * 
  * cdef _setBytesField(DynamicStruct_Builder thisptr, _StructSchemaField field, value):
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.setByField(field.thisptr, temp)
  */
-  __pyx_t_1 = __Pyx_PyObject_AsWritableString(__pyx_v_value); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 750, __pyx_L1_error)
-  __pyx_t_2 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 750, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_AsWritableString(__pyx_v_value); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 773, __pyx_L1_error)
+  __pyx_t_2 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 773, __pyx_L1_error)
   __pyx_v_temp_string =  ::kj::StringPtr(((char *)__pyx_t_1), __pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":751
+  /* "capnp/lib/capnp.pyx":774
  * cdef _setBytesField(DynamicStruct_Builder thisptr, _StructSchemaField field, value):
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)             # <<<<<<<<<<<<<<
  *     thisptr.setByField(field.thisptr, temp)
  * 
  */
   __pyx_v_temp =  ::capnp::DynamicValue::Reader(__pyx_v_temp_string);
 
-  /* "capnp/lib/capnp.pyx":752
+  /* "capnp/lib/capnp.pyx":775
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.setByField(field.thisptr, temp)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   try {
     __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 752, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 775, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":749
+  /* "capnp/lib/capnp.pyx":772
  * 
  * 
  * cdef _setBytesField(DynamicStruct_Builder thisptr, _StructSchemaField field, value):             # <<<<<<<<<<<<<<
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>value, len(value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  */
 
@@ -19990,15 +20343,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":755
+/* "capnp/lib/capnp.pyx":778
  * 
  * 
  * cdef _setBaseStringField(DynamicStruct_Builder thisptr, _StructSchemaField field, value):             # <<<<<<<<<<<<<<
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  */
 
@@ -20014,76 +20367,76 @@
   char *__pyx_t_4;
   Py_ssize_t __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_setBaseStringField", 0);
 
-  /* "capnp/lib/capnp.pyx":756
+  /* "capnp/lib/capnp.pyx":779
  * 
  * cdef _setBaseStringField(DynamicStruct_Builder thisptr, _StructSchemaField field, value):
  *     encoded_value = value.encode('utf-8')             # <<<<<<<<<<<<<<
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_encode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 756, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_encode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 779, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_utf_8) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_utf_8);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 756, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 779, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_encoded_value = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":757
+  /* "capnp/lib/capnp.pyx":780
  * cdef _setBaseStringField(DynamicStruct_Builder thisptr, _StructSchemaField field, value):
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.setByField(field.thisptr, temp)
  */
-  __pyx_t_4 = __Pyx_PyObject_AsWritableString(__pyx_v_encoded_value); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 757, __pyx_L1_error)
-  __pyx_t_5 = PyObject_Length(__pyx_v_encoded_value); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 757, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_AsWritableString(__pyx_v_encoded_value); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 780, __pyx_L1_error)
+  __pyx_t_5 = PyObject_Length(__pyx_v_encoded_value); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 780, __pyx_L1_error)
   __pyx_v_temp_string =  ::kj::StringPtr(((char *)__pyx_t_4), __pyx_t_5);
 
-  /* "capnp/lib/capnp.pyx":758
+  /* "capnp/lib/capnp.pyx":781
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)             # <<<<<<<<<<<<<<
  *     thisptr.setByField(field.thisptr, temp)
  * 
  */
   __pyx_v_temp =  ::capnp::DynamicValue::Reader(__pyx_v_temp_string);
 
-  /* "capnp/lib/capnp.pyx":759
+  /* "capnp/lib/capnp.pyx":782
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  *     cdef C_DynamicValue.Reader temp = C_DynamicValue.Reader(temp_string)
  *     thisptr.setByField(field.thisptr, temp)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   try {
     __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 759, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 782, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":755
+  /* "capnp/lib/capnp.pyx":778
  * 
  * 
  * cdef _setBaseStringField(DynamicStruct_Builder thisptr, _StructSchemaField field, value):             # <<<<<<<<<<<<<<
  *     encoded_value = value.encode('utf-8')
  *     cdef capnp.StringPtr temp_string = capnp.StringPtr(<char*>encoded_value, len(encoded_value))
  */
 
@@ -20099,15 +20452,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_encoded_value);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":762
+/* "capnp/lib/capnp.pyx":785
  * 
  * 
  * cdef _setDynamicField(_DynamicSetterClasses thisptr, field, value, parent):             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)
  */
 
@@ -20137,25 +20490,25 @@
   int __pyx_t_18;
   PyObject *__pyx_t_19 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__pyx_fuse_0_setDynamicField", 0);
 
-  /* "capnp/lib/capnp.pyx":764
+  /* "capnp/lib/capnp.pyx":787
  * cdef _setDynamicField(_DynamicSetterClasses thisptr, field, value, parent):
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)             # <<<<<<<<<<<<<<
  * 
  *     if value_type is int or value_type is long:
  */
   __Pyx_INCREF(((PyObject *)Py_TYPE(__pyx_v_value)));
   __pyx_v_value_type = ((PyTypeObject*)((PyObject *)Py_TYPE(__pyx_v_value)));
 
-  /* "capnp/lib/capnp.pyx":766
+  /* "capnp/lib/capnp.pyx":789
  *     value_type = type(value)
  * 
  *     if value_type is int or value_type is long:             # <<<<<<<<<<<<<<
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)
  */
   __pyx_t_2 = (__pyx_v_value_type == (&PyInt_Type));
@@ -20167,740 +20520,814 @@
   }
   __pyx_t_3 = (__pyx_v_value_type == (&PyLong_Type));
   __pyx_t_2 = (__pyx_t_3 != 0);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":767
+    /* "capnp/lib/capnp.pyx":790
  * 
  *     if value_type is int or value_type is long:
  *         if value < 0:             # <<<<<<<<<<<<<<
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  */
-    __pyx_t_4 = PyObject_RichCompare(__pyx_v_value, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 767, __pyx_L1_error)
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 767, __pyx_L1_error)
+    __pyx_t_4 = PyObject_RichCompare(__pyx_v_value, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 790, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 790, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":768
+      /* "capnp/lib/capnp.pyx":791
  *     if value_type is int or value_type is long:
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)             # <<<<<<<<<<<<<<
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  */
-      __pyx_t_5 = __Pyx_PyInt_As_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_5 == (PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 768, __pyx_L1_error)
+      __pyx_t_5 = __Pyx_PyInt_As_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_5 == (PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 791, __pyx_L1_error)
       __pyx_v_temp =  ::capnp::DynamicValue::Reader(((PY_LONG_LONG)__pyx_t_5));
 
-      /* "capnp/lib/capnp.pyx":767
+      /* "capnp/lib/capnp.pyx":790
  * 
  *     if value_type is int or value_type is long:
  *         if value < 0:             # <<<<<<<<<<<<<<
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  */
       goto __pyx_L6;
     }
 
-    /* "capnp/lib/capnp.pyx":770
+    /* "capnp/lib/capnp.pyx":793
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is float:
  */
     /*else*/ {
-      __pyx_t_6 = __Pyx_PyInt_As_unsigned_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_6 == (unsigned PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 770, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyInt_As_unsigned_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_6 == (unsigned PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 793, __pyx_L1_error)
       __pyx_v_temp =  ::capnp::DynamicValue::Reader(((unsigned PY_LONG_LONG)__pyx_t_6));
     }
     __pyx_L6:;
 
-    /* "capnp/lib/capnp.pyx":771
+    /* "capnp/lib/capnp.pyx":794
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 771, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 794, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 771, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 794, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":766
+    /* "capnp/lib/capnp.pyx":789
  *     value_type = type(value)
  * 
  *     if value_type is int or value_type is long:             # <<<<<<<<<<<<<<
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":772
+  /* "capnp/lib/capnp.pyx":795
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)
  *     elif value_type is float:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyFloat_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":773
+    /* "capnp/lib/capnp.pyx":796
  *         thisptr.set(field, temp)
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is bool:
  */
-    __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_value); if (unlikely((__pyx_t_8 == (double)-1) && PyErr_Occurred())) __PYX_ERR(0, 773, __pyx_L1_error)
+    __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_value); if (unlikely((__pyx_t_8 == (double)-1) && PyErr_Occurred())) __PYX_ERR(0, 796, __pyx_L1_error)
     __pyx_v_temp =  ::capnp::DynamicValue::Reader(((double)__pyx_t_8));
 
-    /* "capnp/lib/capnp.pyx":774
+    /* "capnp/lib/capnp.pyx":797
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 774, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 797, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 774, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 797, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":772
+    /* "capnp/lib/capnp.pyx":795
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)
  *     elif value_type is float:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":775
+  /* "capnp/lib/capnp.pyx":798
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bool:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  */
   __pyx_t_2 = (__pyx_v_value_type == ((PyTypeObject*)((PyObject*)&PyBool_Type)));
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":776
+    /* "capnp/lib/capnp.pyx":799
  *         thisptr.set(field, temp)
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:
  */
-    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_9 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 776, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_9 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 799, __pyx_L1_error)
     __pyx_v_temp =  ::capnp::DynamicValue::Reader(((bool)__pyx_t_9));
 
-    /* "capnp/lib/capnp.pyx":777
+    /* "capnp/lib/capnp.pyx":800
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 777, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 800, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 777, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 800, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":775
+    /* "capnp/lib/capnp.pyx":798
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bool:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":778
+  /* "capnp/lib/capnp.pyx":801
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:             # <<<<<<<<<<<<<<
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyBytes_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":779
+    /* "capnp/lib/capnp.pyx":802
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)             # <<<<<<<<<<<<<<
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  */
-    __pyx_t_4 = __pyx_fuse_0__pyx_f_5capnp_3lib_5capnp__setBytes(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 779, __pyx_L1_error)
+    __pyx_t_4 = __pyx_fuse_0__pyx_f_5capnp_3lib_5capnp__setBytes(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 802, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":778
+    /* "capnp/lib/capnp.pyx":801
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:             # <<<<<<<<<<<<<<
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":780
+  /* "capnp/lib/capnp.pyx":803
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):             # <<<<<<<<<<<<<<
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  */
   __pyx_t_2 = __Pyx_PyBaseString_Check(__pyx_v_value); 
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":781
+    /* "capnp/lib/capnp.pyx":804
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)             # <<<<<<<<<<<<<<
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  */
-    __pyx_t_4 = __pyx_fuse_0__pyx_f_5capnp_3lib_5capnp__setBaseString(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 781, __pyx_L1_error)
+    __pyx_t_4 = __pyx_fuse_0__pyx_f_5capnp_3lib_5capnp__setBaseString(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 804, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":780
+    /* "capnp/lib/capnp.pyx":803
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):             # <<<<<<<<<<<<<<
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":782
+  /* "capnp/lib/capnp.pyx":805
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyList_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":783
+    /* "capnp/lib/capnp.pyx":806
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)             # <<<<<<<<<<<<<<
  *         _from_list(builder, value)
  *     elif value_type is tuple:
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 783, __pyx_L1_error)
-    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 783, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 806, __pyx_L1_error)
+    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 806, __pyx_L1_error)
     try {
       __pyx_t_11 = __pyx_v_thisptr.init(__pyx_t_7, __pyx_t_10);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 783, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 806, __pyx_L1_error)
     }
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 783, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 806, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_v_builder = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":784
+    /* "capnp/lib/capnp.pyx":807
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)             # <<<<<<<<<<<<<<
  *     elif value_type is tuple:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  */
-    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 784, __pyx_L1_error)
-    if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 784, __pyx_L1_error)
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 784, __pyx_L1_error)
+    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 807, __pyx_L1_error)
+    if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 807, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 807, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":782
+    /* "capnp/lib/capnp.pyx":805
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":785
+  /* "capnp/lib/capnp.pyx":808
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  *     elif value_type is tuple:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)
  */
   __pyx_t_2 = (__pyx_v_value_type == (&PyTuple_Type));
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":786
+    /* "capnp/lib/capnp.pyx":809
  *         _from_list(builder, value)
  *     elif value_type is tuple:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)             # <<<<<<<<<<<<<<
  *         _from_tuple(builder, value)
  *     elif value_type is dict:
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 786, __pyx_L1_error)
-    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 786, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 809, __pyx_L1_error)
+    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 809, __pyx_L1_error)
     try {
       __pyx_t_11 = __pyx_v_thisptr.init(__pyx_t_7, __pyx_t_10);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 786, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 809, __pyx_L1_error)
     }
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 786, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 809, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_v_builder = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":787
+    /* "capnp/lib/capnp.pyx":810
  *     elif value_type is tuple:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)             # <<<<<<<<<<<<<<
  *     elif value_type is dict:
  *         if _DynamicSetterClasses is DynamicStruct_Builder:
  */
-    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 787, __pyx_L1_error)
-    if (!(likely(PyTuple_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 787, __pyx_L1_error)
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_tuple(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 787, __pyx_L1_error)
+    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 810, __pyx_L1_error)
+    if (!(likely(PyTuple_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 810, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_tuple(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 810, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":785
+    /* "capnp/lib/capnp.pyx":808
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  *     elif value_type is tuple:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":788
+  /* "capnp/lib/capnp.pyx":811
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)
  *     elif value_type is dict:             # <<<<<<<<<<<<<<
  *         if _DynamicSetterClasses is DynamicStruct_Builder:
  *             builder = to_python_builder(thisptr.get(field), parent)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyDict_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":793
+    /* "capnp/lib/capnp.pyx":816
  *             builder.from_dict(value)
  *         else:
  *             builder = to_python_builder(thisptr[field], parent)             # <<<<<<<<<<<<<<
  *             builder.from_dict(value)
  *     elif value is None:
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 793, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 816, __pyx_L1_error)
     try {
       __pyx_t_11 = __pyx_v_thisptr[__pyx_t_7];
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 793, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 816, __pyx_L1_error)
     }
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 793, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 816, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_v_builder = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":794
+    /* "capnp/lib/capnp.pyx":817
  *         else:
  *             builder = to_python_builder(thisptr[field], parent)
  *             builder.from_dict(value)             # <<<<<<<<<<<<<<
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)
  */
-    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_builder, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 794, __pyx_L1_error)
+    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_builder, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 817, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_12);
     __pyx_t_13 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_12))) {
       __pyx_t_13 = PyMethod_GET_SELF(__pyx_t_12);
       if (likely(__pyx_t_13)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
         __Pyx_INCREF(__pyx_t_13);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_12, function);
       }
     }
     __pyx_t_4 = (__pyx_t_13) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_13, __pyx_v_value) : __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_v_value);
     __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 794, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 817, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":788
+    /* "capnp/lib/capnp.pyx":811
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)
  *     elif value_type is dict:             # <<<<<<<<<<<<<<
  *         if _DynamicSetterClasses is DynamicStruct_Builder:
  *             builder = to_python_builder(thisptr.get(field), parent)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":795
+  /* "capnp/lib/capnp.pyx":818
  *             builder = to_python_builder(thisptr[field], parent)
  *             builder.from_dict(value)
  *     elif value is None:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  */
   __pyx_t_2 = (__pyx_v_value == Py_None);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":796
+    /* "capnp/lib/capnp.pyx":819
  *             builder.from_dict(value)
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:
  */
     __pyx_v_temp =  ::capnp::DynamicValue::Reader( ::capnp::VOID);
 
-    /* "capnp/lib/capnp.pyx":797
+    /* "capnp/lib/capnp.pyx":820
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 797, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 820, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 797, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 820, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":795
+    /* "capnp/lib/capnp.pyx":818
  *             builder = to_python_builder(thisptr[field], parent)
  *             builder.from_dict(value)
  *     elif value is None:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":798
+  /* "capnp/lib/capnp.pyx":821
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":799
+    /* "capnp/lib/capnp.pyx":822
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 799, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder))))) __PYX_ERR(0, 799, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 822, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder))))) __PYX_ERR(0, 822, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 799, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 822, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":798
+    /* "capnp/lib/capnp.pyx":821
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":800
+  /* "capnp/lib/capnp.pyx":823
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
- *     elif value_type is _DynamicCapabilityClient:
+ *     elif value_type is _DynamicListBuilder:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":801
+    /* "capnp/lib/capnp.pyx":824
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))             # <<<<<<<<<<<<<<
- *     elif value_type is _DynamicCapabilityClient:
- *         thisptr.set(field, _extract_dynamic_client(value))
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 801, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 801, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 824, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 824, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_reader(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 801, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 824, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":800
+    /* "capnp/lib/capnp.pyx":823
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
- *     elif value_type is _DynamicCapabilityClient:
+ *     elif value_type is _DynamicListBuilder:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":802
+  /* "capnp/lib/capnp.pyx":825
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ */
+  __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder);
+  __pyx_t_2 = (__pyx_t_1 != 0);
+  if (__pyx_t_2) {
+
+    /* "capnp/lib/capnp.pyx":826
+ *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))             # <<<<<<<<<<<<<<
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ */
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 826, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 826, __pyx_L1_error)
+    try {
+      __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_value))));
+    } catch(...) {
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 826, __pyx_L1_error)
+    }
+
+    /* "capnp/lib/capnp.pyx":825
+ *     elif value_type is _DynamicStructReader:
+ *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "capnp/lib/capnp.pyx":827
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ *     elif value_type is _DynamicCapabilityClient:
+ */
+  __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader);
+  __pyx_t_1 = (__pyx_t_2 != 0);
+  if (__pyx_t_1) {
+
+    /* "capnp/lib/capnp.pyx":828
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))             # <<<<<<<<<<<<<<
+ *     elif value_type is _DynamicCapabilityClient:
+ *         thisptr.set(field, _extract_dynamic_client(value))
+ */
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 828, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader))))) __PYX_ERR(0, 828, __pyx_L1_error)
+    try {
+      __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_reader(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_v_value))));
+    } catch(...) {
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 828, __pyx_L1_error)
+    }
+
+    /* "capnp/lib/capnp.pyx":827
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ *     elif value_type is _DynamicCapabilityClient:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "capnp/lib/capnp.pyx":829
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":803
- *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+    /* "capnp/lib/capnp.pyx":830
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))             # <<<<<<<<<<<<<<
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 803, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient))))) __PYX_ERR(0, 803, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 830, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient))))) __PYX_ERR(0, 830, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_client(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 803, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 830, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":802
- *     elif value_type is _DynamicStructReader:
- *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+    /* "capnp/lib/capnp.pyx":829
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":804
+  /* "capnp/lib/capnp.pyx":831
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  */
   __pyx_t_2 = __Pyx_TypeCheck(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityServer); 
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":805
+    /* "capnp/lib/capnp.pyx":832
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 805, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 832, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_server(__pyx_v_value)));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 805, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 832, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":804
+    /* "capnp/lib/capnp.pyx":831
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":806
+  /* "capnp/lib/capnp.pyx":833
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":807
+    /* "capnp/lib/capnp.pyx":834
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 807, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum))))) __PYX_ERR(0, 807, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 834, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum))))) __PYX_ERR(0, 834, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_enum(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 807, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 834, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":806
+    /* "capnp/lib/capnp.pyx":833
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":808
+  /* "capnp/lib/capnp.pyx":835
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":809
+    /* "capnp/lib/capnp.pyx":836
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicObjectBuilder:
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 809, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 809, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 836, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 836, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_any_pointer(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 809, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 836, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":808
+    /* "capnp/lib/capnp.pyx":835
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":810
+  /* "capnp/lib/capnp.pyx":837
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (likely(__pyx_t_2)) {
 
-    /* "capnp/lib/capnp.pyx":811
+    /* "capnp/lib/capnp.pyx":838
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  *         thisptr.set(field, _extract_any_pointer_builder(value))             # <<<<<<<<<<<<<<
  *     else:
  *         raise KjException(
  */
-    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 811, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder))))) __PYX_ERR(0, 811, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyInt_As_unsigned_int(__pyx_v_field); if (unlikely((__pyx_t_7 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 838, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder))))) __PYX_ERR(0, 838, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_any_pointer_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 811, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 838, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":810
+    /* "capnp/lib/capnp.pyx":837
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":813
+  /* "capnp/lib/capnp.pyx":840
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  *         raise KjException(             # <<<<<<<<<<<<<<
  *             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
  *             .format(field, str(value), str(type(value))))
  */
   /*else*/ {
-    __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 813, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 840, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_12);
 
-    /* "capnp/lib/capnp.pyx":815
+    /* "capnp/lib/capnp.pyx":842
  *         raise KjException(
  *             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
  *             .format(field, str(value), str(type(value))))             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Tried_to_set_field_with_a_value, __pyx_n_s_format); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 815, __pyx_L1_error)
+    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Tried_to_set_field_with_a_value, __pyx_n_s_format); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 842, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_14);
-    __pyx_t_15 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_value); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 815, __pyx_L1_error)
+    __pyx_t_15 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_value); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 842, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_15);
-    __pyx_t_16 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)Py_TYPE(__pyx_v_value))); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 815, __pyx_L1_error)
+    __pyx_t_16 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)Py_TYPE(__pyx_v_value))); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 842, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_16);
     __pyx_t_17 = NULL;
     __pyx_t_18 = 0;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_14))) {
       __pyx_t_17 = PyMethod_GET_SELF(__pyx_t_14);
       if (likely(__pyx_t_17)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_14);
@@ -20909,47 +21336,47 @@
         __Pyx_DECREF_SET(__pyx_t_14, function);
         __pyx_t_18 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_14)) {
       PyObject *__pyx_temp[4] = {__pyx_t_17, __pyx_v_field, __pyx_t_15, __pyx_t_16};
-      __pyx_t_13 = __Pyx_PyFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 815, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 842, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
       __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_14)) {
       PyObject *__pyx_temp[4] = {__pyx_t_17, __pyx_v_field, __pyx_t_15, __pyx_t_16};
-      __pyx_t_13 = __Pyx_PyCFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 815, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyCFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 842, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
       __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     } else
     #endif
     {
-      __pyx_t_19 = PyTuple_New(3+__pyx_t_18); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 815, __pyx_L1_error)
+      __pyx_t_19 = PyTuple_New(3+__pyx_t_18); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 842, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_19);
       if (__pyx_t_17) {
         __Pyx_GIVEREF(__pyx_t_17); PyTuple_SET_ITEM(__pyx_t_19, 0, __pyx_t_17); __pyx_t_17 = NULL;
       }
       __Pyx_INCREF(__pyx_v_field);
       __Pyx_GIVEREF(__pyx_v_field);
       PyTuple_SET_ITEM(__pyx_t_19, 0+__pyx_t_18, __pyx_v_field);
       __Pyx_GIVEREF(__pyx_t_15);
       PyTuple_SET_ITEM(__pyx_t_19, 1+__pyx_t_18, __pyx_t_15);
       __Pyx_GIVEREF(__pyx_t_16);
       PyTuple_SET_ITEM(__pyx_t_19, 2+__pyx_t_18, __pyx_t_16);
       __pyx_t_15 = 0;
       __pyx_t_16 = 0;
-      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_19, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 815, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_19, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 842, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
     }
     __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
     __pyx_t_14 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_12))) {
       __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_12);
@@ -20959,24 +21386,24 @@
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_12, function);
       }
     }
     __pyx_t_4 = (__pyx_t_14) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_14, __pyx_t_13) : __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_13);
     __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
     __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 813, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 840, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
     __Pyx_Raise(__pyx_t_4, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __PYX_ERR(0, 813, __pyx_L1_error)
+    __PYX_ERR(0, 840, __pyx_L1_error)
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":762
+  /* "capnp/lib/capnp.pyx":785
  * 
  * 
  * cdef _setDynamicField(_DynamicSetterClasses thisptr, field, value, parent):             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)
  */
 
@@ -21028,25 +21455,25 @@
   int __pyx_t_18;
   PyObject *__pyx_t_19 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__pyx_fuse_1_setDynamicField", 0);
 
-  /* "capnp/lib/capnp.pyx":764
+  /* "capnp/lib/capnp.pyx":787
  * cdef _setDynamicField(_DynamicSetterClasses thisptr, field, value, parent):
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)             # <<<<<<<<<<<<<<
  * 
  *     if value_type is int or value_type is long:
  */
   __Pyx_INCREF(((PyObject *)Py_TYPE(__pyx_v_value)));
   __pyx_v_value_type = ((PyTypeObject*)((PyObject *)Py_TYPE(__pyx_v_value)));
 
-  /* "capnp/lib/capnp.pyx":766
+  /* "capnp/lib/capnp.pyx":789
  *     value_type = type(value)
  * 
  *     if value_type is int or value_type is long:             # <<<<<<<<<<<<<<
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)
  */
   __pyx_t_2 = (__pyx_v_value_type == (&PyInt_Type));
@@ -21058,740 +21485,814 @@
   }
   __pyx_t_3 = (__pyx_v_value_type == (&PyLong_Type));
   __pyx_t_2 = (__pyx_t_3 != 0);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":767
+    /* "capnp/lib/capnp.pyx":790
  * 
  *     if value_type is int or value_type is long:
  *         if value < 0:             # <<<<<<<<<<<<<<
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  */
-    __pyx_t_4 = PyObject_RichCompare(__pyx_v_value, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 767, __pyx_L1_error)
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 767, __pyx_L1_error)
+    __pyx_t_4 = PyObject_RichCompare(__pyx_v_value, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 790, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 790, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":768
+      /* "capnp/lib/capnp.pyx":791
  *     if value_type is int or value_type is long:
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)             # <<<<<<<<<<<<<<
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  */
-      __pyx_t_5 = __Pyx_PyInt_As_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_5 == (PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 768, __pyx_L1_error)
+      __pyx_t_5 = __Pyx_PyInt_As_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_5 == (PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 791, __pyx_L1_error)
       __pyx_v_temp =  ::capnp::DynamicValue::Reader(((PY_LONG_LONG)__pyx_t_5));
 
-      /* "capnp/lib/capnp.pyx":767
+      /* "capnp/lib/capnp.pyx":790
  * 
  *     if value_type is int or value_type is long:
  *         if value < 0:             # <<<<<<<<<<<<<<
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  */
       goto __pyx_L6;
     }
 
-    /* "capnp/lib/capnp.pyx":770
+    /* "capnp/lib/capnp.pyx":793
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is float:
  */
     /*else*/ {
-      __pyx_t_6 = __Pyx_PyInt_As_unsigned_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_6 == (unsigned PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 770, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyInt_As_unsigned_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_6 == (unsigned PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 793, __pyx_L1_error)
       __pyx_v_temp =  ::capnp::DynamicValue::Reader(((unsigned PY_LONG_LONG)__pyx_t_6));
     }
     __pyx_L6:;
 
-    /* "capnp/lib/capnp.pyx":771
+    /* "capnp/lib/capnp.pyx":794
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 771, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 794, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 771, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 794, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":766
+    /* "capnp/lib/capnp.pyx":789
  *     value_type = type(value)
  * 
  *     if value_type is int or value_type is long:             # <<<<<<<<<<<<<<
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":772
+  /* "capnp/lib/capnp.pyx":795
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)
  *     elif value_type is float:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyFloat_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":773
+    /* "capnp/lib/capnp.pyx":796
  *         thisptr.set(field, temp)
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is bool:
  */
-    __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_value); if (unlikely((__pyx_t_8 == (double)-1) && PyErr_Occurred())) __PYX_ERR(0, 773, __pyx_L1_error)
+    __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_value); if (unlikely((__pyx_t_8 == (double)-1) && PyErr_Occurred())) __PYX_ERR(0, 796, __pyx_L1_error)
     __pyx_v_temp =  ::capnp::DynamicValue::Reader(((double)__pyx_t_8));
 
-    /* "capnp/lib/capnp.pyx":774
+    /* "capnp/lib/capnp.pyx":797
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 774, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 797, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 774, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 797, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":772
+    /* "capnp/lib/capnp.pyx":795
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)
  *     elif value_type is float:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":775
+  /* "capnp/lib/capnp.pyx":798
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bool:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  */
   __pyx_t_2 = (__pyx_v_value_type == ((PyTypeObject*)((PyObject*)&PyBool_Type)));
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":776
+    /* "capnp/lib/capnp.pyx":799
  *         thisptr.set(field, temp)
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:
  */
-    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_9 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 776, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_9 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 799, __pyx_L1_error)
     __pyx_v_temp =  ::capnp::DynamicValue::Reader(((bool)__pyx_t_9));
 
-    /* "capnp/lib/capnp.pyx":777
+    /* "capnp/lib/capnp.pyx":800
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 777, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 800, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 777, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 800, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":775
+    /* "capnp/lib/capnp.pyx":798
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bool:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":778
+  /* "capnp/lib/capnp.pyx":801
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:             # <<<<<<<<<<<<<<
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyBytes_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":779
+    /* "capnp/lib/capnp.pyx":802
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)             # <<<<<<<<<<<<<<
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  */
-    __pyx_t_4 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setBytes(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 779, __pyx_L1_error)
+    __pyx_t_4 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setBytes(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 802, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":778
+    /* "capnp/lib/capnp.pyx":801
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:             # <<<<<<<<<<<<<<
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":780
+  /* "capnp/lib/capnp.pyx":803
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):             # <<<<<<<<<<<<<<
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  */
   __pyx_t_2 = __Pyx_PyBaseString_Check(__pyx_v_value); 
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":781
+    /* "capnp/lib/capnp.pyx":804
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)             # <<<<<<<<<<<<<<
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  */
-    __pyx_t_4 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setBaseString(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 781, __pyx_L1_error)
+    __pyx_t_4 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setBaseString(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 804, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":780
+    /* "capnp/lib/capnp.pyx":803
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):             # <<<<<<<<<<<<<<
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":782
+  /* "capnp/lib/capnp.pyx":805
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyList_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":783
+    /* "capnp/lib/capnp.pyx":806
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)             # <<<<<<<<<<<<<<
  *         _from_list(builder, value)
  *     elif value_type is tuple:
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 783, __pyx_L1_error)
-    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 783, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 806, __pyx_L1_error)
+    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 806, __pyx_L1_error)
     try {
       __pyx_t_11 = __pyx_v_thisptr.init(__pyx_t_7, __pyx_t_10);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 783, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 806, __pyx_L1_error)
     }
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 783, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 806, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_v_builder = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":784
+    /* "capnp/lib/capnp.pyx":807
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)             # <<<<<<<<<<<<<<
  *     elif value_type is tuple:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  */
-    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 784, __pyx_L1_error)
-    if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 784, __pyx_L1_error)
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 784, __pyx_L1_error)
+    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 807, __pyx_L1_error)
+    if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 807, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 807, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":782
+    /* "capnp/lib/capnp.pyx":805
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":785
+  /* "capnp/lib/capnp.pyx":808
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  *     elif value_type is tuple:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)
  */
   __pyx_t_2 = (__pyx_v_value_type == (&PyTuple_Type));
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":786
+    /* "capnp/lib/capnp.pyx":809
  *         _from_list(builder, value)
  *     elif value_type is tuple:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)             # <<<<<<<<<<<<<<
  *         _from_tuple(builder, value)
  *     elif value_type is dict:
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 786, __pyx_L1_error)
-    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 786, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 809, __pyx_L1_error)
+    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 809, __pyx_L1_error)
     try {
       __pyx_t_11 = __pyx_v_thisptr.init(__pyx_t_7, __pyx_t_10);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 786, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 809, __pyx_L1_error)
     }
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 786, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 809, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_v_builder = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":787
+    /* "capnp/lib/capnp.pyx":810
  *     elif value_type is tuple:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)             # <<<<<<<<<<<<<<
  *     elif value_type is dict:
  *         if _DynamicSetterClasses is DynamicStruct_Builder:
  */
-    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 787, __pyx_L1_error)
-    if (!(likely(PyTuple_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 787, __pyx_L1_error)
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_tuple(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 787, __pyx_L1_error)
+    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 810, __pyx_L1_error)
+    if (!(likely(PyTuple_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "tuple", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 810, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_tuple(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 810, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":785
+    /* "capnp/lib/capnp.pyx":808
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  *     elif value_type is tuple:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":788
+  /* "capnp/lib/capnp.pyx":811
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)
  *     elif value_type is dict:             # <<<<<<<<<<<<<<
  *         if _DynamicSetterClasses is DynamicStruct_Builder:
  *             builder = to_python_builder(thisptr.get(field), parent)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyDict_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":790
+    /* "capnp/lib/capnp.pyx":813
  *     elif value_type is dict:
  *         if _DynamicSetterClasses is DynamicStruct_Builder:
  *             builder = to_python_builder(thisptr.get(field), parent)             # <<<<<<<<<<<<<<
  *             builder.from_dict(value)
  *         else:
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 790, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 813, __pyx_L1_error)
     try {
       __pyx_t_11 = __pyx_v_thisptr.get(__pyx_t_7);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 790, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 813, __pyx_L1_error)
     }
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 790, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 813, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_v_builder = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":791
+    /* "capnp/lib/capnp.pyx":814
  *         if _DynamicSetterClasses is DynamicStruct_Builder:
  *             builder = to_python_builder(thisptr.get(field), parent)
  *             builder.from_dict(value)             # <<<<<<<<<<<<<<
  *         else:
  *             builder = to_python_builder(thisptr[field], parent)
  */
-    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_builder, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 791, __pyx_L1_error)
+    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_builder, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 814, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_12);
     __pyx_t_13 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_12))) {
       __pyx_t_13 = PyMethod_GET_SELF(__pyx_t_12);
       if (likely(__pyx_t_13)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
         __Pyx_INCREF(__pyx_t_13);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_12, function);
       }
     }
     __pyx_t_4 = (__pyx_t_13) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_13, __pyx_v_value) : __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_v_value);
     __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 791, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 814, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":788
+    /* "capnp/lib/capnp.pyx":811
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_tuple(builder, value)
  *     elif value_type is dict:             # <<<<<<<<<<<<<<
  *         if _DynamicSetterClasses is DynamicStruct_Builder:
  *             builder = to_python_builder(thisptr.get(field), parent)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":795
+  /* "capnp/lib/capnp.pyx":818
  *             builder = to_python_builder(thisptr[field], parent)
  *             builder.from_dict(value)
  *     elif value is None:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  */
   __pyx_t_2 = (__pyx_v_value == Py_None);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":796
+    /* "capnp/lib/capnp.pyx":819
  *             builder.from_dict(value)
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:
  */
     __pyx_v_temp =  ::capnp::DynamicValue::Reader( ::capnp::VOID);
 
-    /* "capnp/lib/capnp.pyx":797
+    /* "capnp/lib/capnp.pyx":820
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 797, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 820, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 797, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 820, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":795
+    /* "capnp/lib/capnp.pyx":818
  *             builder = to_python_builder(thisptr[field], parent)
  *             builder.from_dict(value)
  *     elif value is None:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":798
+  /* "capnp/lib/capnp.pyx":821
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":799
+    /* "capnp/lib/capnp.pyx":822
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 799, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder))))) __PYX_ERR(0, 799, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 822, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder))))) __PYX_ERR(0, 822, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 799, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 822, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":798
+    /* "capnp/lib/capnp.pyx":821
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":800
+  /* "capnp/lib/capnp.pyx":823
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
- *     elif value_type is _DynamicCapabilityClient:
+ *     elif value_type is _DynamicListBuilder:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":801
+    /* "capnp/lib/capnp.pyx":824
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))             # <<<<<<<<<<<<<<
- *     elif value_type is _DynamicCapabilityClient:
- *         thisptr.set(field, _extract_dynamic_client(value))
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 801, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 801, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 824, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 824, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_reader(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 801, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 824, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":800
+    /* "capnp/lib/capnp.pyx":823
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
- *     elif value_type is _DynamicCapabilityClient:
+ *     elif value_type is _DynamicListBuilder:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":802
+  /* "capnp/lib/capnp.pyx":825
+ *     elif value_type is _DynamicStructReader:
+ *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ */
+  __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder);
+  __pyx_t_2 = (__pyx_t_1 != 0);
+  if (__pyx_t_2) {
+
+    /* "capnp/lib/capnp.pyx":826
+ *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))             # <<<<<<<<<<<<<<
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ */
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 826, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 826, __pyx_L1_error)
+    try {
+      __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_value))));
+    } catch(...) {
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 826, __pyx_L1_error)
+    }
+
+    /* "capnp/lib/capnp.pyx":825
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "capnp/lib/capnp.pyx":827
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ *     elif value_type is _DynamicCapabilityClient:
+ */
+  __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader);
+  __pyx_t_1 = (__pyx_t_2 != 0);
+  if (__pyx_t_1) {
+
+    /* "capnp/lib/capnp.pyx":828
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))             # <<<<<<<<<<<<<<
+ *     elif value_type is _DynamicCapabilityClient:
+ *         thisptr.set(field, _extract_dynamic_client(value))
+ */
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 828, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader))))) __PYX_ERR(0, 828, __pyx_L1_error)
+    try {
+      __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_reader(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_v_value))));
+    } catch(...) {
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 828, __pyx_L1_error)
+    }
+
+    /* "capnp/lib/capnp.pyx":827
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ *     elif value_type is _DynamicCapabilityClient:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "capnp/lib/capnp.pyx":829
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":803
- *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+    /* "capnp/lib/capnp.pyx":830
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))             # <<<<<<<<<<<<<<
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 803, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient))))) __PYX_ERR(0, 803, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 830, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient))))) __PYX_ERR(0, 830, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_client(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 803, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 830, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":802
- *     elif value_type is _DynamicStructReader:
- *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+    /* "capnp/lib/capnp.pyx":829
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":804
+  /* "capnp/lib/capnp.pyx":831
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  */
   __pyx_t_2 = __Pyx_TypeCheck(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityServer); 
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":805
+    /* "capnp/lib/capnp.pyx":832
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 805, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 832, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_server(__pyx_v_value)));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 805, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 832, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":804
+    /* "capnp/lib/capnp.pyx":831
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":806
+  /* "capnp/lib/capnp.pyx":833
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":807
+    /* "capnp/lib/capnp.pyx":834
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 807, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum))))) __PYX_ERR(0, 807, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 834, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum))))) __PYX_ERR(0, 834, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_enum(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 807, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 834, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":806
+    /* "capnp/lib/capnp.pyx":833
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":808
+  /* "capnp/lib/capnp.pyx":835
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":809
+    /* "capnp/lib/capnp.pyx":836
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicObjectBuilder:
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 809, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 809, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 836, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 836, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_any_pointer(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 809, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 836, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":808
+    /* "capnp/lib/capnp.pyx":835
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":810
+  /* "capnp/lib/capnp.pyx":837
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (likely(__pyx_t_2)) {
 
-    /* "capnp/lib/capnp.pyx":811
+    /* "capnp/lib/capnp.pyx":838
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  *         thisptr.set(field, _extract_any_pointer_builder(value))             # <<<<<<<<<<<<<<
  *     else:
  *         raise KjException(
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 811, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder))))) __PYX_ERR(0, 811, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 838, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder))))) __PYX_ERR(0, 838, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_any_pointer_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 811, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 838, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":810
+    /* "capnp/lib/capnp.pyx":837
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":813
+  /* "capnp/lib/capnp.pyx":840
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  *         raise KjException(             # <<<<<<<<<<<<<<
  *             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
  *             .format(field, str(value), str(type(value))))
  */
   /*else*/ {
-    __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 813, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 840, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_12);
 
-    /* "capnp/lib/capnp.pyx":815
+    /* "capnp/lib/capnp.pyx":842
  *         raise KjException(
  *             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
  *             .format(field, str(value), str(type(value))))             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Tried_to_set_field_with_a_value, __pyx_n_s_format); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 815, __pyx_L1_error)
+    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Tried_to_set_field_with_a_value, __pyx_n_s_format); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 842, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_14);
-    __pyx_t_15 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_value); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 815, __pyx_L1_error)
+    __pyx_t_15 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_value); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 842, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_15);
-    __pyx_t_16 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)Py_TYPE(__pyx_v_value))); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 815, __pyx_L1_error)
+    __pyx_t_16 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)Py_TYPE(__pyx_v_value))); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 842, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_16);
     __pyx_t_17 = NULL;
     __pyx_t_18 = 0;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_14))) {
       __pyx_t_17 = PyMethod_GET_SELF(__pyx_t_14);
       if (likely(__pyx_t_17)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_14);
@@ -21800,47 +22301,47 @@
         __Pyx_DECREF_SET(__pyx_t_14, function);
         __pyx_t_18 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_14)) {
       PyObject *__pyx_temp[4] = {__pyx_t_17, __pyx_v_field, __pyx_t_15, __pyx_t_16};
-      __pyx_t_13 = __Pyx_PyFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 815, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 842, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
       __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_14)) {
       PyObject *__pyx_temp[4] = {__pyx_t_17, __pyx_v_field, __pyx_t_15, __pyx_t_16};
-      __pyx_t_13 = __Pyx_PyCFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 815, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyCFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 842, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
       __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     } else
     #endif
     {
-      __pyx_t_19 = PyTuple_New(3+__pyx_t_18); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 815, __pyx_L1_error)
+      __pyx_t_19 = PyTuple_New(3+__pyx_t_18); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 842, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_19);
       if (__pyx_t_17) {
         __Pyx_GIVEREF(__pyx_t_17); PyTuple_SET_ITEM(__pyx_t_19, 0, __pyx_t_17); __pyx_t_17 = NULL;
       }
       __Pyx_INCREF(__pyx_v_field);
       __Pyx_GIVEREF(__pyx_v_field);
       PyTuple_SET_ITEM(__pyx_t_19, 0+__pyx_t_18, __pyx_v_field);
       __Pyx_GIVEREF(__pyx_t_15);
       PyTuple_SET_ITEM(__pyx_t_19, 1+__pyx_t_18, __pyx_t_15);
       __Pyx_GIVEREF(__pyx_t_16);
       PyTuple_SET_ITEM(__pyx_t_19, 2+__pyx_t_18, __pyx_t_16);
       __pyx_t_15 = 0;
       __pyx_t_16 = 0;
-      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_19, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 815, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_19, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 842, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
     }
     __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
     __pyx_t_14 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_12))) {
       __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_12);
@@ -21850,24 +22351,24 @@
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_12, function);
       }
     }
     __pyx_t_4 = (__pyx_t_14) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_14, __pyx_t_13) : __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_13);
     __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
     __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 813, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 840, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
     __Pyx_Raise(__pyx_t_4, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __PYX_ERR(0, 813, __pyx_L1_error)
+    __PYX_ERR(0, 840, __pyx_L1_error)
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":762
+  /* "capnp/lib/capnp.pyx":785
  * 
  * 
  * cdef _setDynamicField(_DynamicSetterClasses thisptr, field, value, parent):             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)
  */
 
@@ -21889,17 +22390,17 @@
   __Pyx_XDECREF(__pyx_v_value_type);
   __Pyx_XDECREF(__pyx_v_builder);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":818
- * 
+/* "capnp/lib/capnp.pyx":846
  * 
+ * # TODO: Is this function used by anyone? Can it be removed?
  * cdef _setDynamicFieldWithField(DynamicStruct_Builder thisptr, _StructSchemaField field, value, parent):             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp__setDynamicFieldWithField( ::capnp::DynamicStruct::Builder __pyx_v_thisptr, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *__pyx_v_field, PyObject *__pyx_v_value, PyObject *__pyx_v_parent) {
    ::capnp::DynamicValue::Reader __pyx_v_temp;
@@ -21927,25 +22428,25 @@
   int __pyx_t_18;
   PyObject *__pyx_t_19 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_setDynamicFieldWithField", 0);
 
-  /* "capnp/lib/capnp.pyx":820
+  /* "capnp/lib/capnp.pyx":848
  * cdef _setDynamicFieldWithField(DynamicStruct_Builder thisptr, _StructSchemaField field, value, parent):
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)             # <<<<<<<<<<<<<<
  * 
  *     if value_type is int or value_type is long:
  */
   __Pyx_INCREF(((PyObject *)Py_TYPE(__pyx_v_value)));
   __pyx_v_value_type = ((PyTypeObject*)((PyObject *)Py_TYPE(__pyx_v_value)));
 
-  /* "capnp/lib/capnp.pyx":822
+  /* "capnp/lib/capnp.pyx":850
  *     value_type = type(value)
  * 
  *     if value_type is int or value_type is long:             # <<<<<<<<<<<<<<
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)
  */
   __pyx_t_2 = (__pyx_v_value_type == (&PyInt_Type));
@@ -21957,682 +22458,754 @@
   }
   __pyx_t_3 = (__pyx_v_value_type == (&PyLong_Type));
   __pyx_t_2 = (__pyx_t_3 != 0);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":823
+    /* "capnp/lib/capnp.pyx":851
  * 
  *     if value_type is int or value_type is long:
  *         if value < 0:             # <<<<<<<<<<<<<<
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  */
-    __pyx_t_4 = PyObject_RichCompare(__pyx_v_value, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 823, __pyx_L1_error)
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 823, __pyx_L1_error)
+    __pyx_t_4 = PyObject_RichCompare(__pyx_v_value, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 851, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 851, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":824
+      /* "capnp/lib/capnp.pyx":852
  *     if value_type is int or value_type is long:
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)             # <<<<<<<<<<<<<<
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  */
-      __pyx_t_5 = __Pyx_PyInt_As_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_5 == (PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 824, __pyx_L1_error)
+      __pyx_t_5 = __Pyx_PyInt_As_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_5 == (PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 852, __pyx_L1_error)
       __pyx_v_temp =  ::capnp::DynamicValue::Reader(((PY_LONG_LONG)__pyx_t_5));
 
-      /* "capnp/lib/capnp.pyx":823
+      /* "capnp/lib/capnp.pyx":851
  * 
  *     if value_type is int or value_type is long:
  *         if value < 0:             # <<<<<<<<<<<<<<
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  */
       goto __pyx_L6;
     }
 
-    /* "capnp/lib/capnp.pyx":826
+    /* "capnp/lib/capnp.pyx":854
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is float:
  */
     /*else*/ {
-      __pyx_t_6 = __Pyx_PyInt_As_unsigned_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_6 == (unsigned PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 826, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyInt_As_unsigned_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_6 == (unsigned PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 854, __pyx_L1_error)
       __pyx_v_temp =  ::capnp::DynamicValue::Reader(((unsigned PY_LONG_LONG)__pyx_t_6));
     }
     __pyx_L6:;
 
-    /* "capnp/lib/capnp.pyx":827
+    /* "capnp/lib/capnp.pyx":855
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.setByField(field.thisptr, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)
  */
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 827, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 855, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":822
+    /* "capnp/lib/capnp.pyx":850
  *     value_type = type(value)
  * 
  *     if value_type is int or value_type is long:             # <<<<<<<<<<<<<<
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":828
+  /* "capnp/lib/capnp.pyx":856
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is float:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.setByField(field.thisptr, temp)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyFloat_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":829
+    /* "capnp/lib/capnp.pyx":857
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is bool:
  */
-    __pyx_t_7 = __pyx_PyFloat_AsDouble(__pyx_v_value); if (unlikely((__pyx_t_7 == (double)-1) && PyErr_Occurred())) __PYX_ERR(0, 829, __pyx_L1_error)
+    __pyx_t_7 = __pyx_PyFloat_AsDouble(__pyx_v_value); if (unlikely((__pyx_t_7 == (double)-1) && PyErr_Occurred())) __PYX_ERR(0, 857, __pyx_L1_error)
     __pyx_v_temp =  ::capnp::DynamicValue::Reader(((double)__pyx_t_7));
 
-    /* "capnp/lib/capnp.pyx":830
+    /* "capnp/lib/capnp.pyx":858
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.setByField(field.thisptr, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)
  */
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 830, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 858, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":828
+    /* "capnp/lib/capnp.pyx":856
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is float:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.setByField(field.thisptr, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":831
+  /* "capnp/lib/capnp.pyx":859
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is bool:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.setByField(field.thisptr, temp)
  */
   __pyx_t_2 = (__pyx_v_value_type == ((PyTypeObject*)((PyObject*)&PyBool_Type)));
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":832
+    /* "capnp/lib/capnp.pyx":860
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is bytes:
  */
-    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_8 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 832, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_8 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 860, __pyx_L1_error)
     __pyx_v_temp =  ::capnp::DynamicValue::Reader(((bool)__pyx_t_8));
 
-    /* "capnp/lib/capnp.pyx":833
+    /* "capnp/lib/capnp.pyx":861
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.setByField(field.thisptr, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is bytes:
  *         _setBytesField(thisptr, field, value)
  */
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 833, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 861, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":831
+    /* "capnp/lib/capnp.pyx":859
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is bool:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.setByField(field.thisptr, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":834
+  /* "capnp/lib/capnp.pyx":862
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is bytes:             # <<<<<<<<<<<<<<
  *         _setBytesField(thisptr, field, value)
  *     elif isinstance(value, basestring):
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyBytes_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":835
+    /* "capnp/lib/capnp.pyx":863
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is bytes:
  *         _setBytesField(thisptr, field, value)             # <<<<<<<<<<<<<<
  *     elif isinstance(value, basestring):
  *         _setBaseStringField(thisptr, field, value)
  */
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__setBytesField(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 835, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__setBytesField(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 863, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":834
+    /* "capnp/lib/capnp.pyx":862
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is bytes:             # <<<<<<<<<<<<<<
  *         _setBytesField(thisptr, field, value)
  *     elif isinstance(value, basestring):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":836
+  /* "capnp/lib/capnp.pyx":864
  *     elif value_type is bytes:
  *         _setBytesField(thisptr, field, value)
  *     elif isinstance(value, basestring):             # <<<<<<<<<<<<<<
  *         _setBaseStringField(thisptr, field, value)
  *     elif value_type is list:
  */
   __pyx_t_2 = __Pyx_PyBaseString_Check(__pyx_v_value); 
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":837
+    /* "capnp/lib/capnp.pyx":865
  *         _setBytesField(thisptr, field, value)
  *     elif isinstance(value, basestring):
  *         _setBaseStringField(thisptr, field, value)             # <<<<<<<<<<<<<<
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field.proto.name, len(value)), parent)
  */
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__setBaseStringField(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 837, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__setBaseStringField(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 865, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":836
+    /* "capnp/lib/capnp.pyx":864
  *     elif value_type is bytes:
  *         _setBytesField(thisptr, field, value)
  *     elif isinstance(value, basestring):             # <<<<<<<<<<<<<<
  *         _setBaseStringField(thisptr, field, value)
  *     elif value_type is list:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":838
+  /* "capnp/lib/capnp.pyx":866
  *     elif isinstance(value, basestring):
  *         _setBaseStringField(thisptr, field, value)
  *     elif value_type is list:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field.proto.name, len(value)), parent)
  *         _from_list(builder, value)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyList_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":839
+    /* "capnp/lib/capnp.pyx":867
  *         _setBaseStringField(thisptr, field, value)
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field.proto.name, len(value)), parent)             # <<<<<<<<<<<<<<
  *         _from_list(builder, value)
  *     elif value_type is dict:
  */
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_field), __pyx_n_s_proto); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 839, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_field), __pyx_n_s_proto); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 867, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_name); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 839, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_name); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 867, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __pyx_t_10 = __Pyx_PyObject_AsWritableString(__pyx_t_9); if (unlikely((!__pyx_t_10) && PyErr_Occurred())) __PYX_ERR(0, 839, __pyx_L1_error)
-    __pyx_t_11 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_11 == ((Py_ssize_t)-1))) __PYX_ERR(0, 839, __pyx_L1_error)
+    __pyx_t_10 = __Pyx_PyObject_AsWritableString(__pyx_t_9); if (unlikely((!__pyx_t_10) && PyErr_Occurred())) __PYX_ERR(0, 867, __pyx_L1_error)
+    __pyx_t_11 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_11 == ((Py_ssize_t)-1))) __PYX_ERR(0, 867, __pyx_L1_error)
     try {
       __pyx_t_12 = __pyx_v_thisptr.init(__pyx_t_10, __pyx_t_11);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 839, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 867, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-    __pyx_t_9 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_12), __pyx_v_parent); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 839, __pyx_L1_error)
+    __pyx_t_9 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_12), __pyx_v_parent); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 867, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_v_builder = __pyx_t_9;
     __pyx_t_9 = 0;
 
-    /* "capnp/lib/capnp.pyx":840
+    /* "capnp/lib/capnp.pyx":868
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field.proto.name, len(value)), parent)
  *         _from_list(builder, value)             # <<<<<<<<<<<<<<
  *     elif value_type is dict:
  *         builder = to_python_builder(thisptr.getByField(field.thisptr), parent)
  */
-    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 840, __pyx_L1_error)
-    if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 840, __pyx_L1_error)
-    __pyx_t_9 = __pyx_f_5capnp_3lib_5capnp__from_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 840, __pyx_L1_error)
+    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 868, __pyx_L1_error)
+    if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 868, __pyx_L1_error)
+    __pyx_t_9 = __pyx_f_5capnp_3lib_5capnp__from_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 868, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-    /* "capnp/lib/capnp.pyx":838
+    /* "capnp/lib/capnp.pyx":866
  *     elif isinstance(value, basestring):
  *         _setBaseStringField(thisptr, field, value)
  *     elif value_type is list:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field.proto.name, len(value)), parent)
  *         _from_list(builder, value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":841
+  /* "capnp/lib/capnp.pyx":869
  *         builder = to_python_builder(thisptr.init(field.proto.name, len(value)), parent)
  *         _from_list(builder, value)
  *     elif value_type is dict:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.getByField(field.thisptr), parent)
  *         builder.from_dict(value)
  */
   __pyx_t_2 = (__pyx_v_value_type == (&PyDict_Type));
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":842
+    /* "capnp/lib/capnp.pyx":870
  *         _from_list(builder, value)
  *     elif value_type is dict:
  *         builder = to_python_builder(thisptr.getByField(field.thisptr), parent)             # <<<<<<<<<<<<<<
  *         builder.from_dict(value)
  *     elif value is None:
  */
     try {
       __pyx_t_12 = __pyx_v_thisptr.get(__pyx_v_field->thisptr);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 842, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 870, __pyx_L1_error)
     }
-    __pyx_t_9 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_12), __pyx_v_parent); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 842, __pyx_L1_error)
+    __pyx_t_9 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_12), __pyx_v_parent); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 870, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_v_builder = __pyx_t_9;
     __pyx_t_9 = 0;
 
-    /* "capnp/lib/capnp.pyx":843
+    /* "capnp/lib/capnp.pyx":871
  *     elif value_type is dict:
  *         builder = to_python_builder(thisptr.getByField(field.thisptr), parent)
  *         builder.from_dict(value)             # <<<<<<<<<<<<<<
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)
  */
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_builder, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 843, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_builder, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 871, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_13 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_13 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_13)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
         __Pyx_INCREF(__pyx_t_13);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_9 = (__pyx_t_13) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_13, __pyx_v_value) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_v_value);
     __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
-    if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 843, __pyx_L1_error)
+    if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 871, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-    /* "capnp/lib/capnp.pyx":841
+    /* "capnp/lib/capnp.pyx":869
  *         builder = to_python_builder(thisptr.init(field.proto.name, len(value)), parent)
  *         _from_list(builder, value)
  *     elif value_type is dict:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.getByField(field.thisptr), parent)
  *         builder.from_dict(value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":844
+  /* "capnp/lib/capnp.pyx":872
  *         builder = to_python_builder(thisptr.getByField(field.thisptr), parent)
  *         builder.from_dict(value)
  *     elif value is None:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.setByField(field.thisptr, temp)
  */
   __pyx_t_1 = (__pyx_v_value == Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":845
+    /* "capnp/lib/capnp.pyx":873
  *         builder.from_dict(value)
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is _DynamicStructBuilder:
  */
     __pyx_v_temp =  ::capnp::DynamicValue::Reader( ::capnp::VOID);
 
-    /* "capnp/lib/capnp.pyx":846
+    /* "capnp/lib/capnp.pyx":874
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.setByField(field.thisptr, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_builder(value))
  */
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 846, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 874, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":844
+    /* "capnp/lib/capnp.pyx":872
  *         builder = to_python_builder(thisptr.getByField(field.thisptr), parent)
  *         builder.from_dict(value)
  *     elif value is None:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.setByField(field.thisptr, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":847
+  /* "capnp/lib/capnp.pyx":875
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":848
+    /* "capnp/lib/capnp.pyx":876
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_builder(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicStructReader:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
  */
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder))))) __PYX_ERR(0, 848, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder))))) __PYX_ERR(0, 876, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 848, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 876, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":847
+    /* "capnp/lib/capnp.pyx":875
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.setByField(field.thisptr, temp)
  *     elif value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":849
+  /* "capnp/lib/capnp.pyx":877
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
- *     elif value_type is _DynamicCapabilityClient:
+ *     elif value_type is _DynamicListBuilder:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":850
+    /* "capnp/lib/capnp.pyx":878
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))             # <<<<<<<<<<<<<<
- *     elif value_type is _DynamicCapabilityClient:
- *         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_builder(value))
  */
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 850, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 878, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_reader(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 850, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 878, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":849
+    /* "capnp/lib/capnp.pyx":877
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
- *     elif value_type is _DynamicCapabilityClient:
+ *     elif value_type is _DynamicListBuilder:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":851
+  /* "capnp/lib/capnp.pyx":879
+ *     elif value_type is _DynamicStructReader:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ */
+  __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder);
+  __pyx_t_1 = (__pyx_t_2 != 0);
+  if (__pyx_t_1) {
+
+    /* "capnp/lib/capnp.pyx":880
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_builder(value))             # <<<<<<<<<<<<<<
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_reader(value))
+ */
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 880, __pyx_L1_error)
+    try {
+      __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_value))));
+    } catch(...) {
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 880, __pyx_L1_error)
+    }
+
+    /* "capnp/lib/capnp.pyx":879
  *     elif value_type is _DynamicStructReader:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "capnp/lib/capnp.pyx":881
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:             # <<<<<<<<<<<<<<
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_reader(value))
+ *     elif value_type is _DynamicCapabilityClient:
+ */
+  __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader);
+  __pyx_t_2 = (__pyx_t_1 != 0);
+  if (__pyx_t_2) {
+
+    /* "capnp/lib/capnp.pyx":882
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_reader(value))             # <<<<<<<<<<<<<<
+ *     elif value_type is _DynamicCapabilityClient:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))
+ */
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader))))) __PYX_ERR(0, 882, __pyx_L1_error)
+    try {
+      __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_reader(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_v_value))));
+    } catch(...) {
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 882, __pyx_L1_error)
+    }
+
+    /* "capnp/lib/capnp.pyx":881
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:             # <<<<<<<<<<<<<<
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_reader(value))
+ *     elif value_type is _DynamicCapabilityClient:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "capnp/lib/capnp.pyx":883
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":852
- *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
+    /* "capnp/lib/capnp.pyx":884
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))             # <<<<<<<<<<<<<<
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.setByField(field.thisptr, _extract_dynamic_server(value))
  */
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient))))) __PYX_ERR(0, 852, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient))))) __PYX_ERR(0, 884, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_client(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 852, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 884, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":851
- *     elif value_type is _DynamicStructReader:
- *         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
+    /* "capnp/lib/capnp.pyx":883
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.setByField(field.thisptr, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":853
+  /* "capnp/lib/capnp.pyx":885
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  */
   __pyx_t_1 = __Pyx_TypeCheck(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityServer); 
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":854
+    /* "capnp/lib/capnp.pyx":886
  *         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.setByField(field.thisptr, _extract_dynamic_server(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicEnum:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_enum(value))
  */
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_server(__pyx_v_value)));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 854, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 886, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":853
+    /* "capnp/lib/capnp.pyx":885
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":855
+  /* "capnp/lib/capnp.pyx":887
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.setByField(field.thisptr, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":856
+    /* "capnp/lib/capnp.pyx":888
  *         thisptr.setByField(field.thisptr, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_enum(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  */
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum))))) __PYX_ERR(0, 856, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum))))) __PYX_ERR(0, 888, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_v_field->thisptr, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_enum(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 856, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 888, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":855
+    /* "capnp/lib/capnp.pyx":887
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.setByField(field.thisptr, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         thisptr.setByField(field.thisptr, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":857
+  /* "capnp/lib/capnp.pyx":889
  *     elif value_type is _DynamicEnum:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":858
+    /* "capnp/lib/capnp.pyx":890
  *         thisptr.setByField(field.thisptr, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicObjectBuilder:
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  */
-    __pyx_t_10 = __Pyx_PyObject_AsWritableString(((PyObject *)__pyx_v_field)); if (unlikely((!__pyx_t_10) && PyErr_Occurred())) __PYX_ERR(0, 858, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 858, __pyx_L1_error)
+    __pyx_t_10 = __Pyx_PyObject_AsWritableString(((PyObject *)__pyx_v_field)); if (unlikely((!__pyx_t_10) && PyErr_Occurred())) __PYX_ERR(0, 890, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 890, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_10, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_any_pointer(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 858, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 890, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":857
+    /* "capnp/lib/capnp.pyx":889
  *     elif value_type is _DynamicEnum:
  *         thisptr.setByField(field.thisptr, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":859
+  /* "capnp/lib/capnp.pyx":891
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (likely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":860
+    /* "capnp/lib/capnp.pyx":892
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  *         thisptr.set(field, _extract_any_pointer_builder(value))             # <<<<<<<<<<<<<<
  *     else:
  *         raise KjException(
  */
-    __pyx_t_10 = __Pyx_PyObject_AsWritableString(((PyObject *)__pyx_v_field)); if (unlikely((!__pyx_t_10) && PyErr_Occurred())) __PYX_ERR(0, 860, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder))))) __PYX_ERR(0, 860, __pyx_L1_error)
+    __pyx_t_10 = __Pyx_PyObject_AsWritableString(((PyObject *)__pyx_v_field)); if (unlikely((!__pyx_t_10) && PyErr_Occurred())) __PYX_ERR(0, 892, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder))))) __PYX_ERR(0, 892, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_10, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_any_pointer_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 860, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 892, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":859
+    /* "capnp/lib/capnp.pyx":891
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":862
+  /* "capnp/lib/capnp.pyx":894
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  *         raise KjException(             # <<<<<<<<<<<<<<
  *             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
  *             .format(field, str(value), str(type(value))))
  */
   /*else*/ {
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 862, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 894, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
 
-    /* "capnp/lib/capnp.pyx":864
+    /* "capnp/lib/capnp.pyx":896
  *         raise KjException(
  *             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
  *             .format(field, str(value), str(type(value))))             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Tried_to_set_field_with_a_value, __pyx_n_s_format); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 864, __pyx_L1_error)
+    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Tried_to_set_field_with_a_value, __pyx_n_s_format); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 896, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_14);
-    __pyx_t_15 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_value); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 864, __pyx_L1_error)
+    __pyx_t_15 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_value); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 896, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_15);
-    __pyx_t_16 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)Py_TYPE(__pyx_v_value))); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 864, __pyx_L1_error)
+    __pyx_t_16 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)Py_TYPE(__pyx_v_value))); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 896, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_16);
     __pyx_t_17 = NULL;
     __pyx_t_18 = 0;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_14))) {
       __pyx_t_17 = PyMethod_GET_SELF(__pyx_t_14);
       if (likely(__pyx_t_17)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_14);
@@ -22641,47 +23214,47 @@
         __Pyx_DECREF_SET(__pyx_t_14, function);
         __pyx_t_18 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_14)) {
       PyObject *__pyx_temp[4] = {__pyx_t_17, ((PyObject *)__pyx_v_field), __pyx_t_15, __pyx_t_16};
-      __pyx_t_13 = __Pyx_PyFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 864, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 896, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
       __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_14)) {
       PyObject *__pyx_temp[4] = {__pyx_t_17, ((PyObject *)__pyx_v_field), __pyx_t_15, __pyx_t_16};
-      __pyx_t_13 = __Pyx_PyCFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 864, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyCFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 896, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
       __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     } else
     #endif
     {
-      __pyx_t_19 = PyTuple_New(3+__pyx_t_18); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 864, __pyx_L1_error)
+      __pyx_t_19 = PyTuple_New(3+__pyx_t_18); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 896, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_19);
       if (__pyx_t_17) {
         __Pyx_GIVEREF(__pyx_t_17); PyTuple_SET_ITEM(__pyx_t_19, 0, __pyx_t_17); __pyx_t_17 = NULL;
       }
       __Pyx_INCREF(((PyObject *)__pyx_v_field));
       __Pyx_GIVEREF(((PyObject *)__pyx_v_field));
       PyTuple_SET_ITEM(__pyx_t_19, 0+__pyx_t_18, ((PyObject *)__pyx_v_field));
       __Pyx_GIVEREF(__pyx_t_15);
       PyTuple_SET_ITEM(__pyx_t_19, 1+__pyx_t_18, __pyx_t_15);
       __Pyx_GIVEREF(__pyx_t_16);
       PyTuple_SET_ITEM(__pyx_t_19, 2+__pyx_t_18, __pyx_t_16);
       __pyx_t_15 = 0;
       __pyx_t_16 = 0;
-      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_19, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 864, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_19, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 896, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
     }
     __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
     __pyx_t_14 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_4);
@@ -22691,26 +23264,26 @@
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_9 = (__pyx_t_14) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_14, __pyx_t_13) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_13);
     __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
     __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
-    if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 862, __pyx_L1_error)
+    if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 894, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_Raise(__pyx_t_9, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-    __PYX_ERR(0, 862, __pyx_L1_error)
+    __PYX_ERR(0, 894, __pyx_L1_error)
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":818
- * 
+  /* "capnp/lib/capnp.pyx":846
  * 
+ * # TODO: Is this function used by anyone? Can it be removed?
  * cdef _setDynamicFieldWithField(DynamicStruct_Builder thisptr, _StructSchemaField field, value, parent):             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
@@ -22730,17 +23303,17 @@
   __Pyx_XDECREF(__pyx_v_value_type);
   __Pyx_XDECREF(__pyx_v_builder);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":867
- * 
+/* "capnp/lib/capnp.pyx":900
  * 
+ * # TODO: Is this function used by anyone? Can it be removed?
  * cdef _setDynamicFieldStatic(DynamicStruct_Builder thisptr, field, value, parent):             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp__setDynamicFieldStatic( ::capnp::DynamicStruct::Builder __pyx_v_thisptr, PyObject *__pyx_v_field, PyObject *__pyx_v_value, PyObject *__pyx_v_parent) {
    ::capnp::DynamicValue::Reader __pyx_v_temp;
@@ -22768,25 +23341,25 @@
   int __pyx_t_18;
   PyObject *__pyx_t_19 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_setDynamicFieldStatic", 0);
 
-  /* "capnp/lib/capnp.pyx":869
+  /* "capnp/lib/capnp.pyx":902
  * cdef _setDynamicFieldStatic(DynamicStruct_Builder thisptr, field, value, parent):
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)             # <<<<<<<<<<<<<<
  * 
  *     if value_type is int or value_type is long:
  */
   __Pyx_INCREF(((PyObject *)Py_TYPE(__pyx_v_value)));
   __pyx_v_value_type = ((PyTypeObject*)((PyObject *)Py_TYPE(__pyx_v_value)));
 
-  /* "capnp/lib/capnp.pyx":871
+  /* "capnp/lib/capnp.pyx":904
  *     value_type = type(value)
  * 
  *     if value_type is int or value_type is long:             # <<<<<<<<<<<<<<
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)
  */
   __pyx_t_2 = (__pyx_v_value_type == (&PyInt_Type));
@@ -22798,686 +23371,760 @@
   }
   __pyx_t_3 = (__pyx_v_value_type == (&PyLong_Type));
   __pyx_t_2 = (__pyx_t_3 != 0);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":872
+    /* "capnp/lib/capnp.pyx":905
  * 
  *     if value_type is int or value_type is long:
  *         if value < 0:             # <<<<<<<<<<<<<<
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  */
-    __pyx_t_4 = PyObject_RichCompare(__pyx_v_value, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 872, __pyx_L1_error)
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 872, __pyx_L1_error)
+    __pyx_t_4 = PyObject_RichCompare(__pyx_v_value, __pyx_int_0, Py_LT); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 905, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 905, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":873
+      /* "capnp/lib/capnp.pyx":906
  *     if value_type is int or value_type is long:
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)             # <<<<<<<<<<<<<<
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  */
-      __pyx_t_5 = __Pyx_PyInt_As_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_5 == (PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 873, __pyx_L1_error)
+      __pyx_t_5 = __Pyx_PyInt_As_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_5 == (PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 906, __pyx_L1_error)
       __pyx_v_temp =  ::capnp::DynamicValue::Reader(((PY_LONG_LONG)__pyx_t_5));
 
-      /* "capnp/lib/capnp.pyx":872
+      /* "capnp/lib/capnp.pyx":905
  * 
  *     if value_type is int or value_type is long:
  *         if value < 0:             # <<<<<<<<<<<<<<
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  */
       goto __pyx_L6;
     }
 
-    /* "capnp/lib/capnp.pyx":875
+    /* "capnp/lib/capnp.pyx":908
  *             temp = C_DynamicValue.Reader(<long long>value)
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is float:
  */
     /*else*/ {
-      __pyx_t_6 = __Pyx_PyInt_As_unsigned_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_6 == (unsigned PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 875, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyInt_As_unsigned_PY_LONG_LONG(__pyx_v_value); if (unlikely((__pyx_t_6 == (unsigned PY_LONG_LONG)-1) && PyErr_Occurred())) __PYX_ERR(0, 908, __pyx_L1_error)
       __pyx_v_temp =  ::capnp::DynamicValue::Reader(((unsigned PY_LONG_LONG)__pyx_t_6));
     }
     __pyx_L6:;
 
-    /* "capnp/lib/capnp.pyx":876
+    /* "capnp/lib/capnp.pyx":909
  *         else:
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 876, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 909, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 876, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 909, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":871
+    /* "capnp/lib/capnp.pyx":904
  *     value_type = type(value)
  * 
  *     if value_type is int or value_type is long:             # <<<<<<<<<<<<<<
  *         if value < 0:
  *             temp = C_DynamicValue.Reader(<long long>value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":877
+  /* "capnp/lib/capnp.pyx":910
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)
  *     elif value_type is float:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyFloat_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":878
+    /* "capnp/lib/capnp.pyx":911
  *         thisptr.set(field, temp)
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is bool:
  */
-    __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_value); if (unlikely((__pyx_t_8 == (double)-1) && PyErr_Occurred())) __PYX_ERR(0, 878, __pyx_L1_error)
+    __pyx_t_8 = __pyx_PyFloat_AsDouble(__pyx_v_value); if (unlikely((__pyx_t_8 == (double)-1) && PyErr_Occurred())) __PYX_ERR(0, 911, __pyx_L1_error)
     __pyx_v_temp =  ::capnp::DynamicValue::Reader(((double)__pyx_t_8));
 
-    /* "capnp/lib/capnp.pyx":879
+    /* "capnp/lib/capnp.pyx":912
  *     elif value_type is float:
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 879, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 912, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 879, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 912, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":877
+    /* "capnp/lib/capnp.pyx":910
  *             temp = C_DynamicValue.Reader(<unsigned long long>value)
  *         thisptr.set(field, temp)
  *     elif value_type is float:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":880
+  /* "capnp/lib/capnp.pyx":913
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bool:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  */
   __pyx_t_2 = (__pyx_v_value_type == ((PyTypeObject*)((PyObject*)&PyBool_Type)));
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":881
+    /* "capnp/lib/capnp.pyx":914
  *         thisptr.set(field, temp)
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:
  */
-    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_9 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 881, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_9 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 914, __pyx_L1_error)
     __pyx_v_temp =  ::capnp::DynamicValue::Reader(((bool)__pyx_t_9));
 
-    /* "capnp/lib/capnp.pyx":882
+    /* "capnp/lib/capnp.pyx":915
  *     elif value_type is bool:
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 882, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 915, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 882, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 915, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":880
+    /* "capnp/lib/capnp.pyx":913
  *         temp = C_DynamicValue.Reader(<double>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bool:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":883
+  /* "capnp/lib/capnp.pyx":916
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:             # <<<<<<<<<<<<<<
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyBytes_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":884
+    /* "capnp/lib/capnp.pyx":917
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)             # <<<<<<<<<<<<<<
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  */
-    __pyx_t_4 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setBytes(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 884, __pyx_L1_error)
+    __pyx_t_4 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setBytes(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 917, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":883
+    /* "capnp/lib/capnp.pyx":916
  *         temp = C_DynamicValue.Reader(<cbool>value)
  *         thisptr.set(field, temp)
  *     elif value_type is bytes:             # <<<<<<<<<<<<<<
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":885
+  /* "capnp/lib/capnp.pyx":918
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):             # <<<<<<<<<<<<<<
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  */
   __pyx_t_2 = __Pyx_PyBaseString_Check(__pyx_v_value); 
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":886
+    /* "capnp/lib/capnp.pyx":919
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)             # <<<<<<<<<<<<<<
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  */
-    __pyx_t_4 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setBaseString(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 886, __pyx_L1_error)
+    __pyx_t_4 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setBaseString(__pyx_v_thisptr, __pyx_v_field, __pyx_v_value); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 919, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":885
+    /* "capnp/lib/capnp.pyx":918
  *     elif value_type is bytes:
  *         _setBytes(thisptr, field, value)
  *     elif isinstance(value, basestring):             # <<<<<<<<<<<<<<
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":887
+  /* "capnp/lib/capnp.pyx":920
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  */
   __pyx_t_1 = (__pyx_v_value_type == (&PyList_Type));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":888
+    /* "capnp/lib/capnp.pyx":921
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)             # <<<<<<<<<<<<<<
  *         _from_list(builder, value)
  *     elif value_type is dict:
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 888, __pyx_L1_error)
-    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 888, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 921, __pyx_L1_error)
+    __pyx_t_10 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_10 == ((Py_ssize_t)-1))) __PYX_ERR(0, 921, __pyx_L1_error)
     try {
       __pyx_t_11 = __pyx_v_thisptr.init(__pyx_t_7, __pyx_t_10);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 888, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 921, __pyx_L1_error)
     }
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 888, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 921, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_v_builder = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":889
+    /* "capnp/lib/capnp.pyx":922
  *     elif value_type is list:
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)             # <<<<<<<<<<<<<<
  *     elif value_type is dict:
  *         builder = to_python_builder(thisptr.get(field), parent)
  */
-    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 889, __pyx_L1_error)
-    if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 889, __pyx_L1_error)
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 889, __pyx_L1_error)
+    if (!(likely(((__pyx_v_builder) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_builder, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 922, __pyx_L1_error)
+    if (!(likely(PyList_CheckExact(__pyx_v_value))||((__pyx_v_value) == Py_None)||((void)PyErr_Format(PyExc_TypeError, "Expected %.16s, got %.200s", "list", Py_TYPE(__pyx_v_value)->tp_name), 0))) __PYX_ERR(0, 922, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp__from_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_builder), ((PyObject*)__pyx_v_value)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 922, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":887
+    /* "capnp/lib/capnp.pyx":920
  *     elif isinstance(value, basestring):
  *         _setBaseString(thisptr, field, value)
  *     elif value_type is list:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":890
+  /* "capnp/lib/capnp.pyx":923
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  *     elif value_type is dict:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.get(field), parent)
  *         builder.from_dict(value)
  */
   __pyx_t_2 = (__pyx_v_value_type == (&PyDict_Type));
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":891
+    /* "capnp/lib/capnp.pyx":924
  *         _from_list(builder, value)
  *     elif value_type is dict:
  *         builder = to_python_builder(thisptr.get(field), parent)             # <<<<<<<<<<<<<<
  *         builder.from_dict(value)
  *     elif value is None:
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 891, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 924, __pyx_L1_error)
     try {
       __pyx_t_11 = __pyx_v_thisptr.get(__pyx_t_7);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 891, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 924, __pyx_L1_error)
     }
-    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 891, __pyx_L1_error)
+    __pyx_t_4 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_11), __pyx_v_parent); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 924, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_v_builder = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":892
+    /* "capnp/lib/capnp.pyx":925
  *     elif value_type is dict:
  *         builder = to_python_builder(thisptr.get(field), parent)
  *         builder.from_dict(value)             # <<<<<<<<<<<<<<
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)
  */
-    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_builder, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 892, __pyx_L1_error)
+    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_v_builder, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 925, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_12);
     __pyx_t_13 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_12))) {
       __pyx_t_13 = PyMethod_GET_SELF(__pyx_t_12);
       if (likely(__pyx_t_13)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
         __Pyx_INCREF(__pyx_t_13);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_12, function);
       }
     }
     __pyx_t_4 = (__pyx_t_13) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_13, __pyx_v_value) : __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_v_value);
     __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 892, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 925, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":890
+    /* "capnp/lib/capnp.pyx":923
  *         builder = to_python_builder(thisptr.init(field, len(value)), parent)
  *         _from_list(builder, value)
  *     elif value_type is dict:             # <<<<<<<<<<<<<<
  *         builder = to_python_builder(thisptr.get(field), parent)
  *         builder.from_dict(value)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":893
+  /* "capnp/lib/capnp.pyx":926
  *         builder = to_python_builder(thisptr.get(field), parent)
  *         builder.from_dict(value)
  *     elif value is None:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  */
   __pyx_t_1 = (__pyx_v_value == Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":894
+    /* "capnp/lib/capnp.pyx":927
  *         builder.from_dict(value)
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)             # <<<<<<<<<<<<<<
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:
  */
     __pyx_v_temp =  ::capnp::DynamicValue::Reader( ::capnp::VOID);
 
-    /* "capnp/lib/capnp.pyx":895
+    /* "capnp/lib/capnp.pyx":928
  *     elif value is None:
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 895, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 928, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_v_temp));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 895, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 928, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":893
+    /* "capnp/lib/capnp.pyx":926
  *         builder = to_python_builder(thisptr.get(field), parent)
  *         builder.from_dict(value)
  *     elif value is None:             # <<<<<<<<<<<<<<
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":896
+  /* "capnp/lib/capnp.pyx":929
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":897
+    /* "capnp/lib/capnp.pyx":930
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 897, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder))))) __PYX_ERR(0, 897, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 930, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder))))) __PYX_ERR(0, 930, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 897, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 930, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":896
+    /* "capnp/lib/capnp.pyx":929
  *         temp = C_DynamicValue.Reader(VOID)
  *         thisptr.set(field, temp)
  *     elif value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":898
+  /* "capnp/lib/capnp.pyx":931
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
- *     elif value_type is _DynamicCapabilityClient:
+ *     elif value_type is _DynamicListBuilder:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":899
+    /* "capnp/lib/capnp.pyx":932
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))             # <<<<<<<<<<<<<<
- *     elif value_type is _DynamicCapabilityClient:
- *         thisptr.set(field, _extract_dynamic_client(value))
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 899, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 899, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 932, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 932, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_struct_reader(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 899, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 932, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":898
+    /* "capnp/lib/capnp.pyx":931
  *     elif value_type is _DynamicStructBuilder:
  *         thisptr.set(field, _extract_dynamic_struct_builder(value))
  *     elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
- *     elif value_type is _DynamicCapabilityClient:
+ *     elif value_type is _DynamicListBuilder:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":900
+  /* "capnp/lib/capnp.pyx":933
+ *     elif value_type is _DynamicStructReader:
+ *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ */
+  __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder);
+  __pyx_t_1 = (__pyx_t_2 != 0);
+  if (__pyx_t_1) {
+
+    /* "capnp/lib/capnp.pyx":934
+ *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))             # <<<<<<<<<<<<<<
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ */
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 934, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder))))) __PYX_ERR(0, 934, __pyx_L1_error)
+    try {
+      __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_value))));
+    } catch(...) {
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 934, __pyx_L1_error)
+    }
+
+    /* "capnp/lib/capnp.pyx":933
  *     elif value_type is _DynamicStructReader:
  *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+ *     elif value_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "capnp/lib/capnp.pyx":935
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ *     elif value_type is _DynamicCapabilityClient:
+ */
+  __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader);
+  __pyx_t_2 = (__pyx_t_1 != 0);
+  if (__pyx_t_2) {
+
+    /* "capnp/lib/capnp.pyx":936
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))             # <<<<<<<<<<<<<<
+ *     elif value_type is _DynamicCapabilityClient:
+ *         thisptr.set(field, _extract_dynamic_client(value))
+ */
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 936, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader))))) __PYX_ERR(0, 936, __pyx_L1_error)
+    try {
+      __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_list_reader(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_v_value))));
+    } catch(...) {
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 936, __pyx_L1_error)
+    }
+
+    /* "capnp/lib/capnp.pyx":935
+ *     elif value_type is _DynamicListBuilder:
+ *         thisptr.set(field, _extract_dynamic_list_builder(value))
+ *     elif value_type is _DynamicListReader:             # <<<<<<<<<<<<<<
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
+ *     elif value_type is _DynamicCapabilityClient:
+ */
+    goto __pyx_L3;
+  }
+
+  /* "capnp/lib/capnp.pyx":937
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":901
- *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+    /* "capnp/lib/capnp.pyx":938
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))             # <<<<<<<<<<<<<<
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 901, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient))))) __PYX_ERR(0, 901, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 938, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient))))) __PYX_ERR(0, 938, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_client(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 901, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 938, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":900
- *     elif value_type is _DynamicStructReader:
- *         thisptr.set(field, _extract_dynamic_struct_reader(value))
+    /* "capnp/lib/capnp.pyx":937
+ *     elif value_type is _DynamicListReader:
+ *         thisptr.set(field, _extract_dynamic_list_reader(value))
  *     elif value_type is _DynamicCapabilityClient:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":902
+  /* "capnp/lib/capnp.pyx":939
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  */
   __pyx_t_1 = __Pyx_TypeCheck(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityServer); 
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":903
+    /* "capnp/lib/capnp.pyx":940
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 903, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 940, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_server(__pyx_v_value)));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 903, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 940, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":902
+    /* "capnp/lib/capnp.pyx":939
  *     elif value_type is _DynamicCapabilityClient:
  *         thisptr.set(field, _extract_dynamic_client(value))
  *     elif isinstance(value, _DynamicCapabilityServer):             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":904
+  /* "capnp/lib/capnp.pyx":941
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":905
+    /* "capnp/lib/capnp.pyx":942
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 905, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum))))) __PYX_ERR(0, 905, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 942, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum))))) __PYX_ERR(0, 942, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_dynamic_enum(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 905, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 942, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":904
+    /* "capnp/lib/capnp.pyx":941
  *     elif isinstance(value, _DynamicCapabilityServer):
  *         thisptr.set(field, _extract_dynamic_server(value))
  *     elif value_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":906
+  /* "capnp/lib/capnp.pyx":943
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  */
   __pyx_t_1 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":907
+    /* "capnp/lib/capnp.pyx":944
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))             # <<<<<<<<<<<<<<
  *     elif value_type is _DynamicObjectBuilder:
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 907, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 907, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 944, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 944, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_any_pointer(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 907, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 944, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":906
+    /* "capnp/lib/capnp.pyx":943
  *     elif value_type is _DynamicEnum:
  *         thisptr.set(field, _extract_dynamic_enum(value))
  *     elif value_type is _DynamicObjectReader:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":908
+  /* "capnp/lib/capnp.pyx":945
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  */
   __pyx_t_2 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (likely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":909
+    /* "capnp/lib/capnp.pyx":946
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:
  *         thisptr.set(field, _extract_any_pointer_builder(value))             # <<<<<<<<<<<<<<
  *     else:
  *         raise KjException(
  */
-    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 909, __pyx_L1_error)
-    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder))))) __PYX_ERR(0, 909, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 946, __pyx_L1_error)
+    if (!(likely(((__pyx_v_value) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_value, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder))))) __PYX_ERR(0, 946, __pyx_L1_error)
     try {
       __pyx_v_thisptr.set(__pyx_t_7, (( ::capnp::DynamicValue::Reader)__pyx_f_5capnp_3lib_5capnp__extract_any_pointer_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_v_value))));
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 909, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 946, __pyx_L1_error)
     }
 
-    /* "capnp/lib/capnp.pyx":908
+    /* "capnp/lib/capnp.pyx":945
  *     elif value_type is _DynamicObjectReader:
  *         thisptr.set(field, _extract_any_pointer(value))
  *     elif value_type is _DynamicObjectBuilder:             # <<<<<<<<<<<<<<
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":911
+  /* "capnp/lib/capnp.pyx":948
  *         thisptr.set(field, _extract_any_pointer_builder(value))
  *     else:
  *         raise KjException(             # <<<<<<<<<<<<<<
  *             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
  *             .format(field, str(value), str(type(value))))
  */
   /*else*/ {
-    __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 911, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 948, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_12);
 
-    /* "capnp/lib/capnp.pyx":913
+    /* "capnp/lib/capnp.pyx":950
  *         raise KjException(
  *             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
  *             .format(field, str(value), str(type(value))))             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Tried_to_set_field_with_a_value, __pyx_n_s_format); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 913, __pyx_L1_error)
+    __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Tried_to_set_field_with_a_value, __pyx_n_s_format); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 950, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_14);
-    __pyx_t_15 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_value); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 913, __pyx_L1_error)
+    __pyx_t_15 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_value); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 950, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_15);
-    __pyx_t_16 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)Py_TYPE(__pyx_v_value))); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 913, __pyx_L1_error)
+    __pyx_t_16 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)Py_TYPE(__pyx_v_value))); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 950, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_16);
     __pyx_t_17 = NULL;
     __pyx_t_18 = 0;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_14))) {
       __pyx_t_17 = PyMethod_GET_SELF(__pyx_t_14);
       if (likely(__pyx_t_17)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_14);
@@ -23486,47 +24133,47 @@
         __Pyx_DECREF_SET(__pyx_t_14, function);
         __pyx_t_18 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_14)) {
       PyObject *__pyx_temp[4] = {__pyx_t_17, __pyx_v_field, __pyx_t_15, __pyx_t_16};
-      __pyx_t_13 = __Pyx_PyFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 913, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 950, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
       __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_14)) {
       PyObject *__pyx_temp[4] = {__pyx_t_17, __pyx_v_field, __pyx_t_15, __pyx_t_16};
-      __pyx_t_13 = __Pyx_PyCFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 913, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyCFunction_FastCall(__pyx_t_14, __pyx_temp+1-__pyx_t_18, 3+__pyx_t_18); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 950, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
       __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
     } else
     #endif
     {
-      __pyx_t_19 = PyTuple_New(3+__pyx_t_18); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 913, __pyx_L1_error)
+      __pyx_t_19 = PyTuple_New(3+__pyx_t_18); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 950, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_19);
       if (__pyx_t_17) {
         __Pyx_GIVEREF(__pyx_t_17); PyTuple_SET_ITEM(__pyx_t_19, 0, __pyx_t_17); __pyx_t_17 = NULL;
       }
       __Pyx_INCREF(__pyx_v_field);
       __Pyx_GIVEREF(__pyx_v_field);
       PyTuple_SET_ITEM(__pyx_t_19, 0+__pyx_t_18, __pyx_v_field);
       __Pyx_GIVEREF(__pyx_t_15);
       PyTuple_SET_ITEM(__pyx_t_19, 1+__pyx_t_18, __pyx_t_15);
       __Pyx_GIVEREF(__pyx_t_16);
       PyTuple_SET_ITEM(__pyx_t_19, 2+__pyx_t_18, __pyx_t_16);
       __pyx_t_15 = 0;
       __pyx_t_16 = 0;
-      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_19, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 913, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_14, __pyx_t_19, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 950, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_13);
       __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
     }
     __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
     __pyx_t_14 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_12))) {
       __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_12);
@@ -23536,26 +24183,26 @@
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_12, function);
       }
     }
     __pyx_t_4 = (__pyx_t_14) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_14, __pyx_t_13) : __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_t_13);
     __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
     __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 911, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 948, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
     __Pyx_Raise(__pyx_t_4, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __PYX_ERR(0, 911, __pyx_L1_error)
+    __PYX_ERR(0, 948, __pyx_L1_error)
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":867
- * 
+  /* "capnp/lib/capnp.pyx":900
  * 
+ * # TODO: Is this function used by anyone? Can it be removed?
  * cdef _setDynamicFieldStatic(DynamicStruct_Builder thisptr, field, value, parent):             # <<<<<<<<<<<<<<
  *     cdef C_DynamicValue.Reader temp
  *     value_type = type(value)
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
@@ -23575,15 +24222,15 @@
   __Pyx_XDECREF(__pyx_v_value_type);
   __Pyx_XDECREF(__pyx_v_builder);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":923
+/* "capnp/lib/capnp.pyx":960
  * 
  * 
  * cdef _to_dict(msg, bint verbose, bint ordered):             # <<<<<<<<<<<<<<
  *     msg_type = type(msg)
  *     if msg_type is _DynamicListBuilder:
  */
 
@@ -23618,247 +24265,247 @@
   PyObject *(*__pyx_t_16)(PyObject *);
   PyObject *__pyx_t_17 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_to_dict", 0);
 
-  /* "capnp/lib/capnp.pyx":924
+  /* "capnp/lib/capnp.pyx":961
  * 
  * cdef _to_dict(msg, bint verbose, bint ordered):
  *     msg_type = type(msg)             # <<<<<<<<<<<<<<
  *     if msg_type is _DynamicListBuilder:
  *         temp_list_b = msg
  */
   __Pyx_INCREF(((PyObject *)Py_TYPE(__pyx_v_msg)));
   __pyx_v_msg_type = ((PyTypeObject*)((PyObject *)Py_TYPE(__pyx_v_msg)));
 
-  /* "capnp/lib/capnp.pyx":925
+  /* "capnp/lib/capnp.pyx":962
  * cdef _to_dict(msg, bint verbose, bint ordered):
  *     msg_type = type(msg)
  *     if msg_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
  *         temp_list_b = msg
  *         return [_to_dict(temp_list_b._get(i), verbose, ordered) for i in range(len(msg))]
  */
   __pyx_t_1 = (__pyx_v_msg_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":926
+    /* "capnp/lib/capnp.pyx":963
  *     msg_type = type(msg)
  *     if msg_type is _DynamicListBuilder:
  *         temp_list_b = msg             # <<<<<<<<<<<<<<
  *         return [_to_dict(temp_list_b._get(i), verbose, ordered) for i in range(len(msg))]
  *     elif msg_type is _DynamicListReader:
  */
     __Pyx_INCREF(__pyx_v_msg);
     __pyx_v_temp_list_b = __pyx_v_msg;
 
-    /* "capnp/lib/capnp.pyx":927
+    /* "capnp/lib/capnp.pyx":964
  *     if msg_type is _DynamicListBuilder:
  *         temp_list_b = msg
  *         return [_to_dict(temp_list_b._get(i), verbose, ordered) for i in range(len(msg))]             # <<<<<<<<<<<<<<
  *     elif msg_type is _DynamicListReader:
  *         temp_list_r = msg
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 927, __pyx_L1_error)
+    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 964, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = PyObject_Length(__pyx_v_msg); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 927, __pyx_L1_error)
+    __pyx_t_4 = PyObject_Length(__pyx_v_msg); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 964, __pyx_L1_error)
     __pyx_t_5 = __pyx_t_4;
     for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
       __pyx_v_i = __pyx_t_6;
-      __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_list_b, __pyx_n_s_get); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 927, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_list_b, __pyx_n_s_get); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 964, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_9 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 927, __pyx_L1_error)
+      __pyx_t_9 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 964, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_8);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_8, function);
         }
       }
       __pyx_t_7 = (__pyx_t_10) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_10, __pyx_t_9) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_9);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 927, __pyx_L1_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 964, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __pyx_t_8 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_7, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 927, __pyx_L1_error)
+      __pyx_t_8 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_7, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 964, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_8))) __PYX_ERR(0, 927, __pyx_L1_error)
+      if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_8))) __PYX_ERR(0, 964, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     }
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":925
+    /* "capnp/lib/capnp.pyx":962
  * cdef _to_dict(msg, bint verbose, bint ordered):
  *     msg_type = type(msg)
  *     if msg_type is _DynamicListBuilder:             # <<<<<<<<<<<<<<
  *         temp_list_b = msg
  *         return [_to_dict(temp_list_b._get(i), verbose, ordered) for i in range(len(msg))]
  */
   }
 
-  /* "capnp/lib/capnp.pyx":928
+  /* "capnp/lib/capnp.pyx":965
  *         temp_list_b = msg
  *         return [_to_dict(temp_list_b._get(i), verbose, ordered) for i in range(len(msg))]
  *     elif msg_type is _DynamicListReader:             # <<<<<<<<<<<<<<
  *         temp_list_r = msg
  *         return [_to_dict(temp_list_r._get(i), verbose, ordered) for i in range(len(msg))]
  */
   __pyx_t_2 = (__pyx_v_msg_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader);
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":929
+    /* "capnp/lib/capnp.pyx":966
  *         return [_to_dict(temp_list_b._get(i), verbose, ordered) for i in range(len(msg))]
  *     elif msg_type is _DynamicListReader:
  *         temp_list_r = msg             # <<<<<<<<<<<<<<
  *         return [_to_dict(temp_list_r._get(i), verbose, ordered) for i in range(len(msg))]
  *     elif msg_type is _DynamicResizableListBuilder:
  */
     __Pyx_INCREF(__pyx_v_msg);
     __pyx_v_temp_list_r = __pyx_v_msg;
 
-    /* "capnp/lib/capnp.pyx":930
+    /* "capnp/lib/capnp.pyx":967
  *     elif msg_type is _DynamicListReader:
  *         temp_list_r = msg
  *         return [_to_dict(temp_list_r._get(i), verbose, ordered) for i in range(len(msg))]             # <<<<<<<<<<<<<<
  *     elif msg_type is _DynamicResizableListBuilder:
  *         temp_list_rb = msg
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 930, __pyx_L1_error)
+    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 967, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = PyObject_Length(__pyx_v_msg); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 930, __pyx_L1_error)
+    __pyx_t_4 = PyObject_Length(__pyx_v_msg); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 967, __pyx_L1_error)
     __pyx_t_5 = __pyx_t_4;
     for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
       __pyx_v_i = __pyx_t_6;
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_list_r, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 930, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_list_r, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 967, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_9 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 930, __pyx_L1_error)
+      __pyx_t_9 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 967, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_7);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_7, function);
         }
       }
       __pyx_t_8 = (__pyx_t_10) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_10, __pyx_t_9) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_9);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 930, __pyx_L1_error)
+      if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 967, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __pyx_t_7 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_8, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 930, __pyx_L1_error)
+      __pyx_t_7 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_8, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 967, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_7))) __PYX_ERR(0, 930, __pyx_L1_error)
+      if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_7))) __PYX_ERR(0, 967, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     }
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":928
+    /* "capnp/lib/capnp.pyx":965
  *         temp_list_b = msg
  *         return [_to_dict(temp_list_b._get(i), verbose, ordered) for i in range(len(msg))]
  *     elif msg_type is _DynamicListReader:             # <<<<<<<<<<<<<<
  *         temp_list_r = msg
  *         return [_to_dict(temp_list_r._get(i), verbose, ordered) for i in range(len(msg))]
  */
   }
 
-  /* "capnp/lib/capnp.pyx":931
+  /* "capnp/lib/capnp.pyx":968
  *         temp_list_r = msg
  *         return [_to_dict(temp_list_r._get(i), verbose, ordered) for i in range(len(msg))]
  *     elif msg_type is _DynamicResizableListBuilder:             # <<<<<<<<<<<<<<
  *         temp_list_rb = msg
  *         return [_to_dict(temp_list_rb._get(i), verbose, ordered) for i in range(len(msg))]
  */
   __pyx_t_1 = (__pyx_v_msg_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicResizableListBuilder);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":932
+    /* "capnp/lib/capnp.pyx":969
  *         return [_to_dict(temp_list_r._get(i), verbose, ordered) for i in range(len(msg))]
  *     elif msg_type is _DynamicResizableListBuilder:
  *         temp_list_rb = msg             # <<<<<<<<<<<<<<
  *         return [_to_dict(temp_list_rb._get(i), verbose, ordered) for i in range(len(msg))]
  * 
  */
     __Pyx_INCREF(__pyx_v_msg);
     __pyx_v_temp_list_rb = __pyx_v_msg;
 
-    /* "capnp/lib/capnp.pyx":933
+    /* "capnp/lib/capnp.pyx":970
  *     elif msg_type is _DynamicResizableListBuilder:
  *         temp_list_rb = msg
  *         return [_to_dict(temp_list_rb._get(i), verbose, ordered) for i in range(len(msg))]             # <<<<<<<<<<<<<<
  * 
  *     if msg_type is _DynamicStructBuilder or isinstance(msg, _Request):
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 933, __pyx_L1_error)
+    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 970, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = PyObject_Length(__pyx_v_msg); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 933, __pyx_L1_error)
+    __pyx_t_4 = PyObject_Length(__pyx_v_msg); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 970, __pyx_L1_error)
     __pyx_t_5 = __pyx_t_4;
     for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
       __pyx_v_i = __pyx_t_6;
-      __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_list_rb, __pyx_n_s_get); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 933, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_list_rb, __pyx_n_s_get); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 970, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_9 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 933, __pyx_L1_error)
+      __pyx_t_9 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 970, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_8);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_8, function);
         }
       }
       __pyx_t_7 = (__pyx_t_10) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_10, __pyx_t_9) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_9);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 933, __pyx_L1_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 970, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __pyx_t_8 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_7, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 933, __pyx_L1_error)
+      __pyx_t_8 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_7, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 970, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_8))) __PYX_ERR(0, 933, __pyx_L1_error)
+      if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_8))) __PYX_ERR(0, 970, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     }
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":931
+    /* "capnp/lib/capnp.pyx":968
  *         temp_list_r = msg
  *         return [_to_dict(temp_list_r._get(i), verbose, ordered) for i in range(len(msg))]
  *     elif msg_type is _DynamicResizableListBuilder:             # <<<<<<<<<<<<<<
  *         temp_list_rb = msg
  *         return [_to_dict(temp_list_rb._get(i), verbose, ordered) for i in range(len(msg))]
  */
   }
 
-  /* "capnp/lib/capnp.pyx":935
+  /* "capnp/lib/capnp.pyx":972
  *         return [_to_dict(temp_list_rb._get(i), verbose, ordered) for i in range(len(msg))]
  * 
  *     if msg_type is _DynamicStructBuilder or isinstance(msg, _Request):             # <<<<<<<<<<<<<<
  *         temp_msg_b = msg
  *         if ordered:
  */
   __pyx_t_1 = (__pyx_v_msg_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder);
@@ -23870,90 +24517,90 @@
   }
   __pyx_t_11 = __Pyx_TypeCheck(__pyx_v_msg, __pyx_ptype_5capnp_3lib_5capnp__Request); 
   __pyx_t_1 = (__pyx_t_11 != 0);
   __pyx_t_2 = __pyx_t_1;
   __pyx_L11_bool_binop_done:;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":936
+    /* "capnp/lib/capnp.pyx":973
  * 
  *     if msg_type is _DynamicStructBuilder or isinstance(msg, _Request):
  *         temp_msg_b = msg             # <<<<<<<<<<<<<<
  *         if ordered:
  *             ret = _collections.OrderedDict()
  */
     __Pyx_INCREF(__pyx_v_msg);
     __pyx_v_temp_msg_b = __pyx_v_msg;
 
-    /* "capnp/lib/capnp.pyx":937
+    /* "capnp/lib/capnp.pyx":974
  *     if msg_type is _DynamicStructBuilder or isinstance(msg, _Request):
  *         temp_msg_b = msg
  *         if ordered:             # <<<<<<<<<<<<<<
  *             ret = _collections.OrderedDict()
  *         else:
  */
     __pyx_t_2 = (__pyx_v_ordered != 0);
     if (__pyx_t_2) {
 
-      /* "capnp/lib/capnp.pyx":938
+      /* "capnp/lib/capnp.pyx":975
  *         temp_msg_b = msg
  *         if ordered:
  *             ret = _collections.OrderedDict()             # <<<<<<<<<<<<<<
  *         else:
  *             ret = {}
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_collections); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 938, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_collections); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 975, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_OrderedDict); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 938, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_OrderedDict); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 975, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       __pyx_t_8 = NULL;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_7))) {
         __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_7);
         if (likely(__pyx_t_8)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
           __Pyx_INCREF(__pyx_t_8);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_7, function);
         }
       }
       __pyx_t_3 = (__pyx_t_8) ? __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_8) : __Pyx_PyObject_CallNoArg(__pyx_t_7);
       __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 938, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 975, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __pyx_v_ret = __pyx_t_3;
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":937
+      /* "capnp/lib/capnp.pyx":974
  *     if msg_type is _DynamicStructBuilder or isinstance(msg, _Request):
  *         temp_msg_b = msg
  *         if ordered:             # <<<<<<<<<<<<<<
  *             ret = _collections.OrderedDict()
  *         else:
  */
       goto __pyx_L13;
     }
 
-    /* "capnp/lib/capnp.pyx":940
+    /* "capnp/lib/capnp.pyx":977
  *             ret = _collections.OrderedDict()
  *         else:
  *             ret = {}             # <<<<<<<<<<<<<<
  *         try:
  *             which = temp_msg_b.which()
  */
     /*else*/ {
-      __pyx_t_3 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 940, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 977, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __pyx_v_ret = __pyx_t_3;
       __pyx_t_3 = 0;
     }
     __pyx_L13:;
 
-    /* "capnp/lib/capnp.pyx":941
+    /* "capnp/lib/capnp.pyx":978
  *         else:
  *             ret = {}
  *         try:             # <<<<<<<<<<<<<<
  *             which = temp_msg_b.which()
  *             ret[which] = _to_dict(temp_msg_b._get(which), verbose, ordered)
  */
     {
@@ -23961,72 +24608,72 @@
       __Pyx_PyThreadState_assign
       __Pyx_ExceptionSave(&__pyx_t_12, &__pyx_t_13, &__pyx_t_14);
       __Pyx_XGOTREF(__pyx_t_12);
       __Pyx_XGOTREF(__pyx_t_13);
       __Pyx_XGOTREF(__pyx_t_14);
       /*try:*/ {
 
-        /* "capnp/lib/capnp.pyx":942
+        /* "capnp/lib/capnp.pyx":979
  *             ret = {}
  *         try:
  *             which = temp_msg_b.which()             # <<<<<<<<<<<<<<
  *             ret[which] = _to_dict(temp_msg_b._get(which), verbose, ordered)
  *         except KjException:
  */
-        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_which); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 942, __pyx_L14_error)
+        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_which); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 979, __pyx_L14_error)
         __Pyx_GOTREF(__pyx_t_7);
         __pyx_t_8 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
           __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_7);
           if (likely(__pyx_t_8)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
             __Pyx_INCREF(__pyx_t_8);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_7, function);
           }
         }
         __pyx_t_3 = (__pyx_t_8) ? __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_8) : __Pyx_PyObject_CallNoArg(__pyx_t_7);
         __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 942, __pyx_L14_error)
+        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 979, __pyx_L14_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
         __pyx_v_which = __pyx_t_3;
         __pyx_t_3 = 0;
 
-        /* "capnp/lib/capnp.pyx":943
+        /* "capnp/lib/capnp.pyx":980
  *         try:
  *             which = temp_msg_b.which()
  *             ret[which] = _to_dict(temp_msg_b._get(which), verbose, ordered)             # <<<<<<<<<<<<<<
  *         except KjException:
  *             pass
  */
-        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 943, __pyx_L14_error)
+        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 980, __pyx_L14_error)
         __Pyx_GOTREF(__pyx_t_7);
         __pyx_t_8 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
           __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_7);
           if (likely(__pyx_t_8)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
             __Pyx_INCREF(__pyx_t_8);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_7, function);
           }
         }
         __pyx_t_3 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_8, __pyx_v_which) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_which);
         __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 943, __pyx_L14_error)
+        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 980, __pyx_L14_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-        __pyx_t_7 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_3, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 943, __pyx_L14_error)
+        __pyx_t_7 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_3, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 980, __pyx_L14_error)
         __Pyx_GOTREF(__pyx_t_7);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        if (unlikely(PyObject_SetItem(__pyx_v_ret, __pyx_v_which, __pyx_t_7) < 0)) __PYX_ERR(0, 943, __pyx_L14_error)
+        if (unlikely(PyObject_SetItem(__pyx_v_ret, __pyx_v_which, __pyx_t_7) < 0)) __PYX_ERR(0, 980, __pyx_L14_error)
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-        /* "capnp/lib/capnp.pyx":941
+        /* "capnp/lib/capnp.pyx":978
  *         else:
  *             ret = {}
  *         try:             # <<<<<<<<<<<<<<
  *             which = temp_msg_b.which()
  *             ret[which] = _to_dict(temp_msg_b._get(which), verbose, ordered)
  */
       }
@@ -24037,36 +24684,36 @@
       __pyx_L14_error:;
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
       __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
       __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
       __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-      /* "capnp/lib/capnp.pyx":944
+      /* "capnp/lib/capnp.pyx":981
  *             which = temp_msg_b.which()
  *             ret[which] = _to_dict(temp_msg_b._get(which), verbose, ordered)
  *         except KjException:             # <<<<<<<<<<<<<<
  *             pass
  * 
  */
       __Pyx_ErrFetch(&__pyx_t_7, &__pyx_t_3, &__pyx_t_8);
-      __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_KjException); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 944, __pyx_L16_except_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_KjException); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 981, __pyx_L16_except_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_15 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_7, __pyx_t_9);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       __Pyx_ErrRestore(__pyx_t_7, __pyx_t_3, __pyx_t_8);
       __pyx_t_7 = 0; __pyx_t_3 = 0; __pyx_t_8 = 0;
       if (__pyx_t_15) {
         __Pyx_ErrRestore(0,0,0);
         goto __pyx_L15_exception_handled;
       }
       goto __pyx_L16_except_error;
       __pyx_L16_except_error:;
 
-      /* "capnp/lib/capnp.pyx":941
+      /* "capnp/lib/capnp.pyx":978
  *         else:
  *             ret = {}
  *         try:             # <<<<<<<<<<<<<<
  *             which = temp_msg_b.which()
  *             ret[which] = _to_dict(temp_msg_b._get(which), verbose, ordered)
  */
       __Pyx_XGIVEREF(__pyx_t_12);
@@ -24078,176 +24725,176 @@
       __Pyx_XGIVEREF(__pyx_t_12);
       __Pyx_XGIVEREF(__pyx_t_13);
       __Pyx_XGIVEREF(__pyx_t_14);
       __Pyx_ExceptionReset(__pyx_t_12, __pyx_t_13, __pyx_t_14);
       __pyx_L19_try_end:;
     }
 
-    /* "capnp/lib/capnp.pyx":947
+    /* "capnp/lib/capnp.pyx":984
  *             pass
  * 
  *         for field in temp_msg_b.schema.non_union_fields:             # <<<<<<<<<<<<<<
  *             if verbose or temp_msg_b._has(field):
  *                 ret[field] = _to_dict(temp_msg_b._get(field), verbose, ordered)
  */
-    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_schema); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 947, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_schema); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 984, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_non_union_fields); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 947, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_non_union_fields); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 984, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     if (likely(PyList_CheckExact(__pyx_t_3)) || PyTuple_CheckExact(__pyx_t_3)) {
       __pyx_t_8 = __pyx_t_3; __Pyx_INCREF(__pyx_t_8); __pyx_t_4 = 0;
       __pyx_t_16 = NULL;
     } else {
-      __pyx_t_4 = -1; __pyx_t_8 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 947, __pyx_L1_error)
+      __pyx_t_4 = -1; __pyx_t_8 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 984, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_16 = Py_TYPE(__pyx_t_8)->tp_iternext; if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 947, __pyx_L1_error)
+      __pyx_t_16 = Py_TYPE(__pyx_t_8)->tp_iternext; if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 984, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     for (;;) {
       if (likely(!__pyx_t_16)) {
         if (likely(PyList_CheckExact(__pyx_t_8))) {
           if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_8)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_3 = PyList_GET_ITEM(__pyx_t_8, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 947, __pyx_L1_error)
+          __pyx_t_3 = PyList_GET_ITEM(__pyx_t_8, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 984, __pyx_L1_error)
           #else
-          __pyx_t_3 = PySequence_ITEM(__pyx_t_8, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 947, __pyx_L1_error)
+          __pyx_t_3 = PySequence_ITEM(__pyx_t_8, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 984, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_3);
           #endif
         } else {
           if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_8)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_8, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 947, __pyx_L1_error)
+          __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_8, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 984, __pyx_L1_error)
           #else
-          __pyx_t_3 = PySequence_ITEM(__pyx_t_8, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 947, __pyx_L1_error)
+          __pyx_t_3 = PySequence_ITEM(__pyx_t_8, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 984, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_3);
           #endif
         }
       } else {
         __pyx_t_3 = __pyx_t_16(__pyx_t_8);
         if (unlikely(!__pyx_t_3)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(0, 947, __pyx_L1_error)
+            else __PYX_ERR(0, 984, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_3);
       }
       __Pyx_XDECREF_SET(__pyx_v_field, __pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":948
+      /* "capnp/lib/capnp.pyx":985
  * 
  *         for field in temp_msg_b.schema.non_union_fields:
  *             if verbose or temp_msg_b._has(field):             # <<<<<<<<<<<<<<
  *                 ret[field] = _to_dict(temp_msg_b._get(field), verbose, ordered)
  * 
  */
       __pyx_t_1 = (__pyx_v_verbose != 0);
       if (!__pyx_t_1) {
       } else {
         __pyx_t_2 = __pyx_t_1;
         goto __pyx_L23_bool_binop_done;
       }
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_has); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 948, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_has); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 985, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __pyx_t_9 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
         __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_7);
         if (likely(__pyx_t_9)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
           __Pyx_INCREF(__pyx_t_9);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_7, function);
         }
       }
       __pyx_t_3 = (__pyx_t_9) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_9, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_field);
       __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 948, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 985, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 948, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 985, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __pyx_t_2 = __pyx_t_1;
       __pyx_L23_bool_binop_done:;
       if (__pyx_t_2) {
 
-        /* "capnp/lib/capnp.pyx":949
+        /* "capnp/lib/capnp.pyx":986
  *         for field in temp_msg_b.schema.non_union_fields:
  *             if verbose or temp_msg_b._has(field):
  *                 ret[field] = _to_dict(temp_msg_b._get(field), verbose, ordered)             # <<<<<<<<<<<<<<
  * 
  *         return ret
  */
-        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 949, __pyx_L1_error)
+        __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_b, __pyx_n_s_get); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 986, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_7);
         __pyx_t_9 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
           __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_7);
           if (likely(__pyx_t_9)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
             __Pyx_INCREF(__pyx_t_9);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_7, function);
           }
         }
         __pyx_t_3 = (__pyx_t_9) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_9, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 949, __pyx_L1_error)
+        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 986, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-        __pyx_t_7 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_3, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 949, __pyx_L1_error)
+        __pyx_t_7 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_3, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 986, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_7);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        if (unlikely(PyObject_SetItem(__pyx_v_ret, __pyx_v_field, __pyx_t_7) < 0)) __PYX_ERR(0, 949, __pyx_L1_error)
+        if (unlikely(PyObject_SetItem(__pyx_v_ret, __pyx_v_field, __pyx_t_7) < 0)) __PYX_ERR(0, 986, __pyx_L1_error)
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-        /* "capnp/lib/capnp.pyx":948
+        /* "capnp/lib/capnp.pyx":985
  * 
  *         for field in temp_msg_b.schema.non_union_fields:
  *             if verbose or temp_msg_b._has(field):             # <<<<<<<<<<<<<<
  *                 ret[field] = _to_dict(temp_msg_b._get(field), verbose, ordered)
  * 
  */
       }
 
-      /* "capnp/lib/capnp.pyx":947
+      /* "capnp/lib/capnp.pyx":984
  *             pass
  * 
  *         for field in temp_msg_b.schema.non_union_fields:             # <<<<<<<<<<<<<<
  *             if verbose or temp_msg_b._has(field):
  *                 ret[field] = _to_dict(temp_msg_b._get(field), verbose, ordered)
  */
     }
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-    /* "capnp/lib/capnp.pyx":951
+    /* "capnp/lib/capnp.pyx":988
  *                 ret[field] = _to_dict(temp_msg_b._get(field), verbose, ordered)
  * 
  *         return ret             # <<<<<<<<<<<<<<
  *     elif msg_type is _DynamicStructReader or isinstance(msg, _Response):
  *         temp_msg_r = msg
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_ret);
     __pyx_r = __pyx_v_ret;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":935
+    /* "capnp/lib/capnp.pyx":972
  *         return [_to_dict(temp_list_rb._get(i), verbose, ordered) for i in range(len(msg))]
  * 
  *     if msg_type is _DynamicStructBuilder or isinstance(msg, _Request):             # <<<<<<<<<<<<<<
  *         temp_msg_b = msg
  *         if ordered:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":952
+  /* "capnp/lib/capnp.pyx":989
  * 
  *         return ret
  *     elif msg_type is _DynamicStructReader or isinstance(msg, _Response):             # <<<<<<<<<<<<<<
  *         temp_msg_r = msg
  *         if ordered:
  */
   __pyx_t_1 = (__pyx_v_msg_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader);
@@ -24259,90 +24906,90 @@
   }
   __pyx_t_11 = __Pyx_TypeCheck(__pyx_v_msg, __pyx_ptype_5capnp_3lib_5capnp__Response); 
   __pyx_t_1 = (__pyx_t_11 != 0);
   __pyx_t_2 = __pyx_t_1;
   __pyx_L25_bool_binop_done:;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":953
+    /* "capnp/lib/capnp.pyx":990
  *         return ret
  *     elif msg_type is _DynamicStructReader or isinstance(msg, _Response):
  *         temp_msg_r = msg             # <<<<<<<<<<<<<<
  *         if ordered:
  *             ret = _collections.OrderedDict()
  */
     __Pyx_INCREF(__pyx_v_msg);
     __pyx_v_temp_msg_r = __pyx_v_msg;
 
-    /* "capnp/lib/capnp.pyx":954
+    /* "capnp/lib/capnp.pyx":991
  *     elif msg_type is _DynamicStructReader or isinstance(msg, _Response):
  *         temp_msg_r = msg
  *         if ordered:             # <<<<<<<<<<<<<<
  *             ret = _collections.OrderedDict()
  *         else:
  */
     __pyx_t_2 = (__pyx_v_ordered != 0);
     if (__pyx_t_2) {
 
-      /* "capnp/lib/capnp.pyx":955
+      /* "capnp/lib/capnp.pyx":992
  *         temp_msg_r = msg
  *         if ordered:
  *             ret = _collections.OrderedDict()             # <<<<<<<<<<<<<<
  *         else:
  *             ret = {}
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_collections); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 955, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_collections); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 992, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_OrderedDict); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 955, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_OrderedDict); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 992, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __pyx_t_7 = NULL;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
         __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_3);
         if (likely(__pyx_t_7)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
           __Pyx_INCREF(__pyx_t_7);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_3, function);
         }
       }
       __pyx_t_8 = (__pyx_t_7) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_7) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
       __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-      if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 955, __pyx_L1_error)
+      if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 992, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __pyx_v_ret = __pyx_t_8;
       __pyx_t_8 = 0;
 
-      /* "capnp/lib/capnp.pyx":954
+      /* "capnp/lib/capnp.pyx":991
  *     elif msg_type is _DynamicStructReader or isinstance(msg, _Response):
  *         temp_msg_r = msg
  *         if ordered:             # <<<<<<<<<<<<<<
  *             ret = _collections.OrderedDict()
  *         else:
  */
       goto __pyx_L27;
     }
 
-    /* "capnp/lib/capnp.pyx":957
+    /* "capnp/lib/capnp.pyx":994
  *             ret = _collections.OrderedDict()
  *         else:
  *             ret = {}             # <<<<<<<<<<<<<<
  *         try:
  *             which = temp_msg_r.which()
  */
     /*else*/ {
-      __pyx_t_8 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 957, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 994, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __pyx_v_ret = __pyx_t_8;
       __pyx_t_8 = 0;
     }
     __pyx_L27:;
 
-    /* "capnp/lib/capnp.pyx":958
+    /* "capnp/lib/capnp.pyx":995
  *         else:
  *             ret = {}
  *         try:             # <<<<<<<<<<<<<<
  *             which = temp_msg_r.which()
  *             ret[which] = _to_dict(temp_msg_r._get(which), verbose, ordered)
  */
     {
@@ -24350,72 +24997,72 @@
       __Pyx_PyThreadState_assign
       __Pyx_ExceptionSave(&__pyx_t_14, &__pyx_t_13, &__pyx_t_12);
       __Pyx_XGOTREF(__pyx_t_14);
       __Pyx_XGOTREF(__pyx_t_13);
       __Pyx_XGOTREF(__pyx_t_12);
       /*try:*/ {
 
-        /* "capnp/lib/capnp.pyx":959
+        /* "capnp/lib/capnp.pyx":996
  *             ret = {}
  *         try:
  *             which = temp_msg_r.which()             # <<<<<<<<<<<<<<
  *             ret[which] = _to_dict(temp_msg_r._get(which), verbose, ordered)
  *         except KjException:
  */
-        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_which); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 959, __pyx_L28_error)
+        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_which); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 996, __pyx_L28_error)
         __Pyx_GOTREF(__pyx_t_3);
         __pyx_t_7 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_3);
           if (likely(__pyx_t_7)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
             __Pyx_INCREF(__pyx_t_7);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_8 = (__pyx_t_7) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_7) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-        if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 959, __pyx_L28_error)
+        if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 996, __pyx_L28_error)
         __Pyx_GOTREF(__pyx_t_8);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_v_which = __pyx_t_8;
         __pyx_t_8 = 0;
 
-        /* "capnp/lib/capnp.pyx":960
+        /* "capnp/lib/capnp.pyx":997
  *         try:
  *             which = temp_msg_r.which()
  *             ret[which] = _to_dict(temp_msg_r._get(which), verbose, ordered)             # <<<<<<<<<<<<<<
  *         except KjException:
  *             pass
  */
-        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 960, __pyx_L28_error)
+        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 997, __pyx_L28_error)
         __Pyx_GOTREF(__pyx_t_3);
         __pyx_t_7 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_3);
           if (likely(__pyx_t_7)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
             __Pyx_INCREF(__pyx_t_7);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_8 = (__pyx_t_7) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_7, __pyx_v_which) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_which);
         __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-        if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 960, __pyx_L28_error)
+        if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 997, __pyx_L28_error)
         __Pyx_GOTREF(__pyx_t_8);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_8, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 960, __pyx_L28_error)
+        __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_8, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 997, __pyx_L28_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-        if (unlikely(PyObject_SetItem(__pyx_v_ret, __pyx_v_which, __pyx_t_3) < 0)) __PYX_ERR(0, 960, __pyx_L28_error)
+        if (unlikely(PyObject_SetItem(__pyx_v_ret, __pyx_v_which, __pyx_t_3) < 0)) __PYX_ERR(0, 997, __pyx_L28_error)
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-        /* "capnp/lib/capnp.pyx":958
+        /* "capnp/lib/capnp.pyx":995
  *         else:
  *             ret = {}
  *         try:             # <<<<<<<<<<<<<<
  *             which = temp_msg_r.which()
  *             ret[which] = _to_dict(temp_msg_r._get(which), verbose, ordered)
  */
       }
@@ -24426,36 +25073,36 @@
       __pyx_L28_error:;
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
       __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
       __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
       __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-      /* "capnp/lib/capnp.pyx":961
+      /* "capnp/lib/capnp.pyx":998
  *             which = temp_msg_r.which()
  *             ret[which] = _to_dict(temp_msg_r._get(which), verbose, ordered)
  *         except KjException:             # <<<<<<<<<<<<<<
  *             pass
  * 
  */
       __Pyx_ErrFetch(&__pyx_t_3, &__pyx_t_8, &__pyx_t_7);
-      __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_KjException); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 961, __pyx_L30_except_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_KjException); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 998, __pyx_L30_except_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_15 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_3, __pyx_t_9);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       __Pyx_ErrRestore(__pyx_t_3, __pyx_t_8, __pyx_t_7);
       __pyx_t_3 = 0; __pyx_t_8 = 0; __pyx_t_7 = 0;
       if (__pyx_t_15) {
         __Pyx_ErrRestore(0,0,0);
         goto __pyx_L29_exception_handled;
       }
       goto __pyx_L30_except_error;
       __pyx_L30_except_error:;
 
-      /* "capnp/lib/capnp.pyx":958
+      /* "capnp/lib/capnp.pyx":995
  *         else:
  *             ret = {}
  *         try:             # <<<<<<<<<<<<<<
  *             which = temp_msg_r.which()
  *             ret[which] = _to_dict(temp_msg_r._get(which), verbose, ordered)
  */
       __Pyx_XGIVEREF(__pyx_t_14);
@@ -24467,176 +25114,176 @@
       __Pyx_XGIVEREF(__pyx_t_14);
       __Pyx_XGIVEREF(__pyx_t_13);
       __Pyx_XGIVEREF(__pyx_t_12);
       __Pyx_ExceptionReset(__pyx_t_14, __pyx_t_13, __pyx_t_12);
       __pyx_L33_try_end:;
     }
 
-    /* "capnp/lib/capnp.pyx":964
+    /* "capnp/lib/capnp.pyx":1001
  *             pass
  * 
  *         for field in temp_msg_r.schema.non_union_fields:             # <<<<<<<<<<<<<<
  *             if verbose or temp_msg_r._has(field):
  *                 ret[field] = _to_dict(temp_msg_r._get(field), verbose, ordered)
  */
-    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_schema); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 964, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_schema); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1001, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_non_union_fields); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 964, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_non_union_fields); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1001, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     if (likely(PyList_CheckExact(__pyx_t_8)) || PyTuple_CheckExact(__pyx_t_8)) {
       __pyx_t_7 = __pyx_t_8; __Pyx_INCREF(__pyx_t_7); __pyx_t_4 = 0;
       __pyx_t_16 = NULL;
     } else {
-      __pyx_t_4 = -1; __pyx_t_7 = PyObject_GetIter(__pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 964, __pyx_L1_error)
+      __pyx_t_4 = -1; __pyx_t_7 = PyObject_GetIter(__pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1001, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_16 = Py_TYPE(__pyx_t_7)->tp_iternext; if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 964, __pyx_L1_error)
+      __pyx_t_16 = Py_TYPE(__pyx_t_7)->tp_iternext; if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 1001, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     for (;;) {
       if (likely(!__pyx_t_16)) {
         if (likely(PyList_CheckExact(__pyx_t_7))) {
           if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_7)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_8 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_4); __Pyx_INCREF(__pyx_t_8); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 964, __pyx_L1_error)
+          __pyx_t_8 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_4); __Pyx_INCREF(__pyx_t_8); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1001, __pyx_L1_error)
           #else
-          __pyx_t_8 = PySequence_ITEM(__pyx_t_7, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 964, __pyx_L1_error)
+          __pyx_t_8 = PySequence_ITEM(__pyx_t_7, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1001, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_8);
           #endif
         } else {
           if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_7)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_8 = PyTuple_GET_ITEM(__pyx_t_7, __pyx_t_4); __Pyx_INCREF(__pyx_t_8); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 964, __pyx_L1_error)
+          __pyx_t_8 = PyTuple_GET_ITEM(__pyx_t_7, __pyx_t_4); __Pyx_INCREF(__pyx_t_8); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 1001, __pyx_L1_error)
           #else
-          __pyx_t_8 = PySequence_ITEM(__pyx_t_7, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 964, __pyx_L1_error)
+          __pyx_t_8 = PySequence_ITEM(__pyx_t_7, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1001, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_8);
           #endif
         }
       } else {
         __pyx_t_8 = __pyx_t_16(__pyx_t_7);
         if (unlikely(!__pyx_t_8)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(0, 964, __pyx_L1_error)
+            else __PYX_ERR(0, 1001, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_8);
       }
       __Pyx_XDECREF_SET(__pyx_v_field, __pyx_t_8);
       __pyx_t_8 = 0;
 
-      /* "capnp/lib/capnp.pyx":965
+      /* "capnp/lib/capnp.pyx":1002
  * 
  *         for field in temp_msg_r.schema.non_union_fields:
  *             if verbose or temp_msg_r._has(field):             # <<<<<<<<<<<<<<
  *                 ret[field] = _to_dict(temp_msg_r._get(field), verbose, ordered)
  * 
  */
       __pyx_t_1 = (__pyx_v_verbose != 0);
       if (!__pyx_t_1) {
       } else {
         __pyx_t_2 = __pyx_t_1;
         goto __pyx_L37_bool_binop_done;
       }
-      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_has); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 965, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_has); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1002, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __pyx_t_9 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
         __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_3);
         if (likely(__pyx_t_9)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
           __Pyx_INCREF(__pyx_t_9);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_3, function);
         }
       }
       __pyx_t_8 = (__pyx_t_9) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_9, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
       __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-      if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 965, __pyx_L1_error)
+      if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1002, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 965, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_8); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 1002, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       __pyx_t_2 = __pyx_t_1;
       __pyx_L37_bool_binop_done:;
       if (__pyx_t_2) {
 
-        /* "capnp/lib/capnp.pyx":966
+        /* "capnp/lib/capnp.pyx":1003
  *         for field in temp_msg_r.schema.non_union_fields:
  *             if verbose or temp_msg_r._has(field):
  *                 ret[field] = _to_dict(temp_msg_r._get(field), verbose, ordered)             # <<<<<<<<<<<<<<
  * 
  *         return ret
  */
-        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 966, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_temp_msg_r, __pyx_n_s_get); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1003, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __pyx_t_9 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_3);
           if (likely(__pyx_t_9)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
             __Pyx_INCREF(__pyx_t_9);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_8 = (__pyx_t_9) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_9, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-        if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 966, __pyx_L1_error)
+        if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1003, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_8);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_8, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 966, __pyx_L1_error)
+        __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(__pyx_t_8, __pyx_v_verbose, __pyx_v_ordered); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1003, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-        if (unlikely(PyObject_SetItem(__pyx_v_ret, __pyx_v_field, __pyx_t_3) < 0)) __PYX_ERR(0, 966, __pyx_L1_error)
+        if (unlikely(PyObject_SetItem(__pyx_v_ret, __pyx_v_field, __pyx_t_3) < 0)) __PYX_ERR(0, 1003, __pyx_L1_error)
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-        /* "capnp/lib/capnp.pyx":965
+        /* "capnp/lib/capnp.pyx":1002
  * 
  *         for field in temp_msg_r.schema.non_union_fields:
  *             if verbose or temp_msg_r._has(field):             # <<<<<<<<<<<<<<
  *                 ret[field] = _to_dict(temp_msg_r._get(field), verbose, ordered)
  * 
  */
       }
 
-      /* "capnp/lib/capnp.pyx":964
+      /* "capnp/lib/capnp.pyx":1001
  *             pass
  * 
  *         for field in temp_msg_r.schema.non_union_fields:             # <<<<<<<<<<<<<<
  *             if verbose or temp_msg_r._has(field):
  *                 ret[field] = _to_dict(temp_msg_r._get(field), verbose, ordered)
  */
     }
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-    /* "capnp/lib/capnp.pyx":968
+    /* "capnp/lib/capnp.pyx":1005
  *                 ret[field] = _to_dict(temp_msg_r._get(field), verbose, ordered)
  * 
  *         return ret             # <<<<<<<<<<<<<<
  * 
  *     if isinstance(msg, (_DynamicStructBuilder, _DynamicStructReader)):
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_ret);
     __pyx_r = __pyx_v_ret;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":952
+    /* "capnp/lib/capnp.pyx":989
  * 
  *         return ret
  *     elif msg_type is _DynamicStructReader or isinstance(msg, _Response):             # <<<<<<<<<<<<<<
  *         temp_msg_r = msg
  *         if ordered:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":970
+  /* "capnp/lib/capnp.pyx":1007
  *         return ret
  * 
  *     if isinstance(msg, (_DynamicStructBuilder, _DynamicStructReader)):             # <<<<<<<<<<<<<<
  *         return msg.to_dict(verbose, ordered)
  * 
  */
   __pyx_t_1 = __Pyx_TypeCheck(__pyx_v_msg, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder); 
@@ -24649,27 +25296,27 @@
   __pyx_t_11 = __Pyx_TypeCheck(__pyx_v_msg, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader); 
   __pyx_t_1 = (__pyx_t_11 != 0);
   __pyx_t_2 = __pyx_t_1;
   __pyx_L40_bool_binop_done:;
   __pyx_t_1 = (__pyx_t_2 != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":971
+    /* "capnp/lib/capnp.pyx":1008
  * 
  *     if isinstance(msg, (_DynamicStructBuilder, _DynamicStructReader)):
  *         return msg.to_dict(verbose, ordered)             # <<<<<<<<<<<<<<
  * 
  *     if msg_type is _DynamicEnum:
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_msg, __pyx_n_s_to_dict); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 971, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_msg, __pyx_n_s_to_dict); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1008, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_8 = __Pyx_PyBool_FromLong(__pyx_v_verbose); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 971, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyBool_FromLong(__pyx_v_verbose); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1008, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
-    __pyx_t_9 = __Pyx_PyBool_FromLong(__pyx_v_ordered); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 971, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyBool_FromLong(__pyx_v_ordered); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1008, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
     __pyx_t_10 = NULL;
     __pyx_t_15 = 0;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_10)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
@@ -24678,108 +25325,108 @@
         __Pyx_DECREF_SET(__pyx_t_3, function);
         __pyx_t_15 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_3)) {
       PyObject *__pyx_temp[3] = {__pyx_t_10, __pyx_t_8, __pyx_t_9};
-      __pyx_t_7 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_15, 2+__pyx_t_15); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 971, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_15, 2+__pyx_t_15); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1008, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
       PyObject *__pyx_temp[3] = {__pyx_t_10, __pyx_t_8, __pyx_t_9};
-      __pyx_t_7 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_15, 2+__pyx_t_15); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 971, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_15, 2+__pyx_t_15); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1008, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     } else
     #endif
     {
-      __pyx_t_17 = PyTuple_New(2+__pyx_t_15); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 971, __pyx_L1_error)
+      __pyx_t_17 = PyTuple_New(2+__pyx_t_15); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 1008, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_17);
       if (__pyx_t_10) {
         __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_17, 0, __pyx_t_10); __pyx_t_10 = NULL;
       }
       __Pyx_GIVEREF(__pyx_t_8);
       PyTuple_SET_ITEM(__pyx_t_17, 0+__pyx_t_15, __pyx_t_8);
       __Pyx_GIVEREF(__pyx_t_9);
       PyTuple_SET_ITEM(__pyx_t_17, 1+__pyx_t_15, __pyx_t_9);
       __pyx_t_8 = 0;
       __pyx_t_9 = 0;
-      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_17, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 971, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_17, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1008, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
     }
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_r = __pyx_t_7;
     __pyx_t_7 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":970
+    /* "capnp/lib/capnp.pyx":1007
  *         return ret
  * 
  *     if isinstance(msg, (_DynamicStructBuilder, _DynamicStructReader)):             # <<<<<<<<<<<<<<
  *         return msg.to_dict(verbose, ordered)
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":973
+  /* "capnp/lib/capnp.pyx":1010
  *         return msg.to_dict(verbose, ordered)
  * 
  *     if msg_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         return str(msg)
  * 
  */
   __pyx_t_1 = (__pyx_v_msg_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":974
+    /* "capnp/lib/capnp.pyx":1011
  * 
  *     if msg_type is _DynamicEnum:
  *         return str(msg)             # <<<<<<<<<<<<<<
  * 
  *     return msg
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_7 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_msg); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 974, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_msg); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1011, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_r = __pyx_t_7;
     __pyx_t_7 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":973
+    /* "capnp/lib/capnp.pyx":1010
  *         return msg.to_dict(verbose, ordered)
  * 
  *     if msg_type is _DynamicEnum:             # <<<<<<<<<<<<<<
  *         return str(msg)
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":976
+  /* "capnp/lib/capnp.pyx":1013
  *         return str(msg)
  * 
  *     return msg             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_msg);
   __pyx_r = __pyx_v_msg;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":923
+  /* "capnp/lib/capnp.pyx":960
  * 
  * 
  * cdef _to_dict(msg, bint verbose, bint ordered):             # <<<<<<<<<<<<<<
  *     msg_type = type(msg)
  *     if msg_type is _DynamicListBuilder:
  */
 
@@ -24804,15 +25451,15 @@
   __Pyx_XDECREF(__pyx_v_field);
   __Pyx_XDECREF(__pyx_v_temp_msg_r);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":979
+/* "capnp/lib/capnp.pyx":1016
  * 
  * 
  * cdef _from_list(_DynamicListBuilder msg, list d):             # <<<<<<<<<<<<<<
  *     for i, x in enumerate(d):
  *         msg._set(i, x)
  */
 
@@ -24827,61 +25474,61 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_from_list", 0);
 
-  /* "capnp/lib/capnp.pyx":980
+  /* "capnp/lib/capnp.pyx":1017
  * 
  * cdef _from_list(_DynamicListBuilder msg, list d):
  *     for i, x in enumerate(d):             # <<<<<<<<<<<<<<
  *         msg._set(i, x)
  * 
  */
   __pyx_t_1 = 0;
   __pyx_t_2 = __pyx_v_d; __Pyx_INCREF(__pyx_t_2); __pyx_t_3 = 0;
   for (;;) {
     if (__pyx_t_3 >= PyList_GET_SIZE(__pyx_t_2)) break;
     #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-    __pyx_t_4 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_4); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 980, __pyx_L1_error)
+    __pyx_t_4 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_4); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 1017, __pyx_L1_error)
     #else
-    __pyx_t_4 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 980, __pyx_L1_error)
+    __pyx_t_4 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1017, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     #endif
     __Pyx_XDECREF_SET(__pyx_v_x, __pyx_t_4);
     __pyx_t_4 = 0;
     __pyx_v_i = __pyx_t_1;
     __pyx_t_1 = (__pyx_t_1 + 1);
 
-    /* "capnp/lib/capnp.pyx":981
+    /* "capnp/lib/capnp.pyx":1018
  * cdef _from_list(_DynamicListBuilder msg, list d):
  *     for i, x in enumerate(d):
  *         msg._set(i, x)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_4 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 981, __pyx_L1_error)
+    __pyx_t_4 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1018, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_msg->__pyx_vtab)->_set(__pyx_v_msg, __pyx_t_4, __pyx_v_x, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 981, __pyx_L1_error)
+    __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_msg->__pyx_vtab)->_set(__pyx_v_msg, __pyx_t_4, __pyx_v_x, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1018, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":980
+    /* "capnp/lib/capnp.pyx":1017
  * 
  * cdef _from_list(_DynamicListBuilder msg, list d):
  *     for i, x in enumerate(d):             # <<<<<<<<<<<<<<
  *         msg._set(i, x)
  * 
  */
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":979
+  /* "capnp/lib/capnp.pyx":1016
  * 
  * 
  * cdef _from_list(_DynamicListBuilder msg, list d):             # <<<<<<<<<<<<<<
  *     for i, x in enumerate(d):
  *         msg._set(i, x)
  */
 
@@ -24897,15 +25544,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_x);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":984
+/* "capnp/lib/capnp.pyx":1021
  * 
  * 
  * cdef _from_tuple(_DynamicListBuilder msg, tuple d):             # <<<<<<<<<<<<<<
  *     for i, x in enumerate(d):
  *         msg._set(i, x)
  */
 
@@ -24920,61 +25567,61 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_from_tuple", 0);
 
-  /* "capnp/lib/capnp.pyx":985
+  /* "capnp/lib/capnp.pyx":1022
  * 
  * cdef _from_tuple(_DynamicListBuilder msg, tuple d):
  *     for i, x in enumerate(d):             # <<<<<<<<<<<<<<
  *         msg._set(i, x)
  * 
  */
   __pyx_t_1 = 0;
   __pyx_t_2 = __pyx_v_d; __Pyx_INCREF(__pyx_t_2); __pyx_t_3 = 0;
   for (;;) {
     if (__pyx_t_3 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
     #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-    __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_4); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 985, __pyx_L1_error)
+    __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_3); __Pyx_INCREF(__pyx_t_4); __pyx_t_3++; if (unlikely(0 < 0)) __PYX_ERR(0, 1022, __pyx_L1_error)
     #else
-    __pyx_t_4 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 985, __pyx_L1_error)
+    __pyx_t_4 = PySequence_ITEM(__pyx_t_2, __pyx_t_3); __pyx_t_3++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1022, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     #endif
     __Pyx_XDECREF_SET(__pyx_v_x, __pyx_t_4);
     __pyx_t_4 = 0;
     __pyx_v_i = __pyx_t_1;
     __pyx_t_1 = (__pyx_t_1 + 1);
 
-    /* "capnp/lib/capnp.pyx":986
+    /* "capnp/lib/capnp.pyx":1023
  * cdef _from_tuple(_DynamicListBuilder msg, tuple d):
  *     for i, x in enumerate(d):
  *         msg._set(i, x)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_4 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 986, __pyx_L1_error)
+    __pyx_t_4 = PyInt_FromSsize_t(__pyx_v_i); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1023, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_msg->__pyx_vtab)->_set(__pyx_v_msg, __pyx_t_4, __pyx_v_x, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 986, __pyx_L1_error)
+    __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_v_msg->__pyx_vtab)->_set(__pyx_v_msg, __pyx_t_4, __pyx_v_x, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1023, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":985
+    /* "capnp/lib/capnp.pyx":1022
  * 
  * cdef _from_tuple(_DynamicListBuilder msg, tuple d):
  *     for i, x in enumerate(d):             # <<<<<<<<<<<<<<
  *         msg._set(i, x)
  * 
  */
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":984
+  /* "capnp/lib/capnp.pyx":1021
  * 
  * 
  * cdef _from_tuple(_DynamicListBuilder msg, tuple d):             # <<<<<<<<<<<<<<
  *     for i, x in enumerate(d):
  *         msg._set(i, x)
  */
 
@@ -24990,77 +25637,77 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_x);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":990
+/* "capnp/lib/capnp.pyx":1027
  * 
  * cdef class _DynamicEnum:
  *     cdef _init(self, capnp.DynamicEnum other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_12_DynamicEnum__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *__pyx_v_self,  ::capnp::DynamicEnum __pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":991
+  /* "capnp/lib/capnp.pyx":1028
  * cdef class _DynamicEnum:
  *     cdef _init(self, capnp.DynamicEnum other, object parent):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":992
+  /* "capnp/lib/capnp.pyx":1029
  *     cdef _init(self, capnp.DynamicEnum other, object parent):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":993
+  /* "capnp/lib/capnp.pyx":1030
  *         self.thisptr = other
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef _as_str(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":990
+  /* "capnp/lib/capnp.pyx":1027
  * 
  * cdef class _DynamicEnum:
  *     cdef _init(self, capnp.DynamicEnum other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":995
+/* "capnp/lib/capnp.pyx":1032
  *         return self
  * 
  *     cpdef _as_str(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return <char*>helpers.fixMaybe(self.thisptr.getEnumerant()).getProto().getName().cStr()
  * 
  */
 
@@ -25082,15 +25729,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 995, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1032, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_12_DynamicEnum_1_as_str)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -25099,15 +25746,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 995, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1032, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -25120,35 +25767,35 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":996
+  /* "capnp/lib/capnp.pyx":1033
  * 
  *     cpdef _as_str(self) except +reraise_kj_exception:
  *         return <char*>helpers.fixMaybe(self.thisptr.getEnumerant()).getProto().getName().cStr()             # <<<<<<<<<<<<<<
  * 
  *     property raw:
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_5 = fixMaybe(__pyx_v_self->thisptr.getEnumerant());
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 996, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1033, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_5.getProto().getName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 996, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_5.getProto().getName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1033, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":995
+  /* "capnp/lib/capnp.pyx":1032
  *         return self
  * 
  *     cpdef _as_str(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return <char*>helpers.fixMaybe(self.thisptr.getEnumerant()).getProto().getName().cStr()
  * 
  */
 
@@ -25187,18 +25834,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_as_str", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_12_DynamicEnum__as_str(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 995, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1032, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 995, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1032, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -25208,15 +25855,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1000
+/* "capnp/lib/capnp.pyx":1037
  *     property raw:
  *         """A property that returns the raw int of the enum"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getRaw()
  * 
  */
 
@@ -25238,29 +25885,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1001
+  /* "capnp/lib/capnp.pyx":1038
  *         """A property that returns the raw int of the enum"""
  *         def __get__(self):
  *             return self.thisptr.getRaw()             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_uint16_t(__pyx_v_self->thisptr.getRaw()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1001, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_uint16_t(__pyx_v_self->thisptr.getRaw()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1038, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1000
+  /* "capnp/lib/capnp.pyx":1037
  *     property raw:
  *         """A property that returns the raw int of the enum"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.getRaw()
  * 
  */
 
@@ -25271,15 +25918,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1003
+/* "capnp/lib/capnp.pyx":1040
  *             return self.thisptr.getRaw()
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return self._as_str()
  * 
  */
 
@@ -25301,35 +25948,35 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":1004
+  /* "capnp/lib/capnp.pyx":1041
  * 
  *     def __str__(self):
  *         return self._as_str()             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum *)__pyx_v_self->__pyx_vtab)->_as_str(__pyx_v_self, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1004, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1041, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1004, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1041, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1003
+  /* "capnp/lib/capnp.pyx":1040
  *             return self.thisptr.getRaw()
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return self._as_str()
  * 
  */
 
@@ -25340,15 +25987,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1006
+/* "capnp/lib/capnp.pyx":1043
  *         return self._as_str()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<%s enum>' % str(self)
  * 
  */
 
@@ -25371,32 +26018,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1007
+  /* "capnp/lib/capnp.pyx":1044
  * 
  *     def __repr__(self):
  *         return '<%s enum>' % str(self)             # <<<<<<<<<<<<<<
  * 
  *     def __richcmp__(_DynamicEnum self, right, int op):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1007, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1044, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyString_FormatSafe(__pyx_kp_s_s_enum, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1007, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyString_FormatSafe(__pyx_kp_s_s_enum, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1044, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1006
+  /* "capnp/lib/capnp.pyx":1043
  *         return self._as_str()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<%s enum>' % str(self)
  * 
  */
 
@@ -25408,15 +26055,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1009
+/* "capnp/lib/capnp.pyx":1046
  *         return '<%s enum>' % str(self)
  * 
  *     def __richcmp__(_DynamicEnum self, right, int op):             # <<<<<<<<<<<<<<
  *         if isinstance(right, basestring):
  *             left = self._as_str()
  */
 
@@ -25441,218 +26088,218 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__richcmp__", 0);
 
-  /* "capnp/lib/capnp.pyx":1010
+  /* "capnp/lib/capnp.pyx":1047
  * 
  *     def __richcmp__(_DynamicEnum self, right, int op):
  *         if isinstance(right, basestring):             # <<<<<<<<<<<<<<
  *             left = self._as_str()
  *         else:
  */
   __pyx_t_1 = __Pyx_PyBaseString_Check(__pyx_v_right); 
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":1011
+    /* "capnp/lib/capnp.pyx":1048
  *     def __richcmp__(_DynamicEnum self, right, int op):
  *         if isinstance(right, basestring):
  *             left = self._as_str()             # <<<<<<<<<<<<<<
  *         else:
  *             left = self.thisptr.getRaw()
  */
     try {
       __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum *)__pyx_v_self->__pyx_vtab)->_as_str(__pyx_v_self, 0);
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1011, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1048, __pyx_L1_error)
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 1011, __pyx_L1_error)
+      __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 1048, __pyx_L1_error)
     }
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_v_left = __pyx_t_3;
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":1010
+    /* "capnp/lib/capnp.pyx":1047
  * 
  *     def __richcmp__(_DynamicEnum self, right, int op):
  *         if isinstance(right, basestring):             # <<<<<<<<<<<<<<
  *             left = self._as_str()
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1013
+  /* "capnp/lib/capnp.pyx":1050
  *             left = self._as_str()
  *         else:
  *             left = self.thisptr.getRaw()             # <<<<<<<<<<<<<<
  * 
  *         if op == 2: # ==
  */
   /*else*/ {
-    __pyx_t_3 = __Pyx_PyInt_From_uint16_t(__pyx_v_self->thisptr.getRaw()); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1013, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_From_uint16_t(__pyx_v_self->thisptr.getRaw()); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1050, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_v_left = __pyx_t_3;
     __pyx_t_3 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1015
+  /* "capnp/lib/capnp.pyx":1052
  *             left = self.thisptr.getRaw()
  * 
  *         if op == 2: # ==             # <<<<<<<<<<<<<<
  *             return left == right
  *         elif op == 3: # !=
  */
   switch (__pyx_v_op) {
     case 2:
 
-    /* "capnp/lib/capnp.pyx":1016
+    /* "capnp/lib/capnp.pyx":1053
  * 
  *         if op == 2: # ==
  *             return left == right             # <<<<<<<<<<<<<<
  *         elif op == 3: # !=
  *             return left != right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_EQ); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1016, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_EQ); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1053, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1015
+    /* "capnp/lib/capnp.pyx":1052
  *             left = self.thisptr.getRaw()
  * 
  *         if op == 2: # ==             # <<<<<<<<<<<<<<
  *             return left == right
  *         elif op == 3: # !=
  */
     break;
     case 3:
 
-    /* "capnp/lib/capnp.pyx":1018
+    /* "capnp/lib/capnp.pyx":1055
  *             return left == right
  *         elif op == 3: # !=
  *             return left != right             # <<<<<<<<<<<<<<
  *         elif op == 0: # <
  *             return left < right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_NE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1018, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_NE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1055, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1017
+    /* "capnp/lib/capnp.pyx":1054
  *         if op == 2: # ==
  *             return left == right
  *         elif op == 3: # !=             # <<<<<<<<<<<<<<
  *             return left != right
  *         elif op == 0: # <
  */
     break;
     case 0:
 
-    /* "capnp/lib/capnp.pyx":1020
+    /* "capnp/lib/capnp.pyx":1057
  *             return left != right
  *         elif op == 0: # <
  *             return left < right             # <<<<<<<<<<<<<<
  *         elif op == 1: # <=
  *             return left <= right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_LT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1020, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_LT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1057, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1019
+    /* "capnp/lib/capnp.pyx":1056
  *         elif op == 3: # !=
  *             return left != right
  *         elif op == 0: # <             # <<<<<<<<<<<<<<
  *             return left < right
  *         elif op == 1: # <=
  */
     break;
     case 1:
 
-    /* "capnp/lib/capnp.pyx":1022
+    /* "capnp/lib/capnp.pyx":1059
  *             return left < right
  *         elif op == 1: # <=
  *             return left <= right             # <<<<<<<<<<<<<<
  *         elif op == 4: # >
  *             return left > right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_LE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1022, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_LE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1059, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1021
+    /* "capnp/lib/capnp.pyx":1058
  *         elif op == 0: # <
  *             return left < right
  *         elif op == 1: # <=             # <<<<<<<<<<<<<<
  *             return left <= right
  *         elif op == 4: # >
  */
     break;
     case 4:
 
-    /* "capnp/lib/capnp.pyx":1024
+    /* "capnp/lib/capnp.pyx":1061
  *             return left <= right
  *         elif op == 4: # >
  *             return left > right             # <<<<<<<<<<<<<<
  *         elif op == 5: # >=
  *             return left >= right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_GT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1024, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_GT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1061, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1023
+    /* "capnp/lib/capnp.pyx":1060
  *         elif op == 1: # <=
  *             return left <= right
  *         elif op == 4: # >             # <<<<<<<<<<<<<<
  *             return left > right
  *         elif op == 5: # >=
  */
     break;
     case 5:
 
-    /* "capnp/lib/capnp.pyx":1026
+    /* "capnp/lib/capnp.pyx":1063
  *             return left > right
  *         elif op == 5: # >=
  *             return left >= right             # <<<<<<<<<<<<<<
  * 
  *     def __hash__(_DynamicEnum self):
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_GE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1026, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_GE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1063, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1025
+    /* "capnp/lib/capnp.pyx":1062
  *         elif op == 4: # >
  *             return left > right
  *         elif op == 5: # >=             # <<<<<<<<<<<<<<
  *             return left >= right
  * 
  */
     break;
     default: break;
   }
 
-  /* "capnp/lib/capnp.pyx":1009
+  /* "capnp/lib/capnp.pyx":1046
  *         return '<%s enum>' % str(self)
  * 
  *     def __richcmp__(_DynamicEnum self, right, int op):             # <<<<<<<<<<<<<<
  *         if isinstance(right, basestring):
  *             left = self._as_str()
  */
 
@@ -25666,15 +26313,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_left);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1028
+/* "capnp/lib/capnp.pyx":1065
  *             return left >= right
  * 
  *     def __hash__(_DynamicEnum self):             # <<<<<<<<<<<<<<
  *         return hash(self._as_str())
  * 
  */
 
@@ -25697,35 +26344,35 @@
   PyObject *__pyx_t_1 = NULL;
   Py_hash_t __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__hash__", 0);
 
-  /* "capnp/lib/capnp.pyx":1029
+  /* "capnp/lib/capnp.pyx":1066
  * 
  *     def __hash__(_DynamicEnum self):
  *         return hash(self._as_str())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnum *)__pyx_v_self->__pyx_vtab)->_as_str(__pyx_v_self, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1029, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1066, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1029, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1066, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyObject_Hash(__pyx_t_1); if (unlikely(__pyx_t_2 == ((Py_hash_t)-1))) __PYX_ERR(0, 1029, __pyx_L1_error)
+  __pyx_t_2 = PyObject_Hash(__pyx_t_1); if (unlikely(__pyx_t_2 == ((Py_hash_t)-1))) __PYX_ERR(0, 1066, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1028
+  /* "capnp/lib/capnp.pyx":1065
  *             return left >= right
  * 
  *     def __hash__(_DynamicEnum self):             # <<<<<<<<<<<<<<
  *         return hash(self._as_str())
  * 
  */
 
@@ -25946,68 +26593,68 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicEnum.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1033
+/* "capnp/lib/capnp.pyx":1070
  * 
  * cdef class _DynamicEnumField:
  *     cdef _init(self, proto):             # <<<<<<<<<<<<<<
  *         self.thisptr = proto
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_17_DynamicEnumField__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *__pyx_v_self, PyObject *__pyx_v_proto) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":1034
+  /* "capnp/lib/capnp.pyx":1071
  * cdef class _DynamicEnumField:
  *     cdef _init(self, proto):
  *         self.thisptr = proto             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_proto);
   __Pyx_GIVEREF(__pyx_v_proto);
   __Pyx_GOTREF(__pyx_v_self->thisptr);
   __Pyx_DECREF(__pyx_v_self->thisptr);
   __pyx_v_self->thisptr = __pyx_v_proto;
 
-  /* "capnp/lib/capnp.pyx":1035
+  /* "capnp/lib/capnp.pyx":1072
  *     cdef _init(self, proto):
  *         self.thisptr = proto
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     property raw:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1033
+  /* "capnp/lib/capnp.pyx":1070
  * 
  * cdef class _DynamicEnumField:
  *     cdef _init(self, proto):             # <<<<<<<<<<<<<<
  *         self.thisptr = proto
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1039
+/* "capnp/lib/capnp.pyx":1076
  *     property raw:
  *         """A property that returns the raw int of the enum"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.discriminantValue
  * 
  */
 
@@ -26029,29 +26676,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1040
+  /* "capnp/lib/capnp.pyx":1077
  *         """A property that returns the raw int of the enum"""
  *         def __get__(self):
  *             return self.thisptr.discriminantValue             # <<<<<<<<<<<<<<
  * 
  *     cpdef _str(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->thisptr, __pyx_n_s_discriminantValue); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1040, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->thisptr, __pyx_n_s_discriminantValue); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1077, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1039
+  /* "capnp/lib/capnp.pyx":1076
  *     property raw:
  *         """A property that returns the raw int of the enum"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self.thisptr.discriminantValue
  * 
  */
 
@@ -26062,15 +26709,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1042
+/* "capnp/lib/capnp.pyx":1079
  *             return self.thisptr.discriminantValue
  * 
  *     cpdef _str(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr.name
  * 
  */
 
@@ -26091,15 +26738,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1042, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1079, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_17_DynamicEnumField_1_str)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -26108,15 +26755,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1042, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1079, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -26129,29 +26776,29 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1043
+  /* "capnp/lib/capnp.pyx":1080
  * 
  *     cpdef _str(self):
  *         return self.thisptr.name             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->thisptr, __pyx_n_s_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1043, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->thisptr, __pyx_n_s_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1080, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1042
+  /* "capnp/lib/capnp.pyx":1079
  *             return self.thisptr.discriminantValue
  * 
  *     cpdef _str(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr.name
  * 
  */
 
@@ -26188,15 +26835,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_str", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_17_DynamicEnumField__str(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1042, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_17_DynamicEnumField__str(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1079, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -26205,15 +26852,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1045
+/* "capnp/lib/capnp.pyx":1082
  *         return self.thisptr.name
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return self._str()
  * 
  */
 
@@ -26235,29 +26882,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":1046
+  /* "capnp/lib/capnp.pyx":1083
  * 
  *     def __str__(self):
  *         return self._str()             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_v_self->__pyx_vtab)->_str(__pyx_v_self, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1046, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_v_self->__pyx_vtab)->_str(__pyx_v_self, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1083, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1045
+  /* "capnp/lib/capnp.pyx":1082
  *         return self.thisptr.name
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return self._str()
  * 
  */
 
@@ -26268,15 +26915,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1048
+/* "capnp/lib/capnp.pyx":1085
  *         return self._str()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<%s which-enum>' % str(self)
  * 
  */
 
@@ -26299,32 +26946,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1049
+  /* "capnp/lib/capnp.pyx":1086
  * 
  *     def __repr__(self):
  *         return '<%s which-enum>' % str(self)             # <<<<<<<<<<<<<<
  * 
  *     def __richcmp__(_DynamicEnumField self, right, int op):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1049, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1086, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyString_FormatSafe(__pyx_kp_s_s_which_enum, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1049, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyString_FormatSafe(__pyx_kp_s_s_which_enum, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1086, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1048
+  /* "capnp/lib/capnp.pyx":1085
  *         return self._str()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<%s which-enum>' % str(self)
  * 
  */
 
@@ -26336,15 +26983,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1051
+/* "capnp/lib/capnp.pyx":1088
  *         return '<%s which-enum>' % str(self)
  * 
  *     def __richcmp__(_DynamicEnumField self, right, int op):             # <<<<<<<<<<<<<<
  *         if isinstance(right, basestring):
  *             left = self.thisptr.name
  */
 
@@ -26369,212 +27016,212 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__richcmp__", 0);
 
-  /* "capnp/lib/capnp.pyx":1052
+  /* "capnp/lib/capnp.pyx":1089
  * 
  *     def __richcmp__(_DynamicEnumField self, right, int op):
  *         if isinstance(right, basestring):             # <<<<<<<<<<<<<<
  *             left = self.thisptr.name
  *         else:
  */
   __pyx_t_1 = __Pyx_PyBaseString_Check(__pyx_v_right); 
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":1053
+    /* "capnp/lib/capnp.pyx":1090
  *     def __richcmp__(_DynamicEnumField self, right, int op):
  *         if isinstance(right, basestring):
  *             left = self.thisptr.name             # <<<<<<<<<<<<<<
  *         else:
  *             left = self.thisptr.discriminantValue
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->thisptr, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1053, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->thisptr, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1090, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_v_left = __pyx_t_3;
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":1052
+    /* "capnp/lib/capnp.pyx":1089
  * 
  *     def __richcmp__(_DynamicEnumField self, right, int op):
  *         if isinstance(right, basestring):             # <<<<<<<<<<<<<<
  *             left = self.thisptr.name
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1055
+  /* "capnp/lib/capnp.pyx":1092
  *             left = self.thisptr.name
  *         else:
  *             left = self.thisptr.discriminantValue             # <<<<<<<<<<<<<<
  * 
  *         if op == 2: # ==
  */
   /*else*/ {
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->thisptr, __pyx_n_s_discriminantValue); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1055, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->thisptr, __pyx_n_s_discriminantValue); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1092, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_v_left = __pyx_t_3;
     __pyx_t_3 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1057
+  /* "capnp/lib/capnp.pyx":1094
  *             left = self.thisptr.discriminantValue
  * 
  *         if op == 2: # ==             # <<<<<<<<<<<<<<
  *             return left == right
  *         elif op == 3: # !=
  */
   switch (__pyx_v_op) {
     case 2:
 
-    /* "capnp/lib/capnp.pyx":1058
+    /* "capnp/lib/capnp.pyx":1095
  * 
  *         if op == 2: # ==
  *             return left == right             # <<<<<<<<<<<<<<
  *         elif op == 3: # !=
  *             return left != right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_EQ); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1058, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_EQ); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1095, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1057
+    /* "capnp/lib/capnp.pyx":1094
  *             left = self.thisptr.discriminantValue
  * 
  *         if op == 2: # ==             # <<<<<<<<<<<<<<
  *             return left == right
  *         elif op == 3: # !=
  */
     break;
     case 3:
 
-    /* "capnp/lib/capnp.pyx":1060
+    /* "capnp/lib/capnp.pyx":1097
  *             return left == right
  *         elif op == 3: # !=
  *             return left != right             # <<<<<<<<<<<<<<
  *         elif op == 0: # <
  *             return left < right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_NE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1060, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_NE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1097, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1059
+    /* "capnp/lib/capnp.pyx":1096
  *         if op == 2: # ==
  *             return left == right
  *         elif op == 3: # !=             # <<<<<<<<<<<<<<
  *             return left != right
  *         elif op == 0: # <
  */
     break;
     case 0:
 
-    /* "capnp/lib/capnp.pyx":1062
+    /* "capnp/lib/capnp.pyx":1099
  *             return left != right
  *         elif op == 0: # <
  *             return left < right             # <<<<<<<<<<<<<<
  *         elif op == 1: # <=
  *             return left <= right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_LT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1062, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_LT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1099, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1061
+    /* "capnp/lib/capnp.pyx":1098
  *         elif op == 3: # !=
  *             return left != right
  *         elif op == 0: # <             # <<<<<<<<<<<<<<
  *             return left < right
  *         elif op == 1: # <=
  */
     break;
     case 1:
 
-    /* "capnp/lib/capnp.pyx":1064
+    /* "capnp/lib/capnp.pyx":1101
  *             return left < right
  *         elif op == 1: # <=
  *             return left <= right             # <<<<<<<<<<<<<<
  *         elif op == 4: # >
  *             return left > right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_LE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1064, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_LE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1101, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1063
+    /* "capnp/lib/capnp.pyx":1100
  *         elif op == 0: # <
  *             return left < right
  *         elif op == 1: # <=             # <<<<<<<<<<<<<<
  *             return left <= right
  *         elif op == 4: # >
  */
     break;
     case 4:
 
-    /* "capnp/lib/capnp.pyx":1066
+    /* "capnp/lib/capnp.pyx":1103
  *             return left <= right
  *         elif op == 4: # >
  *             return left > right             # <<<<<<<<<<<<<<
  *         elif op == 5: # >=
  *             return left >= right
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_GT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1066, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_GT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1103, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1065
+    /* "capnp/lib/capnp.pyx":1102
  *         elif op == 1: # <=
  *             return left <= right
  *         elif op == 4: # >             # <<<<<<<<<<<<<<
  *             return left > right
  *         elif op == 5: # >=
  */
     break;
     case 5:
 
-    /* "capnp/lib/capnp.pyx":1068
+    /* "capnp/lib/capnp.pyx":1105
  *             return left > right
  *         elif op == 5: # >=
  *             return left >= right             # <<<<<<<<<<<<<<
  * 
  *     def __call__(self):
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_GE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1068, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_left, __pyx_v_right, Py_GE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1105, __pyx_L1_error)
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1067
+    /* "capnp/lib/capnp.pyx":1104
  *         elif op == 4: # >
  *             return left > right
  *         elif op == 5: # >=             # <<<<<<<<<<<<<<
  *             return left >= right
  * 
  */
     break;
     default: break;
   }
 
-  /* "capnp/lib/capnp.pyx":1051
+  /* "capnp/lib/capnp.pyx":1088
  *         return '<%s which-enum>' % str(self)
  * 
  *     def __richcmp__(_DynamicEnumField self, right, int op):             # <<<<<<<<<<<<<<
  *         if isinstance(right, basestring):
  *             left = self.thisptr.name
  */
 
@@ -26588,15 +27235,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_left);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1070
+/* "capnp/lib/capnp.pyx":1107
  *             return left >= right
  * 
  *     def __call__(self):             # <<<<<<<<<<<<<<
  *         return str(self)
  * 
  */
 
@@ -26621,29 +27268,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "capnp/lib/capnp.pyx":1071
+  /* "capnp/lib/capnp.pyx":1108
  * 
  *     def __call__(self):
  *         return str(self)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1071, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1108, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1070
+  /* "capnp/lib/capnp.pyx":1107
  *             return left >= right
  * 
  *     def __call__(self):             # <<<<<<<<<<<<<<
  *         return str(self)
  * 
  */
 
@@ -26949,15 +27596,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1078
+/* "capnp/lib/capnp.pyx":1115
  *     cdef public uint cap_count
  * 
  *     def __init__(self, uint64_t word_count, uint cap_count):             # <<<<<<<<<<<<<<
  *         self.word_count = word_count
  *         self.cap_count = cap_count
  */
 
@@ -26991,32 +27638,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_word_count)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_cap_count)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 2, 2, 1); __PYX_ERR(0, 1078, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 2, 2, 1); __PYX_ERR(0, 1115, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 1078, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 1115, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
-    __pyx_v_word_count = __Pyx_PyInt_As_uint64_t(values[0]); if (unlikely((__pyx_v_word_count == ((uint64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 1078, __pyx_L3_error)
-    __pyx_v_cap_count = __Pyx_PyInt_As_unsigned_int(values[1]); if (unlikely((__pyx_v_cap_count == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1078, __pyx_L3_error)
+    __pyx_v_word_count = __Pyx_PyInt_As_uint64_t(values[0]); if (unlikely((__pyx_v_word_count == ((uint64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 1115, __pyx_L3_error)
+    __pyx_v_cap_count = __Pyx_PyInt_As_unsigned_int(values[1]); if (unlikely((__pyx_v_cap_count == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1115, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1078, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1115, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._MessageSize.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12_MessageSize___init__(((struct __pyx_obj_5capnp_3lib_5capnp__MessageSize *)__pyx_v_self), __pyx_v_word_count, __pyx_v_cap_count);
 
@@ -27026,47 +27673,47 @@
 }
 
 static int __pyx_pf_5capnp_3lib_5capnp_12_MessageSize___init__(struct __pyx_obj_5capnp_3lib_5capnp__MessageSize *__pyx_v_self, uint64_t __pyx_v_word_count, __pyx_t_5capnp_8includes_5types_uint __pyx_v_cap_count) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":1079
+  /* "capnp/lib/capnp.pyx":1116
  * 
  *     def __init__(self, uint64_t word_count, uint cap_count):
  *         self.word_count = word_count             # <<<<<<<<<<<<<<
  *         self.cap_count = cap_count
  * 
  */
   __pyx_v_self->word_count = __pyx_v_word_count;
 
-  /* "capnp/lib/capnp.pyx":1080
+  /* "capnp/lib/capnp.pyx":1117
  *     def __init__(self, uint64_t word_count, uint cap_count):
  *         self.word_count = word_count
  *         self.cap_count = cap_count             # <<<<<<<<<<<<<<
  * 
  * if getattr(_sys, 'subversion', [''])[0] == 'PyPy':
  */
   __pyx_v_self->cap_count = __pyx_v_cap_count;
 
-  /* "capnp/lib/capnp.pyx":1078
+  /* "capnp/lib/capnp.pyx":1115
  *     cdef public uint cap_count
  * 
  *     def __init__(self, uint64_t word_count, uint cap_count):             # <<<<<<<<<<<<<<
  *         self.word_count = word_count
  *         self.cap_count = cap_count
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1075
+/* "capnp/lib/capnp.pyx":1112
  * 
  * cdef class _MessageSize:
  *     cdef public uint64_t word_count             # <<<<<<<<<<<<<<
  *     cdef public uint cap_count
  * 
  */
 
@@ -27088,15 +27735,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->word_count); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1075, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->word_count); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1112, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -27126,29 +27773,29 @@
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   uint64_t __pyx_t_1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 0);
-  __pyx_t_1 = __Pyx_PyInt_As_uint64_t(__pyx_v_value); if (unlikely((__pyx_t_1 == ((uint64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 1075, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_As_uint64_t(__pyx_v_value); if (unlikely((__pyx_t_1 == ((uint64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 1112, __pyx_L1_error)
   __pyx_v_self->word_count = __pyx_t_1;
 
   /* function exit code */
   __pyx_r = 0;
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._MessageSize.word_count.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1076
+/* "capnp/lib/capnp.pyx":1113
  * cdef class _MessageSize:
  *     cdef public uint64_t word_count
  *     cdef public uint cap_count             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, uint64_t word_count, uint cap_count):
  */
 
@@ -27170,15 +27817,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->cap_count); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1076, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->cap_count); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1113, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -27208,15 +27855,15 @@
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 0);
-  __pyx_t_1 = __Pyx_PyInt_As_unsigned_int(__pyx_v_value); if (unlikely((__pyx_t_1 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1076, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_As_unsigned_int(__pyx_v_value); if (unlikely((__pyx_t_1 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1113, __pyx_L1_error)
   __pyx_v_self->cap_count = __pyx_t_1;
 
   /* function exit code */
   __pyx_r = 0;
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._MessageSize.cap_count.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
@@ -27523,15 +28170,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1085
+/* "capnp/lib/capnp.pyx":1122
  *     from pickle_helper import _struct_reducer
  * else:
  *     def _struct_reducer(schema_id, data):             # <<<<<<<<<<<<<<
  *         with _global_schema_parser.modules_by_id[schema_id].from_bytes(data) as msg:
  *             return msg
  */
 
@@ -27567,32 +28214,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema_id)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_data)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_struct_reducer", 1, 2, 2, 1); __PYX_ERR(0, 1085, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_struct_reducer", 1, 2, 2, 1); __PYX_ERR(0, 1122, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_struct_reducer") < 0)) __PYX_ERR(0, 1085, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_struct_reducer") < 0)) __PYX_ERR(0, 1122, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_schema_id = values[0];
     __pyx_v_data = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_struct_reducer", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1085, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_struct_reducer", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1122, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._struct_reducer", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_10_struct_reducer(__pyx_self, __pyx_v_schema_id, __pyx_v_data);
 
@@ -27614,90 +28261,90 @@
   PyObject *__pyx_t_7 = NULL;
   PyObject *__pyx_t_8 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_struct_reducer", 0);
 
-  /* "capnp/lib/capnp.pyx":1086
+  /* "capnp/lib/capnp.pyx":1123
  * else:
  *     def _struct_reducer(schema_id, data):
  *         with _global_schema_parser.modules_by_id[schema_id].from_bytes(data) as msg:             # <<<<<<<<<<<<<<
  *             return msg
  * 
  */
   /*with:*/ {
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_global_schema_parser); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1086, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_global_schema_parser); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1123, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_modules_by_id); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1086, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_modules_by_id); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1123, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_GetItem(__pyx_t_3, __pyx_v_schema_id); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1086, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetItem(__pyx_t_3, __pyx_v_schema_id); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1123, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_from_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1086, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_from_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1123, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_t_2 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_2)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_2);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_2, __pyx_v_data) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_data);
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1086, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1123, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_4 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_exit); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1086, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_exit); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1123, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_2 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_enter); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1086, __pyx_L3_error)
+    __pyx_t_2 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_enter); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1123, __pyx_L3_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_5 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1086, __pyx_L3_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1123, __pyx_L3_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_t_2 = __pyx_t_3;
     __pyx_t_3 = 0;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     /*try:*/ {
       {
         (void)__pyx_t_6; (void)__pyx_t_7; (void)__pyx_t_8; /* mark used */
         /*try:*/ {
           __pyx_v_msg = __pyx_t_2;
           __pyx_t_2 = 0;
 
-          /* "capnp/lib/capnp.pyx":1087
+          /* "capnp/lib/capnp.pyx":1124
  *     def _struct_reducer(schema_id, data):
  *         with _global_schema_parser.modules_by_id[schema_id].from_bytes(data) as msg:
  *             return msg             # <<<<<<<<<<<<<<
  * 
  * 
  */
           __Pyx_XDECREF(__pyx_r);
           __Pyx_INCREF(__pyx_v_msg);
           __pyx_r = __pyx_v_msg;
           goto __pyx_L11_try_return;
 
-          /* "capnp/lib/capnp.pyx":1086
+          /* "capnp/lib/capnp.pyx":1123
  * else:
  *     def _struct_reducer(schema_id, data):
  *         with _global_schema_parser.modules_by_id[schema_id].from_bytes(data) as msg:             # <<<<<<<<<<<<<<
  *             return msg
  * 
  */
         }
@@ -27706,27 +28353,27 @@
       }
     }
     /*finally:*/ {
       /*normal exit:*/{
         if (__pyx_t_4) {
           __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__23, NULL);
           __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1086, __pyx_L1_error)
+          if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1123, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_8);
           __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
         }
         goto __pyx_L6;
       }
       __pyx_L4_return: {
         __pyx_t_8 = __pyx_r;
         __pyx_r = 0;
         if (__pyx_t_4) {
           __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__23, NULL);
           __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1086, __pyx_L1_error)
+          if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1123, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
         }
         __pyx_r = __pyx_t_8;
         __pyx_t_8 = 0;
         goto __pyx_L0;
       }
@@ -27735,15 +28382,15 @@
     goto __pyx_L13;
     __pyx_L3_error:;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     goto __pyx_L1_error;
     __pyx_L13:;
   }
 
-  /* "capnp/lib/capnp.pyx":1085
+  /* "capnp/lib/capnp.pyx":1122
  *     from pickle_helper import _struct_reducer
  * else:
  *     def _struct_reducer(schema_id, data):             # <<<<<<<<<<<<<<
  *         with _global_schema_parser.modules_by_id[schema_id].from_bytes(data) as msg:
  *             return msg
  */
 
@@ -27760,15 +28407,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_msg);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1103
+/* "capnp/lib/capnp.pyx":1140
  *         print getattr(person, 'field-with-hyphens') # for names that are invalid for python, use getattr
  *     """
  *     cdef _init(self, C_DynamicStruct.Reader other, object parent, bint isRoot=False, bint tryRegistry=True):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
@@ -27793,59 +28440,59 @@
       __pyx_v_isRoot = __pyx_optional_args->isRoot;
       if (__pyx_optional_args->__pyx_n > 1) {
         __pyx_v_tryRegistry = __pyx_optional_args->tryRegistry;
       }
     }
   }
 
-  /* "capnp/lib/capnp.pyx":1104
+  /* "capnp/lib/capnp.pyx":1141
  *     """
  *     cdef _init(self, C_DynamicStruct.Reader other, object parent, bint isRoot=False, bint tryRegistry=True):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         self.is_root = isRoot
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":1105
+  /* "capnp/lib/capnp.pyx":1142
  *     cdef _init(self, C_DynamicStruct.Reader other, object parent, bint isRoot=False, bint tryRegistry=True):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         self.is_root = isRoot
  *         self._schema = None
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":1106
+  /* "capnp/lib/capnp.pyx":1143
  *         self.thisptr = other
  *         self._parent = parent
  *         self.is_root = isRoot             # <<<<<<<<<<<<<<
  *         self._schema = None
  * 
  */
   __pyx_v_self->is_root = __pyx_v_isRoot;
 
-  /* "capnp/lib/capnp.pyx":1107
+  /* "capnp/lib/capnp.pyx":1144
  *         self._parent = parent
  *         self.is_root = isRoot
  *         self._schema = None             # <<<<<<<<<<<<<<
  * 
  *         if tryRegistry and len(_type_registry) > 0:
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->_schema);
   __Pyx_DECREF(__pyx_v_self->_schema);
   __pyx_v_self->_schema = Py_None;
 
-  /* "capnp/lib/capnp.pyx":1109
+  /* "capnp/lib/capnp.pyx":1146
  *         self._schema = None
  * 
  *         if tryRegistry and len(_type_registry) > 0:             # <<<<<<<<<<<<<<
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:
  */
   __pyx_t_2 = (__pyx_v_tryRegistry != 0);
@@ -27854,112 +28501,112 @@
     __pyx_t_1 = __pyx_t_2;
     goto __pyx_L4_bool_binop_done;
   }
   __pyx_t_3 = __pyx_v_5capnp_3lib_5capnp__type_registry;
   __Pyx_INCREF(__pyx_t_3);
   if (unlikely(__pyx_t_3 == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
-    __PYX_ERR(0, 1109, __pyx_L1_error)
+    __PYX_ERR(0, 1146, __pyx_L1_error)
   }
-  __pyx_t_4 = PyDict_Size(__pyx_t_3); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1109, __pyx_L1_error)
+  __pyx_t_4 = PyDict_Size(__pyx_t_3); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1146, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_2 = ((__pyx_t_4 > 0) != 0);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":1110
+    /* "capnp/lib/capnp.pyx":1147
  * 
  *         if tryRegistry and len(_type_registry) > 0:
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)             # <<<<<<<<<<<<<<
  *             if registered_type:
  *                 return registered_type[0](self)
  */
     if (unlikely(__pyx_v_5capnp_3lib_5capnp__type_registry == Py_None)) {
       PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "get");
-      __PYX_ERR(0, 1110, __pyx_L1_error)
+      __PYX_ERR(0, 1147, __pyx_L1_error)
     }
-    __pyx_t_3 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getSchema().getProto().getId()); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1110, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getSchema().getProto().getId()); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1147, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_5 = __Pyx_PyDict_GetItemDefault(__pyx_v_5capnp_3lib_5capnp__type_registry, __pyx_t_3, Py_None); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1110, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyDict_GetItemDefault(__pyx_v_5capnp_3lib_5capnp__type_registry, __pyx_t_3, Py_None); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1147, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_v_registered_type = __pyx_t_5;
     __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":1111
+    /* "capnp/lib/capnp.pyx":1148
  *         if tryRegistry and len(_type_registry) > 0:
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:             # <<<<<<<<<<<<<<
  *                 return registered_type[0](self)
  *         return self
  */
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_registered_type); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 1111, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_registered_type); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 1148, __pyx_L1_error)
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":1112
+      /* "capnp/lib/capnp.pyx":1149
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:
  *                 return registered_type[0](self)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
       __Pyx_XDECREF(__pyx_r);
-      __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_registered_type, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1112, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_registered_type, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1149, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __pyx_t_6 = NULL;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
         __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_3);
         if (likely(__pyx_t_6)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
           __Pyx_INCREF(__pyx_t_6);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_3, function);
         }
       }
       __pyx_t_5 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_6, ((PyObject *)__pyx_v_self)) : __Pyx_PyObject_CallOneArg(__pyx_t_3, ((PyObject *)__pyx_v_self));
       __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1112, __pyx_L1_error)
+      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1149, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __pyx_r = __pyx_t_5;
       __pyx_t_5 = 0;
       goto __pyx_L0;
 
-      /* "capnp/lib/capnp.pyx":1111
+      /* "capnp/lib/capnp.pyx":1148
  *         if tryRegistry and len(_type_registry) > 0:
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:             # <<<<<<<<<<<<<<
  *                 return registered_type[0](self)
  *         return self
  */
     }
 
-    /* "capnp/lib/capnp.pyx":1109
+    /* "capnp/lib/capnp.pyx":1146
  *         self._schema = None
  * 
  *         if tryRegistry and len(_type_registry) > 0:             # <<<<<<<<<<<<<<
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1113
+  /* "capnp/lib/capnp.pyx":1150
  *             if registered_type:
  *                 return registered_type[0](self)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get(self, field):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1103
+  /* "capnp/lib/capnp.pyx":1140
  *         print getattr(person, 'field-with-hyphens') # for names that are invalid for python, use getattr
  *     """
  *     cdef _init(self, C_DynamicStruct.Reader other, object parent, bint isRoot=False, bint tryRegistry=True):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
@@ -27973,15 +28620,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_registered_type);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1115
+/* "capnp/lib/capnp.pyx":1152
  *         return self
  * 
  *     cpdef _get(self, field):             # <<<<<<<<<<<<<<
  *         return to_python_reader(self.thisptr.get(field), self)
  * 
  */
 
@@ -28004,15 +28651,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1115, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1152, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_1_get)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -28021,15 +28668,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1115, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1152, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -28042,36 +28689,36 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1116
+  /* "capnp/lib/capnp.pyx":1153
  * 
  *     cpdef _get(self, field):
  *         return to_python_reader(self.thisptr.get(field), self)             # <<<<<<<<<<<<<<
  * 
  *     def __getattr__(self, field):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1116, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1153, __pyx_L1_error)
   try {
     __pyx_t_6 = __pyx_v_self->thisptr.get(__pyx_t_5);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1116, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1153, __pyx_L1_error)
   }
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_to_python_reader((( ::capnp::DynamicValue::Reader)__pyx_t_6), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1116, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_to_python_reader((( ::capnp::DynamicValue::Reader)__pyx_t_6), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1153, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1115
+  /* "capnp/lib/capnp.pyx":1152
  *         return self
  * 
  *     cpdef _get(self, field):             # <<<<<<<<<<<<<<
  *         return to_python_reader(self.thisptr.get(field), self)
  * 
  */
 
@@ -28108,15 +28755,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__get(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1115, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__get(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1152, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -28125,15 +28772,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1118
+/* "capnp/lib/capnp.pyx":1155
  *         return to_python_reader(self.thisptr.get(field), self)
  * 
  *     def __getattr__(self, field):             # <<<<<<<<<<<<<<
  *         try:
  *             return self._get(field)
  */
 
@@ -28160,21 +28807,20 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   PyObject *__pyx_t_7 = NULL;
   int __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getattr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1119
+  /* "capnp/lib/capnp.pyx":1156
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
   {
@@ -28182,118 +28828,94 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1120
+      /* "capnp/lib/capnp.pyx":1157
  *     def __getattr__(self, field):
  *         try:
  *             return self._get(field)             # <<<<<<<<<<<<<<
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  */
       __Pyx_XDECREF(__pyx_r);
-      __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_field, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1120, __pyx_L3_error)
+      __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_field, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1157, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
       __pyx_r = __pyx_t_4;
       __pyx_t_4 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":1119
+      /* "capnp/lib/capnp.pyx":1156
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1121
+    /* "capnp/lib/capnp.pyx":1158
  *         try:
  *             return self._get(field)
  *         except KjException as e:             # <<<<<<<<<<<<<<
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  * 
  */
     __Pyx_ErrFetch(&__pyx_t_4, &__pyx_t_5, &__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1121, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1158, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_t_8 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_4, __pyx_t_7);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_ErrRestore(__pyx_t_4, __pyx_t_5, __pyx_t_6);
     __pyx_t_4 = 0; __pyx_t_5 = 0; __pyx_t_6 = 0;
     if (__pyx_t_8) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructReader.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1121, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1158, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __pyx_v_e = __pyx_t_5;
 
-      /* "capnp/lib/capnp.pyx":1122
+      /* "capnp/lib/capnp.pyx":1159
  *             return self._get(field)
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]             # <<<<<<<<<<<<<<
+ *             raise e._to_python() from None             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get_by_field(self, _StructSchemaField field):
  */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1122, __pyx_L5_except_error)
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1159, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_9))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_9);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_9, function);
         }
       }
       __pyx_t_7 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_9);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1122, __pyx_L5_except_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1159, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_GetModuleGlobalName(__pyx_t_10, __pyx_n_s_sys); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1122, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_t_10, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1122, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __pyx_t_10 = NULL;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_11))) {
-        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_11);
-        if (likely(__pyx_t_10)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-          __Pyx_INCREF(__pyx_t_10);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_11, function);
-        }
-      }
-      __pyx_t_9 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_11);
-      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1122, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __pyx_t_11 = __Pyx_GetItemInt(__pyx_t_9, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1122, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_Raise(__pyx_t_7, Py_None, __pyx_t_11, 0);
+      __Pyx_Raise(__pyx_t_7, 0, 0, Py_None);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __PYX_ERR(0, 1122, __pyx_L5_except_error)
+      __PYX_ERR(0, 1159, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1119
+    /* "capnp/lib/capnp.pyx":1156
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -28305,15 +28927,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1118
+  /* "capnp/lib/capnp.pyx":1155
  *         return to_python_reader(self.thisptr.get(field), self)
  * 
  *     def __getattr__(self, field):             # <<<<<<<<<<<<<<
  *         try:
  *             return self._get(field)
  */
 
@@ -28321,26 +28943,25 @@
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_XDECREF(__pyx_t_7);
   __Pyx_XDECREF(__pyx_t_9);
   __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_XDECREF(__pyx_t_11);
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructReader.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1124
- *             raise e._to_python(), None, _sys.exc_info()[2]
+/* "capnp/lib/capnp.pyx":1161
+ *             raise e._to_python() from None
  * 
  *     cpdef _get_by_field(self, _StructSchemaField field):             # <<<<<<<<<<<<<<
  *         return to_python_reader(self.thisptr.getByField(field.thisptr), self)
  * 
  */
 
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_5_get_by_field(PyObject *__pyx_v_self, PyObject *__pyx_v_field); /*proto*/
@@ -28361,15 +28982,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1124, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1161, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_5_get_by_field)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -28378,15 +28999,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, ((PyObject *)__pyx_v_field)) : __Pyx_PyObject_CallOneArg(__pyx_t_3, ((PyObject *)__pyx_v_field));
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1124, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1161, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -28399,36 +29020,36 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1125
+  /* "capnp/lib/capnp.pyx":1162
  * 
  *     cpdef _get_by_field(self, _StructSchemaField field):
  *         return to_python_reader(self.thisptr.getByField(field.thisptr), self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _has(self, field):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.get(__pyx_v_field->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1125, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1162, __pyx_L1_error)
   }
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_to_python_reader((( ::capnp::DynamicValue::Reader)__pyx_t_5), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1125, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_to_python_reader((( ::capnp::DynamicValue::Reader)__pyx_t_5), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1162, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1124
- *             raise e._to_python(), None, _sys.exc_info()[2]
+  /* "capnp/lib/capnp.pyx":1161
+ *             raise e._to_python() from None
  * 
  *     cpdef _get_by_field(self, _StructSchemaField field):             # <<<<<<<<<<<<<<
  *         return to_python_reader(self.thisptr.getByField(field.thisptr), self)
  * 
  */
 
   /* function exit code */
@@ -28451,15 +29072,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_5_get_by_field(PyObject *__pyx_v_self, PyObject *__pyx_v_field) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_get_by_field (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1124, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1161, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_20_DynamicStructReader_4_get_by_field(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_v_field));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -28472,15 +29093,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get_by_field", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__get_by_field(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1124, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__get_by_field(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1161, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -28489,15 +29110,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1127
+/* "capnp/lib/capnp.pyx":1164
  *         return to_python_reader(self.thisptr.getByField(field.thisptr), self)
  * 
  *     cpdef _has(self, field):             # <<<<<<<<<<<<<<
  *         return self.thisptr.has(field)
  * 
  */
 
@@ -28520,15 +29141,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_has); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1127, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_has); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1164, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_7_has)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -28537,15 +29158,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1127, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1164, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -28558,36 +29179,36 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1128
+  /* "capnp/lib/capnp.pyx":1165
  * 
  *     cpdef _has(self, field):
  *         return self.thisptr.has(field)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _has_by_field(self, _StructSchemaField field):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1128, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1165, __pyx_L1_error)
   try {
     __pyx_t_6 = __pyx_v_self->thisptr.has(__pyx_t_5);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1128, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1165, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1128, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1165, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1127
+  /* "capnp/lib/capnp.pyx":1164
  *         return to_python_reader(self.thisptr.getByField(field.thisptr), self)
  * 
  *     cpdef _has(self, field):             # <<<<<<<<<<<<<<
  *         return self.thisptr.has(field)
  * 
  */
 
@@ -28624,15 +29245,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_has", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__has(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1127, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__has(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1164, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -28641,15 +29262,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1130
+/* "capnp/lib/capnp.pyx":1167
  *         return self.thisptr.has(field)
  * 
  *     cpdef _has_by_field(self, _StructSchemaField field):             # <<<<<<<<<<<<<<
  *         return self.thisptr.hasByField(field.thisptr)
  * 
  */
 
@@ -28671,15 +29292,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_has_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1130, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_has_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1167, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_9_has_by_field)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -28688,15 +29309,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, ((PyObject *)__pyx_v_field)) : __Pyx_PyObject_CallOneArg(__pyx_t_3, ((PyObject *)__pyx_v_field));
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1130, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1167, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -28709,35 +29330,35 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1131
+  /* "capnp/lib/capnp.pyx":1168
  * 
  *     cpdef _has_by_field(self, _StructSchemaField field):
  *         return self.thisptr.hasByField(field.thisptr)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _which_str(self):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.has(__pyx_v_field->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1131, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1168, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1131, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1168, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1130
+  /* "capnp/lib/capnp.pyx":1167
  *         return self.thisptr.has(field)
  * 
  *     cpdef _has_by_field(self, _StructSchemaField field):             # <<<<<<<<<<<<<<
  *         return self.thisptr.hasByField(field.thisptr)
  * 
  */
 
@@ -28761,15 +29382,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_9_has_by_field(PyObject *__pyx_v_self, PyObject *__pyx_v_field) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_has_by_field (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1130, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1167, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_20_DynamicStructReader_8_has_by_field(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_v_field));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -28782,15 +29403,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_has_by_field", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__has_by_field(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1130, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__has_by_field(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1167, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -28799,15 +29420,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1133
+/* "capnp/lib/capnp.pyx":1170
  *         return self.thisptr.hasByField(field.thisptr)
  * 
  *     cpdef _which_str(self):             # <<<<<<<<<<<<<<
  *         try:
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  */
 
@@ -28837,15 +29458,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_which_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1133, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_which_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1170, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_11_which_str)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -28854,15 +29475,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1133, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1170, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -28875,15 +29496,15 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1134
+  /* "capnp/lib/capnp.pyx":1171
  * 
  *     cpdef _which_str(self):
  *         try:             # <<<<<<<<<<<<<<
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  */
   {
@@ -28891,133 +29512,133 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_5, &__pyx_t_6, &__pyx_t_7);
     __Pyx_XGOTREF(__pyx_t_5);
     __Pyx_XGOTREF(__pyx_t_6);
     __Pyx_XGOTREF(__pyx_t_7);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1135
+      /* "capnp/lib/capnp.pyx":1172
  *     cpdef _which_str(self):
  *         try:
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()             # <<<<<<<<<<<<<<
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":
  */
       __Pyx_XDECREF(__pyx_r);
       try {
         __pyx_t_8 = fixMaybe(__pyx_v_self->thisptr.which());
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 1135, __pyx_L3_error)
+        c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 1172, __pyx_L3_error)
       }
-      __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_8.getProto().getName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1135, __pyx_L3_error)
+      __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_8.getProto().getName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1172, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_1);
       __pyx_r = __pyx_t_1;
       __pyx_t_1 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":1134
+      /* "capnp/lib/capnp.pyx":1171
  * 
  *     cpdef _which_str(self):
  *         try:             # <<<<<<<<<<<<<<
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1136
+    /* "capnp/lib/capnp.pyx":1173
  *         try:
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:             # <<<<<<<<<<<<<<
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")
  */
     __pyx_t_9 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_RuntimeError);
     if (__pyx_t_9) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructReader._which_str", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) __PYX_ERR(0, 1136, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) __PYX_ERR(0, 1173, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __pyx_v_e = __pyx_t_2;
 
-      /* "capnp/lib/capnp.pyx":1137
+      /* "capnp/lib/capnp.pyx":1174
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":             # <<<<<<<<<<<<<<
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise
  */
-      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1137, __pyx_L5_except_error)
+      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1174, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_10 = (__Pyx_PyString_Equals(__pyx_t_4, __pyx_kp_s_Member_was_null, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1137, __pyx_L5_except_error)
+      __pyx_t_10 = (__Pyx_PyString_Equals(__pyx_t_4, __pyx_kp_s_Member_was_null, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1174, __pyx_L5_except_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       if (unlikely(__pyx_t_10)) {
 
-        /* "capnp/lib/capnp.pyx":1138
+        /* "capnp/lib/capnp.pyx":1175
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")             # <<<<<<<<<<<<<<
  *             raise
  * 
  */
-        __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_KjException); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1138, __pyx_L5_except_error)
+        __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_KjException); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1175, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_11);
         __pyx_t_12 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_11))) {
           __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_11);
           if (likely(__pyx_t_12)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
             __Pyx_INCREF(__pyx_t_12);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_11, function);
           }
         }
         __pyx_t_4 = (__pyx_t_12) ? __Pyx_PyObject_Call2Args(__pyx_t_11, __pyx_t_12, __pyx_kp_s_Attempted_to_call_which_on_a_non) : __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_kp_s_Attempted_to_call_which_on_a_non);
         __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1138, __pyx_L5_except_error)
+        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1175, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
         __Pyx_Raise(__pyx_t_4, 0, 0, 0);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-        __PYX_ERR(0, 1138, __pyx_L5_except_error)
+        __PYX_ERR(0, 1175, __pyx_L5_except_error)
 
-        /* "capnp/lib/capnp.pyx":1137
+        /* "capnp/lib/capnp.pyx":1174
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":             # <<<<<<<<<<<<<<
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise
  */
       }
 
-      /* "capnp/lib/capnp.pyx":1139
+      /* "capnp/lib/capnp.pyx":1176
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise             # <<<<<<<<<<<<<<
  * 
  *     cpdef _DynamicEnumField _which(self):
  */
       __Pyx_GIVEREF(__pyx_t_1);
       __Pyx_GIVEREF(__pyx_t_2);
       __Pyx_XGIVEREF(__pyx_t_3);
       __Pyx_ErrRestoreWithState(__pyx_t_1, __pyx_t_2, __pyx_t_3);
       __pyx_t_1 = 0; __pyx_t_2 = 0; __pyx_t_3 = 0; 
-      __PYX_ERR(0, 1139, __pyx_L5_except_error)
+      __PYX_ERR(0, 1176, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1134
+    /* "capnp/lib/capnp.pyx":1171
  * 
  *     cpdef _which_str(self):
  *         try:             # <<<<<<<<<<<<<<
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  */
     __Pyx_XGIVEREF(__pyx_t_5);
@@ -29029,15 +29650,15 @@
     __Pyx_XGIVEREF(__pyx_t_5);
     __Pyx_XGIVEREF(__pyx_t_6);
     __Pyx_XGIVEREF(__pyx_t_7);
     __Pyx_ExceptionReset(__pyx_t_5, __pyx_t_6, __pyx_t_7);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1133
+  /* "capnp/lib/capnp.pyx":1170
  *         return self.thisptr.hasByField(field.thisptr)
  * 
  *     cpdef _which_str(self):             # <<<<<<<<<<<<<<
  *         try:
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  */
 
@@ -29077,15 +29698,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_which_str", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__which_str(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1133, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__which_str(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1170, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -29094,15 +29715,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1141
+/* "capnp/lib/capnp.pyx":1178
  *             raise
  * 
  *     cpdef _DynamicEnumField _which(self):             # <<<<<<<<<<<<<<
  *         """Returns the enum corresponding to the union in this struct
  * 
  */
 
@@ -29134,15 +29755,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_which_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1141, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_which_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1178, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_13_which)) {
         __Pyx_XDECREF(((PyObject *)__pyx_r));
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -29151,18 +29772,18 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1141, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1178, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField))))) __PYX_ERR(0, 1141, __pyx_L1_error)
+        if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField))))) __PYX_ERR(0, 1178, __pyx_L1_error)
         __pyx_r = ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_2);
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
       __pyx_tp_dict_version = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
@@ -29173,15 +29794,15 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1149
+  /* "capnp/lib/capnp.pyx":1186
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         try:             # <<<<<<<<<<<<<<
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  */
   {
@@ -29189,63 +29810,63 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_5, &__pyx_t_6, &__pyx_t_7);
     __Pyx_XGOTREF(__pyx_t_5);
     __Pyx_XGOTREF(__pyx_t_6);
     __Pyx_XGOTREF(__pyx_t_7);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1150
+      /* "capnp/lib/capnp.pyx":1187
  *         """
  *         try:
  *             which = _DynamicEnumField()._init(             # <<<<<<<<<<<<<<
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:
  */
-      __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1150, __pyx_L3_error)
+      __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1187, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_1);
 
-      /* "capnp/lib/capnp.pyx":1151
+      /* "capnp/lib/capnp.pyx":1188
  *         try:
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)             # <<<<<<<<<<<<<<
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":
  */
-      __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchemaField)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1151, __pyx_L3_error)
+      __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchemaField)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1188, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_2);
       try {
         __pyx_t_8 = fixMaybe(__pyx_v_self->thisptr.which());
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 1151, __pyx_L3_error)
+        c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 1188, __pyx_L3_error)
       }
       __pyx_t_9.__pyx_n = 1;
       __pyx_t_9.parent = ((PyObject *)__pyx_v_self);
-      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_2), __pyx_t_8, &__pyx_t_9); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1151, __pyx_L3_error)
+      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_2), __pyx_t_8, &__pyx_t_9); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1188, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_proto); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1151, __pyx_L3_error)
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_proto); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1188, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":1150
+      /* "capnp/lib/capnp.pyx":1187
  *         """
  *         try:
  *             which = _DynamicEnumField()._init(             # <<<<<<<<<<<<<<
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:
  */
-      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnumField *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_1), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1150, __pyx_L3_error)
+      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnumField *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_1), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1187, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __pyx_v_which = __pyx_t_3;
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":1149
+      /* "capnp/lib/capnp.pyx":1186
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         try:             # <<<<<<<<<<<<<<
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  */
     }
@@ -29255,127 +29876,127 @@
     goto __pyx_L8_try_end;
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1152
+    /* "capnp/lib/capnp.pyx":1189
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:             # <<<<<<<<<<<<<<
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")
  */
     __pyx_t_10 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_RuntimeError);
     if (__pyx_t_10) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructReader._which", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_2, &__pyx_t_1) < 0) __PYX_ERR(0, 1152, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_2, &__pyx_t_1) < 0) __PYX_ERR(0, 1189, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_2);
       __pyx_v_e = __pyx_t_2;
 
-      /* "capnp/lib/capnp.pyx":1153
+      /* "capnp/lib/capnp.pyx":1190
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":             # <<<<<<<<<<<<<<
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise
  */
-      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1153, __pyx_L5_except_error)
+      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1190, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_11 = (__Pyx_PyString_Equals(__pyx_t_4, __pyx_kp_s_Member_was_null, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1153, __pyx_L5_except_error)
+      __pyx_t_11 = (__Pyx_PyString_Equals(__pyx_t_4, __pyx_kp_s_Member_was_null, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1190, __pyx_L5_except_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       if (unlikely(__pyx_t_11)) {
 
-        /* "capnp/lib/capnp.pyx":1154
+        /* "capnp/lib/capnp.pyx":1191
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")             # <<<<<<<<<<<<<<
  *             raise
  * 
  */
-        __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1154, __pyx_L5_except_error)
+        __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1191, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_12);
         __pyx_t_13 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_12))) {
           __pyx_t_13 = PyMethod_GET_SELF(__pyx_t_12);
           if (likely(__pyx_t_13)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
             __Pyx_INCREF(__pyx_t_13);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_12, function);
           }
         }
         __pyx_t_4 = (__pyx_t_13) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_13, __pyx_kp_s_Attempted_to_call_which_on_a_non) : __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_kp_s_Attempted_to_call_which_on_a_non);
         __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
-        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1154, __pyx_L5_except_error)
+        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1191, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
         __Pyx_Raise(__pyx_t_4, 0, 0, 0);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-        __PYX_ERR(0, 1154, __pyx_L5_except_error)
+        __PYX_ERR(0, 1191, __pyx_L5_except_error)
 
-        /* "capnp/lib/capnp.pyx":1153
+        /* "capnp/lib/capnp.pyx":1190
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":             # <<<<<<<<<<<<<<
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise
  */
       }
 
-      /* "capnp/lib/capnp.pyx":1155
+      /* "capnp/lib/capnp.pyx":1192
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise             # <<<<<<<<<<<<<<
  * 
  *         return which
  */
       __Pyx_GIVEREF(__pyx_t_3);
       __Pyx_GIVEREF(__pyx_t_2);
       __Pyx_XGIVEREF(__pyx_t_1);
       __Pyx_ErrRestoreWithState(__pyx_t_3, __pyx_t_2, __pyx_t_1);
       __pyx_t_3 = 0; __pyx_t_2 = 0; __pyx_t_1 = 0; 
-      __PYX_ERR(0, 1155, __pyx_L5_except_error)
+      __PYX_ERR(0, 1192, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1149
+    /* "capnp/lib/capnp.pyx":1186
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         try:             # <<<<<<<<<<<<<<
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  */
     __Pyx_XGIVEREF(__pyx_t_5);
     __Pyx_XGIVEREF(__pyx_t_6);
     __Pyx_XGIVEREF(__pyx_t_7);
     __Pyx_ExceptionReset(__pyx_t_5, __pyx_t_6, __pyx_t_7);
     goto __pyx_L1_error;
     __pyx_L8_try_end:;
   }
 
-  /* "capnp/lib/capnp.pyx":1157
+  /* "capnp/lib/capnp.pyx":1194
  *             raise
  * 
  *         return which             # <<<<<<<<<<<<<<
  * 
  *     property which:
  */
   __Pyx_XDECREF(((PyObject *)__pyx_r));
-  if (!(likely(((__pyx_v_which) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_which, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField))))) __PYX_ERR(0, 1157, __pyx_L1_error)
+  if (!(likely(((__pyx_v_which) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_which, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField))))) __PYX_ERR(0, 1194, __pyx_L1_error)
   __Pyx_INCREF(__pyx_v_which);
   __pyx_r = ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_v_which);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1141
+  /* "capnp/lib/capnp.pyx":1178
  *             raise
  * 
  *     cpdef _DynamicEnumField _which(self):             # <<<<<<<<<<<<<<
  *         """Returns the enum corresponding to the union in this struct
  * 
  */
 
@@ -29416,15 +30037,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_which", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__which(__pyx_v_self, 1)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1141, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__which(__pyx_v_self, 1)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1178, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -29433,15 +30054,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1167
+/* "capnp/lib/capnp.pyx":1204
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         def __get__(_DynamicStructReader self):             # <<<<<<<<<<<<<<
  *             return self._which()
  * 
  */
 
@@ -29463,29 +30084,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1168
+  /* "capnp/lib/capnp.pyx":1205
  *         """
  *         def __get__(_DynamicStructReader self):
  *             return self._which()             # <<<<<<<<<<<<<<
  * 
  *     property schema:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((PyObject *)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self->__pyx_vtab)->_which(__pyx_v_self, 0)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1168, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self->__pyx_vtab)->_which(__pyx_v_self, 0)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1205, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1167
+  /* "capnp/lib/capnp.pyx":1204
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         def __get__(_DynamicStructReader self):             # <<<<<<<<<<<<<<
  *             return self._which()
  * 
  */
 
@@ -29496,15 +30117,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1172
+/* "capnp/lib/capnp.pyx":1209
  *     property schema:
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self._schema is None:
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  */
 
@@ -29529,65 +30150,65 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1173
+  /* "capnp/lib/capnp.pyx":1210
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):
  *             if self._schema is None:             # <<<<<<<<<<<<<<
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  *             return self._schema
  */
   __pyx_t_1 = (__pyx_v_self->_schema == Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":1174
+    /* "capnp/lib/capnp.pyx":1211
  *         def __get__(self):
  *             if self._schema is None:
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())             # <<<<<<<<<<<<<<
  *             return self._schema
  * 
  */
-    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1174, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1211, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3), __pyx_v_self->thisptr.getSchema()); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1174, __pyx_L1_error)
+    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3), __pyx_v_self->thisptr.getSchema()); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1211, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_GIVEREF(__pyx_t_4);
     __Pyx_GOTREF(__pyx_v_self->_schema);
     __Pyx_DECREF(__pyx_v_self->_schema);
     __pyx_v_self->_schema = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1173
+    /* "capnp/lib/capnp.pyx":1210
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):
  *             if self._schema is None:             # <<<<<<<<<<<<<<
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  *             return self._schema
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1175
+  /* "capnp/lib/capnp.pyx":1212
  *             if self._schema is None:
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  *             return self._schema             # <<<<<<<<<<<<<<
  * 
  *     def __dir__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->_schema);
   __pyx_r = __pyx_v_self->_schema;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1172
+  /* "capnp/lib/capnp.pyx":1209
  *     property schema:
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self._schema is None:
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  */
 
@@ -29599,15 +30220,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1177
+/* "capnp/lib/capnp.pyx":1214
  *             return self._schema
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  */
 
@@ -29632,50 +30253,50 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__dir__", 0);
 
-  /* "capnp/lib/capnp.pyx":1178
+  /* "capnp/lib/capnp.pyx":1215
  * 
  *     def __dir__(self):
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1178, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1178, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1178, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = PyObject_Dir(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1178, __pyx_L1_error)
+  __pyx_t_3 = PyObject_Dir(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1178, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1178, __pyx_L1_error)
+  __pyx_t_3 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1178, __pyx_L1_error)
+  __pyx_t_1 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PySequence_List(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1178, __pyx_L1_error)
+  __pyx_t_3 = PySequence_List(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1215, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1177
+  /* "capnp/lib/capnp.pyx":1214
  *             return self._schema
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  */
 
@@ -29688,15 +30309,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1180
+/* "capnp/lib/capnp.pyx":1217
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>printStructReader(self.thisptr).flatten().cStr()
  * 
  */
 
@@ -29719,35 +30340,35 @@
    ::kj::StringTree __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":1181
+  /* "capnp/lib/capnp.pyx":1218
  * 
  *     def __str__(self):
  *         return <char*>printStructReader(self.thisptr).flatten().cStr()             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 =  ::capnp::prettyPrint(__pyx_v_self->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1181, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1218, __pyx_L1_error)
   }
-  __pyx_t_2 = __Pyx_PyStr_FromString(((char *)__pyx_t_1.flatten().cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1181, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyStr_FromString(((char *)__pyx_t_1.flatten().cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1218, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1180
+  /* "capnp/lib/capnp.pyx":1217
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>printStructReader(self.thisptr).flatten().cStr()
  * 
  */
 
@@ -29758,15 +30379,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1183
+/* "capnp/lib/capnp.pyx":1220
  *         return <char*>printStructReader(self.thisptr).flatten().cStr()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<%s reader %s>' % (self.schema.node.displayName, <char*>strStructReader(self.thisptr).cStr())
  * 
  */
 
@@ -29790,48 +30411,48 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1184
+  /* "capnp/lib/capnp.pyx":1221
  * 
  *     def __repr__(self):
  *         return '<%s reader %s>' % (self.schema.node.displayName, <char*>strStructReader(self.thisptr).cStr())             # <<<<<<<<<<<<<<
  * 
  *     def to_dict(self, verbose=False, ordered=False):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1184, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1221, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_node); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1184, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_node); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1221, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_displayName); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1184, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_displayName); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1221, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyStr_FromString(((char *) ::kj::str(__pyx_v_self->thisptr).cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1184, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyStr_FromString(((char *) ::kj::str(__pyx_v_self->thisptr).cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1221, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1184, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1221, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
   __pyx_t_1 = 0;
   __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_s_reader_s, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1184, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_s_reader_s, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1221, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1183
+  /* "capnp/lib/capnp.pyx":1220
  *         return <char*>printStructReader(self.thisptr).flatten().cStr()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<%s reader %s>' % (self.schema.node.displayName, <char*>strStructReader(self.thisptr).cStr())
  * 
  */
 
@@ -29844,15 +30465,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1186
+/* "capnp/lib/capnp.pyx":1223
  *         return '<%s reader %s>' % (self.schema.node.displayName, <char*>strStructReader(self.thisptr).cStr())
  * 
  *     def to_dict(self, verbose=False, ordered=False):             # <<<<<<<<<<<<<<
  *         return _to_dict(self, verbose, ordered)
  * 
  */
 
@@ -29895,15 +30516,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ordered);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_dict") < 0)) __PYX_ERR(0, 1186, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_dict") < 0)) __PYX_ERR(0, 1223, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
@@ -29912,15 +30533,15 @@
       }
     }
     __pyx_v_verbose = values[0];
     __pyx_v_ordered = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("to_dict", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1186, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("to_dict", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1223, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructReader.to_dict", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_20_DynamicStructReader_20to_dict(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self), __pyx_v_verbose, __pyx_v_ordered);
 
@@ -29936,31 +30557,31 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_dict", 0);
 
-  /* "capnp/lib/capnp.pyx":1187
+  /* "capnp/lib/capnp.pyx":1224
  * 
  *     def to_dict(self, verbose=False, ordered=False):
  *         return _to_dict(self, verbose, ordered)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_builder(self, num_first_segment_words=None):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1187, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ordered); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1187, __pyx_L1_error)
-  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(((PyObject *)__pyx_v_self), __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1187, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1224, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ordered); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1224, __pyx_L1_error)
+  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(((PyObject *)__pyx_v_self), __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1224, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1186
+  /* "capnp/lib/capnp.pyx":1223
  *         return '<%s reader %s>' % (self.schema.node.displayName, <char*>strStructReader(self.thisptr).cStr())
  * 
  *     def to_dict(self, verbose=False, ordered=False):             # <<<<<<<<<<<<<<
  *         return _to_dict(self, verbose, ordered)
  * 
  */
 
@@ -29971,15 +30592,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1189
+/* "capnp/lib/capnp.pyx":1226
  *         return _to_dict(self, verbose, ordered)
  * 
  *     cpdef as_builder(self, num_first_segment_words=None):             # <<<<<<<<<<<<<<
  *         """A method for casting this Reader to a Builder
  * 
  */
 
@@ -30007,15 +30628,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_builder); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1189, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_builder); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1226, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicStructReader_23as_builder)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -30024,15 +30645,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_num_first_segment_words) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_num_first_segment_words);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1189, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1226, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -30045,47 +30666,47 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1200
+  /* "capnp/lib/capnp.pyx":1237
  *         :rtype: :class:`_DynamicStructBuilder`
  *         """
  *         builder = _MallocMessageBuilder(num_first_segment_words)             # <<<<<<<<<<<<<<
  *         return builder.set_root(self)
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MallocMessageBuilder), __pyx_v_num_first_segment_words); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1200, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MallocMessageBuilder), __pyx_v_num_first_segment_words); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1237, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_builder = ((struct __pyx_obj_5capnp_3lib_5capnp__MallocMessageBuilder *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1201
+  /* "capnp/lib/capnp.pyx":1238
  *         """
  *         builder = _MallocMessageBuilder(num_first_segment_words)
  *         return builder.set_root(self)             # <<<<<<<<<<<<<<
  * 
  *     property total_size:
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__MallocMessageBuilder *)__pyx_v_builder->__pyx_base.__pyx_vtab)->__pyx_base.set_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_v_builder), ((PyObject *)__pyx_v_self), 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1201, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1238, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1201, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1238, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1189
+  /* "capnp/lib/capnp.pyx":1226
  *         return _to_dict(self, verbose, ordered)
  * 
  *     cpdef as_builder(self, num_first_segment_words=None):             # <<<<<<<<<<<<<<
  *         """A method for casting this Reader to a Builder
  * 
  */
 
@@ -30133,29 +30754,29 @@
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_num_first_segment_words);
           if (value) { values[0] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "as_builder") < 0)) __PYX_ERR(0, 1189, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "as_builder") < 0)) __PYX_ERR(0, 1226, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_num_first_segment_words = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("as_builder", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1189, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("as_builder", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1226, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructReader.as_builder", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_20_DynamicStructReader_22as_builder(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self), __pyx_v_num_first_segment_words);
 
@@ -30172,15 +30793,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_builder", 0);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.num_first_segment_words = __pyx_v_num_first_segment_words;
-  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructReader->as_builder(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1189, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructReader->as_builder(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1226, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -30189,15 +30810,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1204
+/* "capnp/lib/capnp.pyx":1241
  * 
  *     property total_size:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             size = self.thisptr.totalSize()
  *             return _MessageSize(size.wordCount, size.capCount)
  */
 
@@ -30222,51 +30843,51 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1205
+  /* "capnp/lib/capnp.pyx":1242
  *     property total_size:
  *         def __get__(self):
  *             size = self.thisptr.totalSize()             # <<<<<<<<<<<<<<
  *             return _MessageSize(size.wordCount, size.capCount)
  * 
  */
   __pyx_v_size = __pyx_v_self->thisptr.totalSize();
 
-  /* "capnp/lib/capnp.pyx":1206
+  /* "capnp/lib/capnp.pyx":1243
  *         def __get__(self):
  *             size = self.thisptr.totalSize()
  *             return _MessageSize(size.wordCount, size.capCount)             # <<<<<<<<<<<<<<
  * 
  *     def __reduce_ex__(self, proto):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_size.wordCount); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1206, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_size.wordCount); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1243, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyInt_From_unsigned_int(__pyx_v_size.capCount); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1206, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_unsigned_int(__pyx_v_size.capCount); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1243, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1206, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1243, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
   __pyx_t_1 = 0;
   __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MessageSize), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1206, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MessageSize), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1243, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1204
+  /* "capnp/lib/capnp.pyx":1241
  * 
  *     property total_size:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             size = self.thisptr.totalSize()
  *             return _MessageSize(size.wordCount, size.capCount)
  */
 
@@ -30279,15 +30900,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1208
+/* "capnp/lib/capnp.pyx":1245
  *             return _MessageSize(size.wordCount, size.capCount)
  * 
  *     def __reduce_ex__(self, proto):             # <<<<<<<<<<<<<<
  *         return _struct_reducer, (self.schema.node.id, self.as_builder().to_bytes())
  * 
  */
 
@@ -30314,73 +30935,73 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_ex__", 0);
 
-  /* "capnp/lib/capnp.pyx":1209
+  /* "capnp/lib/capnp.pyx":1246
  * 
  *     def __reduce_ex__(self, proto):
  *         return _struct_reducer, (self.schema.node.id, self.as_builder().to_bytes())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_struct_reducer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_struct_reducer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_node); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_node); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_id); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_id); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self->__pyx_vtab)->as_builder(__pyx_v_self, 0, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self->__pyx_vtab)->as_builder(__pyx_v_self, 0, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_to_bytes); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_to_bytes); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_5);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_5, function);
     }
   }
   __pyx_t_3 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_3);
   __pyx_t_2 = 0;
   __pyx_t_3 = 0;
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1209, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_5);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_5);
   __pyx_t_1 = 0;
   __pyx_t_5 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1208
+  /* "capnp/lib/capnp.pyx":1245
  *             return _MessageSize(size.wordCount, size.capCount)
  * 
  *     def __reduce_ex__(self, proto):             # <<<<<<<<<<<<<<
  *         return _struct_reducer, (self.schema.node.id, self.as_builder().to_bytes())
  * 
  */
 
@@ -30572,15 +31193,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructReader.is_root.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1230
+/* "capnp/lib/capnp.pyx":1267
  *         print getattr(person, 'field-with-hyphens') # for names that are invalid for python, use getattr
  *     """
  *     cdef _init(self, DynamicStruct_Builder other, object parent, bint isRoot=False, bint tryRegistry=True):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
@@ -30605,68 +31226,68 @@
       __pyx_v_isRoot = __pyx_optional_args->isRoot;
       if (__pyx_optional_args->__pyx_n > 1) {
         __pyx_v_tryRegistry = __pyx_optional_args->tryRegistry;
       }
     }
   }
 
-  /* "capnp/lib/capnp.pyx":1231
+  /* "capnp/lib/capnp.pyx":1268
  *     """
  *     cdef _init(self, DynamicStruct_Builder other, object parent, bint isRoot=False, bint tryRegistry=True):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         self.is_root = isRoot
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":1232
+  /* "capnp/lib/capnp.pyx":1269
  *     cdef _init(self, DynamicStruct_Builder other, object parent, bint isRoot=False, bint tryRegistry=True):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         self.is_root = isRoot
  *         self._is_written = False
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":1233
+  /* "capnp/lib/capnp.pyx":1270
  *         self.thisptr = other
  *         self._parent = parent
  *         self.is_root = isRoot             # <<<<<<<<<<<<<<
  *         self._is_written = False
  *         self._schema = None
  */
   __pyx_v_self->is_root = __pyx_v_isRoot;
 
-  /* "capnp/lib/capnp.pyx":1234
+  /* "capnp/lib/capnp.pyx":1271
  *         self._parent = parent
  *         self.is_root = isRoot
  *         self._is_written = False             # <<<<<<<<<<<<<<
  *         self._schema = None
  * 
  */
   __pyx_v_self->_is_written = 0;
 
-  /* "capnp/lib/capnp.pyx":1235
+  /* "capnp/lib/capnp.pyx":1272
  *         self.is_root = isRoot
  *         self._is_written = False
  *         self._schema = None             # <<<<<<<<<<<<<<
  * 
  *         if tryRegistry and len(_type_registry) > 0:
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->_schema);
   __Pyx_DECREF(__pyx_v_self->_schema);
   __pyx_v_self->_schema = Py_None;
 
-  /* "capnp/lib/capnp.pyx":1237
+  /* "capnp/lib/capnp.pyx":1274
  *         self._schema = None
  * 
  *         if tryRegistry and len(_type_registry) > 0:             # <<<<<<<<<<<<<<
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:
  */
   __pyx_t_2 = (__pyx_v_tryRegistry != 0);
@@ -30675,112 +31296,112 @@
     __pyx_t_1 = __pyx_t_2;
     goto __pyx_L4_bool_binop_done;
   }
   __pyx_t_3 = __pyx_v_5capnp_3lib_5capnp__type_registry;
   __Pyx_INCREF(__pyx_t_3);
   if (unlikely(__pyx_t_3 == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
-    __PYX_ERR(0, 1237, __pyx_L1_error)
+    __PYX_ERR(0, 1274, __pyx_L1_error)
   }
-  __pyx_t_4 = PyDict_Size(__pyx_t_3); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1237, __pyx_L1_error)
+  __pyx_t_4 = PyDict_Size(__pyx_t_3); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 1274, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_2 = ((__pyx_t_4 > 0) != 0);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":1238
+    /* "capnp/lib/capnp.pyx":1275
  * 
  *         if tryRegistry and len(_type_registry) > 0:
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)             # <<<<<<<<<<<<<<
  *             if registered_type:
  *                 return registered_type[1](self)
  */
     if (unlikely(__pyx_v_5capnp_3lib_5capnp__type_registry == Py_None)) {
       PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "get");
-      __PYX_ERR(0, 1238, __pyx_L1_error)
+      __PYX_ERR(0, 1275, __pyx_L1_error)
     }
-    __pyx_t_3 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getSchema().getProto().getId()); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1238, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_From_uint64_t(__pyx_v_self->thisptr.getSchema().getProto().getId()); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1275, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_5 = __Pyx_PyDict_GetItemDefault(__pyx_v_5capnp_3lib_5capnp__type_registry, __pyx_t_3, Py_None); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1238, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyDict_GetItemDefault(__pyx_v_5capnp_3lib_5capnp__type_registry, __pyx_t_3, Py_None); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1275, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_v_registered_type = __pyx_t_5;
     __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":1239
+    /* "capnp/lib/capnp.pyx":1276
  *         if tryRegistry and len(_type_registry) > 0:
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:             # <<<<<<<<<<<<<<
  *                 return registered_type[1](self)
  *         return self
  */
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_registered_type); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 1239, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_registered_type); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 1276, __pyx_L1_error)
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":1240
+      /* "capnp/lib/capnp.pyx":1277
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:
  *                 return registered_type[1](self)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
       __Pyx_XDECREF(__pyx_r);
-      __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_registered_type, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1240, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_registered_type, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1277, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __pyx_t_6 = NULL;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
         __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_3);
         if (likely(__pyx_t_6)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
           __Pyx_INCREF(__pyx_t_6);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_3, function);
         }
       }
       __pyx_t_5 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_6, ((PyObject *)__pyx_v_self)) : __Pyx_PyObject_CallOneArg(__pyx_t_3, ((PyObject *)__pyx_v_self));
       __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1240, __pyx_L1_error)
+      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1277, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __pyx_r = __pyx_t_5;
       __pyx_t_5 = 0;
       goto __pyx_L0;
 
-      /* "capnp/lib/capnp.pyx":1239
+      /* "capnp/lib/capnp.pyx":1276
  *         if tryRegistry and len(_type_registry) > 0:
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:             # <<<<<<<<<<<<<<
  *                 return registered_type[1](self)
  *         return self
  */
     }
 
-    /* "capnp/lib/capnp.pyx":1237
+    /* "capnp/lib/capnp.pyx":1274
  *         self._schema = None
  * 
  *         if tryRegistry and len(_type_registry) > 0:             # <<<<<<<<<<<<<<
  *             registered_type = _type_registry.get(self.thisptr.getId(), None)
  *             if registered_type:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1241
+  /* "capnp/lib/capnp.pyx":1278
  *             if registered_type:
  *                 return registered_type[1](self)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cdef _check_write(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1230
+  /* "capnp/lib/capnp.pyx":1267
  *         print getattr(person, 'field-with-hyphens') # for names that are invalid for python, use getattr
  *     """
  *     cdef _init(self, DynamicStruct_Builder other, object parent, bint isRoot=False, bint tryRegistry=True):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
@@ -30794,15 +31415,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_registered_type);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1243
+/* "capnp/lib/capnp.pyx":1280
  *         return self
  * 
  *     cdef _check_write(self):             # <<<<<<<<<<<<<<
  *         if not self.is_root:
  *             raise KjException("You can only call write() on the message's root struct.")
  */
 
@@ -30814,110 +31435,110 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_check_write", 0);
 
-  /* "capnp/lib/capnp.pyx":1244
+  /* "capnp/lib/capnp.pyx":1281
  * 
  *     cdef _check_write(self):
  *         if not self.is_root:             # <<<<<<<<<<<<<<
  *             raise KjException("You can only call write() on the message's root struct.")
  *         if self._is_written:
  */
   __pyx_t_1 = ((!(__pyx_v_self->is_root != 0)) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":1245
+    /* "capnp/lib/capnp.pyx":1282
  *     cdef _check_write(self):
  *         if not self.is_root:
  *             raise KjException("You can only call write() on the message's root struct.")             # <<<<<<<<<<<<<<
  *         if self._is_written:
  *             _warnings.warn(
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1245, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1282, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_kp_s_You_can_only_call_write_on_the_m) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_kp_s_You_can_only_call_write_on_the_m);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1245, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1282, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 1245, __pyx_L1_error)
+    __PYX_ERR(0, 1282, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1244
+    /* "capnp/lib/capnp.pyx":1281
  * 
  *     cdef _check_write(self):
  *         if not self.is_root:             # <<<<<<<<<<<<<<
  *             raise KjException("You can only call write() on the message's root struct.")
  *         if self._is_written:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1246
+  /* "capnp/lib/capnp.pyx":1283
  *         if not self.is_root:
  *             raise KjException("You can only call write() on the message's root struct.")
  *         if self._is_written:             # <<<<<<<<<<<<<<
  *             _warnings.warn(
  *                 "This message has already been written once. Be very careful that you're not setting "
  */
   __pyx_t_1 = (__pyx_v_self->_is_written != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":1247
+    /* "capnp/lib/capnp.pyx":1284
  *             raise KjException("You can only call write() on the message's root struct.")
  *         if self._is_written:
  *             _warnings.warn(             # <<<<<<<<<<<<<<
  *                 "This message has already been written once. Be very careful that you're not setting "
  *                 "Text/Struct/List fields more than once, since that will cause memory leaks "
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_warnings); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1247, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_warnings); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1284, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_warn); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1247, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_warn); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1284, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_3, __pyx_kp_s_This_message_has_already_been_wr) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_kp_s_This_message_has_already_been_wr);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1247, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1284, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":1246
+    /* "capnp/lib/capnp.pyx":1283
  *         if not self.is_root:
  *             raise KjException("You can only call write() on the message's root struct.")
  *         if self._is_written:             # <<<<<<<<<<<<<<
  *             _warnings.warn(
  *                 "This message has already been written once. Be very careful that you're not setting "
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1243
+  /* "capnp/lib/capnp.pyx":1280
  *         return self
  * 
  *     cdef _check_write(self):             # <<<<<<<<<<<<<<
  *         if not self.is_root:
  *             raise KjException("You can only call write() on the message's root struct.")
  */
 
@@ -30932,15 +31553,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1253
+/* "capnp/lib/capnp.pyx":1290
  *                 "calling the `clear_write_flag` method of this object after every write.")
  * 
  *     def write(self, file):             # <<<<<<<<<<<<<<
  *         """Writes the struct's containing message to the given file object in unpacked binary format.
  * 
  */
 
@@ -30968,49 +31589,49 @@
   PyObject *__pyx_t_5 = NULL;
   int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("write", 0);
 
-  /* "capnp/lib/capnp.pyx":1266
+  /* "capnp/lib/capnp.pyx":1303
  *         :Raises: :exc:`KjException` if this isn't the message's root struct.
  *         """
  *         self._check_write()             # <<<<<<<<<<<<<<
  *         _write_message_to_fd(file.fileno(), self._parent)
  *         self._is_written = True
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1266, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1303, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1267
+  /* "capnp/lib/capnp.pyx":1304
  *         """
  *         self._check_write()
  *         _write_message_to_fd(file.fileno(), self._parent)             # <<<<<<<<<<<<<<
  *         self._is_written = True
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_write_message_to_fd); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1267, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_write_message_to_fd); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1304, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1267, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1304, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __pyx_t_5 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_5)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_4, function);
     }
   }
   __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1267, __pyx_L1_error)
+  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1304, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_4 = NULL;
   __pyx_t_6 = 0;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_4)) {
@@ -31020,58 +31641,58 @@
       __Pyx_DECREF_SET(__pyx_t_2, function);
       __pyx_t_6 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_t_3, __pyx_v_self->_parent};
-    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1267, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1304, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_t_3, __pyx_v_self->_parent};
-    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1267, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1304, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   } else
   #endif
   {
-    __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1267, __pyx_L1_error)
+    __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1304, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     if (__pyx_t_4) {
       __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
     }
     __Pyx_GIVEREF(__pyx_t_3);
     PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_6, __pyx_t_3);
     __Pyx_INCREF(__pyx_v_self->_parent);
     __Pyx_GIVEREF(__pyx_v_self->_parent);
     PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_6, __pyx_v_self->_parent);
     __pyx_t_3 = 0;
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1267, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1304, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1268
+  /* "capnp/lib/capnp.pyx":1305
  *         self._check_write()
  *         _write_message_to_fd(file.fileno(), self._parent)
  *         self._is_written = True             # <<<<<<<<<<<<<<
  * 
  *     async def write_async(self, _AsyncIoStream stream):
  */
   __pyx_v_self->_is_written = 1;
 
-  /* "capnp/lib/capnp.pyx":1253
+  /* "capnp/lib/capnp.pyx":1290
  *                 "calling the `clear_write_flag` method of this object after every write.")
  * 
  *     def write(self, file):             # <<<<<<<<<<<<<<
  *         """Writes the struct's containing message to the given file object in unpacked binary format.
  * 
  */
 
@@ -31089,15 +31710,15 @@
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_21_DynamicStructBuilder_4generator(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":1270
+/* "capnp/lib/capnp.pyx":1307
  *         self._is_written = True
  * 
  *     async def write_async(self, _AsyncIoStream stream):             # <<<<<<<<<<<<<<
  *         """Async version of of write().
  * 
  */
 
@@ -31107,15 +31728,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_3write_async(PyObject *__pyx_v_self, PyObject *__pyx_v_stream) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("write_async (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_stream), __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, 1, "stream", 0))) __PYX_ERR(0, 1270, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_stream), __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, 1, "stream", 0))) __PYX_ERR(0, 1307, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_2write_async(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)__pyx_v_stream));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -31131,26 +31752,26 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("write_async", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 1270, __pyx_L1_error)
+    __PYX_ERR(0, 1307, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
   __Pyx_INCREF((PyObject *)__pyx_cur_scope->__pyx_v_self);
   __Pyx_GIVEREF((PyObject *)__pyx_cur_scope->__pyx_v_self);
   __pyx_cur_scope->__pyx_v_stream = __pyx_v_stream;
   __Pyx_INCREF((PyObject *)__pyx_cur_scope->__pyx_v_stream);
   __Pyx_GIVEREF((PyObject *)__pyx_cur_scope->__pyx_v_stream);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_21_DynamicStructBuilder_4generator, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_write_async, __pyx_n_s_DynamicStructBuilder_write_asyn, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 1270, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_21_DynamicStructBuilder_4generator, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_write_async, __pyx_n_s_DynamicStructBuilder_write_asyn, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 1307, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -31176,67 +31797,67 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L4_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1270, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1307, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1283
+  /* "capnp/lib/capnp.pyx":1320
  *         :Raises: :exc:`KjException` if this isn't the message's root struct.
  *         """
  *         self._check_write()             # <<<<<<<<<<<<<<
  *         await _voidpromise_to_asyncio(
  *             writeMessage(deref(stream.thisptr), deref((<_MessageBuilder>self._parent).thisptr)))
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_cur_scope->__pyx_v_self->__pyx_vtab)->_check_write(__pyx_cur_scope->__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1283, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_cur_scope->__pyx_v_self->__pyx_vtab)->_check_write(__pyx_cur_scope->__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1320, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1284
+  /* "capnp/lib/capnp.pyx":1321
  *         """
  *         self._check_write()
  *         await _voidpromise_to_asyncio(             # <<<<<<<<<<<<<<
  *             writeMessage(deref(stream.thisptr), deref((<_MessageBuilder>self._parent).thisptr)))
  *         self._is_written = True
  */
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__voidpromise_to_asyncio( ::capnp::writeMessage((*__pyx_cur_scope->__pyx_v_stream->thisptr), (*((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_cur_scope->__pyx_v_self->_parent)->thisptr))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1284, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__voidpromise_to_asyncio( ::capnp::writeMessage((*__pyx_cur_scope->__pyx_v_stream->thisptr), (*((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_cur_scope->__pyx_v_self->_parent)->thisptr))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1321, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_XGOTREF(__pyx_r);
   if (likely(__pyx_r)) {
     __Pyx_XGIVEREF(__pyx_r);
     __Pyx_RefNannyFinishContext();
     __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
     /* return from generator, awaiting value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L4_resume_from_await:;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1284, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1321, __pyx_L1_error)
   } else {
     PyObject* exc_type = __Pyx_PyErr_Occurred();
     if (exc_type) {
       if (likely(exc_type == PyExc_StopIteration || (exc_type != PyExc_GeneratorExit && __Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration)))) PyErr_Clear();
-      else __PYX_ERR(0, 1284, __pyx_L1_error)
+      else __PYX_ERR(0, 1321, __pyx_L1_error)
     }
   }
 
-  /* "capnp/lib/capnp.pyx":1286
+  /* "capnp/lib/capnp.pyx":1323
  *         await _voidpromise_to_asyncio(
  *             writeMessage(deref(stream.thisptr), deref((<_MessageBuilder>self._parent).thisptr)))
  *         self._is_written = True             # <<<<<<<<<<<<<<
  * 
  *     def write_packed(self, file):
  */
   __pyx_cur_scope->__pyx_v_self->_is_written = 1;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":1270
+  /* "capnp/lib/capnp.pyx":1307
  *         self._is_written = True
  * 
  *     async def write_async(self, _AsyncIoStream stream):             # <<<<<<<<<<<<<<
  *         """Async version of of write().
  * 
  */
 
@@ -31253,15 +31874,15 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1288
+/* "capnp/lib/capnp.pyx":1325
  *         self._is_written = True
  * 
  *     def write_packed(self, file):             # <<<<<<<<<<<<<<
  *         """Writes the struct's containing message to the given file object in packed binary format.
  * 
  */
 
@@ -31289,49 +31910,49 @@
   PyObject *__pyx_t_5 = NULL;
   int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("write_packed", 0);
 
-  /* "capnp/lib/capnp.pyx":1301
+  /* "capnp/lib/capnp.pyx":1338
  *         :Raises: :exc:`KjException` if this isn't the message's root struct.
  *         """
  *         self._check_write()             # <<<<<<<<<<<<<<
  *         _write_packed_message_to_fd(file.fileno(), self._parent)
  *         self._is_written = True
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1301, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1338, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1302
+  /* "capnp/lib/capnp.pyx":1339
  *         """
  *         self._check_write()
  *         _write_packed_message_to_fd(file.fileno(), self._parent)             # <<<<<<<<<<<<<<
  *         self._is_written = True
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_write_packed_message_to_fd); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1302, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_write_packed_message_to_fd); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1339, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1302, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1339, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __pyx_t_5 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_5)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_4, function);
     }
   }
   __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1302, __pyx_L1_error)
+  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1339, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_4 = NULL;
   __pyx_t_6 = 0;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_4)) {
@@ -31341,58 +31962,58 @@
       __Pyx_DECREF_SET(__pyx_t_2, function);
       __pyx_t_6 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_t_3, __pyx_v_self->_parent};
-    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1302, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1339, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_t_3, __pyx_v_self->_parent};
-    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1302, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1339, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   } else
   #endif
   {
-    __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1302, __pyx_L1_error)
+    __pyx_t_5 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1339, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     if (__pyx_t_4) {
       __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_4); __pyx_t_4 = NULL;
     }
     __Pyx_GIVEREF(__pyx_t_3);
     PyTuple_SET_ITEM(__pyx_t_5, 0+__pyx_t_6, __pyx_t_3);
     __Pyx_INCREF(__pyx_v_self->_parent);
     __Pyx_GIVEREF(__pyx_v_self->_parent);
     PyTuple_SET_ITEM(__pyx_t_5, 1+__pyx_t_6, __pyx_v_self->_parent);
     __pyx_t_3 = 0;
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1302, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_5, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1339, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1303
+  /* "capnp/lib/capnp.pyx":1340
  *         self._check_write()
  *         _write_packed_message_to_fd(file.fileno(), self._parent)
  *         self._is_written = True             # <<<<<<<<<<<<<<
  * 
  *     cpdef to_bytes(_DynamicStructBuilder self) except +reraise_kj_exception:
  */
   __pyx_v_self->_is_written = 1;
 
-  /* "capnp/lib/capnp.pyx":1288
+  /* "capnp/lib/capnp.pyx":1325
  *         self._is_written = True
  * 
  *     def write_packed(self, file):             # <<<<<<<<<<<<<<
  *         """Writes the struct's containing message to the given file object in packed binary format.
  * 
  */
 
@@ -31409,15 +32030,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1305
+/* "capnp/lib/capnp.pyx":1342
  *         self._is_written = True
  * 
  *     cpdef to_bytes(_DynamicStructBuilder self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """Returns the struct's containing message as a Python bytes object in the unpacked binary format.
  * 
  */
 
@@ -31442,15 +32063,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_to_bytes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1305, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_to_bytes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1342, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_8to_bytes)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -31459,15 +32080,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1305, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1342, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -31480,90 +32101,90 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1314
+  /* "capnp/lib/capnp.pyx":1351
  *         :Raises: :exc:`KjException` if this isn't the message's root struct.
  *         """
  *         self._check_write()             # <<<<<<<<<<<<<<
  *         cdef _MessageBuilder builder = self._parent
  *         array = schema_cpp.messageToFlatArray(deref(builder.thisptr))
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1314, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1351, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1315
+  /* "capnp/lib/capnp.pyx":1352
  *         """
  *         self._check_write()
  *         cdef _MessageBuilder builder = self._parent             # <<<<<<<<<<<<<<
  *         array = schema_cpp.messageToFlatArray(deref(builder.thisptr))
  *         cdef const char* ptr = <const char *>array.begin()
  */
-  if (!(likely(((__pyx_v_self->_parent) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_self->_parent, __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder))))) __PYX_ERR(0, 1315, __pyx_L1_error)
+  if (!(likely(((__pyx_v_self->_parent) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_self->_parent, __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder))))) __PYX_ERR(0, 1352, __pyx_L1_error)
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_builder = ((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1316
+  /* "capnp/lib/capnp.pyx":1353
  *         self._check_write()
  *         cdef _MessageBuilder builder = self._parent
  *         array = schema_cpp.messageToFlatArray(deref(builder.thisptr))             # <<<<<<<<<<<<<<
  *         cdef const char* ptr = <const char *>array.begin()
  *         cdef bytes ret = ptr[:8*array.size()]
  */
   __pyx_v_array =  ::capnp::messageToFlatArray((*__pyx_v_builder->thisptr));
 
-  /* "capnp/lib/capnp.pyx":1317
+  /* "capnp/lib/capnp.pyx":1354
  *         cdef _MessageBuilder builder = self._parent
  *         array = schema_cpp.messageToFlatArray(deref(builder.thisptr))
  *         cdef const char* ptr = <const char *>array.begin()             # <<<<<<<<<<<<<<
  *         cdef bytes ret = ptr[:8*array.size()]
  *         self._is_written = True
  */
   __pyx_v_ptr = ((char const *)__pyx_v_array.begin());
 
-  /* "capnp/lib/capnp.pyx":1318
+  /* "capnp/lib/capnp.pyx":1355
  *         array = schema_cpp.messageToFlatArray(deref(builder.thisptr))
  *         cdef const char* ptr = <const char *>array.begin()
  *         cdef bytes ret = ptr[:8*array.size()]             # <<<<<<<<<<<<<<
  *         self._is_written = True
  *         return ret
  */
-  __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(__pyx_v_ptr + 0, (8 * __pyx_v_array.size()) - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1318, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(__pyx_v_ptr + 0, (8 * __pyx_v_array.size()) - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1355, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_ret = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1319
+  /* "capnp/lib/capnp.pyx":1356
  *         cdef const char* ptr = <const char *>array.begin()
  *         cdef bytes ret = ptr[:8*array.size()]
  *         self._is_written = True             # <<<<<<<<<<<<<<
  *         return ret
  * 
  */
   __pyx_v_self->_is_written = 1;
 
-  /* "capnp/lib/capnp.pyx":1320
+  /* "capnp/lib/capnp.pyx":1357
  *         cdef bytes ret = ptr[:8*array.size()]
  *         self._is_written = True
  *         return ret             # <<<<<<<<<<<<<<
  * 
  *     cpdef to_segments(_DynamicStructBuilder self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_ret);
   __pyx_r = __pyx_v_ret;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1305
+  /* "capnp/lib/capnp.pyx":1342
  *         self._is_written = True
  * 
  *     cpdef to_bytes(_DynamicStructBuilder self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """Returns the struct's containing message as a Python bytes object in the unpacked binary format.
  * 
  */
 
@@ -31604,18 +32225,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_bytes", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_to_bytes(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1305, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1342, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1305, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1342, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -31625,15 +32246,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1322
+/* "capnp/lib/capnp.pyx":1359
  *         return ret
  * 
  *     cpdef to_segments(_DynamicStructBuilder self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """Returns the struct's containing message as a Python list of Python bytes objects.
  * 
  */
 
@@ -31656,15 +32277,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_to_segments); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1322, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_to_segments); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1359, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_10to_segments)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -31673,15 +32294,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1322, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1359, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -31694,69 +32315,69 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1331
+  /* "capnp/lib/capnp.pyx":1368
  *         :rtype: list
  *         """
  *         self._check_write()             # <<<<<<<<<<<<<<
  *         cdef _MessageBuilder builder = self._parent
  *         segments = builder.get_segments_for_output()
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1331, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1368, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1332
+  /* "capnp/lib/capnp.pyx":1369
  *         """
  *         self._check_write()
  *         cdef _MessageBuilder builder = self._parent             # <<<<<<<<<<<<<<
  *         segments = builder.get_segments_for_output()
  *         return segments
  */
-  if (!(likely(((__pyx_v_self->_parent) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_self->_parent, __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder))))) __PYX_ERR(0, 1332, __pyx_L1_error)
+  if (!(likely(((__pyx_v_self->_parent) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_self->_parent, __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder))))) __PYX_ERR(0, 1369, __pyx_L1_error)
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_builder = ((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1333
+  /* "capnp/lib/capnp.pyx":1370
  *         self._check_write()
  *         cdef _MessageBuilder builder = self._parent
  *         segments = builder.get_segments_for_output()             # <<<<<<<<<<<<<<
  *         return segments
  * 
  */
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageBuilder *)__pyx_v_builder->__pyx_vtab)->get_segments_for_output(__pyx_v_builder, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1333, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1370, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1333, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1370, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_segments = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1334
+  /* "capnp/lib/capnp.pyx":1371
  *         cdef _MessageBuilder builder = self._parent
  *         segments = builder.get_segments_for_output()
  *         return segments             # <<<<<<<<<<<<<<
  * 
  *     cpdef _to_bytes_packed_helper(_DynamicStructBuilder self, word_count) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_segments);
   __pyx_r = __pyx_v_segments;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1322
+  /* "capnp/lib/capnp.pyx":1359
  *         return ret
  * 
  *     cpdef to_segments(_DynamicStructBuilder self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """Returns the struct's containing message as a Python list of Python bytes objects.
  * 
  */
 
@@ -31797,18 +32418,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_segments", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_to_segments(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1322, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1359, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1322, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1359, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -31818,15 +32439,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1336
+/* "capnp/lib/capnp.pyx":1373
  *         return segments
  * 
  *     cpdef _to_bytes_packed_helper(_DynamicStructBuilder self, word_count) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _MessageBuilder builder = self._parent
  *         array = helpers.messageToPackedBytes(deref(builder.thisptr), word_count)
  */
 
@@ -31852,15 +32473,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_to_bytes_packed_helper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1336, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_to_bytes_packed_helper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1373, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_12_to_bytes_packed_helper)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -31869,15 +32490,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_word_count) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_word_count);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1336, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1373, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -31890,71 +32511,71 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1337
+  /* "capnp/lib/capnp.pyx":1374
  * 
  *     cpdef _to_bytes_packed_helper(_DynamicStructBuilder self, word_count) except +reraise_kj_exception:
  *         cdef _MessageBuilder builder = self._parent             # <<<<<<<<<<<<<<
  *         array = helpers.messageToPackedBytes(deref(builder.thisptr), word_count)
  *         cdef const char* ptr = <const char *>array.begin()
  */
-  if (!(likely(((__pyx_v_self->_parent) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_self->_parent, __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder))))) __PYX_ERR(0, 1337, __pyx_L1_error)
+  if (!(likely(((__pyx_v_self->_parent) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_self->_parent, __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder))))) __PYX_ERR(0, 1374, __pyx_L1_error)
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_builder = ((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1338
+  /* "capnp/lib/capnp.pyx":1375
  *     cpdef _to_bytes_packed_helper(_DynamicStructBuilder self, word_count) except +reraise_kj_exception:
  *         cdef _MessageBuilder builder = self._parent
  *         array = helpers.messageToPackedBytes(deref(builder.thisptr), word_count)             # <<<<<<<<<<<<<<
  *         cdef const char* ptr = <const char *>array.begin()
  *         cdef bytes ret = ptr[:array.size()]
  */
-  __pyx_t_5 = __Pyx_PyInt_As_size_t(__pyx_v_word_count); if (unlikely((__pyx_t_5 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 1338, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyInt_As_size_t(__pyx_v_word_count); if (unlikely((__pyx_t_5 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 1375, __pyx_L1_error)
   __pyx_v_array = messageToPackedBytes((*__pyx_v_builder->thisptr), __pyx_t_5);
 
-  /* "capnp/lib/capnp.pyx":1339
+  /* "capnp/lib/capnp.pyx":1376
  *         cdef _MessageBuilder builder = self._parent
  *         array = helpers.messageToPackedBytes(deref(builder.thisptr), word_count)
  *         cdef const char* ptr = <const char *>array.begin()             # <<<<<<<<<<<<<<
  *         cdef bytes ret = ptr[:array.size()]
  *         return ret
  */
   __pyx_v_ptr = ((char const *)__pyx_v_array.begin());
 
-  /* "capnp/lib/capnp.pyx":1340
+  /* "capnp/lib/capnp.pyx":1377
  *         array = helpers.messageToPackedBytes(deref(builder.thisptr), word_count)
  *         cdef const char* ptr = <const char *>array.begin()
  *         cdef bytes ret = ptr[:array.size()]             # <<<<<<<<<<<<<<
  *         return ret
  * 
  */
-  __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(__pyx_v_ptr + 0, __pyx_v_array.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1340, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(__pyx_v_ptr + 0, __pyx_v_array.size() - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1377, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_ret = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1341
+  /* "capnp/lib/capnp.pyx":1378
  *         cdef const char* ptr = <const char *>array.begin()
  *         cdef bytes ret = ptr[:array.size()]
  *         return ret             # <<<<<<<<<<<<<<
  * 
  *     cpdef to_bytes_packed(_DynamicStructBuilder self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_ret);
   __pyx_r = __pyx_v_ret;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1336
+  /* "capnp/lib/capnp.pyx":1373
  *         return segments
  * 
  *     cpdef _to_bytes_packed_helper(_DynamicStructBuilder self, word_count) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _MessageBuilder builder = self._parent
  *         array = helpers.messageToPackedBytes(deref(builder.thisptr), word_count)
  */
 
@@ -31995,18 +32616,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_to_bytes_packed_helper", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__to_bytes_packed_helper(__pyx_v_self, __pyx_v_word_count, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1336, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1373, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1336, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1373, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -32016,15 +32637,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1343
+/* "capnp/lib/capnp.pyx":1380
  *         return ret
  * 
  *     cpdef to_bytes_packed(_DynamicStructBuilder self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self._check_write()
  *         word_count = self.total_size.word_count + 2
  */
 
@@ -32054,15 +32675,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_to_bytes_packed); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1343, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_to_bytes_packed); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1380, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_14to_bytes_packed)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -32071,15 +32692,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1343, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1380, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -32092,44 +32713,44 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1344
+  /* "capnp/lib/capnp.pyx":1381
  * 
  *     cpdef to_bytes_packed(_DynamicStructBuilder self) except +reraise_kj_exception:
  *         self._check_write()             # <<<<<<<<<<<<<<
  *         word_count = self.total_size.word_count + 2
  * 
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1344, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_check_write(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1381, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1345
+  /* "capnp/lib/capnp.pyx":1382
  *     cpdef to_bytes_packed(_DynamicStructBuilder self) except +reraise_kj_exception:
  *         self._check_write()
  *         word_count = self.total_size.word_count + 2             # <<<<<<<<<<<<<<
  * 
  *         try:
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_total_size); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1345, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_total_size); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_word_count); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1345, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_word_count); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_2, 2, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1345, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_AddObjC(__pyx_t_2, __pyx_int_2, 2, 0, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_word_count = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1347
+  /* "capnp/lib/capnp.pyx":1384
  *         word_count = self.total_size.word_count + 2
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             ret = self._to_bytes_packed_helper(word_count)
  *         except Exception as e:
  */
   {
@@ -32137,33 +32758,33 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_5, &__pyx_t_6, &__pyx_t_7);
     __Pyx_XGOTREF(__pyx_t_5);
     __Pyx_XGOTREF(__pyx_t_6);
     __Pyx_XGOTREF(__pyx_t_7);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1348
+      /* "capnp/lib/capnp.pyx":1385
  * 
  *         try:
  *             ret = self._to_bytes_packed_helper(word_count)             # <<<<<<<<<<<<<<
  *         except Exception as e:
  *             if 'backing array was not large enough' in str(e):
  */
       try {
         __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_to_bytes_packed_helper(__pyx_v_self, __pyx_v_word_count, 0);
-        if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1348, __pyx_L3_error)
+        if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1385, __pyx_L3_error)
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 1348, __pyx_L3_error)
+        __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 1385, __pyx_L3_error)
       }
       __Pyx_GOTREF(__pyx_t_1);
       __pyx_v_ret = __pyx_t_1;
       __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":1347
+      /* "capnp/lib/capnp.pyx":1384
  *         word_count = self.total_size.word_count + 2
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             ret = self._to_bytes_packed_helper(word_count)
  *         except Exception as e:
  */
     }
@@ -32173,110 +32794,110 @@
     goto __pyx_L8_try_end;
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1349
+    /* "capnp/lib/capnp.pyx":1386
  *         try:
  *             ret = self._to_bytes_packed_helper(word_count)
  *         except Exception as e:             # <<<<<<<<<<<<<<
  *             if 'backing array was not large enough' in str(e):
  *                 word_count *= 2
  */
     __pyx_t_8 = __Pyx_PyErr_ExceptionMatches(((PyObject *)(&((PyTypeObject*)PyExc_Exception)[0])));
     if (__pyx_t_8) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.to_bytes_packed", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) __PYX_ERR(0, 1349, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) __PYX_ERR(0, 1386, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __pyx_v_e = __pyx_t_2;
 
-      /* "capnp/lib/capnp.pyx":1350
+      /* "capnp/lib/capnp.pyx":1387
  *             ret = self._to_bytes_packed_helper(word_count)
  *         except Exception as e:
  *             if 'backing array was not large enough' in str(e):             # <<<<<<<<<<<<<<
  *                 word_count *= 2
  *                 ret = self._to_bytes_packed_helper(word_count)
  */
-      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1350, __pyx_L5_except_error)
+      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1387, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_9 = (__Pyx_PySequence_ContainsTF(__pyx_kp_s_backing_array_was_not_large_enou, __pyx_t_4, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1350, __pyx_L5_except_error)
+      __pyx_t_9 = (__Pyx_PySequence_ContainsTF(__pyx_kp_s_backing_array_was_not_large_enou, __pyx_t_4, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 1387, __pyx_L5_except_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __pyx_t_10 = (__pyx_t_9 != 0);
       if (likely(__pyx_t_10)) {
 
-        /* "capnp/lib/capnp.pyx":1351
+        /* "capnp/lib/capnp.pyx":1388
  *         except Exception as e:
  *             if 'backing array was not large enough' in str(e):
  *                 word_count *= 2             # <<<<<<<<<<<<<<
  *                 ret = self._to_bytes_packed_helper(word_count)
  *             else:
  */
-        __pyx_t_4 = PyNumber_InPlaceMultiply(__pyx_v_word_count, __pyx_int_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1351, __pyx_L5_except_error)
+        __pyx_t_4 = PyNumber_InPlaceMultiply(__pyx_v_word_count, __pyx_int_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1388, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF_SET(__pyx_v_word_count, __pyx_t_4);
         __pyx_t_4 = 0;
 
-        /* "capnp/lib/capnp.pyx":1352
+        /* "capnp/lib/capnp.pyx":1389
  *             if 'backing array was not large enough' in str(e):
  *                 word_count *= 2
  *                 ret = self._to_bytes_packed_helper(word_count)             # <<<<<<<<<<<<<<
  *             else:
  *                 raise
  */
         try {
           __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_to_bytes_packed_helper(__pyx_v_self, __pyx_v_word_count, 0);
-          if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1352, __pyx_L5_except_error)
+          if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1389, __pyx_L5_except_error)
         } catch(...) {
-          reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-          __PYX_ERR(0, 1352, __pyx_L5_except_error)
+          __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+          __PYX_ERR(0, 1389, __pyx_L5_except_error)
         }
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_XDECREF_SET(__pyx_v_ret, __pyx_t_4);
         __pyx_t_4 = 0;
 
-        /* "capnp/lib/capnp.pyx":1350
+        /* "capnp/lib/capnp.pyx":1387
  *             ret = self._to_bytes_packed_helper(word_count)
  *         except Exception as e:
  *             if 'backing array was not large enough' in str(e):             # <<<<<<<<<<<<<<
  *                 word_count *= 2
  *                 ret = self._to_bytes_packed_helper(word_count)
  */
         goto __pyx_L11;
       }
 
-      /* "capnp/lib/capnp.pyx":1354
+      /* "capnp/lib/capnp.pyx":1391
  *                 ret = self._to_bytes_packed_helper(word_count)
  *             else:
  *                 raise             # <<<<<<<<<<<<<<
  * 
  *         self._is_written = True
  */
       /*else*/ {
         __Pyx_GIVEREF(__pyx_t_1);
         __Pyx_GIVEREF(__pyx_t_2);
         __Pyx_XGIVEREF(__pyx_t_3);
         __Pyx_ErrRestoreWithState(__pyx_t_1, __pyx_t_2, __pyx_t_3);
         __pyx_t_1 = 0; __pyx_t_2 = 0; __pyx_t_3 = 0; 
-        __PYX_ERR(0, 1354, __pyx_L5_except_error)
+        __PYX_ERR(0, 1391, __pyx_L5_except_error)
       }
       __pyx_L11:;
       __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
       __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
       __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
       goto __pyx_L4_exception_handled;
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1347
+    /* "capnp/lib/capnp.pyx":1384
  *         word_count = self.total_size.word_count + 2
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             ret = self._to_bytes_packed_helper(word_count)
  *         except Exception as e:
  */
     __Pyx_XGIVEREF(__pyx_t_5);
@@ -32288,36 +32909,36 @@
     __Pyx_XGIVEREF(__pyx_t_5);
     __Pyx_XGIVEREF(__pyx_t_6);
     __Pyx_XGIVEREF(__pyx_t_7);
     __Pyx_ExceptionReset(__pyx_t_5, __pyx_t_6, __pyx_t_7);
     __pyx_L8_try_end:;
   }
 
-  /* "capnp/lib/capnp.pyx":1356
+  /* "capnp/lib/capnp.pyx":1393
  *                 raise
  * 
  *         self._is_written = True             # <<<<<<<<<<<<<<
  *         return ret
  * 
  */
   __pyx_v_self->_is_written = 1;
 
-  /* "capnp/lib/capnp.pyx":1357
+  /* "capnp/lib/capnp.pyx":1394
  * 
  *         self._is_written = True
  *         return ret             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get(self, field):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_ret);
   __pyx_r = __pyx_v_ret;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1343
+  /* "capnp/lib/capnp.pyx":1380
  *         return ret
  * 
  *     cpdef to_bytes_packed(_DynamicStructBuilder self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self._check_write()
  *         word_count = self.total_size.word_count + 2
  */
 
@@ -32359,18 +32980,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_bytes_packed", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_to_bytes_packed(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1343, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1380, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1343, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1380, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -32380,15 +33001,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1359
+/* "capnp/lib/capnp.pyx":1396
  *         return ret
  * 
  *     cpdef _get(self, field):             # <<<<<<<<<<<<<<
  *         return to_python_builder(self.thisptr.get(field), self._parent)
  * 
  */
 
@@ -32411,15 +33032,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1359, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1396, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_16_get)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -32428,15 +33049,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1359, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1396, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -32449,39 +33070,39 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1360
+  /* "capnp/lib/capnp.pyx":1397
  * 
  *     cpdef _get(self, field):
  *         return to_python_builder(self.thisptr.get(field), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get_by_field(self, _StructSchemaField field):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1360, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1397, __pyx_L1_error)
   try {
     __pyx_t_6 = __pyx_v_self->thisptr.get(__pyx_t_5);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1360, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1397, __pyx_L1_error)
   }
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_6), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1360, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_6), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1397, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1359
+  /* "capnp/lib/capnp.pyx":1396
  *         return ret
  * 
  *     cpdef _get(self, field):             # <<<<<<<<<<<<<<
  *         return to_python_builder(self.thisptr.get(field), self._parent)
  * 
  */
 
@@ -32518,15 +33139,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__get(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1359, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__get(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1396, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -32535,15 +33156,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1362
+/* "capnp/lib/capnp.pyx":1399
  *         return to_python_builder(self.thisptr.get(field), self._parent)
  * 
  *     cpdef _get_by_field(self, _StructSchemaField field):             # <<<<<<<<<<<<<<
  *         return to_python_builder(self.thisptr.getByField(field.thisptr), self._parent)
  * 
  */
 
@@ -32565,15 +33186,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1362, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1399, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_18_get_by_field)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -32582,15 +33203,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, ((PyObject *)__pyx_v_field)) : __Pyx_PyObject_CallOneArg(__pyx_t_3, ((PyObject *)__pyx_v_field));
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1362, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1399, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -32603,38 +33224,38 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1363
+  /* "capnp/lib/capnp.pyx":1400
  * 
  *     cpdef _get_by_field(self, _StructSchemaField field):
  *         return to_python_builder(self.thisptr.getByField(field.thisptr), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     def __getattr__(self, field):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.get(__pyx_v_field->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1363, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1400, __pyx_L1_error)
   }
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_5), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1363, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_5), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1400, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1362
+  /* "capnp/lib/capnp.pyx":1399
  *         return to_python_builder(self.thisptr.get(field), self._parent)
  * 
  *     cpdef _get_by_field(self, _StructSchemaField field):             # <<<<<<<<<<<<<<
  *         return to_python_builder(self.thisptr.getByField(field.thisptr), self._parent)
  * 
  */
 
@@ -32658,15 +33279,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_18_get_by_field(PyObject *__pyx_v_self, PyObject *__pyx_v_field) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_get_by_field (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1362, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1399, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_17_get_by_field(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_v_field));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -32679,15 +33300,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get_by_field", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__get_by_field(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1362, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__get_by_field(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1399, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -32696,15 +33317,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1365
+/* "capnp/lib/capnp.pyx":1402
  *         return to_python_builder(self.thisptr.getByField(field.thisptr), self._parent)
  * 
  *     def __getattr__(self, field):             # <<<<<<<<<<<<<<
  *         try:
  *             return self._get(field)
  */
 
@@ -32731,21 +33352,20 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   PyObject *__pyx_t_7 = NULL;
   int __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getattr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1366
+  /* "capnp/lib/capnp.pyx":1403
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
   {
@@ -32753,118 +33373,94 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1367
+      /* "capnp/lib/capnp.pyx":1404
  *     def __getattr__(self, field):
  *         try:
  *             return self._get(field)             # <<<<<<<<<<<<<<
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  */
       __Pyx_XDECREF(__pyx_r);
-      __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_field, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1367, __pyx_L3_error)
+      __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_field, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1404, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
       __pyx_r = __pyx_t_4;
       __pyx_t_4 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":1366
+      /* "capnp/lib/capnp.pyx":1403
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1368
+    /* "capnp/lib/capnp.pyx":1405
  *         try:
  *             return self._get(field)
  *         except KjException as e:             # <<<<<<<<<<<<<<
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  * 
  */
     __Pyx_ErrFetch(&__pyx_t_4, &__pyx_t_5, &__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1368, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1405, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_t_8 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_4, __pyx_t_7);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_ErrRestore(__pyx_t_4, __pyx_t_5, __pyx_t_6);
     __pyx_t_4 = 0; __pyx_t_5 = 0; __pyx_t_6 = 0;
     if (__pyx_t_8) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1368, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1405, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __pyx_v_e = __pyx_t_5;
 
-      /* "capnp/lib/capnp.pyx":1369
+      /* "capnp/lib/capnp.pyx":1406
  *             return self._get(field)
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]             # <<<<<<<<<<<<<<
+ *             raise e._to_python() from None             # <<<<<<<<<<<<<<
  * 
  *     cpdef _set(self, field, value):
  */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1369, __pyx_L5_except_error)
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1406, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_9))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_9);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_9, function);
         }
       }
       __pyx_t_7 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_9);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1369, __pyx_L5_except_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1406, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_GetModuleGlobalName(__pyx_t_10, __pyx_n_s_sys); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1369, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_t_10, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1369, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __pyx_t_10 = NULL;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_11))) {
-        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_11);
-        if (likely(__pyx_t_10)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-          __Pyx_INCREF(__pyx_t_10);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_11, function);
-        }
-      }
-      __pyx_t_9 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_11);
-      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1369, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __pyx_t_11 = __Pyx_GetItemInt(__pyx_t_9, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1369, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_Raise(__pyx_t_7, Py_None, __pyx_t_11, 0);
+      __Pyx_Raise(__pyx_t_7, 0, 0, Py_None);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __PYX_ERR(0, 1369, __pyx_L5_except_error)
+      __PYX_ERR(0, 1406, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1366
+    /* "capnp/lib/capnp.pyx":1403
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -32876,15 +33472,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1365
+  /* "capnp/lib/capnp.pyx":1402
  *         return to_python_builder(self.thisptr.getByField(field.thisptr), self._parent)
  * 
  *     def __getattr__(self, field):             # <<<<<<<<<<<<<<
  *         try:
  *             return self._get(field)
  */
 
@@ -32892,26 +33488,25 @@
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_XDECREF(__pyx_t_7);
   __Pyx_XDECREF(__pyx_t_9);
   __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_XDECREF(__pyx_t_11);
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1371
- *             raise e._to_python(), None, _sys.exc_info()[2]
+/* "capnp/lib/capnp.pyx":1408
+ *             raise e._to_python() from None
  * 
  *     cpdef _set(self, field, value):             # <<<<<<<<<<<<<<
  *         _setDynamicField(self.thisptr, field, value, self._parent)
  * 
  */
 
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_22_set(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
@@ -32933,15 +33528,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1371, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1408, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_22_set)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -32953,40 +33548,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_field, __pyx_v_value};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1371, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1408, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_field, __pyx_v_value};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1371, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1408, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1371, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1408, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_field);
           __Pyx_GIVEREF(__pyx_v_field);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_field);
           __Pyx_INCREF(__pyx_v_value);
           __Pyx_GIVEREF(__pyx_v_value);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_value);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1371, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1408, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -33001,30 +33596,30 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1372
+  /* "capnp/lib/capnp.pyx":1409
  * 
  *     cpdef _set(self, field, value):
  *         _setDynamicField(self.thisptr, field, value, self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _set_by_field(self, _StructSchemaField field, value):
  */
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setDynamicField(__pyx_v_self->thisptr, __pyx_v_field, __pyx_v_value, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1372, __pyx_L1_error)
+  __pyx_t_2 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setDynamicField(__pyx_v_self->thisptr, __pyx_v_field, __pyx_v_value, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1409, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":1371
- *             raise e._to_python(), None, _sys.exc_info()[2]
+  /* "capnp/lib/capnp.pyx":1408
+ *             raise e._to_python() from None
  * 
  *     cpdef _set(self, field, value):             # <<<<<<<<<<<<<<
  *         _setDynamicField(self.thisptr, field, value, self._parent)
  * 
  */
 
   /* function exit code */
@@ -33075,32 +33670,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_field)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_value)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_set", 1, 2, 2, 1); __PYX_ERR(0, 1371, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_set", 1, 2, 2, 1); __PYX_ERR(0, 1408, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_set") < 0)) __PYX_ERR(0, 1371, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_set") < 0)) __PYX_ERR(0, 1408, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_field = values[0];
     __pyx_v_value = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_set", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1371, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_set", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1408, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder._set", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_21_set(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), __pyx_v_field, __pyx_v_value);
 
@@ -33114,15 +33709,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_set", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__set(__pyx_v_self, __pyx_v_field, __pyx_v_value, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1371, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__set(__pyx_v_self, __pyx_v_field, __pyx_v_value, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1408, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -33131,15 +33726,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1374
+/* "capnp/lib/capnp.pyx":1411
  *         _setDynamicField(self.thisptr, field, value, self._parent)
  * 
  *     cpdef _set_by_field(self, _StructSchemaField field, value):             # <<<<<<<<<<<<<<
  *         _setDynamicFieldWithField(self.thisptr, field, value, self._parent)
  * 
  */
 
@@ -33162,15 +33757,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1374, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1411, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_24_set_by_field)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -33182,40 +33777,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, ((PyObject *)__pyx_v_field), __pyx_v_value};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1374, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1411, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, ((PyObject *)__pyx_v_field), __pyx_v_value};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1374, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1411, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1374, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1411, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(((PyObject *)__pyx_v_field));
           __Pyx_GIVEREF(((PyObject *)__pyx_v_field));
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, ((PyObject *)__pyx_v_field));
           __Pyx_INCREF(__pyx_v_value);
           __Pyx_GIVEREF(__pyx_v_value);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_value);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1374, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1411, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -33230,29 +33825,29 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1375
+  /* "capnp/lib/capnp.pyx":1412
  * 
  *     cpdef _set_by_field(self, _StructSchemaField field, value):
  *         _setDynamicFieldWithField(self.thisptr, field, value, self._parent)             # <<<<<<<<<<<<<<
  * 
  *     def __setattr__(self, field, value):
  */
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp__setDynamicFieldWithField(__pyx_v_self->thisptr, __pyx_v_field, __pyx_v_value, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1375, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp__setDynamicFieldWithField(__pyx_v_self->thisptr, __pyx_v_field, __pyx_v_value, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1412, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":1374
+  /* "capnp/lib/capnp.pyx":1411
  *         _setDynamicField(self.thisptr, field, value, self._parent)
  * 
  *     cpdef _set_by_field(self, _StructSchemaField field, value):             # <<<<<<<<<<<<<<
  *         _setDynamicFieldWithField(self.thisptr, field, value, self._parent)
  * 
  */
 
@@ -33304,38 +33899,38 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_field)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_value)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_set_by_field", 1, 2, 2, 1); __PYX_ERR(0, 1374, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_set_by_field", 1, 2, 2, 1); __PYX_ERR(0, 1411, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_set_by_field") < 0)) __PYX_ERR(0, 1374, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_set_by_field") < 0)) __PYX_ERR(0, 1411, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_field = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)values[0]);
     __pyx_v_value = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_set_by_field", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1374, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_set_by_field", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1411, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder._set_by_field", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1374, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1411, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_23_set_by_field(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), __pyx_v_field, __pyx_v_value);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -33348,15 +33943,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_set_by_field", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__set_by_field(__pyx_v_self, __pyx_v_field, __pyx_v_value, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1374, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__set_by_field(__pyx_v_self, __pyx_v_field, __pyx_v_value, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1411, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -33365,15 +33960,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1377
+/* "capnp/lib/capnp.pyx":1414
  *         _setDynamicFieldWithField(self.thisptr, field, value, self._parent)
  * 
  *     def __setattr__(self, field, value):             # <<<<<<<<<<<<<<
  *         try:
  *             self._set(field, value)
  */
 
@@ -33400,21 +33995,20 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   PyObject *__pyx_t_7 = NULL;
   int __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setattr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1378
+  /* "capnp/lib/capnp.pyx":1415
  * 
  *     def __setattr__(self, field, value):
  *         try:             # <<<<<<<<<<<<<<
  *             self._set(field, value)
  *         except KjException as e:
  */
   {
@@ -33422,134 +34016,110 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1379
+      /* "capnp/lib/capnp.pyx":1416
  *     def __setattr__(self, field, value):
  *         try:
  *             self._set(field, value)             # <<<<<<<<<<<<<<
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  */
-      __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_set(__pyx_v_self, __pyx_v_field, __pyx_v_value, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1379, __pyx_L3_error)
+      __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_set(__pyx_v_self, __pyx_v_field, __pyx_v_value, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1416, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-      /* "capnp/lib/capnp.pyx":1378
+      /* "capnp/lib/capnp.pyx":1415
  * 
  *     def __setattr__(self, field, value):
  *         try:             # <<<<<<<<<<<<<<
  *             self._set(field, value)
  *         except KjException as e:
  */
     }
     __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     goto __pyx_L8_try_end;
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1380
+    /* "capnp/lib/capnp.pyx":1417
  *         try:
  *             self._set(field, value)
  *         except KjException as e:             # <<<<<<<<<<<<<<
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  * 
  */
     __Pyx_ErrFetch(&__pyx_t_4, &__pyx_t_5, &__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1380, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1417, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_t_8 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_4, __pyx_t_7);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_ErrRestore(__pyx_t_4, __pyx_t_5, __pyx_t_6);
     __pyx_t_4 = 0; __pyx_t_5 = 0; __pyx_t_6 = 0;
     if (__pyx_t_8) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.__setattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1380, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1417, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __pyx_v_e = __pyx_t_5;
 
-      /* "capnp/lib/capnp.pyx":1381
+      /* "capnp/lib/capnp.pyx":1418
  *             self._set(field, value)
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]             # <<<<<<<<<<<<<<
+ *             raise e._to_python() from None             # <<<<<<<<<<<<<<
  * 
  *     cpdef _has(self, field):
  */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1381, __pyx_L5_except_error)
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1418, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_9))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_9);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_9, function);
         }
       }
       __pyx_t_7 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_9);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1381, __pyx_L5_except_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1418, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_GetModuleGlobalName(__pyx_t_10, __pyx_n_s_sys); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1381, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_t_10, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1381, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __pyx_t_10 = NULL;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_11))) {
-        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_11);
-        if (likely(__pyx_t_10)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-          __Pyx_INCREF(__pyx_t_10);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_11, function);
-        }
-      }
-      __pyx_t_9 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_11);
-      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1381, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __pyx_t_11 = __Pyx_GetItemInt(__pyx_t_9, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1381, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_Raise(__pyx_t_7, Py_None, __pyx_t_11, 0);
+      __Pyx_Raise(__pyx_t_7, 0, 0, Py_None);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __PYX_ERR(0, 1381, __pyx_L5_except_error)
+      __PYX_ERR(0, 1418, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1378
+    /* "capnp/lib/capnp.pyx":1415
  * 
  *     def __setattr__(self, field, value):
  *         try:             # <<<<<<<<<<<<<<
  *             self._set(field, value)
  *         except KjException as e:
  */
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L1_error;
     __pyx_L8_try_end:;
   }
 
-  /* "capnp/lib/capnp.pyx":1377
+  /* "capnp/lib/capnp.pyx":1414
  *         _setDynamicFieldWithField(self.thisptr, field, value, self._parent)
  * 
  *     def __setattr__(self, field, value):             # <<<<<<<<<<<<<<
  *         try:
  *             self._set(field, value)
  */
 
@@ -33559,25 +34129,24 @@
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_XDECREF(__pyx_t_7);
   __Pyx_XDECREF(__pyx_t_9);
   __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_XDECREF(__pyx_t_11);
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.__setattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1383
- *             raise e._to_python(), None, _sys.exc_info()[2]
+/* "capnp/lib/capnp.pyx":1420
+ *             raise e._to_python() from None
  * 
  *     cpdef _has(self, field):             # <<<<<<<<<<<<<<
  *         return self.thisptr.has(field)
  * 
  */
 
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_28_has(PyObject *__pyx_v_self, PyObject *__pyx_v_field); /*proto*/
@@ -33599,15 +34168,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_has); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1383, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_has); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1420, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_28_has)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -33616,15 +34185,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1383, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1420, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -33637,37 +34206,37 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1384
+  /* "capnp/lib/capnp.pyx":1421
  * 
  *     cpdef _has(self, field):
  *         return self.thisptr.has(field)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _has_by_field(self, _StructSchemaField field):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1384, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1421, __pyx_L1_error)
   try {
     __pyx_t_6 = __pyx_v_self->thisptr.has(__pyx_t_5);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1384, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1421, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1384, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1421, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1383
- *             raise e._to_python(), None, _sys.exc_info()[2]
+  /* "capnp/lib/capnp.pyx":1420
+ *             raise e._to_python() from None
  * 
  *     cpdef _has(self, field):             # <<<<<<<<<<<<<<
  *         return self.thisptr.has(field)
  * 
  */
 
   /* function exit code */
@@ -33703,15 +34272,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_has", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__has(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1383, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__has(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1420, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -33720,15 +34289,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1386
+/* "capnp/lib/capnp.pyx":1423
  *         return self.thisptr.has(field)
  * 
  *     cpdef _has_by_field(self, _StructSchemaField field):             # <<<<<<<<<<<<<<
  *         return self.thisptr.hasByField(field.thisptr)
  * 
  */
 
@@ -33750,15 +34319,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_has_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1386, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_has_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1423, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_30_has_by_field)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -33767,15 +34336,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, ((PyObject *)__pyx_v_field)) : __Pyx_PyObject_CallOneArg(__pyx_t_3, ((PyObject *)__pyx_v_field));
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1386, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1423, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -33788,35 +34357,35 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1387
+  /* "capnp/lib/capnp.pyx":1424
  * 
  *     cpdef _has_by_field(self, _StructSchemaField field):
  *         return self.thisptr.hasByField(field.thisptr)             # <<<<<<<<<<<<<<
  * 
  *     cpdef init(self, field, size=None):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.has(__pyx_v_field->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1387, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1424, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1387, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1424, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1386
+  /* "capnp/lib/capnp.pyx":1423
  *         return self.thisptr.has(field)
  * 
  *     cpdef _has_by_field(self, _StructSchemaField field):             # <<<<<<<<<<<<<<
  *         return self.thisptr.hasByField(field.thisptr)
  * 
  */
 
@@ -33840,15 +34409,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_30_has_by_field(PyObject *__pyx_v_self, PyObject *__pyx_v_field) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_has_by_field (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1386, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1423, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_29_has_by_field(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_v_field));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -33861,15 +34430,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_has_by_field", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__has_by_field(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1386, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__has_by_field(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1423, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -33878,15 +34447,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1389
+/* "capnp/lib/capnp.pyx":1426
  *         return self.thisptr.hasByField(field.thisptr)
  * 
  *     cpdef init(self, field, size=None):             # <<<<<<<<<<<<<<
  *         """Method for initializing fields that are of type union/struct/list
  * 
  */
 
@@ -33921,15 +34490,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1389, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1426, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_32init)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -33941,40 +34510,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_field, __pyx_v_size};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1389, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1426, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_field, __pyx_v_size};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1389, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1426, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1389, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1426, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_field);
           __Pyx_GIVEREF(__pyx_v_field);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_field);
           __Pyx_INCREF(__pyx_v_size);
           __Pyx_GIVEREF(__pyx_v_size);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_size);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1389, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1426, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -33989,151 +34558,151 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1404
+  /* "capnp/lib/capnp.pyx":1441
  *         :Raises: :exc:`KjException` if the field isn't in this struct
  *         """
  *         if isinstance(field, _StructModuleWhich):             # <<<<<<<<<<<<<<
  *             field = field.name[0].lower() + field.name[1:]
  *         if size is None:
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_StructModuleWhich); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1404, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_StructModuleWhich); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1441, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_7 = PyObject_IsInstance(__pyx_v_field, __pyx_t_1); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 1404, __pyx_L1_error)
+  __pyx_t_7 = PyObject_IsInstance(__pyx_v_field, __pyx_t_1); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 1441, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_8 = (__pyx_t_7 != 0);
   if (__pyx_t_8) {
 
-    /* "capnp/lib/capnp.pyx":1405
+    /* "capnp/lib/capnp.pyx":1442
  *         """
  *         if isinstance(field, _StructModuleWhich):
  *             field = field.name[0].lower() + field.name[1:]             # <<<<<<<<<<<<<<
  *         if size is None:
  *             return to_python_builder(self.thisptr.init(field), self._parent)
  */
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1405, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1442, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_GetItemInt(__pyx_t_2, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1405, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_GetItemInt(__pyx_t_2, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1442, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_lower); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1405, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_lower); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1442, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1405, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1442, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1405, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1442, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyObject_GetSlice(__pyx_t_2, 1, 0, NULL, NULL, &__pyx_slice__24, 1, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1405, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetSlice(__pyx_t_2, 1, 0, NULL, NULL, &__pyx_slice__24, 1, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1442, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = PyNumber_Add(__pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1405, __pyx_L1_error)
+    __pyx_t_2 = PyNumber_Add(__pyx_t_1, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1442, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_DECREF_SET(__pyx_v_field, __pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":1404
+    /* "capnp/lib/capnp.pyx":1441
  *         :Raises: :exc:`KjException` if the field isn't in this struct
  *         """
  *         if isinstance(field, _StructModuleWhich):             # <<<<<<<<<<<<<<
  *             field = field.name[0].lower() + field.name[1:]
  *         if size is None:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1406
+  /* "capnp/lib/capnp.pyx":1443
  *         if isinstance(field, _StructModuleWhich):
  *             field = field.name[0].lower() + field.name[1:]
  *         if size is None:             # <<<<<<<<<<<<<<
  *             return to_python_builder(self.thisptr.init(field), self._parent)
  *         else:
  */
   __pyx_t_8 = (__pyx_v_size == Py_None);
   __pyx_t_7 = (__pyx_t_8 != 0);
   if (__pyx_t_7) {
 
-    /* "capnp/lib/capnp.pyx":1407
+    /* "capnp/lib/capnp.pyx":1444
  *             field = field.name[0].lower() + field.name[1:]
  *         if size is None:
  *             return to_python_builder(self.thisptr.init(field), self._parent)             # <<<<<<<<<<<<<<
  *         else:
  *             return to_python_builder(self.thisptr.init(field, size), self._parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_9 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_9) && PyErr_Occurred())) __PYX_ERR(0, 1407, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_9) && PyErr_Occurred())) __PYX_ERR(0, 1444, __pyx_L1_error)
     try {
       __pyx_t_10 = __pyx_v_self->thisptr.init(__pyx_t_9);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 1407, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 1444, __pyx_L1_error)
     }
     __pyx_t_2 = __pyx_v_self->_parent;
     __Pyx_INCREF(__pyx_t_2);
-    __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_10), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1407, __pyx_L1_error)
+    __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_10), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1444, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1406
+    /* "capnp/lib/capnp.pyx":1443
  *         if isinstance(field, _StructModuleWhich):
  *             field = field.name[0].lower() + field.name[1:]
  *         if size is None:             # <<<<<<<<<<<<<<
  *             return to_python_builder(self.thisptr.init(field), self._parent)
  *         else:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1409
+  /* "capnp/lib/capnp.pyx":1446
  *             return to_python_builder(self.thisptr.init(field), self._parent)
  *         else:
  *             return to_python_builder(self.thisptr.init(field, size), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _init_by_field(self, _StructSchemaField field, size=None):
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_9 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_9) && PyErr_Occurred())) __PYX_ERR(0, 1409, __pyx_L1_error)
-    __pyx_t_11 = __Pyx_PyInt_As_unsigned_int(__pyx_v_size); if (unlikely((__pyx_t_11 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1409, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_9) && PyErr_Occurred())) __PYX_ERR(0, 1446, __pyx_L1_error)
+    __pyx_t_11 = __Pyx_PyInt_As_unsigned_int(__pyx_v_size); if (unlikely((__pyx_t_11 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1446, __pyx_L1_error)
     try {
       __pyx_t_10 = __pyx_v_self->thisptr.init(__pyx_t_9, __pyx_t_11);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 1409, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 1446, __pyx_L1_error)
     }
     __pyx_t_3 = __pyx_v_self->_parent;
     __Pyx_INCREF(__pyx_t_3);
-    __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_10), __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1409, __pyx_L1_error)
+    __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_10), __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1446, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1389
+  /* "capnp/lib/capnp.pyx":1426
  *         return self.thisptr.hasByField(field.thisptr)
  * 
  *     cpdef init(self, field, size=None):             # <<<<<<<<<<<<<<
  *         """Method for initializing fields that are of type union/struct/list
  * 
  */
 
@@ -34189,15 +34758,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_size);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "init") < 0)) __PYX_ERR(0, 1389, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "init") < 0)) __PYX_ERR(0, 1426, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
@@ -34205,15 +34774,15 @@
       }
     }
     __pyx_v_field = values[0];
     __pyx_v_size = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("init", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1389, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("init", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1426, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.init", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_31init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), __pyx_v_field, __pyx_v_size);
 
@@ -34230,15 +34799,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("init", 0);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.size = __pyx_v_size;
-  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder->init(__pyx_v_self, __pyx_v_field, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1389, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder->init(__pyx_v_self, __pyx_v_field, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1426, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -34247,15 +34816,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1411
+/* "capnp/lib/capnp.pyx":1448
  *             return to_python_builder(self.thisptr.init(field, size), self._parent)
  * 
  *     cpdef _init_by_field(self, _StructSchemaField field, size=None):             # <<<<<<<<<<<<<<
  *         """Method for initializing fields that are of type union/struct/list
  * 
  */
 
@@ -34288,15 +34857,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1411, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init_by_field); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1448, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_34_init_by_field)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -34308,40 +34877,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, ((PyObject *)__pyx_v_field), __pyx_v_size};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1411, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1448, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, ((PyObject *)__pyx_v_field), __pyx_v_size};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1411, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1448, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1411, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1448, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(((PyObject *)__pyx_v_field));
           __Pyx_GIVEREF(((PyObject *)__pyx_v_field));
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, ((PyObject *)__pyx_v_field));
           __Pyx_INCREF(__pyx_v_size);
           __Pyx_GIVEREF(__pyx_v_size);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_size);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1411, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1448, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -34356,84 +34925,84 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1426
+  /* "capnp/lib/capnp.pyx":1463
  *         :Raises: :exc:`KjException` if the field isn't in this struct
  *         """
  *         if size is None:             # <<<<<<<<<<<<<<
  *             return to_python_builder(self.thisptr.initByField(field.thisptr), self._parent)
  *         else:
  */
   __pyx_t_7 = (__pyx_v_size == Py_None);
   __pyx_t_8 = (__pyx_t_7 != 0);
   if (__pyx_t_8) {
 
-    /* "capnp/lib/capnp.pyx":1427
+    /* "capnp/lib/capnp.pyx":1464
  *         """
  *         if size is None:
  *             return to_python_builder(self.thisptr.initByField(field.thisptr), self._parent)             # <<<<<<<<<<<<<<
  *         else:
  *             return to_python_builder(self.thisptr.initByField(field.thisptr, size), self._parent)
  */
     __Pyx_XDECREF(__pyx_r);
     try {
       __pyx_t_9 = __pyx_v_self->thisptr.init(__pyx_v_field->thisptr);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 1427, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 1464, __pyx_L1_error)
     }
     __pyx_t_1 = __pyx_v_self->_parent;
     __Pyx_INCREF(__pyx_t_1);
-    __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_9), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1427, __pyx_L1_error)
+    __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_9), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1464, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1426
+    /* "capnp/lib/capnp.pyx":1463
  *         :Raises: :exc:`KjException` if the field isn't in this struct
  *         """
  *         if size is None:             # <<<<<<<<<<<<<<
  *             return to_python_builder(self.thisptr.initByField(field.thisptr), self._parent)
  *         else:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1429
+  /* "capnp/lib/capnp.pyx":1466
  *             return to_python_builder(self.thisptr.initByField(field.thisptr), self._parent)
  *         else:
  *             return to_python_builder(self.thisptr.initByField(field.thisptr, size), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef init_resizable_list(self, field):
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_10 = __Pyx_PyInt_As_unsigned_int(__pyx_v_size); if (unlikely((__pyx_t_10 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1429, __pyx_L1_error)
+    __pyx_t_10 = __Pyx_PyInt_As_unsigned_int(__pyx_v_size); if (unlikely((__pyx_t_10 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1466, __pyx_L1_error)
     try {
       __pyx_t_9 = __pyx_v_self->thisptr.init(__pyx_v_field->thisptr, __pyx_t_10);
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 1429, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 1466, __pyx_L1_error)
     }
     __pyx_t_2 = __pyx_v_self->_parent;
     __Pyx_INCREF(__pyx_t_2);
-    __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_9), __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1429, __pyx_L1_error)
+    __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_to_python_builder((( ::capnp::DynamicValue::Builder)__pyx_t_9), __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1466, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1411
+  /* "capnp/lib/capnp.pyx":1448
  *             return to_python_builder(self.thisptr.init(field, size), self._parent)
  * 
  *     cpdef _init_by_field(self, _StructSchemaField field, size=None):             # <<<<<<<<<<<<<<
  *         """Method for initializing fields that are of type union/struct/list
  * 
  */
 
@@ -34488,15 +35057,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_size);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_init_by_field") < 0)) __PYX_ERR(0, 1411, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_init_by_field") < 0)) __PYX_ERR(0, 1448, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
@@ -34504,21 +35073,21 @@
       }
     }
     __pyx_v_field = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)values[0]);
     __pyx_v_size = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_init_by_field", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1411, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_init_by_field", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1448, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder._init_by_field", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1411, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_field), __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField, 1, "field", 0))) __PYX_ERR(0, 1448, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_33_init_by_field(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), __pyx_v_field, __pyx_v_size);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -34534,15 +35103,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init_by_field", 0);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.size = __pyx_v_size;
-  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder->_init_by_field(__pyx_v_self, __pyx_v_field, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1411, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder->_init_by_field(__pyx_v_self, __pyx_v_field, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1448, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -34551,15 +35120,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1431
+/* "capnp/lib/capnp.pyx":1468
  *             return to_python_builder(self.thisptr.initByField(field.thisptr, size), self._parent)
  * 
  *     cpdef init_resizable_list(self, field):             # <<<<<<<<<<<<<<
  *         """Method for initializing fields that are of type list (of structs)
  * 
  */
 
@@ -34582,15 +35151,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init_resizable_list); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1431, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init_resizable_list); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1468, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_36init_resizable_list)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -34599,15 +35168,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1431, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1468, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -34620,69 +35189,69 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1450
+  /* "capnp/lib/capnp.pyx":1489
  *         :Raises: :exc:`KjException` if the field isn't in this struct
  *         """
  *         return _DynamicResizableListBuilder(self, field, _StructSchema()._init_child(             # <<<<<<<<<<<<<<
  *             (<C_DynamicValue.Builder>self.thisptr.get(field)).asList().getStructElementType()))
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1450, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
 
-  /* "capnp/lib/capnp.pyx":1451
+  /* "capnp/lib/capnp.pyx":1490
  *         """
  *         return _DynamicResizableListBuilder(self, field, _StructSchema()._init_child(
  *             (<C_DynamicValue.Builder>self.thisptr.get(field)).asList().getStructElementType()))             # <<<<<<<<<<<<<<
  * 
  *     cpdef _which_str(self):
  */
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1451, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1490, __pyx_L1_error)
   try {
     __pyx_t_6 = __pyx_v_self->thisptr.get(__pyx_t_5);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1451, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1490, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":1450
+  /* "capnp/lib/capnp.pyx":1489
  *         :Raises: :exc:`KjException` if the field isn't in this struct
  *         """
  *         return _DynamicResizableListBuilder(self, field, _StructSchema()._init_child(             # <<<<<<<<<<<<<<
  *             (<C_DynamicValue.Builder>self.thisptr.get(field)).asList().getStructElementType()))
  * 
  */
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), (( ::capnp::DynamicValue::Builder)__pyx_t_6).as< ::capnp::DynamicList>().getSchema().getStructElementType()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1450, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), (( ::capnp::DynamicValue::Builder)__pyx_t_6).as< ::capnp::DynamicList>().getSchema().getStructElementType()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1450, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __Pyx_GIVEREF(((PyObject *)__pyx_v_self));
   PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_v_self));
   __Pyx_INCREF(__pyx_v_field);
   __Pyx_GIVEREF(__pyx_v_field);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_field);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_t_2);
   __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicResizableListBuilder), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1450, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicResizableListBuilder), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1431
+  /* "capnp/lib/capnp.pyx":1468
  *             return to_python_builder(self.thisptr.initByField(field.thisptr, size), self._parent)
  * 
  *     cpdef init_resizable_list(self, field):             # <<<<<<<<<<<<<<
  *         """Method for initializing fields that are of type list (of structs)
  * 
  */
 
@@ -34698,15 +35267,15 @@
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* Python wrapper */
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_36init_resizable_list(PyObject *__pyx_v_self, PyObject *__pyx_v_field); /*proto*/
-static char __pyx_doc_5capnp_3lib_5capnp_21_DynamicStructBuilder_35init_resizable_list[] = "_DynamicStructBuilder.init_resizable_list(self, field)\nMethod for initializing fields that are of type list (of structs)\n\n        This version of init returns a :class:`_DynamicResizableListBuilder` that allows\n        you to add members one at a time (ie. if you don't know the size for sure).\n        This is only meant for lists of Cap'n Proto objects, since for primitive types\n        you can just define a normal python list and fill it yourself.\n\n        .. warning:: You need to call :meth:`_DynamicResizableListBuilder.finish` on the\n        list object before serializing the Cap'n Proto message. Failure to do so will cause\n        your objects not to be written out as well as leaking orphan structs into your message.\n\n        :type field: str\n        :param field: The field name to initialize\n\n        :rtype: :class:`_DynamicResizableListBuilder`\n\n        :Raises: :exc:`KjException` if the field isn't in this struct\n        ";
+static char __pyx_doc_5capnp_3lib_5capnp_21_DynamicStructBuilder_35init_resizable_list[] = "_DynamicStructBuilder.init_resizable_list(self, field)\nMethod for initializing fields that are of type list (of structs)\n\n        This version of init returns a :class:`_DynamicResizableListBuilder` that allows\n        you to add members one at a time (ie. if you don't know the size for sure).\n        This is only meant for lists of Cap'n Proto objects, since for primitive types\n        you can just define a normal python list and fill it yourself.\n\n        .. warning::\n            You need to call :meth:`_DynamicResizableListBuilder.finish` on the\n            list object before serializing the Cap'n Proto message. Failure to do\n            so will cause your objects not to be written out as well as leaking\n            orphan structs into your message.\n\n        :type field: str\n        :param field: The field name to initialize\n\n        :rtype: :class:`_DynamicResizableListBuilder`\n\n        :Raises: :exc:`KjException` if the field isn't in this struct\n        ";
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_36init_resizable_list(PyObject *__pyx_v_self, PyObject *__pyx_v_field) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("init_resizable_list (wrapper)", 0);
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_35init_resizable_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), ((PyObject *)__pyx_v_field));
 
   /* function exit code */
@@ -34719,15 +35288,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("init_resizable_list", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_init_resizable_list(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1431, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_init_resizable_list(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1468, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -34736,15 +35305,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1453
+/* "capnp/lib/capnp.pyx":1492
  *             (<C_DynamicValue.Builder>self.thisptr.get(field)).asList().getStructElementType()))
  * 
  *     cpdef _which_str(self):             # <<<<<<<<<<<<<<
  *         try:
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  */
 
@@ -34774,15 +35343,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_which_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1453, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_which_str); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1492, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_38_which_str)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -34791,15 +35360,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1453, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1492, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -34812,15 +35381,15 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1454
+  /* "capnp/lib/capnp.pyx":1493
  * 
  *     cpdef _which_str(self):
  *         try:             # <<<<<<<<<<<<<<
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  */
   {
@@ -34828,133 +35397,133 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_5, &__pyx_t_6, &__pyx_t_7);
     __Pyx_XGOTREF(__pyx_t_5);
     __Pyx_XGOTREF(__pyx_t_6);
     __Pyx_XGOTREF(__pyx_t_7);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1455
+      /* "capnp/lib/capnp.pyx":1494
  *     cpdef _which_str(self):
  *         try:
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()             # <<<<<<<<<<<<<<
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":
  */
       __Pyx_XDECREF(__pyx_r);
       try {
         __pyx_t_8 = fixMaybe(__pyx_v_self->thisptr.which());
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 1455, __pyx_L3_error)
+        c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 1494, __pyx_L3_error)
       }
-      __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_8.getProto().getName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1455, __pyx_L3_error)
+      __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_8.getProto().getName().cStr())); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1494, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_1);
       __pyx_r = __pyx_t_1;
       __pyx_t_1 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":1454
+      /* "capnp/lib/capnp.pyx":1493
  * 
  *     cpdef _which_str(self):
  *         try:             # <<<<<<<<<<<<<<
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1456
+    /* "capnp/lib/capnp.pyx":1495
  *         try:
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:             # <<<<<<<<<<<<<<
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")
  */
     __pyx_t_9 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_RuntimeError);
     if (__pyx_t_9) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder._which_str", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) __PYX_ERR(0, 1456, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) __PYX_ERR(0, 1495, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __pyx_v_e = __pyx_t_2;
 
-      /* "capnp/lib/capnp.pyx":1457
+      /* "capnp/lib/capnp.pyx":1496
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":             # <<<<<<<<<<<<<<
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise
  */
-      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1457, __pyx_L5_except_error)
+      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1496, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_10 = (__Pyx_PyString_Equals(__pyx_t_4, __pyx_kp_s_Member_was_null, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1457, __pyx_L5_except_error)
+      __pyx_t_10 = (__Pyx_PyString_Equals(__pyx_t_4, __pyx_kp_s_Member_was_null, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 1496, __pyx_L5_except_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       if (unlikely(__pyx_t_10)) {
 
-        /* "capnp/lib/capnp.pyx":1458
+        /* "capnp/lib/capnp.pyx":1497
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")             # <<<<<<<<<<<<<<
  *             raise
  * 
  */
-        __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_KjException); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1458, __pyx_L5_except_error)
+        __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_KjException); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1497, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_11);
         __pyx_t_12 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_11))) {
           __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_11);
           if (likely(__pyx_t_12)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
             __Pyx_INCREF(__pyx_t_12);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_11, function);
           }
         }
         __pyx_t_4 = (__pyx_t_12) ? __Pyx_PyObject_Call2Args(__pyx_t_11, __pyx_t_12, __pyx_kp_s_Attempted_to_call_which_on_a_non) : __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_kp_s_Attempted_to_call_which_on_a_non);
         __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1458, __pyx_L5_except_error)
+        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1497, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
         __Pyx_Raise(__pyx_t_4, 0, 0, 0);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-        __PYX_ERR(0, 1458, __pyx_L5_except_error)
+        __PYX_ERR(0, 1497, __pyx_L5_except_error)
 
-        /* "capnp/lib/capnp.pyx":1457
+        /* "capnp/lib/capnp.pyx":1496
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":             # <<<<<<<<<<<<<<
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise
  */
       }
 
-      /* "capnp/lib/capnp.pyx":1459
+      /* "capnp/lib/capnp.pyx":1498
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise             # <<<<<<<<<<<<<<
  * 
  *     cpdef _DynamicEnumField _which(self):
  */
       __Pyx_GIVEREF(__pyx_t_1);
       __Pyx_GIVEREF(__pyx_t_2);
       __Pyx_XGIVEREF(__pyx_t_3);
       __Pyx_ErrRestoreWithState(__pyx_t_1, __pyx_t_2, __pyx_t_3);
       __pyx_t_1 = 0; __pyx_t_2 = 0; __pyx_t_3 = 0; 
-      __PYX_ERR(0, 1459, __pyx_L5_except_error)
+      __PYX_ERR(0, 1498, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1454
+    /* "capnp/lib/capnp.pyx":1493
  * 
  *     cpdef _which_str(self):
  *         try:             # <<<<<<<<<<<<<<
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  *         except RuntimeError as e:
  */
     __Pyx_XGIVEREF(__pyx_t_5);
@@ -34966,15 +35535,15 @@
     __Pyx_XGIVEREF(__pyx_t_5);
     __Pyx_XGIVEREF(__pyx_t_6);
     __Pyx_XGIVEREF(__pyx_t_7);
     __Pyx_ExceptionReset(__pyx_t_5, __pyx_t_6, __pyx_t_7);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1453
+  /* "capnp/lib/capnp.pyx":1492
  *             (<C_DynamicValue.Builder>self.thisptr.get(field)).asList().getStructElementType()))
  * 
  *     cpdef _which_str(self):             # <<<<<<<<<<<<<<
  *         try:
  *             return <char *>helpers.fixMaybe(self.thisptr.which()).getProto().getName().cStr()
  */
 
@@ -35014,15 +35583,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_which_str", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__which_str(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1453, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__which_str(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1492, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -35031,15 +35600,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1461
+/* "capnp/lib/capnp.pyx":1500
  *             raise
  * 
  *     cpdef _DynamicEnumField _which(self):             # <<<<<<<<<<<<<<
  *         """Returns the enum corresponding to the union in this struct
  * 
  */
 
@@ -35071,15 +35640,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_which_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1461, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_which_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1500, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_40_which)) {
         __Pyx_XDECREF(((PyObject *)__pyx_r));
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -35088,18 +35657,18 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1461, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1500, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField))))) __PYX_ERR(0, 1461, __pyx_L1_error)
+        if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField))))) __PYX_ERR(0, 1500, __pyx_L1_error)
         __pyx_r = ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_2);
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
       __pyx_tp_dict_version = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
@@ -35110,15 +35679,15 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1469
+  /* "capnp/lib/capnp.pyx":1508
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         try:             # <<<<<<<<<<<<<<
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  */
   {
@@ -35126,63 +35695,63 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_5, &__pyx_t_6, &__pyx_t_7);
     __Pyx_XGOTREF(__pyx_t_5);
     __Pyx_XGOTREF(__pyx_t_6);
     __Pyx_XGOTREF(__pyx_t_7);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1470
+      /* "capnp/lib/capnp.pyx":1509
  *         """
  *         try:
  *             which = _DynamicEnumField()._init(             # <<<<<<<<<<<<<<
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:
  */
-      __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1470, __pyx_L3_error)
+      __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1509, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_1);
 
-      /* "capnp/lib/capnp.pyx":1471
+      /* "capnp/lib/capnp.pyx":1510
  *         try:
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)             # <<<<<<<<<<<<<<
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":
  */
-      __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchemaField)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1471, __pyx_L3_error)
+      __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchemaField)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1510, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_2);
       try {
         __pyx_t_8 = fixMaybe(__pyx_v_self->thisptr.which());
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 1471, __pyx_L3_error)
+        c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 1510, __pyx_L3_error)
       }
       __pyx_t_9.__pyx_n = 1;
       __pyx_t_9.parent = ((PyObject *)__pyx_v_self);
-      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_2), __pyx_t_8, &__pyx_t_9); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1471, __pyx_L3_error)
+      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_2), __pyx_t_8, &__pyx_t_9); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1510, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_proto); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1471, __pyx_L3_error)
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_proto); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1510, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":1470
+      /* "capnp/lib/capnp.pyx":1509
  *         """
  *         try:
  *             which = _DynamicEnumField()._init(             # <<<<<<<<<<<<<<
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:
  */
-      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnumField *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_1), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1470, __pyx_L3_error)
+      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicEnumField *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_t_1), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1509, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __pyx_v_which = __pyx_t_3;
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":1469
+      /* "capnp/lib/capnp.pyx":1508
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         try:             # <<<<<<<<<<<<<<
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  */
     }
@@ -35192,127 +35761,127 @@
     goto __pyx_L8_try_end;
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1472
+    /* "capnp/lib/capnp.pyx":1511
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:             # <<<<<<<<<<<<<<
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")
  */
     __pyx_t_10 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_RuntimeError);
     if (__pyx_t_10) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder._which", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_2, &__pyx_t_1) < 0) __PYX_ERR(0, 1472, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_2, &__pyx_t_1) < 0) __PYX_ERR(0, 1511, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_2);
       __pyx_v_e = __pyx_t_2;
 
-      /* "capnp/lib/capnp.pyx":1473
+      /* "capnp/lib/capnp.pyx":1512
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":             # <<<<<<<<<<<<<<
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise
  */
-      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1473, __pyx_L5_except_error)
+      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1512, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_11 = (__Pyx_PyString_Equals(__pyx_t_4, __pyx_kp_s_Member_was_null, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1473, __pyx_L5_except_error)
+      __pyx_t_11 = (__Pyx_PyString_Equals(__pyx_t_4, __pyx_kp_s_Member_was_null, Py_EQ)); if (unlikely(__pyx_t_11 < 0)) __PYX_ERR(0, 1512, __pyx_L5_except_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       if (unlikely(__pyx_t_11)) {
 
-        /* "capnp/lib/capnp.pyx":1474
+        /* "capnp/lib/capnp.pyx":1513
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")             # <<<<<<<<<<<<<<
  *             raise
  * 
  */
-        __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1474, __pyx_L5_except_error)
+        __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_KjException); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 1513, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_12);
         __pyx_t_13 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_12))) {
           __pyx_t_13 = PyMethod_GET_SELF(__pyx_t_12);
           if (likely(__pyx_t_13)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
             __Pyx_INCREF(__pyx_t_13);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_12, function);
           }
         }
         __pyx_t_4 = (__pyx_t_13) ? __Pyx_PyObject_Call2Args(__pyx_t_12, __pyx_t_13, __pyx_kp_s_Attempted_to_call_which_on_a_non) : __Pyx_PyObject_CallOneArg(__pyx_t_12, __pyx_kp_s_Attempted_to_call_which_on_a_non);
         __Pyx_XDECREF(__pyx_t_13); __pyx_t_13 = 0;
-        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1474, __pyx_L5_except_error)
+        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1513, __pyx_L5_except_error)
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
         __Pyx_Raise(__pyx_t_4, 0, 0, 0);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-        __PYX_ERR(0, 1474, __pyx_L5_except_error)
+        __PYX_ERR(0, 1513, __pyx_L5_except_error)
 
-        /* "capnp/lib/capnp.pyx":1473
+        /* "capnp/lib/capnp.pyx":1512
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  *         except RuntimeError as e:
  *             if str(e) == "Member was null.":             # <<<<<<<<<<<<<<
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise
  */
       }
 
-      /* "capnp/lib/capnp.pyx":1475
+      /* "capnp/lib/capnp.pyx":1514
  *             if str(e) == "Member was null.":
  *                 raise KjException("Attempted to call which on a non-union type")
  *             raise             # <<<<<<<<<<<<<<
  * 
  *         return which
  */
       __Pyx_GIVEREF(__pyx_t_3);
       __Pyx_GIVEREF(__pyx_t_2);
       __Pyx_XGIVEREF(__pyx_t_1);
       __Pyx_ErrRestoreWithState(__pyx_t_3, __pyx_t_2, __pyx_t_1);
       __pyx_t_3 = 0; __pyx_t_2 = 0; __pyx_t_1 = 0; 
-      __PYX_ERR(0, 1475, __pyx_L5_except_error)
+      __PYX_ERR(0, 1514, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1469
+    /* "capnp/lib/capnp.pyx":1508
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         try:             # <<<<<<<<<<<<<<
  *             which = _DynamicEnumField()._init(
  *                 _StructSchemaField()._init(helpers.fixMaybe(self.thisptr.which()), self).proto)
  */
     __Pyx_XGIVEREF(__pyx_t_5);
     __Pyx_XGIVEREF(__pyx_t_6);
     __Pyx_XGIVEREF(__pyx_t_7);
     __Pyx_ExceptionReset(__pyx_t_5, __pyx_t_6, __pyx_t_7);
     goto __pyx_L1_error;
     __pyx_L8_try_end:;
   }
 
-  /* "capnp/lib/capnp.pyx":1477
+  /* "capnp/lib/capnp.pyx":1516
  *             raise
  * 
  *         return which             # <<<<<<<<<<<<<<
  * 
  *     property which:
  */
   __Pyx_XDECREF(((PyObject *)__pyx_r));
-  if (!(likely(((__pyx_v_which) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_which, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField))))) __PYX_ERR(0, 1477, __pyx_L1_error)
+  if (!(likely(((__pyx_v_which) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_which, __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField))))) __PYX_ERR(0, 1516, __pyx_L1_error)
   __Pyx_INCREF(__pyx_v_which);
   __pyx_r = ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *)__pyx_v_which);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1461
+  /* "capnp/lib/capnp.pyx":1500
  *             raise
  * 
  *     cpdef _DynamicEnumField _which(self):             # <<<<<<<<<<<<<<
  *         """Returns the enum corresponding to the union in this struct
  * 
  */
 
@@ -35353,15 +35922,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_which", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__which(__pyx_v_self, 1)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1461, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__which(__pyx_v_self, 1)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1500, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -35370,15 +35939,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1487
+/* "capnp/lib/capnp.pyx":1526
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         def __get__(_DynamicStructBuilder self):             # <<<<<<<<<<<<<<
  *             return self._which()
  * 
  */
 
@@ -35400,29 +35969,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1488
+  /* "capnp/lib/capnp.pyx":1527
  *         """
  *         def __get__(_DynamicStructBuilder self):
  *             return self._which()             # <<<<<<<<<<<<<<
  * 
  *     cpdef adopt(self, field, _DynamicOrphan orphan):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((PyObject *)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_which(__pyx_v_self, 0)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1488, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_which(__pyx_v_self, 0)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1527, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1487
+  /* "capnp/lib/capnp.pyx":1526
  *         :Raises: :exc:`KjException` if this struct doesn't contain a union
  *         """
  *         def __get__(_DynamicStructBuilder self):             # <<<<<<<<<<<<<<
  *             return self._which()
  * 
  */
 
@@ -35433,15 +36002,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1490
+/* "capnp/lib/capnp.pyx":1529
  *             return self._which()
  * 
  *     cpdef adopt(self, field, _DynamicOrphan orphan):             # <<<<<<<<<<<<<<
  *         """A method for adopting Cap'n Proto orphans
  * 
  */
 
@@ -35465,15 +36034,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_adopt); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1490, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_adopt); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1529, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_42adopt)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -35485,40 +36054,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_field, ((PyObject *)__pyx_v_orphan)};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1490, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1529, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_field, ((PyObject *)__pyx_v_orphan)};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1490, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1529, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1490, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1529, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_field);
           __Pyx_GIVEREF(__pyx_v_field);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_field);
           __Pyx_INCREF(((PyObject *)__pyx_v_orphan));
           __Pyx_GIVEREF(((PyObject *)__pyx_v_orphan));
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, ((PyObject *)__pyx_v_orphan));
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1490, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1529, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -35533,30 +36102,30 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1504
+  /* "capnp/lib/capnp.pyx":1543
  *         :rtype: void
  *         """
  *         self.thisptr.adopt(field, orphan.move())             # <<<<<<<<<<<<<<
  * 
  *     cpdef disown(self, field):
  */
-  __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 1504, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 1543, __pyx_L1_error)
   try {
     __pyx_v_self->thisptr.adopt(__pyx_t_7, ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_v_orphan->__pyx_vtab)->move(__pyx_v_orphan));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1504, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1543, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":1490
+  /* "capnp/lib/capnp.pyx":1529
  *             return self._which()
  * 
  *     cpdef adopt(self, field, _DynamicOrphan orphan):             # <<<<<<<<<<<<<<
  *         """A method for adopting Cap'n Proto orphans
  * 
  */
 
@@ -35608,38 +36177,38 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_field)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_orphan)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("adopt", 1, 2, 2, 1); __PYX_ERR(0, 1490, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("adopt", 1, 2, 2, 1); __PYX_ERR(0, 1529, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "adopt") < 0)) __PYX_ERR(0, 1490, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "adopt") < 0)) __PYX_ERR(0, 1529, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_field = values[0];
     __pyx_v_orphan = ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)values[1]);
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("adopt", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1490, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("adopt", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1529, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.adopt", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_orphan), __pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan, 1, "orphan", 0))) __PYX_ERR(0, 1490, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_orphan), __pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan, 1, "orphan", 0))) __PYX_ERR(0, 1529, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_41adopt(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), __pyx_v_field, __pyx_v_orphan);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -35652,15 +36221,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("adopt", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_adopt(__pyx_v_self, __pyx_v_field, __pyx_v_orphan, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1490, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_adopt(__pyx_v_self, __pyx_v_field, __pyx_v_orphan, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1529, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -35669,15 +36238,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1506
+/* "capnp/lib/capnp.pyx":1545
  *         self.thisptr.adopt(field, orphan.move())
  * 
  *     cpdef disown(self, field):             # <<<<<<<<<<<<<<
  *         """A method for disowning Cap'n Proto orphans
  * 
  */
 
@@ -35699,15 +36268,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_disown); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1506, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_disown); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1545, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_44disown)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -35716,15 +36285,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1506, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1545, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -35737,36 +36306,36 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1516
+  /* "capnp/lib/capnp.pyx":1555
  *         :rtype: :class:`_DynamicOrphan`
  *         """
  *         return _DynamicOrphan()._init(self.thisptr.disown(field), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_reader(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1516, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1555, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1516, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1555, __pyx_L1_error)
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1), __pyx_v_self->thisptr.disown(__pyx_t_5), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1516, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1), __pyx_v_self->thisptr.disown(__pyx_t_5), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1555, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1506
+  /* "capnp/lib/capnp.pyx":1545
  *         self.thisptr.adopt(field, orphan.move())
  * 
  *     cpdef disown(self, field):             # <<<<<<<<<<<<<<
  *         """A method for disowning Cap'n Proto orphans
  * 
  */
 
@@ -35803,15 +36372,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("disown", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_disown(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1506, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_disown(__pyx_v_self, __pyx_v_field, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1545, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -35820,15 +36389,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1518
+/* "capnp/lib/capnp.pyx":1557
  *         return _DynamicOrphan()._init(self.thisptr.disown(field), self._parent)
  * 
  *     cpdef as_reader(self):             # <<<<<<<<<<<<<<
  *         """A method for casting this Builder to a Reader
  * 
  */
 
@@ -35851,15 +36420,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_reader); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1518, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_reader); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1557, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_46as_reader)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -35868,15 +36437,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1518, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1557, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -35889,77 +36458,77 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1527
+  /* "capnp/lib/capnp.pyx":1566
  *         """
  *         cdef _DynamicStructReader reader
  *         reader = _DynamicStructReader()._init(             # <<<<<<<<<<<<<<
  *             self.thisptr.asReader(), self._parent, self.is_root)
  *         reader._obj_to_pin = self
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1527, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1566, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
 
-  /* "capnp/lib/capnp.pyx":1528
+  /* "capnp/lib/capnp.pyx":1567
  *         cdef _DynamicStructReader reader
  *         reader = _DynamicStructReader()._init(
  *             self.thisptr.asReader(), self._parent, self.is_root)             # <<<<<<<<<<<<<<
  *         reader._obj_to_pin = self
  *         return reader
  */
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":1527
+  /* "capnp/lib/capnp.pyx":1566
  *         """
  *         cdef _DynamicStructReader reader
  *         reader = _DynamicStructReader()._init(             # <<<<<<<<<<<<<<
  *             self.thisptr.asReader(), self._parent, self.is_root)
  *         reader._obj_to_pin = self
  */
   __pyx_t_5.__pyx_n = 1;
   __pyx_t_5.isRoot = __pyx_v_self->is_root;
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), __pyx_v_self->thisptr.asReader(), __pyx_t_2, &__pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1527, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), __pyx_v_self->thisptr.asReader(), __pyx_t_2, &__pyx_t_5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1566, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 1527, __pyx_L1_error)
+  if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader))))) __PYX_ERR(0, 1566, __pyx_L1_error)
   __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":1529
+  /* "capnp/lib/capnp.pyx":1568
  *         reader = _DynamicStructReader()._init(
  *             self.thisptr.asReader(), self._parent, self.is_root)
  *         reader._obj_to_pin = self             # <<<<<<<<<<<<<<
  *         return reader
  * 
  */
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __Pyx_GIVEREF(((PyObject *)__pyx_v_self));
   __Pyx_GOTREF(__pyx_v_reader->_obj_to_pin);
   __Pyx_DECREF(__pyx_v_reader->_obj_to_pin);
   __pyx_v_reader->_obj_to_pin = ((PyObject *)__pyx_v_self);
 
-  /* "capnp/lib/capnp.pyx":1530
+  /* "capnp/lib/capnp.pyx":1569
  *             self.thisptr.asReader(), self._parent, self.is_root)
  *         reader._obj_to_pin = self
  *         return reader             # <<<<<<<<<<<<<<
  * 
  *     cpdef copy(self, num_first_segment_words=None):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_reader));
   __pyx_r = ((PyObject *)__pyx_v_reader);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1518
+  /* "capnp/lib/capnp.pyx":1557
  *         return _DynamicOrphan()._init(self.thisptr.disown(field), self._parent)
  * 
  *     cpdef as_reader(self):             # <<<<<<<<<<<<<<
  *         """A method for casting this Builder to a Reader
  * 
  */
 
@@ -35997,15 +36566,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_reader", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_as_reader(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1518, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_as_reader(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1557, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -36014,15 +36583,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1532
+/* "capnp/lib/capnp.pyx":1571
  *         return reader
  * 
  *     cpdef copy(self, num_first_segment_words=None):             # <<<<<<<<<<<<<<
  *         """A method for copying this Builder
  * 
  */
 
@@ -36050,15 +36619,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_copy); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1532, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_copy); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1571, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_48copy)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -36067,15 +36636,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_num_first_segment_words) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_num_first_segment_words);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1532, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1571, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -36088,47 +36657,47 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1543
+  /* "capnp/lib/capnp.pyx":1582
  *         :rtype: :class:`_DynamicStructBuilder`
  *         """
  *         builder = _MallocMessageBuilder(num_first_segment_words)             # <<<<<<<<<<<<<<
  *         return builder.set_root(self)
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MallocMessageBuilder), __pyx_v_num_first_segment_words); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1543, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MallocMessageBuilder), __pyx_v_num_first_segment_words); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1582, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_builder = ((struct __pyx_obj_5capnp_3lib_5capnp__MallocMessageBuilder *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1544
+  /* "capnp/lib/capnp.pyx":1583
  *         """
  *         builder = _MallocMessageBuilder(num_first_segment_words)
  *         return builder.set_root(self)             # <<<<<<<<<<<<<<
  * 
  *     property schema:
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__MallocMessageBuilder *)__pyx_v_builder->__pyx_base.__pyx_vtab)->__pyx_base.set_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_v_builder), ((PyObject *)__pyx_v_self), 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1544, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1583, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1544, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1583, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1532
+  /* "capnp/lib/capnp.pyx":1571
  *         return reader
  * 
  *     cpdef copy(self, num_first_segment_words=None):             # <<<<<<<<<<<<<<
  *         """A method for copying this Builder
  * 
  */
 
@@ -36176,29 +36745,29 @@
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_num_first_segment_words);
           if (value) { values[0] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "copy") < 0)) __PYX_ERR(0, 1532, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "copy") < 0)) __PYX_ERR(0, 1571, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_num_first_segment_words = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("copy", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1532, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("copy", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1571, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.copy", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_47copy(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), __pyx_v_num_first_segment_words);
 
@@ -36215,15 +36784,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("copy", 0);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.num_first_segment_words = __pyx_v_num_first_segment_words;
-  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder->copy(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1532, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder->copy(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1571, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -36232,15 +36801,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1548
+/* "capnp/lib/capnp.pyx":1587
  *     property schema:
  *         """A property that returns the _StructSchema object matching this writer"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self._schema is None:
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  */
 
@@ -36265,65 +36834,65 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1549
+  /* "capnp/lib/capnp.pyx":1588
  *         """A property that returns the _StructSchema object matching this writer"""
  *         def __get__(self):
  *             if self._schema is None:             # <<<<<<<<<<<<<<
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  *             return self._schema
  */
   __pyx_t_1 = (__pyx_v_self->_schema == Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":1550
+    /* "capnp/lib/capnp.pyx":1589
  *         def __get__(self):
  *             if self._schema is None:
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())             # <<<<<<<<<<<<<<
  *             return self._schema
  * 
  */
-    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1550, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1589, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3), __pyx_v_self->thisptr.getSchema()); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1550, __pyx_L1_error)
+    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3), __pyx_v_self->thisptr.getSchema()); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1589, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_GIVEREF(__pyx_t_4);
     __Pyx_GOTREF(__pyx_v_self->_schema);
     __Pyx_DECREF(__pyx_v_self->_schema);
     __pyx_v_self->_schema = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1549
+    /* "capnp/lib/capnp.pyx":1588
  *         """A property that returns the _StructSchema object matching this writer"""
  *         def __get__(self):
  *             if self._schema is None:             # <<<<<<<<<<<<<<
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  *             return self._schema
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1551
+  /* "capnp/lib/capnp.pyx":1590
  *             if self._schema is None:
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  *             return self._schema             # <<<<<<<<<<<<<<
  * 
  *     def __dir__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->_schema);
   __pyx_r = __pyx_v_self->_schema;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1548
+  /* "capnp/lib/capnp.pyx":1587
  *     property schema:
  *         """A property that returns the _StructSchema object matching this writer"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self._schema is None:
  *                 self._schema = _StructSchema()._init_child(self.thisptr.getSchema())
  */
 
@@ -36335,15 +36904,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1553
+/* "capnp/lib/capnp.pyx":1592
  *             return self._schema
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  */
 
@@ -36368,50 +36937,50 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__dir__", 0);
 
-  /* "capnp/lib/capnp.pyx":1554
+  /* "capnp/lib/capnp.pyx":1593
  * 
  *     def __dir__(self):
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1554, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1593, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1554, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1593, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1554, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1593, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = PyObject_Dir(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1554, __pyx_L1_error)
+  __pyx_t_3 = PyObject_Dir(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1593, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1554, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1593, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1554, __pyx_L1_error)
+  __pyx_t_3 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1593, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1554, __pyx_L1_error)
+  __pyx_t_1 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1593, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PySequence_List(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1554, __pyx_L1_error)
+  __pyx_t_3 = PySequence_List(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1593, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1553
+  /* "capnp/lib/capnp.pyx":1592
  *             return self._schema
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  */
 
@@ -36424,15 +36993,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1556
+/* "capnp/lib/capnp.pyx":1595
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>printStructBuilder(self.thisptr).flatten().cStr()
  * 
  */
 
@@ -36455,35 +37024,35 @@
    ::kj::StringTree __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":1557
+  /* "capnp/lib/capnp.pyx":1596
  * 
  *     def __str__(self):
  *         return <char*>printStructBuilder(self.thisptr).flatten().cStr()             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 =  ::capnp::prettyPrint(__pyx_v_self->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1557, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1596, __pyx_L1_error)
   }
-  __pyx_t_2 = __Pyx_PyStr_FromString(((char *)__pyx_t_1.flatten().cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1557, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyStr_FromString(((char *)__pyx_t_1.flatten().cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1596, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1556
+  /* "capnp/lib/capnp.pyx":1595
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return <char*>printStructBuilder(self.thisptr).flatten().cStr()
  * 
  */
 
@@ -36494,15 +37063,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1559
+/* "capnp/lib/capnp.pyx":1598
  *         return <char*>printStructBuilder(self.thisptr).flatten().cStr()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<%s builder %s>' % (self.schema.node.displayName, <char*>strStructBuilder(self.thisptr).cStr())
  * 
  */
 
@@ -36526,48 +37095,48 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1560
+  /* "capnp/lib/capnp.pyx":1599
  * 
  *     def __repr__(self):
  *         return '<%s builder %s>' % (self.schema.node.displayName, <char*>strStructBuilder(self.thisptr).cStr())             # <<<<<<<<<<<<<<
  * 
  *     def to_dict(self, verbose=False, ordered=False):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1560, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1599, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_node); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1560, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_node); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1599, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_displayName); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1560, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_displayName); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1599, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyStr_FromString(((char *) ::kj::str(__pyx_v_self->thisptr).cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1560, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyStr_FromString(((char *) ::kj::str(__pyx_v_self->thisptr).cStr())); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1599, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1560, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1599, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
   __pyx_t_1 = 0;
   __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_s_builder_s, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1560, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyString_Format(__pyx_kp_s_s_builder_s, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1599, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1559
+  /* "capnp/lib/capnp.pyx":1598
  *         return <char*>printStructBuilder(self.thisptr).flatten().cStr()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<%s builder %s>' % (self.schema.node.displayName, <char*>strStructBuilder(self.thisptr).cStr())
  * 
  */
 
@@ -36580,15 +37149,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1562
+/* "capnp/lib/capnp.pyx":1601
  *         return '<%s builder %s>' % (self.schema.node.displayName, <char*>strStructBuilder(self.thisptr).cStr())
  * 
  *     def to_dict(self, verbose=False, ordered=False):             # <<<<<<<<<<<<<<
  *         return _to_dict(self, verbose, ordered)
  * 
  */
 
@@ -36631,15 +37200,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ordered);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_dict") < 0)) __PYX_ERR(0, 1562, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_dict") < 0)) __PYX_ERR(0, 1601, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
@@ -36648,15 +37217,15 @@
       }
     }
     __pyx_v_verbose = values[0];
     __pyx_v_ordered = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("to_dict", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1562, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("to_dict", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1601, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.to_dict", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_55to_dict(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), __pyx_v_verbose, __pyx_v_ordered);
 
@@ -36672,31 +37241,31 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_dict", 0);
 
-  /* "capnp/lib/capnp.pyx":1563
+  /* "capnp/lib/capnp.pyx":1602
  * 
  *     def to_dict(self, verbose=False, ordered=False):
  *         return _to_dict(self, verbose, ordered)             # <<<<<<<<<<<<<<
  * 
  *     def from_dict(self, dict d):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1563, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ordered); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1563, __pyx_L1_error)
-  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(((PyObject *)__pyx_v_self), __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1563, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1602, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ordered); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1602, __pyx_L1_error)
+  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(((PyObject *)__pyx_v_self), __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1602, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1562
+  /* "capnp/lib/capnp.pyx":1601
  *         return '<%s builder %s>' % (self.schema.node.displayName, <char*>strStructBuilder(self.thisptr).cStr())
  * 
  *     def to_dict(self, verbose=False, ordered=False):             # <<<<<<<<<<<<<<
  *         return _to_dict(self, verbose, ordered)
  * 
  */
 
@@ -36707,15 +37276,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1565
+/* "capnp/lib/capnp.pyx":1604
  *         return _to_dict(self, verbose, ordered)
  * 
  *     def from_dict(self, dict d):             # <<<<<<<<<<<<<<
  *         for key, val in d.iteritems():
  *             if key != 'which':
  */
 
@@ -36725,15 +37294,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_21_DynamicStructBuilder_58from_dict(PyObject *__pyx_v_self, PyObject *__pyx_v_d) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("from_dict (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_d), (&PyDict_Type), 1, "d", 1))) __PYX_ERR(0, 1565, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_d), (&PyDict_Type), 1, "d", 1))) __PYX_ERR(0, 1604, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_57from_dict(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), ((PyObject*)__pyx_v_d));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -36762,53 +37331,53 @@
   PyObject *__pyx_t_13 = NULL;
   int __pyx_t_14;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("from_dict", 0);
 
-  /* "capnp/lib/capnp.pyx":1566
+  /* "capnp/lib/capnp.pyx":1605
  * 
  *     def from_dict(self, dict d):
  *         for key, val in d.iteritems():             # <<<<<<<<<<<<<<
  *             if key != 'which':
  *                 try:
  */
   __pyx_t_2 = 0;
   if (unlikely(__pyx_v_d == Py_None)) {
     PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "iteritems");
-    __PYX_ERR(0, 1566, __pyx_L1_error)
+    __PYX_ERR(0, 1605, __pyx_L1_error)
   }
-  __pyx_t_5 = __Pyx_dict_iterator(__pyx_v_d, 1, __pyx_n_s_iteritems, (&__pyx_t_3), (&__pyx_t_4)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1566, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_dict_iterator(__pyx_v_d, 1, __pyx_n_s_iteritems, (&__pyx_t_3), (&__pyx_t_4)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1605, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_1);
   __pyx_t_1 = __pyx_t_5;
   __pyx_t_5 = 0;
   while (1) {
     __pyx_t_7 = __Pyx_dict_iter_next(__pyx_t_1, __pyx_t_3, &__pyx_t_2, &__pyx_t_5, &__pyx_t_6, NULL, __pyx_t_4);
     if (unlikely(__pyx_t_7 == 0)) break;
-    if (unlikely(__pyx_t_7 == -1)) __PYX_ERR(0, 1566, __pyx_L1_error)
+    if (unlikely(__pyx_t_7 == -1)) __PYX_ERR(0, 1605, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_GOTREF(__pyx_t_6);
     __Pyx_XDECREF_SET(__pyx_v_key, __pyx_t_5);
     __pyx_t_5 = 0;
     __Pyx_XDECREF_SET(__pyx_v_val, __pyx_t_6);
     __pyx_t_6 = 0;
 
-    /* "capnp/lib/capnp.pyx":1567
+    /* "capnp/lib/capnp.pyx":1606
  *     def from_dict(self, dict d):
  *         for key, val in d.iteritems():
  *             if key != 'which':             # <<<<<<<<<<<<<<
  *                 try:
  *                     self._set(key, val)
  */
-    __pyx_t_8 = (__Pyx_PyString_Equals(__pyx_v_key, __pyx_n_s_which, Py_NE)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 1567, __pyx_L1_error)
+    __pyx_t_8 = (__Pyx_PyString_Equals(__pyx_v_key, __pyx_n_s_which, Py_NE)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 1606, __pyx_L1_error)
     if (__pyx_t_8) {
 
-      /* "capnp/lib/capnp.pyx":1568
+      /* "capnp/lib/capnp.pyx":1607
  *         for key, val in d.iteritems():
  *             if key != 'which':
  *                 try:             # <<<<<<<<<<<<<<
  *                     self._set(key, val)
  *                 except Exception as e:
  */
       {
@@ -36816,26 +37385,26 @@
         __Pyx_PyThreadState_assign
         __Pyx_ExceptionSave(&__pyx_t_9, &__pyx_t_10, &__pyx_t_11);
         __Pyx_XGOTREF(__pyx_t_9);
         __Pyx_XGOTREF(__pyx_t_10);
         __Pyx_XGOTREF(__pyx_t_11);
         /*try:*/ {
 
-          /* "capnp/lib/capnp.pyx":1569
+          /* "capnp/lib/capnp.pyx":1608
  *             if key != 'which':
  *                 try:
  *                     self._set(key, val)             # <<<<<<<<<<<<<<
  *                 except Exception as e:
  *                     if 'expected isSetInUnion(field)' in str(e):
  */
-          __pyx_t_6 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_set(__pyx_v_self, __pyx_v_key, __pyx_v_val, 0); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1569, __pyx_L6_error)
+          __pyx_t_6 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_set(__pyx_v_self, __pyx_v_key, __pyx_v_val, 0); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1608, __pyx_L6_error)
           __Pyx_GOTREF(__pyx_t_6);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-          /* "capnp/lib/capnp.pyx":1568
+          /* "capnp/lib/capnp.pyx":1607
  *         for key, val in d.iteritems():
  *             if key != 'which':
  *                 try:             # <<<<<<<<<<<<<<
  *                     self._set(key, val)
  *                 except Exception as e:
  */
         }
@@ -36843,102 +37412,102 @@
         __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
         __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
         goto __pyx_L13_try_end;
         __pyx_L6_error:;
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-        /* "capnp/lib/capnp.pyx":1570
+        /* "capnp/lib/capnp.pyx":1609
  *                 try:
  *                     self._set(key, val)
  *                 except Exception as e:             # <<<<<<<<<<<<<<
  *                     if 'expected isSetInUnion(field)' in str(e):
  *                         self.init(key)
  */
         __pyx_t_7 = __Pyx_PyErr_ExceptionMatches(((PyObject *)(&((PyTypeObject*)PyExc_Exception)[0])));
         if (__pyx_t_7) {
           __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder.from_dict", __pyx_clineno, __pyx_lineno, __pyx_filename);
-          if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_12) < 0) __PYX_ERR(0, 1570, __pyx_L8_except_error)
+          if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_12) < 0) __PYX_ERR(0, 1609, __pyx_L8_except_error)
           __Pyx_GOTREF(__pyx_t_6);
           __Pyx_GOTREF(__pyx_t_5);
           __Pyx_GOTREF(__pyx_t_12);
           __Pyx_INCREF(__pyx_t_5);
           __Pyx_XDECREF_SET(__pyx_v_e, __pyx_t_5);
 
-          /* "capnp/lib/capnp.pyx":1571
+          /* "capnp/lib/capnp.pyx":1610
  *                     self._set(key, val)
  *                 except Exception as e:
  *                     if 'expected isSetInUnion(field)' in str(e):             # <<<<<<<<<<<<<<
  *                         self.init(key)
  *                         self._set(key, val)
  */
-          __pyx_t_13 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1571, __pyx_L8_except_error)
+          __pyx_t_13 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1610, __pyx_L8_except_error)
           __Pyx_GOTREF(__pyx_t_13);
-          __pyx_t_8 = (__Pyx_PySequence_ContainsTF(__pyx_kp_s_expected_isSetInUnion_field, __pyx_t_13, Py_EQ)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 1571, __pyx_L8_except_error)
+          __pyx_t_8 = (__Pyx_PySequence_ContainsTF(__pyx_kp_s_expected_isSetInUnion_field, __pyx_t_13, Py_EQ)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 1610, __pyx_L8_except_error)
           __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
           __pyx_t_14 = (__pyx_t_8 != 0);
           if (likely(__pyx_t_14)) {
 
-            /* "capnp/lib/capnp.pyx":1572
+            /* "capnp/lib/capnp.pyx":1611
  *                 except Exception as e:
  *                     if 'expected isSetInUnion(field)' in str(e):
  *                         self.init(key)             # <<<<<<<<<<<<<<
  *                         self._set(key, val)
  *                     else:
  */
-            __pyx_t_13 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->init(__pyx_v_self, __pyx_v_key, 0, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1572, __pyx_L8_except_error)
+            __pyx_t_13 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->init(__pyx_v_self, __pyx_v_key, 0, NULL); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1611, __pyx_L8_except_error)
             __Pyx_GOTREF(__pyx_t_13);
             __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
 
-            /* "capnp/lib/capnp.pyx":1573
+            /* "capnp/lib/capnp.pyx":1612
  *                     if 'expected isSetInUnion(field)' in str(e):
  *                         self.init(key)
  *                         self._set(key, val)             # <<<<<<<<<<<<<<
  *                     else:
  *                         raise
  */
-            __pyx_t_13 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_set(__pyx_v_self, __pyx_v_key, __pyx_v_val, 0); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1573, __pyx_L8_except_error)
+            __pyx_t_13 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->_set(__pyx_v_self, __pyx_v_key, __pyx_v_val, 0); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 1612, __pyx_L8_except_error)
             __Pyx_GOTREF(__pyx_t_13);
             __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
 
-            /* "capnp/lib/capnp.pyx":1571
+            /* "capnp/lib/capnp.pyx":1610
  *                     self._set(key, val)
  *                 except Exception as e:
  *                     if 'expected isSetInUnion(field)' in str(e):             # <<<<<<<<<<<<<<
  *                         self.init(key)
  *                         self._set(key, val)
  */
             goto __pyx_L16;
           }
 
-          /* "capnp/lib/capnp.pyx":1575
+          /* "capnp/lib/capnp.pyx":1614
  *                         self._set(key, val)
  *                     else:
  *                         raise             # <<<<<<<<<<<<<<
  * 
  *     property total_size:
  */
           /*else*/ {
             __Pyx_GIVEREF(__pyx_t_6);
             __Pyx_GIVEREF(__pyx_t_5);
             __Pyx_XGIVEREF(__pyx_t_12);
             __Pyx_ErrRestoreWithState(__pyx_t_6, __pyx_t_5, __pyx_t_12);
             __pyx_t_6 = 0; __pyx_t_5 = 0; __pyx_t_12 = 0; 
-            __PYX_ERR(0, 1575, __pyx_L8_except_error)
+            __PYX_ERR(0, 1614, __pyx_L8_except_error)
           }
           __pyx_L16:;
           __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
           __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
           __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
           goto __pyx_L7_exception_handled;
         }
         goto __pyx_L8_except_error;
         __pyx_L8_except_error:;
 
-        /* "capnp/lib/capnp.pyx":1568
+        /* "capnp/lib/capnp.pyx":1607
  *         for key, val in d.iteritems():
  *             if key != 'which':
  *                 try:             # <<<<<<<<<<<<<<
  *                     self._set(key, val)
  *                 except Exception as e:
  */
         __Pyx_XGIVEREF(__pyx_t_9);
@@ -36950,26 +37519,26 @@
         __Pyx_XGIVEREF(__pyx_t_9);
         __Pyx_XGIVEREF(__pyx_t_10);
         __Pyx_XGIVEREF(__pyx_t_11);
         __Pyx_ExceptionReset(__pyx_t_9, __pyx_t_10, __pyx_t_11);
         __pyx_L13_try_end:;
       }
 
-      /* "capnp/lib/capnp.pyx":1567
+      /* "capnp/lib/capnp.pyx":1606
  *     def from_dict(self, dict d):
  *         for key, val in d.iteritems():
  *             if key != 'which':             # <<<<<<<<<<<<<<
  *                 try:
  *                     self._set(key, val)
  */
     }
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1565
+  /* "capnp/lib/capnp.pyx":1604
  *         return _to_dict(self, verbose, ordered)
  * 
  *     def from_dict(self, dict d):             # <<<<<<<<<<<<<<
  *         for key, val in d.iteritems():
  *             if key != 'which':
  */
 
@@ -36989,15 +37558,15 @@
   __Pyx_XDECREF(__pyx_v_val);
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1578
+/* "capnp/lib/capnp.pyx":1617
  * 
  *     property total_size:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             size = self.thisptr.totalSize()
  *             return _MessageSize(size.wordCount, size.capCount)
  */
 
@@ -37022,51 +37591,51 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1579
+  /* "capnp/lib/capnp.pyx":1618
  *     property total_size:
  *         def __get__(self):
  *             size = self.thisptr.totalSize()             # <<<<<<<<<<<<<<
  *             return _MessageSize(size.wordCount, size.capCount)
  * 
  */
   __pyx_v_size = __pyx_v_self->thisptr.totalSize();
 
-  /* "capnp/lib/capnp.pyx":1580
+  /* "capnp/lib/capnp.pyx":1619
  *         def __get__(self):
  *             size = self.thisptr.totalSize()
  *             return _MessageSize(size.wordCount, size.capCount)             # <<<<<<<<<<<<<<
  * 
  *     def clear_write_flag(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_size.wordCount); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1580, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_uint64_t(__pyx_v_size.wordCount); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1619, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyInt_From_unsigned_int(__pyx_v_size.capCount); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1580, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_unsigned_int(__pyx_v_size.capCount); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1619, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1580, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1619, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
   __pyx_t_1 = 0;
   __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MessageSize), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1580, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MessageSize), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1619, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1578
+  /* "capnp/lib/capnp.pyx":1617
  * 
  *     property total_size:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             size = self.thisptr.totalSize()
  *             return _MessageSize(size.wordCount, size.capCount)
  */
 
@@ -37079,15 +37648,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1582
+/* "capnp/lib/capnp.pyx":1621
  *             return _MessageSize(size.wordCount, size.capCount)
  * 
  *     def clear_write_flag(self):             # <<<<<<<<<<<<<<
  *         """A method used to clear the _is_written flag.
  * 
  */
 
@@ -37106,39 +37675,39 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_21_DynamicStructBuilder_59clear_write_flag(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("clear_write_flag", 0);
 
-  /* "capnp/lib/capnp.pyx":1587
+  /* "capnp/lib/capnp.pyx":1626
  *         This allows you to write the struct more than once without seeing any warnings.
  *         """
  *         self._is_written = False             # <<<<<<<<<<<<<<
  * 
  *     def __reduce_ex__(self, proto):
  */
   __pyx_v_self->_is_written = 0;
 
-  /* "capnp/lib/capnp.pyx":1582
+  /* "capnp/lib/capnp.pyx":1621
  *             return _MessageSize(size.wordCount, size.capCount)
  * 
  *     def clear_write_flag(self):             # <<<<<<<<<<<<<<
  *         """A method used to clear the _is_written flag.
  * 
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1589
+/* "capnp/lib/capnp.pyx":1628
  *         self._is_written = False
  * 
  *     def __reduce_ex__(self, proto):             # <<<<<<<<<<<<<<
  *         return _struct_reducer, (self.schema.node.id, self.to_bytes())
  * 
  */
 
@@ -37164,61 +37733,61 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_ex__", 0);
 
-  /* "capnp/lib/capnp.pyx":1590
+  /* "capnp/lib/capnp.pyx":1629
  * 
  *     def __reduce_ex__(self, proto):
  *         return _struct_reducer, (self.schema.node.id, self.to_bytes())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_struct_reducer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1590, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_struct_reducer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1590, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_node); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1590, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_node); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_id); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1590, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_id); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   try {
     __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self->__pyx_vtab)->to_bytes(__pyx_v_self, 0);
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1590, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1629, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1590, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1629, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1590, __pyx_L1_error)
+  __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_3);
   __pyx_t_2 = 0;
   __pyx_t_3 = 0;
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1590, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_4);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_4);
   __pyx_t_1 = 0;
   __pyx_t_4 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1589
+  /* "capnp/lib/capnp.pyx":1628
  *         self._is_written = False
  * 
  *     def __reduce_ex__(self, proto):             # <<<<<<<<<<<<<<
  *         return _struct_reducer, (self.schema.node.id, self.to_bytes())
  * 
  */
 
@@ -37491,77 +38060,77 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructBuilder._is_written.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1605
+/* "capnp/lib/capnp.pyx":1644
  *     cdef public object _parent
  * 
  *     cdef _init(self, C_DynamicStruct.Pipeline * other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_22_DynamicStructPipeline__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *__pyx_v_self,  ::capnp::DynamicStruct::Pipeline *__pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":1606
+  /* "capnp/lib/capnp.pyx":1645
  * 
  *     cdef _init(self, C_DynamicStruct.Pipeline * other, object parent):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":1607
+  /* "capnp/lib/capnp.pyx":1646
  *     cdef _init(self, C_DynamicStruct.Pipeline * other, object parent):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":1608
+  /* "capnp/lib/capnp.pyx":1647
  *         self.thisptr = other
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1605
+  /* "capnp/lib/capnp.pyx":1644
  *     cdef public object _parent
  * 
  *     cdef _init(self, C_DynamicStruct.Pipeline * other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1610
+/* "capnp/lib/capnp.pyx":1649
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -37576,36 +38145,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_22_DynamicStructPipeline___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":1611
+  /* "capnp/lib/capnp.pyx":1650
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get(self, field) except +reraise_kj_exception:
  */
   delete __pyx_v_self->thisptr;
 
-  /* "capnp/lib/capnp.pyx":1610
+  /* "capnp/lib/capnp.pyx":1649
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":1613
+/* "capnp/lib/capnp.pyx":1652
  *         del self.thisptr
  * 
  *     cpdef _get(self, field) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:
  */
 
@@ -37628,15 +38197,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1613, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1652, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_22_DynamicStructPipeline_3_get)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -37645,15 +38214,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1613, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1652, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -37666,205 +38235,205 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1614
+  /* "capnp/lib/capnp.pyx":1653
  * 
  *     cpdef _get(self, field) except +reraise_kj_exception:
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get(field)).getType()             # <<<<<<<<<<<<<<
  *         if type == capnp.TYPE_CAPABILITY:
  *             return _DynamicCapabilityClient()._init(
  */
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1614, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1653, __pyx_L1_error)
   __pyx_v_type = (( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr->get(__pyx_t_5)).getType();
 
-  /* "capnp/lib/capnp.pyx":1615
+  /* "capnp/lib/capnp.pyx":1654
  *     cpdef _get(self, field) except +reraise_kj_exception:
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:             # <<<<<<<<<<<<<<
  *             return _DynamicCapabilityClient()._init(
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asCapability(), self._parent)
  */
   switch (__pyx_v_type) {
     case  ::capnp::DynamicValue::CAPABILITY:
 
-    /* "capnp/lib/capnp.pyx":1616
+    /* "capnp/lib/capnp.pyx":1655
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:
  *             return _DynamicCapabilityClient()._init(             # <<<<<<<<<<<<<<
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1616, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1655, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
 
-    /* "capnp/lib/capnp.pyx":1617
+    /* "capnp/lib/capnp.pyx":1656
  *         if type == capnp.TYPE_CAPABILITY:
  *             return _DynamicCapabilityClient()._init(
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asCapability(), self._parent)             # <<<<<<<<<<<<<<
  *         elif type == capnp.TYPE_STRUCT:
  *             return _DynamicStructPipeline()._init(
  */
-    __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1617, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1656, __pyx_L1_error)
     __pyx_t_2 = __pyx_v_self->_parent;
     __Pyx_INCREF(__pyx_t_2);
 
-    /* "capnp/lib/capnp.pyx":1616
+    /* "capnp/lib/capnp.pyx":1655
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:
  *             return _DynamicCapabilityClient()._init(             # <<<<<<<<<<<<<<
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:
  */
-    __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), (( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr->get(__pyx_t_5)).releaseAs< ::capnp::DynamicCapability>(), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1616, __pyx_L1_error)
+    __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), (( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr->get(__pyx_t_5)).releaseAs< ::capnp::DynamicCapability>(), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1655, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1615
+    /* "capnp/lib/capnp.pyx":1654
  *     cpdef _get(self, field) except +reraise_kj_exception:
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:             # <<<<<<<<<<<<<<
  *             return _DynamicCapabilityClient()._init(
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asCapability(), self._parent)
  */
     break;
     case  ::capnp::DynamicValue::STRUCT:
 
-    /* "capnp/lib/capnp.pyx":1619
+    /* "capnp/lib/capnp.pyx":1658
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:
  *             return _DynamicStructPipeline()._init(             # <<<<<<<<<<<<<<
  *                 new C_DynamicStruct.Pipeline(
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asStruct()), self._parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructPipeline)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1619, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructPipeline)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1658, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
 
-    /* "capnp/lib/capnp.pyx":1621
+    /* "capnp/lib/capnp.pyx":1660
  *             return _DynamicStructPipeline()._init(
  *                 new C_DynamicStruct.Pipeline(
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asStruct()), self._parent)             # <<<<<<<<<<<<<<
  *         elif type == capnp.TYPE_UNKNOWN:
  *             raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  */
-    __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1621, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1660, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1620
+    /* "capnp/lib/capnp.pyx":1659
  *         elif type == capnp.TYPE_STRUCT:
  *             return _DynamicStructPipeline()._init(
  *                 new C_DynamicStruct.Pipeline(             # <<<<<<<<<<<<<<
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asStruct()), self._parent)
  *         elif type == capnp.TYPE_UNKNOWN:
  */
     __pyx_t_2 = __pyx_v_self->_parent;
     __Pyx_INCREF(__pyx_t_2);
 
-    /* "capnp/lib/capnp.pyx":1619
+    /* "capnp/lib/capnp.pyx":1658
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:
  *             return _DynamicStructPipeline()._init(             # <<<<<<<<<<<<<<
  *                 new C_DynamicStruct.Pipeline(
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asStruct()), self._parent)
  */
-    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructPipeline *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_t_3)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_t_3), new  ::capnp::DynamicStruct::Pipeline((( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr->get(__pyx_t_5)).releaseAs< ::capnp::DynamicStruct>()), __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1619, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructPipeline *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_t_3)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_t_3), new  ::capnp::DynamicStruct::Pipeline((( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr->get(__pyx_t_5)).releaseAs< ::capnp::DynamicStruct>()), __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1658, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1618
+    /* "capnp/lib/capnp.pyx":1657
  *             return _DynamicCapabilityClient()._init(
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:             # <<<<<<<<<<<<<<
  *             return _DynamicStructPipeline()._init(
  *                 new C_DynamicStruct.Pipeline(
  */
     break;
     case  ::capnp::DynamicValue::UNKNOWN:
 
-    /* "capnp/lib/capnp.pyx":1623
+    /* "capnp/lib/capnp.pyx":1662
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asStruct()), self._parent)
  *         elif type == capnp.TYPE_UNKNOWN:
  *             raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")             # <<<<<<<<<<<<<<
  *         else:
  *             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1623, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1662, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_Cannot_convert_type_to_Python_Ty) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_Cannot_convert_type_to_Python_Ty);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1623, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1662, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 1623, __pyx_L1_error)
+    __PYX_ERR(0, 1662, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1622
+    /* "capnp/lib/capnp.pyx":1661
  *                 new C_DynamicStruct.Pipeline(
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get(field)).asStruct()), self._parent)
  *         elif type == capnp.TYPE_UNKNOWN:             # <<<<<<<<<<<<<<
  *             raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  *         else:
  */
     break;
     default:
 
-    /* "capnp/lib/capnp.pyx":1625
+    /* "capnp/lib/capnp.pyx":1664
  *             raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  *         else:
  *             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")             # <<<<<<<<<<<<<<
  * 
  *     def __getattr__(self, field):
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1625, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1664, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_Cannot_convert_type_to_Python_Ty_2) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_Cannot_convert_type_to_Python_Ty_2);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1625, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1664, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 1625, __pyx_L1_error)
+    __PYX_ERR(0, 1664, __pyx_L1_error)
     break;
   }
 
-  /* "capnp/lib/capnp.pyx":1613
+  /* "capnp/lib/capnp.pyx":1652
  *         del self.thisptr
  * 
  *     cpdef _get(self, field) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:
  */
 
@@ -37903,18 +38472,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_22_DynamicStructPipeline__get(__pyx_v_self, __pyx_v_field, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1613, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1652, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1613, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1652, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -37924,15 +38493,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1627
+/* "capnp/lib/capnp.pyx":1666
  *             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
  * 
  *     def __getattr__(self, field):             # <<<<<<<<<<<<<<
  *         try:
  *             return self._get(field)
  */
 
@@ -37959,21 +38528,20 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   PyObject *__pyx_t_7 = NULL;
   int __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getattr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1628
+  /* "capnp/lib/capnp.pyx":1667
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
   {
@@ -37981,124 +38549,100 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1629
+      /* "capnp/lib/capnp.pyx":1668
  *     def __getattr__(self, field):
  *         try:
  *             return self._get(field)             # <<<<<<<<<<<<<<
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  */
       __Pyx_XDECREF(__pyx_r);
       try {
         __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_field, 0);
-        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1629, __pyx_L3_error)
+        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1668, __pyx_L3_error)
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 1629, __pyx_L3_error)
+        __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 1668, __pyx_L3_error)
       }
       __Pyx_GOTREF(__pyx_t_4);
       __pyx_r = __pyx_t_4;
       __pyx_t_4 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":1628
+      /* "capnp/lib/capnp.pyx":1667
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1630
+    /* "capnp/lib/capnp.pyx":1669
  *         try:
  *             return self._get(field)
  *         except KjException as e:             # <<<<<<<<<<<<<<
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  * 
  */
     __Pyx_ErrFetch(&__pyx_t_4, &__pyx_t_5, &__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1630, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1669, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_t_8 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_4, __pyx_t_7);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_ErrRestore(__pyx_t_4, __pyx_t_5, __pyx_t_6);
     __pyx_t_4 = 0; __pyx_t_5 = 0; __pyx_t_6 = 0;
     if (__pyx_t_8) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructPipeline.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1630, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1669, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __pyx_v_e = __pyx_t_5;
 
-      /* "capnp/lib/capnp.pyx":1631
+      /* "capnp/lib/capnp.pyx":1670
  *             return self._get(field)
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]             # <<<<<<<<<<<<<<
+ *             raise e._to_python() from None             # <<<<<<<<<<<<<<
  * 
  *     property schema:
  */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1631, __pyx_L5_except_error)
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1670, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_9))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_9);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_9, function);
         }
       }
       __pyx_t_7 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_9);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1631, __pyx_L5_except_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1670, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_GetModuleGlobalName(__pyx_t_10, __pyx_n_s_sys); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1631, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_t_10, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1631, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __pyx_t_10 = NULL;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_11))) {
-        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_11);
-        if (likely(__pyx_t_10)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-          __Pyx_INCREF(__pyx_t_10);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_11, function);
-        }
-      }
-      __pyx_t_9 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_11);
-      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1631, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __pyx_t_11 = __Pyx_GetItemInt(__pyx_t_9, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1631, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_Raise(__pyx_t_7, Py_None, __pyx_t_11, 0);
+      __Pyx_Raise(__pyx_t_7, 0, 0, Py_None);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __PYX_ERR(0, 1631, __pyx_L5_except_error)
+      __PYX_ERR(0, 1670, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1628
+    /* "capnp/lib/capnp.pyx":1667
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -38110,15 +38654,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1627
+  /* "capnp/lib/capnp.pyx":1666
  *             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
  * 
  *     def __getattr__(self, field):             # <<<<<<<<<<<<<<
  *         try:
  *             return self._get(field)
  */
 
@@ -38126,25 +38670,24 @@
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_XDECREF(__pyx_t_7);
   __Pyx_XDECREF(__pyx_t_9);
   __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_XDECREF(__pyx_t_11);
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructPipeline.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1635
+/* "capnp/lib/capnp.pyx":1674
  *     property schema:
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _StructSchema()._init_child(self.thisptr.getSchema())
  * 
  */
 
@@ -38167,32 +38710,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1636
+  /* "capnp/lib/capnp.pyx":1675
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):
  *             return _StructSchema()._init_child(self.thisptr.getSchema())             # <<<<<<<<<<<<<<
  * 
  *     def __dir__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1636, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1675, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_v_self->thisptr->getSchema()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1636, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_v_self->thisptr->getSchema()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1675, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1635
+  /* "capnp/lib/capnp.pyx":1674
  *     property schema:
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _StructSchema()._init_child(self.thisptr.getSchema())
  * 
  */
 
@@ -38204,15 +38747,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1638
+/* "capnp/lib/capnp.pyx":1677
  *             return _StructSchema()._init_child(self.thisptr.getSchema())
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  */
 
@@ -38237,50 +38780,50 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__dir__", 0);
 
-  /* "capnp/lib/capnp.pyx":1639
+  /* "capnp/lib/capnp.pyx":1678
  * 
  *     def __dir__(self):
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))             # <<<<<<<<<<<<<<
  * 
  *     # def __str__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1639, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1678, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1639, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1678, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1639, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1678, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = PyObject_Dir(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1639, __pyx_L1_error)
+  __pyx_t_3 = PyObject_Dir(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1678, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1639, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1678, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1639, __pyx_L1_error)
+  __pyx_t_3 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1678, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1639, __pyx_L1_error)
+  __pyx_t_1 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1678, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PySequence_List(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1639, __pyx_L1_error)
+  __pyx_t_3 = PySequence_List(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1678, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1638
+  /* "capnp/lib/capnp.pyx":1677
  *             return _StructSchema()._init_child(self.thisptr.getSchema())
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  */
 
@@ -38293,15 +38836,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1647
+/* "capnp/lib/capnp.pyx":1686
  *     #     return '<%s reader %s>' % (self.schema.node.displayName, strStructReader(self.thisptr).cStr())
  * 
  *     def to_dict(self, verbose=False, ordered=False):             # <<<<<<<<<<<<<<
  *         return _to_dict(self, verbose, ordered)
  * 
  */
 
@@ -38344,15 +38887,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ordered);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_dict") < 0)) __PYX_ERR(0, 1647, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_dict") < 0)) __PYX_ERR(0, 1686, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
@@ -38361,15 +38904,15 @@
       }
     }
     __pyx_v_verbose = values[0];
     __pyx_v_ordered = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("to_dict", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1647, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("to_dict", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1686, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructPipeline.to_dict", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_22_DynamicStructPipeline_8to_dict(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_v_self), __pyx_v_verbose, __pyx_v_ordered);
 
@@ -38385,31 +38928,31 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_dict", 0);
 
-  /* "capnp/lib/capnp.pyx":1648
+  /* "capnp/lib/capnp.pyx":1687
  * 
  *     def to_dict(self, verbose=False, ordered=False):
  *         return _to_dict(self, verbose, ordered)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1648, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ordered); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1648, __pyx_L1_error)
-  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(((PyObject *)__pyx_v_self), __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1648, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1687, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ordered); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1687, __pyx_L1_error)
+  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(((PyObject *)__pyx_v_self), __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1687, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1647
+  /* "capnp/lib/capnp.pyx":1686
  *     #     return '<%s reader %s>' % (self.schema.node.displayName, strStructReader(self.thisptr).cStr())
  * 
  *     def to_dict(self, verbose=False, ordered=False):             # <<<<<<<<<<<<<<
  *         return _to_dict(self, verbose, ordered)
  * 
  */
 
@@ -38420,15 +38963,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1603
+/* "capnp/lib/capnp.pyx":1642
  *     """
  *     cdef C_DynamicStruct.Pipeline * thisptr
  *     cdef public object _parent             # <<<<<<<<<<<<<<
  * 
  *     cdef _init(self, C_DynamicStruct.Pipeline * other, object parent):
  */
 
@@ -38630,114 +39173,114 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicStructPipeline.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1652
+/* "capnp/lib/capnp.pyx":1691
  * 
  * cdef class _DynamicOrphan:
  *     cdef _init(self, C_DynamicOrphan other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = move(other)
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_14_DynamicOrphan__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *__pyx_v_self,  ::capnp::Orphan< ::capnp::DynamicValue> __pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":1653
+  /* "capnp/lib/capnp.pyx":1692
  * cdef class _DynamicOrphan:
  *     cdef _init(self, C_DynamicOrphan other, object parent):
  *         self.thisptr = move(other)             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = cython_std::move< ::capnp::Orphan< ::capnp::DynamicValue>>(__pyx_v_other);
 
-  /* "capnp/lib/capnp.pyx":1654
+  /* "capnp/lib/capnp.pyx":1693
  *     cdef _init(self, C_DynamicOrphan other, object parent):
  *         self.thisptr = move(other)
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":1655
+  /* "capnp/lib/capnp.pyx":1694
  *         self.thisptr = move(other)
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cdef C_DynamicOrphan move(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1652
+  /* "capnp/lib/capnp.pyx":1691
  * 
  * cdef class _DynamicOrphan:
  *     cdef _init(self, C_DynamicOrphan other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = move(other)
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1657
+/* "capnp/lib/capnp.pyx":1696
  *         return self
  * 
  *     cdef C_DynamicOrphan move(self):             # <<<<<<<<<<<<<<
  *         return move(self.thisptr)
  * 
  */
 
 static  ::capnp::Orphan< ::capnp::DynamicValue> __pyx_f_5capnp_3lib_5capnp_14_DynamicOrphan_move(struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *__pyx_v_self) {
    ::capnp::Orphan< ::capnp::DynamicValue> __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("move", 0);
 
-  /* "capnp/lib/capnp.pyx":1658
+  /* "capnp/lib/capnp.pyx":1697
  * 
  *     cdef C_DynamicOrphan move(self):
  *         return move(self.thisptr)             # <<<<<<<<<<<<<<
  * 
  *     cpdef get(self):
  */
   __pyx_r = cython_std::move< ::capnp::Orphan< ::capnp::DynamicValue>>(__pyx_v_self->thisptr);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1657
+  /* "capnp/lib/capnp.pyx":1696
  *         return self
  * 
  *     cdef C_DynamicOrphan move(self):             # <<<<<<<<<<<<<<
  *         return move(self.thisptr)
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1660
+/* "capnp/lib/capnp.pyx":1699
  *         return move(self.thisptr)
  * 
  *     cpdef get(self):             # <<<<<<<<<<<<<<
  *         """Returns a python object corresponding to the DynamicValue owned by this orphan
  * 
  */
 
@@ -38758,15 +39301,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1660, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1699, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14_DynamicOrphan_1get)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -38775,15 +39318,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1660, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1699, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -38796,32 +39339,32 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1665
+  /* "capnp/lib/capnp.pyx":1704
  *         Use this DynamicValue to set fields inside the orphan
  *         """
  *         return to_python_builder(self.thisptr.get(), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     def __str__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_1 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder(__pyx_v_self->thisptr.get(), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1665, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp_to_python_builder(__pyx_v_self->thisptr.get(), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1704, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1660
+  /* "capnp/lib/capnp.pyx":1699
  *         return move(self.thisptr)
  * 
  *     cpdef get(self):             # <<<<<<<<<<<<<<
  *         """Returns a python object corresponding to the DynamicValue owned by this orphan
  * 
  */
 
@@ -38858,15 +39401,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14_DynamicOrphan_get(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1660, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14_DynamicOrphan_get(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1699, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -38875,15 +39418,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1667
+/* "capnp/lib/capnp.pyx":1706
  *         return to_python_builder(self.thisptr.get(), self._parent)
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return str(self.get())
  * 
  */
 
@@ -38906,32 +39449,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__str__", 0);
 
-  /* "capnp/lib/capnp.pyx":1668
+  /* "capnp/lib/capnp.pyx":1707
  * 
  *     def __str__(self):
  *         return str(self.get())             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_v_self->__pyx_vtab)->get(__pyx_v_self, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1668, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_v_self->__pyx_vtab)->get(__pyx_v_self, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1707, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1668, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1707, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1667
+  /* "capnp/lib/capnp.pyx":1706
  *         return to_python_builder(self.thisptr.get(), self._parent)
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return str(self.get())
  * 
  */
 
@@ -38943,15 +39486,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1670
+/* "capnp/lib/capnp.pyx":1709
  *         return str(self.get())
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return repr(self.get())
  * 
  */
 
@@ -38974,32 +39517,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1671
+  /* "capnp/lib/capnp.pyx":1710
  * 
  *     def __repr__(self):
  *         return repr(self.get())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_v_self->__pyx_vtab)->get(__pyx_v_self, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1671, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_v_self->__pyx_vtab)->get(__pyx_v_self, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1710, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyObject_Repr(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1671, __pyx_L1_error)
+  __pyx_t_2 = PyObject_Repr(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1710, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1670
+  /* "capnp/lib/capnp.pyx":1709
  *         return str(self.get())
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return repr(self.get())
  * 
  */
 
@@ -39221,77 +39764,77 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicOrphan.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1678
+/* "capnp/lib/capnp.pyx":1717
  *     cdef public object _parent
  * 
  *     cdef _init(self, C_DynamicObject.Reader other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *__pyx_v_self,  ::capnp::AnyPointer::Reader __pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":1679
+  /* "capnp/lib/capnp.pyx":1718
  * 
  *     cdef _init(self, C_DynamicObject.Reader other, object parent):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":1680
+  /* "capnp/lib/capnp.pyx":1719
  *     cdef _init(self, C_DynamicObject.Reader other, object parent):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":1681
+  /* "capnp/lib/capnp.pyx":1720
  *         self.thisptr = other
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1678
+  /* "capnp/lib/capnp.pyx":1717
  *     cdef public object _parent
  * 
  *     cdef _init(self, C_DynamicObject.Reader other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1683
+/* "capnp/lib/capnp.pyx":1722
  *         return self
  * 
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -39316,15 +39859,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1683, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1722, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicObjectReader_1as_struct)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -39333,15 +39876,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1683, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1722, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -39354,91 +39897,91 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1685
+  /* "capnp/lib/capnp.pyx":1724
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1685, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1724, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":1686
+    /* "capnp/lib/capnp.pyx":1725
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1686, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1725, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 1686, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 1725, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":1685
+    /* "capnp/lib/capnp.pyx":1724
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1688
+  /* "capnp/lib/capnp.pyx":1727
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicStructReader()._init(self.thisptr.getAs(s._thisptr()), self._parent)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 1688, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 1727, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1690
+  /* "capnp/lib/capnp.pyx":1729
  *             s = schema
  * 
  *         return _DynamicStructReader()._init(self.thisptr.getAs(s._thisptr()), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1690, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1729, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_7 = __pyx_v_self->thisptr.getAs< ::capnp::DynamicStruct>(((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1690, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1729, __pyx_L1_error)
   }
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), __pyx_t_7, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1690, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), __pyx_t_7, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1729, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1683
+  /* "capnp/lib/capnp.pyx":1722
  *         return self
  * 
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -39478,18 +40021,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_struct", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader_as_struct(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1683, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1722, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1683, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1722, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -39499,15 +40042,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1692
+/* "capnp/lib/capnp.pyx":1731
  *         return _DynamicStructReader()._init(self.thisptr.getAs(s._thisptr()), self._parent)
  * 
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -39532,15 +40075,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_interface); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1692, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_interface); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1731, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicObjectReader_3as_interface)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -39549,15 +40092,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1692, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1731, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -39570,91 +40113,91 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1694
+  /* "capnp/lib/capnp.pyx":1733
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1694, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1733, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":1695
+    /* "capnp/lib/capnp.pyx":1734
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1695, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1734, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 1695, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 1734, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":1694
+    /* "capnp/lib/capnp.pyx":1733
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1697
+  /* "capnp/lib/capnp.pyx":1736
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicCapabilityClient()._init(self.thisptr.getAsCapability(s.thisptr), self._parent)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 1697, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 1736, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1699
+  /* "capnp/lib/capnp.pyx":1738
  *             s = schema
  * 
  *         return _DynamicCapabilityClient()._init(self.thisptr.getAsCapability(s.thisptr), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_list(self, schema) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1699, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1738, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_7 = __pyx_v_self->thisptr.getAs< ::capnp::DynamicCapability>(__pyx_v_s->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1699, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1738, __pyx_L1_error)
   }
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1699, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1738, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1692
+  /* "capnp/lib/capnp.pyx":1731
  *         return _DynamicStructReader()._init(self.thisptr.getAs(s._thisptr()), self._parent)
  * 
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -39694,18 +40237,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_interface", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader_as_interface(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1692, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1731, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1692, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1731, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -39715,15 +40258,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1701
+/* "capnp/lib/capnp.pyx":1740
  *         return _DynamicCapabilityClient()._init(self.thisptr.getAsCapability(s.thisptr), self._parent)
  * 
  *     cpdef as_list(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -39748,15 +40291,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_list); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1701, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_list); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1740, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicObjectReader_5as_list)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -39765,15 +40308,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1701, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1740, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -39786,91 +40329,91 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1703
+  /* "capnp/lib/capnp.pyx":1742
  *     cpdef as_list(self, schema) except +reraise_kj_exception:
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1703, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1742, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":1704
+    /* "capnp/lib/capnp.pyx":1743
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1704, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1743, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1704, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1743, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":1703
+    /* "capnp/lib/capnp.pyx":1742
  *     cpdef as_list(self, schema) except +reraise_kj_exception:
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1706
+  /* "capnp/lib/capnp.pyx":1745
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicListReader()._init(self.thisptr.getAsList(s.thisptr), self._parent)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1706, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1745, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1708
+  /* "capnp/lib/capnp.pyx":1747
  *             s = schema
  * 
  *         return _DynamicListReader()._init(self.thisptr.getAsList(s.thisptr), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_text(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1708, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1747, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_7 = __pyx_v_self->thisptr.getAs< ::capnp::DynamicList>(__pyx_v_s->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1708, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1747, __pyx_L1_error)
   }
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_t_1), __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1708, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *)__pyx_t_1), __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1747, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1701
+  /* "capnp/lib/capnp.pyx":1740
  *         return _DynamicCapabilityClient()._init(self.thisptr.getAsCapability(s.thisptr), self._parent)
  * 
  *     cpdef as_list(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -39910,18 +40453,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_list", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader_as_list(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1701, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1740, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1701, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1740, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -39931,15 +40474,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1710
+/* "capnp/lib/capnp.pyx":1749
  *         return _DynamicListReader()._init(self.thisptr.getAsList(s.thisptr), self._parent)
  * 
  *     cpdef as_text(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return (<char*>self.thisptr.getAsText().cStr())[:]
  * 
  */
 
@@ -39961,15 +40504,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1710, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1749, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_20_DynamicObjectReader_7as_text)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -39978,15 +40521,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1710, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1749, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -39999,35 +40542,35 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1711
+  /* "capnp/lib/capnp.pyx":1750
  * 
  *     cpdef as_text(self) except +reraise_kj_exception:
  *         return (<char*>self.thisptr.getAsText().cStr())[:]             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.getAs< ::capnp::Text>();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1711, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1750, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_5.cStr()) + 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1711, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_5.cStr()) + 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1750, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1710
+  /* "capnp/lib/capnp.pyx":1749
  *         return _DynamicListReader()._init(self.thisptr.getAsList(s.thisptr), self._parent)
  * 
  *     cpdef as_text(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return (<char*>self.thisptr.getAsText().cStr())[:]
  * 
  */
 
@@ -40066,18 +40609,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_text", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader_as_text(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1710, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1749, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1710, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1749, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -40087,15 +40630,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1676
+/* "capnp/lib/capnp.pyx":1715
  * cdef class _DynamicObjectReader:
  *     cdef C_DynamicObject.Reader thisptr
  *     cdef public object _parent             # <<<<<<<<<<<<<<
  * 
  *     cdef _init(self, C_DynamicObject.Reader other, object parent):
  */
 
@@ -40297,77 +40840,77 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicObjectReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1718
+/* "capnp/lib/capnp.pyx":1757
  *     cdef public object _parent
  * 
  *     cdef _init(self, C_DynamicObject.Builder other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = new C_DynamicObject.Builder(other)
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *__pyx_v_self,  ::capnp::AnyPointer::Builder __pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":1719
+  /* "capnp/lib/capnp.pyx":1758
  * 
  *     cdef _init(self, C_DynamicObject.Builder other, object parent):
  *         self.thisptr = new C_DynamicObject.Builder(other)             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = new  ::capnp::AnyPointer::Builder(__pyx_v_other);
 
-  /* "capnp/lib/capnp.pyx":1720
+  /* "capnp/lib/capnp.pyx":1759
  *     cdef _init(self, C_DynamicObject.Builder other, object parent):
  *         self.thisptr = new C_DynamicObject.Builder(other)
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":1721
+  /* "capnp/lib/capnp.pyx":1760
  *         self.thisptr = new C_DynamicObject.Builder(other)
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1718
+  /* "capnp/lib/capnp.pyx":1757
  *     cdef public object _parent
  * 
  *     cdef _init(self, C_DynamicObject.Builder other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = new C_DynamicObject.Builder(other)
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1723
+/* "capnp/lib/capnp.pyx":1762
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -40382,36 +40925,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_21_DynamicObjectBuilder___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":1724
+  /* "capnp/lib/capnp.pyx":1763
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:
  */
   delete __pyx_v_self->thisptr;
 
-  /* "capnp/lib/capnp.pyx":1723
+  /* "capnp/lib/capnp.pyx":1762
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":1726
+/* "capnp/lib/capnp.pyx":1765
  *         del self.thisptr
  * 
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -40436,15 +40979,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1726, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1765, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicObjectBuilder_3as_struct)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -40453,15 +40996,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1726, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1765, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -40474,91 +41017,91 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1728
+  /* "capnp/lib/capnp.pyx":1767
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1728, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1767, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":1729
+    /* "capnp/lib/capnp.pyx":1768
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1729, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1768, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 1729, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 1768, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":1728
+    /* "capnp/lib/capnp.pyx":1767
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1731
+  /* "capnp/lib/capnp.pyx":1770
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicStructBuilder()._init(self.thisptr.getAs(s._thisptr()), self._parent)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 1731, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 1770, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1733
+  /* "capnp/lib/capnp.pyx":1772
  *             s = schema
  * 
  *         return _DynamicStructBuilder()._init(self.thisptr.getAs(s._thisptr()), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1733, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1772, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_7 = __pyx_v_self->thisptr->getAs< ::capnp::DynamicStruct>(((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1733, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1772, __pyx_L1_error)
   }
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1), __pyx_t_7, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1733, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1), __pyx_t_7, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1772, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1726
+  /* "capnp/lib/capnp.pyx":1765
  *         del self.thisptr
  * 
  *     cpdef as_struct(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -40598,18 +41141,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_struct", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_struct(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1726, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1765, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1726, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1765, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -40619,15 +41162,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1735
+/* "capnp/lib/capnp.pyx":1774
  *         return _DynamicStructBuilder()._init(self.thisptr.getAs(s._thisptr()), self._parent)
  * 
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -40652,15 +41195,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_interface); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1735, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_interface); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1774, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicObjectBuilder_5as_interface)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -40669,15 +41212,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1735, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1774, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -40690,91 +41233,91 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1737
+  /* "capnp/lib/capnp.pyx":1776
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1737, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1776, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":1738
+    /* "capnp/lib/capnp.pyx":1777
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1738, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1777, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 1738, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 1777, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":1737
+    /* "capnp/lib/capnp.pyx":1776
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1740
+  /* "capnp/lib/capnp.pyx":1779
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicCapabilityClient()._init(self.thisptr.getAsCapability(s.thisptr), self._parent)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 1740, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 1779, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1742
+  /* "capnp/lib/capnp.pyx":1781
  *             s = schema
  * 
  *         return _DynamicCapabilityClient()._init(self.thisptr.getAsCapability(s.thisptr), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_list(self, schema) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1742, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1781, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_7 = __pyx_v_self->thisptr->getAs< ::capnp::DynamicCapability>(__pyx_v_s->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1742, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1781, __pyx_L1_error)
   }
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1742, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1781, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1735
+  /* "capnp/lib/capnp.pyx":1774
  *         return _DynamicStructBuilder()._init(self.thisptr.getAs(s._thisptr()), self._parent)
  * 
  *     cpdef as_interface(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -40814,18 +41357,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_interface", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_interface(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1735, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1774, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1735, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1774, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -40835,15 +41378,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1744
+/* "capnp/lib/capnp.pyx":1783
  *         return _DynamicCapabilityClient()._init(self.thisptr.getAsCapability(s.thisptr), self._parent)
  * 
  *     cpdef as_list(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -40868,15 +41411,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_list); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1744, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_list); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1783, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicObjectBuilder_7as_list)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -40885,15 +41428,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1744, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1783, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -40906,91 +41449,91 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1746
+  /* "capnp/lib/capnp.pyx":1785
  *     cpdef as_list(self, schema) except +reraise_kj_exception:
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1746, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 1785, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":1747
+    /* "capnp/lib/capnp.pyx":1786
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1747, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1786, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1747, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1786, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":1746
+    /* "capnp/lib/capnp.pyx":1785
  *     cpdef as_list(self, schema) except +reraise_kj_exception:
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1749
+  /* "capnp/lib/capnp.pyx":1788
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicListBuilder()._init(self.thisptr.getAsList(s.thisptr), self._parent)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1749, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1788, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1751
+  /* "capnp/lib/capnp.pyx":1790
  *             s = schema
  * 
  *         return _DynamicListBuilder()._init(self.thisptr.getAsList(s.thisptr), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef set(self, other):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1751, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1790, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_7 = __pyx_v_self->thisptr->getAs< ::capnp::DynamicList>(__pyx_v_s->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1751, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1790, __pyx_L1_error)
   }
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1), __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1751, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1), __pyx_t_7, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1790, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1744
+  /* "capnp/lib/capnp.pyx":1783
  *         return _DynamicCapabilityClient()._init(self.thisptr.getAsCapability(s.thisptr), self._parent)
  * 
  *     cpdef as_list(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -41030,18 +41573,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_list", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_list(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1744, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1783, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1744, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1783, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -41051,15 +41594,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1753
+/* "capnp/lib/capnp.pyx":1792
  *         return _DynamicListBuilder()._init(self.thisptr.getAsList(s.thisptr), self._parent)
  * 
  *     cpdef set(self, other):             # <<<<<<<<<<<<<<
  *         "Set value of this object with the value of another AnyPointer::Reader. Don't use this for structs"
  *         cdef _DynamicObjectReader reader = other
  */
 
@@ -41081,15 +41624,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1753, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1792, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicObjectBuilder_9set)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -41098,15 +41641,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_other) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_other);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1753, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1792, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -41119,42 +41662,42 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1755
+  /* "capnp/lib/capnp.pyx":1794
  *     cpdef set(self, other):
  *         "Set value of this object with the value of another AnyPointer::Reader. Don't use this for structs"
  *         cdef _DynamicObjectReader reader = other             # <<<<<<<<<<<<<<
  *         self.thisptr.set(reader.thisptr)
  * 
  */
-  if (!(likely(((__pyx_v_other) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_other, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 1755, __pyx_L1_error)
+  if (!(likely(((__pyx_v_other) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_other, __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader))))) __PYX_ERR(0, 1794, __pyx_L1_error)
   __pyx_t_1 = __pyx_v_other;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1756
+  /* "capnp/lib/capnp.pyx":1795
  *         "Set value of this object with the value of another AnyPointer::Reader. Don't use this for structs"
  *         cdef _DynamicObjectReader reader = other
  *         self.thisptr.set(reader.thisptr)             # <<<<<<<<<<<<<<
  * 
  *     cpdef set_as_text(self, text):
  */
   try {
     __pyx_v_self->thisptr->set(__pyx_v_reader->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1756, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1795, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":1753
+  /* "capnp/lib/capnp.pyx":1792
  *         return _DynamicListBuilder()._init(self.thisptr.getAsList(s.thisptr), self._parent)
  * 
  *     cpdef set(self, other):             # <<<<<<<<<<<<<<
  *         "Set value of this object with the value of another AnyPointer::Reader. Don't use this for structs"
  *         cdef _DynamicObjectReader reader = other
  */
 
@@ -41194,15 +41737,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("set", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_set(__pyx_v_self, __pyx_v_other, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1753, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_set(__pyx_v_self, __pyx_v_other, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1792, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -41211,15 +41754,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1758
+/* "capnp/lib/capnp.pyx":1797
  *         self.thisptr.set(reader.thisptr)
  * 
  *     cpdef set_as_text(self, text):             # <<<<<<<<<<<<<<
  *         self.thisptr.setAsText(text)
  * 
  */
 
@@ -41241,15 +41784,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set_as_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1758, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set_as_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1797, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicObjectBuilder_11set_as_text)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -41258,15 +41801,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_text) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_text);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1758, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1797, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -41279,30 +41822,30 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1759
+  /* "capnp/lib/capnp.pyx":1798
  * 
  *     cpdef set_as_text(self, text):
  *         self.thisptr.setAsText(text)             # <<<<<<<<<<<<<<
  * 
  *     cpdef init_as_list(self, schema, size):
  */
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_text); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1759, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_text); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1798, __pyx_L1_error)
   try {
     __pyx_v_self->thisptr->setAs< ::capnp::Text>(__pyx_t_5);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1759, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1798, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":1758
+  /* "capnp/lib/capnp.pyx":1797
  *         self.thisptr.set(reader.thisptr)
  * 
  *     cpdef set_as_text(self, text):             # <<<<<<<<<<<<<<
  *         self.thisptr.setAsText(text)
  * 
  */
 
@@ -41341,15 +41884,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("set_as_text", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_set_as_text(__pyx_v_self, __pyx_v_text, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1758, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_set_as_text(__pyx_v_self, __pyx_v_text, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1797, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -41358,15 +41901,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1761
+/* "capnp/lib/capnp.pyx":1800
  *         self.thisptr.setAsText(text)
  * 
  *     cpdef init_as_list(self, schema, size):             # <<<<<<<<<<<<<<
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -41394,15 +41937,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init_as_list); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1761, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init_as_list); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1800, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicObjectBuilder_13init_as_list)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -41414,40 +41957,40 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_schema, __pyx_v_size};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1761, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1800, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[3] = {__pyx_t_4, __pyx_v_schema, __pyx_v_size};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1761, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1800, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1761, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1800, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_schema);
           __Pyx_GIVEREF(__pyx_v_schema);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_schema);
           __Pyx_INCREF(__pyx_v_size);
           __Pyx_GIVEREF(__pyx_v_size);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_size);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1761, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1800, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -41462,92 +42005,92 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1763
+  /* "capnp/lib/capnp.pyx":1802
  *     cpdef init_as_list(self, schema, size):
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_7 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 1763, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 1802, __pyx_L1_error)
   __pyx_t_8 = (__pyx_t_7 != 0);
   if (__pyx_t_8) {
 
-    /* "capnp/lib/capnp.pyx":1764
+    /* "capnp/lib/capnp.pyx":1803
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1764, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1803, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1764, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1803, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":1763
+    /* "capnp/lib/capnp.pyx":1802
  *     cpdef init_as_list(self, schema, size):
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1766
+  /* "capnp/lib/capnp.pyx":1805
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicListBuilder()._init(self.thisptr.initAsList(s.thisptr, size), self._parent)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1766, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 1805, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1768
+  /* "capnp/lib/capnp.pyx":1807
  *             s = schema
  * 
  *         return _DynamicListBuilder()._init(self.thisptr.initAsList(s.thisptr, size), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_text(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1768, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1807, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_9 = __Pyx_PyInt_As_unsigned_int(__pyx_v_size); if (unlikely((__pyx_t_9 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1768, __pyx_L1_error)
+  __pyx_t_9 = __Pyx_PyInt_As_unsigned_int(__pyx_v_size); if (unlikely((__pyx_t_9 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1807, __pyx_L1_error)
   try {
     __pyx_t_10 = __pyx_v_self->thisptr->initAs< ::capnp::DynamicList>(__pyx_v_s->thisptr, __pyx_t_9);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1768, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1807, __pyx_L1_error)
   }
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1), __pyx_t_10, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1768, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicListBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *)__pyx_t_1), __pyx_t_10, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1807, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1761
+  /* "capnp/lib/capnp.pyx":1800
  *         self.thisptr.setAsText(text)
  * 
  *     cpdef init_as_list(self, schema, size):             # <<<<<<<<<<<<<<
  *         cdef _ListSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -41598,32 +42141,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_size)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("init_as_list", 1, 2, 2, 1); __PYX_ERR(0, 1761, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("init_as_list", 1, 2, 2, 1); __PYX_ERR(0, 1800, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "init_as_list") < 0)) __PYX_ERR(0, 1761, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "init_as_list") < 0)) __PYX_ERR(0, 1800, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_schema = values[0];
     __pyx_v_size = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("init_as_list", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1761, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("init_as_list", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1800, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicObjectBuilder.init_as_list", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_DynamicObjectBuilder_12init_as_list(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_v_self), __pyx_v_schema, __pyx_v_size);
 
@@ -41637,15 +42180,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("init_as_list", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_init_as_list(__pyx_v_self, __pyx_v_schema, __pyx_v_size, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1761, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_init_as_list(__pyx_v_self, __pyx_v_schema, __pyx_v_size, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1800, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -41654,15 +42197,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1770
+/* "capnp/lib/capnp.pyx":1809
  *         return _DynamicListBuilder()._init(self.thisptr.initAsList(s.thisptr, size), self._parent)
  * 
  *     cpdef as_text(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return (<char*>self.thisptr.getAsText().cStr())[:]
  * 
  */
 
@@ -41684,15 +42227,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1770, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_text); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1809, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicObjectBuilder_15as_text)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -41701,15 +42244,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1770, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1809, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -41722,35 +42265,35 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1771
+  /* "capnp/lib/capnp.pyx":1810
  * 
  *     cpdef as_text(self) except +reraise_kj_exception:
  *         return (<char*>self.thisptr.getAsText().cStr())[:]             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_reader(self):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr->getAs< ::capnp::Text>();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1771, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1810, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_5.cStr()) + 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1771, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(((char *)__pyx_t_5.cStr()) + 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1810, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1770
+  /* "capnp/lib/capnp.pyx":1809
  *         return _DynamicListBuilder()._init(self.thisptr.initAsList(s.thisptr, size), self._parent)
  * 
  *     cpdef as_text(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return (<char*>self.thisptr.getAsText().cStr())[:]
  * 
  */
 
@@ -41789,18 +42332,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_text", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_text(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1770, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1809, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1770, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1809, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -41810,15 +42353,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1773
+/* "capnp/lib/capnp.pyx":1812
  *         return (<char*>self.thisptr.getAsText().cStr())[:]
  * 
  *     cpdef as_reader(self):             # <<<<<<<<<<<<<<
  *         return _DynamicObjectReader()._init(self.thisptr.asReader(), self._parent)
  * 
  */
 
@@ -41840,15 +42383,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_reader); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1773, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_reader); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1812, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_21_DynamicObjectBuilder_17as_reader)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -41857,15 +42400,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1773, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1812, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -41878,41 +42421,41 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1774
+  /* "capnp/lib/capnp.pyx":1813
  * 
  *     cpdef as_reader(self):
  *         return _DynamicObjectReader()._init(self.thisptr.asReader(), self._parent)             # <<<<<<<<<<<<<<
  * 
  * cdef void kjloop_runnable_callback(void* data) with gil:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1774, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1813, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr->asReader();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1774, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1813, __pyx_L1_error)
   }
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1), __pyx_t_5, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1774, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1), __pyx_t_5, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1813, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1773
+  /* "capnp/lib/capnp.pyx":1812
  *         return (<char*>self.thisptr.getAsText().cStr())[:]
  * 
  *     cpdef as_reader(self):             # <<<<<<<<<<<<<<
  *         return _DynamicObjectReader()._init(self.thisptr.asReader(), self._parent)
  * 
  */
 
@@ -41949,15 +42492,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_reader", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_reader(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1773, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_reader(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1812, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -41966,15 +42509,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1716
+/* "capnp/lib/capnp.pyx":1755
  * cdef class _DynamicObjectBuilder:
  *     cdef C_DynamicObject.Builder * thisptr
  *     cdef public object _parent             # <<<<<<<<<<<<<<
  * 
  *     cdef _init(self, C_DynamicObject.Builder other, object parent):
  */
 
@@ -42176,15 +42719,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicObjectBuilder.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1776
+/* "capnp/lib/capnp.pyx":1815
  *         return _DynamicObjectReader()._init(self.thisptr.asReader(), self._parent)
  * 
  * cdef void kjloop_runnable_callback(void* data) with gil:             # <<<<<<<<<<<<<<
  *     cdef AsyncIoEventPort *port = <AsyncIoEventPort*>data
  *     assert port.runHandle is not None
  */
 
@@ -42196,50 +42739,50 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   #ifdef WITH_THREAD
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("kjloop_runnable_callback", 0);
 
-  /* "capnp/lib/capnp.pyx":1777
+  /* "capnp/lib/capnp.pyx":1816
  * 
  * cdef void kjloop_runnable_callback(void* data) with gil:
  *     cdef AsyncIoEventPort *port = <AsyncIoEventPort*>data             # <<<<<<<<<<<<<<
  *     assert port.runHandle is not None
  *     port.kjLoop.run()
  */
   __pyx_v_port = ((__pyx_t_5capnp_3lib_5capnp_AsyncIoEventPort *)__pyx_v_data);
 
-  /* "capnp/lib/capnp.pyx":1778
+  /* "capnp/lib/capnp.pyx":1817
  * cdef void kjloop_runnable_callback(void* data) with gil:
  *     cdef AsyncIoEventPort *port = <AsyncIoEventPort*>data
  *     assert port.runHandle is not None             # <<<<<<<<<<<<<<
  *     port.kjLoop.run()
  * 
  */
   #ifndef CYTHON_WITHOUT_ASSERTIONS
   if (unlikely(__pyx_assertions_enabled())) {
     __pyx_t_1 = (__pyx_v_port->runHandle != Py_None);
     if (unlikely(!(__pyx_t_1 != 0))) {
       PyErr_SetNone(PyExc_AssertionError);
-      __PYX_ERR(0, 1778, __pyx_L1_error)
+      __PYX_ERR(0, 1817, __pyx_L1_error)
     }
   }
   #endif
 
-  /* "capnp/lib/capnp.pyx":1779
+  /* "capnp/lib/capnp.pyx":1818
  *     cdef AsyncIoEventPort *port = <AsyncIoEventPort*>data
  *     assert port.runHandle is not None
  *     port.kjLoop.run()             # <<<<<<<<<<<<<<
  * 
  * cdef cppclass AsyncIoEventPort(EventPort):
  */
   __pyx_v_port->kjLoop->run();
 
-  /* "capnp/lib/capnp.pyx":1776
+  /* "capnp/lib/capnp.pyx":1815
  *         return _DynamicObjectReader()._init(self.thisptr.asReader(), self._parent)
  * 
  * cdef void kjloop_runnable_callback(void* data) with gil:             # <<<<<<<<<<<<<<
  *     cdef AsyncIoEventPort *port = <AsyncIoEventPort*>data
  *     assert port.runHandle is not None
  */
 
@@ -42250,74 +42793,74 @@
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
 }
 
-/* "capnp/lib/capnp.pyx":1786
+/* "capnp/lib/capnp.pyx":1825
  *     object runHandle;
  * 
  *     __init__(object asyncioLoop):             # <<<<<<<<<<<<<<
  *         this.kjLoop = new EventLoop(deref(this))
  *         this.runHandle = None
  */
 
 void __pyx_t_5capnp_3lib_5capnp_AsyncIoEventPort::__pyx_f___init__AsyncIoEventPort(PyObject *__pyx_v_asyncioLoop) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("<init>", 0);
 
-  /* "capnp/lib/capnp.pyx":1787
+  /* "capnp/lib/capnp.pyx":1826
  * 
  *     __init__(object asyncioLoop):
  *         this.kjLoop = new EventLoop(deref(this))             # <<<<<<<<<<<<<<
  *         this.runHandle = None
  *         this.asyncioLoop = asyncioLoop
  */
   this->kjLoop = new  ::kj::EventLoop((*this));
 
-  /* "capnp/lib/capnp.pyx":1788
+  /* "capnp/lib/capnp.pyx":1827
  *     __init__(object asyncioLoop):
  *         this.kjLoop = new EventLoop(deref(this))
  *         this.runHandle = None             # <<<<<<<<<<<<<<
  *         this.asyncioLoop = asyncioLoop
  * 
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(this->runHandle);
   __Pyx_DECREF(this->runHandle);
   this->runHandle = Py_None;
 
-  /* "capnp/lib/capnp.pyx":1789
+  /* "capnp/lib/capnp.pyx":1828
  *         this.kjLoop = new EventLoop(deref(this))
  *         this.runHandle = None
  *         this.asyncioLoop = asyncioLoop             # <<<<<<<<<<<<<<
  * 
  *     __dealloc__():
  */
   __Pyx_INCREF(__pyx_v_asyncioLoop);
   __Pyx_GIVEREF(__pyx_v_asyncioLoop);
   __Pyx_GOTREF(this->asyncioLoop);
   __Pyx_DECREF(this->asyncioLoop);
   this->asyncioLoop = __pyx_v_asyncioLoop;
 
-  /* "capnp/lib/capnp.pyx":1786
+  /* "capnp/lib/capnp.pyx":1825
  *     object runHandle;
  * 
  *     __init__(object asyncioLoop):             # <<<<<<<<<<<<<<
  *         this.kjLoop = new EventLoop(deref(this))
  *         this.runHandle = None
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":1791
+/* "capnp/lib/capnp.pyx":1830
  *         this.asyncioLoop = asyncioLoop
  * 
  *     __dealloc__():             # <<<<<<<<<<<<<<
  *         if this.runHandle is not None:
  *             this.runHandle.cancel()
  */
 
@@ -42329,70 +42872,70 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("<del>", 0);
 
-  /* "capnp/lib/capnp.pyx":1792
+  /* "capnp/lib/capnp.pyx":1831
  * 
  *     __dealloc__():
  *         if this.runHandle is not None:             # <<<<<<<<<<<<<<
  *             this.runHandle.cancel()
  *         del this.kjLoop
  */
   __pyx_t_1 = (this->runHandle != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":1793
+    /* "capnp/lib/capnp.pyx":1832
  *     __dealloc__():
  *         if this.runHandle is not None:
  *             this.runHandle.cancel()             # <<<<<<<<<<<<<<
  *         del this.kjLoop
  * 
  */
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(this->runHandle, __pyx_n_s_cancel); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1793, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(this->runHandle, __pyx_n_s_cancel); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1832, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_5 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1793, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1832, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":1792
+    /* "capnp/lib/capnp.pyx":1831
  * 
  *     __dealloc__():
  *         if this.runHandle is not None:             # <<<<<<<<<<<<<<
  *             this.runHandle.cancel()
  *         del this.kjLoop
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1794
+  /* "capnp/lib/capnp.pyx":1833
  *         if this.runHandle is not None:
  *             this.runHandle.cancel()
  *         del this.kjLoop             # <<<<<<<<<<<<<<
  * 
  *     cbool wait() except* with gil:
  */
   delete this->kjLoop;
 
-  /* "capnp/lib/capnp.pyx":1791
+  /* "capnp/lib/capnp.pyx":1830
  *         this.asyncioLoop = asyncioLoop
  * 
  *     __dealloc__():             # <<<<<<<<<<<<<<
  *         if this.runHandle is not None:
  *             this.runHandle.cancel()
  */
 
@@ -42403,15 +42946,15 @@
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
   __Pyx_WriteUnraisable("AsyncIoEventPort.<del>", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":1796
+/* "capnp/lib/capnp.pyx":1835
  *         del this.kjLoop
  * 
  *     cbool wait() except* with gil:             # <<<<<<<<<<<<<<
  *         raise KjException("Currently you cannot wait for promises while pycapnp is running in asyncio mode. " +
  *                           "You should instead use 'await'. If you have a use-case to start the asyncio loop " +
  */
 
@@ -42426,34 +42969,34 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   #ifdef WITH_THREAD
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("wait", 0);
 
-  /* "capnp/lib/capnp.pyx":1797
+  /* "capnp/lib/capnp.pyx":1836
  * 
  *     cbool wait() except* with gil:
  *         raise KjException("Currently you cannot wait for promises while pycapnp is running in asyncio mode. " +             # <<<<<<<<<<<<<<
  *                           "You should instead use 'await'. If you have a use-case to start the asyncio loop " +
  *                           "using wait(), please report")
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1797, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1836, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyNumber_Add(__pyx_kp_s_Currently_you_cannot_wait_for_pr, __pyx_kp_s_You_should_instead_use_await_If); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1797, __pyx_L1_error)
+  __pyx_t_3 = PyNumber_Add(__pyx_kp_s_Currently_you_cannot_wait_for_pr, __pyx_kp_s_You_should_instead_use_await_If); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1836, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":1798
+  /* "capnp/lib/capnp.pyx":1837
  *     cbool wait() except* with gil:
  *         raise KjException("Currently you cannot wait for promises while pycapnp is running in asyncio mode. " +
  *                           "You should instead use 'await'. If you have a use-case to start the asyncio loop " +             # <<<<<<<<<<<<<<
  *                           "using wait(), please report")
  * 
  */
-  __pyx_t_4 = PyNumber_Add(__pyx_t_3, __pyx_kp_s_using_wait_please_report); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1798, __pyx_L1_error)
+  __pyx_t_4 = PyNumber_Add(__pyx_t_3, __pyx_kp_s_using_wait_please_report); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1837, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
@@ -42461,22 +43004,22 @@
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1797, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1836, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(0, 1797, __pyx_L1_error)
+  __PYX_ERR(0, 1836, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1796
+  /* "capnp/lib/capnp.pyx":1835
  *         del this.kjLoop
  * 
  *     cbool wait() except* with gil:             # <<<<<<<<<<<<<<
  *         raise KjException("Currently you cannot wait for promises while pycapnp is running in asyncio mode. " +
  *                           "You should instead use 'await'. If you have a use-case to start the asyncio loop " +
  */
 
@@ -42491,15 +43034,15 @@
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1801
+/* "capnp/lib/capnp.pyx":1840
  *                           "using wait(), please report")
  * 
  *     cbool poll() except* with gil:             # <<<<<<<<<<<<<<
  *         raise KjException("Currently you cannot poll promises while pycapnp is running in asyncio mode. " +
  *                           "If you have a use-case to poll the asyncio loop using poll(), please report")
  */
 
@@ -42514,46 +43057,46 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   #ifdef WITH_THREAD
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("poll", 0);
 
-  /* "capnp/lib/capnp.pyx":1802
+  /* "capnp/lib/capnp.pyx":1841
  * 
  *     cbool poll() except* with gil:
  *         raise KjException("Currently you cannot poll promises while pycapnp is running in asyncio mode. " +             # <<<<<<<<<<<<<<
  *                           "If you have a use-case to poll the asyncio loop using poll(), please report")
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1802, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1841, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyNumber_Add(__pyx_kp_s_Currently_you_cannot_poll_promis, __pyx_kp_s_If_you_have_a_use_case_to_poll_t); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1802, __pyx_L1_error)
+  __pyx_t_3 = PyNumber_Add(__pyx_kp_s_Currently_you_cannot_poll_promis, __pyx_kp_s_If_you_have_a_use_case_to_poll_t); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1841, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_4, __pyx_t_3) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1802, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1841, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(0, 1802, __pyx_L1_error)
+  __PYX_ERR(0, 1841, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1801
+  /* "capnp/lib/capnp.pyx":1840
  *                           "using wait(), please report")
  * 
  *     cbool poll() except* with gil:             # <<<<<<<<<<<<<<
  *         raise KjException("Currently you cannot poll promises while pycapnp is running in asyncio mode. " +
  *                           "If you have a use-case to poll the asyncio loop using poll(), please report")
  */
 
@@ -42568,20 +43111,20 @@
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1809
- *             assert this.runHandle is None
- *             us = <void*>this;
- *             this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))             # <<<<<<<<<<<<<<
- *         else:
- *             assert this.runHandle is not None
+/* "capnp/lib/capnp.pyx":1855
+ *                 # It appears to no longer exist in Python 3.10. This can be removed once 3.9 is EOL.
+ *                 try:
+ *                     this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))             # <<<<<<<<<<<<<<
+ *                     break
+ *                 except AttributeError:
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_16AsyncIoEventPort_11setRunnable_lambda1(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
 static PyMethodDef __pyx_mdef_16AsyncIoEventPort_11setRunnable_lambda1 = {"lambda1", (PyCFunction)__pyx_pw_16AsyncIoEventPort_11setRunnable_lambda1, METH_NOARGS, 0};
 static PyObject *__pyx_pw_16AsyncIoEventPort_11setRunnable_lambda1(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
@@ -42603,15 +43146,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("lambda1", 0);
   __pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable *) __Pyx_CyFunction_GetClosure(__pyx_self);
   __pyx_cur_scope = __pyx_outer_scope;
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_void_to_None(__pyx_f_5capnp_3lib_5capnp_kjloop_runnable_callback(__pyx_cur_scope->__pyx_v_us)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1809, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_void_to_None(__pyx_f_5capnp_3lib_5capnp_kjloop_runnable_callback(__pyx_cur_scope->__pyx_v_us)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1855, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -42620,15 +43163,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1805
+/* "capnp/lib/capnp.pyx":1844
  *                           "If you have a use-case to poll the asyncio loop using poll(), please report")
  * 
  *     void setRunnable(cbool runnable) except* with gil:             # <<<<<<<<<<<<<<
  *         if runnable:
  *             assert this.runHandle is None
  */
 
@@ -42636,230 +43179,326 @@
   struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable *__pyx_cur_scope;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
+  PyObject *__pyx_t_6 = NULL;
+  PyObject *__pyx_t_7 = NULL;
+  PyObject *__pyx_t_8 = NULL;
+  int __pyx_t_9;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   #ifdef WITH_THREAD
   PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
   #endif
   __Pyx_RefNannySetupContext("setRunnable", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 1805, __pyx_L1_error)
+    __PYX_ERR(0, 1844, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
 
-  /* "capnp/lib/capnp.pyx":1806
+  /* "capnp/lib/capnp.pyx":1845
  * 
  *     void setRunnable(cbool runnable) except* with gil:
  *         if runnable:             # <<<<<<<<<<<<<<
  *             assert this.runHandle is None
  *             us = <void*>this;
  */
   __pyx_t_1 = (__pyx_v_runnable != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":1807
+    /* "capnp/lib/capnp.pyx":1846
  *     void setRunnable(cbool runnable) except* with gil:
  *         if runnable:
  *             assert this.runHandle is None             # <<<<<<<<<<<<<<
  *             us = <void*>this;
- *             this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+ *             while True:
  */
     #ifndef CYTHON_WITHOUT_ASSERTIONS
     if (unlikely(__pyx_assertions_enabled())) {
       __pyx_t_1 = (this->runHandle == Py_None);
       if (unlikely(!(__pyx_t_1 != 0))) {
         PyErr_SetNone(PyExc_AssertionError);
-        __PYX_ERR(0, 1807, __pyx_L1_error)
+        __PYX_ERR(0, 1846, __pyx_L1_error)
       }
     }
     #endif
 
-    /* "capnp/lib/capnp.pyx":1808
+    /* "capnp/lib/capnp.pyx":1847
  *         if runnable:
  *             assert this.runHandle is None
  *             us = <void*>this;             # <<<<<<<<<<<<<<
- *             this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
- *         else:
+ *             while True:
+ *                 # TODO: This loop is a workaround for the following occasional nondeterministic bug
  */
     __pyx_cur_scope->__pyx_v_us = ((void *)this);
 
-    /* "capnp/lib/capnp.pyx":1809
+    /* "capnp/lib/capnp.pyx":1848
  *             assert this.runHandle is None
  *             us = <void*>this;
- *             this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))             # <<<<<<<<<<<<<<
+ *             while True:             # <<<<<<<<<<<<<<
+ *                 # TODO: This loop is a workaround for the following occasional nondeterministic bug
+ *                 #       that appears on Python 3.8 and 3.9:
+ */
+    while (1) {
+      __pyx_t_1 = (1 != 0);
+      if (!__pyx_t_1) break;
+
+      /* "capnp/lib/capnp.pyx":1854
+ *                 # The cause of this is unknown (either a bug in our code, Cython, or Python).
+ *                 # It appears to no longer exist in Python 3.10. This can be removed once 3.9 is EOL.
+ *                 try:             # <<<<<<<<<<<<<<
+ *                     this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+ *                     break
+ */
+      {
+        __Pyx_PyThreadState_declare
+        __Pyx_PyThreadState_assign
+        __Pyx_ExceptionSave(&__pyx_t_2, &__pyx_t_3, &__pyx_t_4);
+        __Pyx_XGOTREF(__pyx_t_2);
+        __Pyx_XGOTREF(__pyx_t_3);
+        __Pyx_XGOTREF(__pyx_t_4);
+        /*try:*/ {
+
+          /* "capnp/lib/capnp.pyx":1855
+ *                 # It appears to no longer exist in Python 3.10. This can be removed once 3.9 is EOL.
+ *                 try:
+ *                     this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))             # <<<<<<<<<<<<<<
+ *                     break
+ *                 except AttributeError:
+ */
+          __pyx_t_6 = __Pyx_PyObject_GetAttrStr(this->asyncioLoop, __pyx_n_s_call_soon); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1855, __pyx_L6_error)
+          __Pyx_GOTREF(__pyx_t_6);
+          __pyx_t_7 = __Pyx_CyFunction_New(&__pyx_mdef_16AsyncIoEventPort_11setRunnable_lambda1, 0, __pyx_n_s_setRunnable_locals_lambda, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1855, __pyx_L6_error)
+          __Pyx_GOTREF(__pyx_t_7);
+          __pyx_t_8 = NULL;
+          if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
+            __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_6);
+            if (likely(__pyx_t_8)) {
+              PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
+              __Pyx_INCREF(__pyx_t_8);
+              __Pyx_INCREF(function);
+              __Pyx_DECREF_SET(__pyx_t_6, function);
+            }
+          }
+          __pyx_t_5 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_8, __pyx_t_7) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_7);
+          __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
+          __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+          if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1855, __pyx_L6_error)
+          __Pyx_GOTREF(__pyx_t_5);
+          __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
+          __Pyx_GIVEREF(__pyx_t_5);
+          __Pyx_GOTREF(this->runHandle);
+          __Pyx_DECREF(this->runHandle);
+          this->runHandle = __pyx_t_5;
+          __pyx_t_5 = 0;
+
+          /* "capnp/lib/capnp.pyx":1856
+ *                 try:
+ *                     this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+ *                     break             # <<<<<<<<<<<<<<
+ *                 except AttributeError:
+ *                     pass
+ */
+          goto __pyx_L11_try_break;
+
+          /* "capnp/lib/capnp.pyx":1854
+ *                 # The cause of this is unknown (either a bug in our code, Cython, or Python).
+ *                 # It appears to no longer exist in Python 3.10. This can be removed once 3.9 is EOL.
+ *                 try:             # <<<<<<<<<<<<<<
+ *                     this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+ *                     break
+ */
+        }
+        __pyx_L6_error:;
+        __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
+        __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
+        __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
+        __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
+
+        /* "capnp/lib/capnp.pyx":1857
+ *                     this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+ *                     break
+ *                 except AttributeError:             # <<<<<<<<<<<<<<
+ *                     pass
  *         else:
- *             assert this.runHandle is not None
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(this->asyncioLoop, __pyx_n_s_call_soon); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1809, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_16AsyncIoEventPort_11setRunnable_lambda1, 0, __pyx_n_s_setRunnable_locals_lambda, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1809, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
-      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_3);
-      if (likely(__pyx_t_5)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
-        __Pyx_INCREF(__pyx_t_5);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_3, function);
+        __pyx_t_9 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_AttributeError);
+        if (__pyx_t_9) {
+          __Pyx_ErrRestore(0,0,0);
+          goto __pyx_L7_exception_handled;
+        }
+        goto __pyx_L8_except_error;
+        __pyx_L8_except_error:;
+
+        /* "capnp/lib/capnp.pyx":1854
+ *                 # The cause of this is unknown (either a bug in our code, Cython, or Python).
+ *                 # It appears to no longer exist in Python 3.10. This can be removed once 3.9 is EOL.
+ *                 try:             # <<<<<<<<<<<<<<
+ *                     this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+ *                     break
+ */
+        __Pyx_XGIVEREF(__pyx_t_2);
+        __Pyx_XGIVEREF(__pyx_t_3);
+        __Pyx_XGIVEREF(__pyx_t_4);
+        __Pyx_ExceptionReset(__pyx_t_2, __pyx_t_3, __pyx_t_4);
+        goto __pyx_L1_error;
+        __pyx_L11_try_break:;
+        __Pyx_XGIVEREF(__pyx_t_2);
+        __Pyx_XGIVEREF(__pyx_t_3);
+        __Pyx_XGIVEREF(__pyx_t_4);
+        __Pyx_ExceptionReset(__pyx_t_2, __pyx_t_3, __pyx_t_4);
+        goto __pyx_L5_break;
+        __pyx_L7_exception_handled:;
+        __Pyx_XGIVEREF(__pyx_t_2);
+        __Pyx_XGIVEREF(__pyx_t_3);
+        __Pyx_XGIVEREF(__pyx_t_4);
+        __Pyx_ExceptionReset(__pyx_t_2, __pyx_t_3, __pyx_t_4);
       }
     }
-    __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_5, __pyx_t_4) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4);
-    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1809, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __Pyx_GIVEREF(__pyx_t_2);
-    __Pyx_GOTREF(this->runHandle);
-    __Pyx_DECREF(this->runHandle);
-    this->runHandle = __pyx_t_2;
-    __pyx_t_2 = 0;
+    __pyx_L5_break:;
 
-    /* "capnp/lib/capnp.pyx":1806
+    /* "capnp/lib/capnp.pyx":1845
  * 
  *     void setRunnable(cbool runnable) except* with gil:
  *         if runnable:             # <<<<<<<<<<<<<<
  *             assert this.runHandle is None
  *             us = <void*>this;
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":1811
- *             this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+  /* "capnp/lib/capnp.pyx":1860
+ *                     pass
  *         else:
  *             assert this.runHandle is not None             # <<<<<<<<<<<<<<
  *             this.runHandle.cancel()
  *             this.runHandle = None
  */
   /*else*/ {
     #ifndef CYTHON_WITHOUT_ASSERTIONS
     if (unlikely(__pyx_assertions_enabled())) {
       __pyx_t_1 = (this->runHandle != Py_None);
       if (unlikely(!(__pyx_t_1 != 0))) {
         PyErr_SetNone(PyExc_AssertionError);
-        __PYX_ERR(0, 1811, __pyx_L1_error)
+        __PYX_ERR(0, 1860, __pyx_L1_error)
       }
     }
     #endif
 
-    /* "capnp/lib/capnp.pyx":1812
+    /* "capnp/lib/capnp.pyx":1861
  *         else:
  *             assert this.runHandle is not None
  *             this.runHandle.cancel()             # <<<<<<<<<<<<<<
  *             this.runHandle = None
  * 
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(this->runHandle, __pyx_n_s_cancel); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1812, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
-      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
-      if (likely(__pyx_t_4)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
-        __Pyx_INCREF(__pyx_t_4);
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(this->runHandle, __pyx_n_s_cancel); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 1861, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __pyx_t_7 = NULL;
+    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
+      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_6);
+      if (likely(__pyx_t_7)) {
+        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
+        __Pyx_INCREF(__pyx_t_7);
         __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_3, function);
+        __Pyx_DECREF_SET(__pyx_t_6, function);
       }
     }
-    __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
-    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1812, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_t_5 = (__pyx_t_7) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_7) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
+    __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
+    if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1861, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_5);
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
+    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":1813
+    /* "capnp/lib/capnp.pyx":1862
  *             assert this.runHandle is not None
  *             this.runHandle.cancel()
  *             this.runHandle = None             # <<<<<<<<<<<<<<
  * 
  *     EventLoop *getKjLoop():
  */
     __Pyx_INCREF(Py_None);
     __Pyx_GIVEREF(Py_None);
     __Pyx_GOTREF(this->runHandle);
     __Pyx_DECREF(this->runHandle);
     this->runHandle = Py_None;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":1805
+  /* "capnp/lib/capnp.pyx":1844
  *                           "If you have a use-case to poll the asyncio loop using poll(), please report")
  * 
  *     void setRunnable(cbool runnable) except* with gil:             # <<<<<<<<<<<<<<
  *         if runnable:
  *             assert this.runHandle is None
  */
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
+  __Pyx_XDECREF(__pyx_t_6);
+  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_XDECREF(__pyx_t_8);
   __Pyx_AddTraceback("AsyncIoEventPort.setRunnable", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_L0:;
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_RefNannyFinishContext();
   #ifdef WITH_THREAD
   __Pyx_PyGILState_Release(__pyx_gilstate_save);
   #endif
 }
 
-/* "capnp/lib/capnp.pyx":1815
+/* "capnp/lib/capnp.pyx":1864
  *             this.runHandle = None
  * 
  *     EventLoop *getKjLoop():             # <<<<<<<<<<<<<<
  *         return this.kjLoop
  * 
  */
 
  ::kj::EventLoop *__pyx_t_5capnp_3lib_5capnp_AsyncIoEventPort::getKjLoop(void) {
    ::kj::EventLoop *__pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("getKjLoop", 0);
 
-  /* "capnp/lib/capnp.pyx":1816
+  /* "capnp/lib/capnp.pyx":1865
  * 
  *     EventLoop *getKjLoop():
  *         return this.kjLoop             # <<<<<<<<<<<<<<
  * 
  * cdef class _EventLoop:
  */
   __pyx_r = this->kjLoop;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1815
+  /* "capnp/lib/capnp.pyx":1864
  *             this.runHandle = None
  * 
  *     EventLoop *getKjLoop():             # <<<<<<<<<<<<<<
  *         return this.kjLoop
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1826
+/* "capnp/lib/capnp.pyx":1875
  *     cdef cbool closed
  * 
  *     cdef _init(self, asyncio_loop) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self.event_port = capnp.heap[AsyncIoEventPort](<PyObject*>asyncio_loop)
  *         kj_loop = deref(self.event_port).getKjLoop()
  */
 
@@ -42871,162 +43510,162 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":1827
+  /* "capnp/lib/capnp.pyx":1876
  * 
  *     cdef _init(self, asyncio_loop) except +reraise_kj_exception:
  *         self.event_port = capnp.heap[AsyncIoEventPort](<PyObject*>asyncio_loop)             # <<<<<<<<<<<<<<
  *         kj_loop = deref(self.event_port).getKjLoop()
  *         self.wait_scope = capnp.heap[WaitScope](deref(kj_loop))
  */
   __pyx_v_self->event_port =  ::kj::heap<__pyx_t_5capnp_3lib_5capnp_AsyncIoEventPort>(((PyObject *)__pyx_v_asyncio_loop));
 
-  /* "capnp/lib/capnp.pyx":1828
+  /* "capnp/lib/capnp.pyx":1877
  *     cdef _init(self, asyncio_loop) except +reraise_kj_exception:
  *         self.event_port = capnp.heap[AsyncIoEventPort](<PyObject*>asyncio_loop)
  *         kj_loop = deref(self.event_port).getKjLoop()             # <<<<<<<<<<<<<<
  *         self.wait_scope = capnp.heap[WaitScope](deref(kj_loop))
  *         self.active_streams = _weakref.WeakSet()
  */
   __pyx_v_kj_loop = (*__pyx_v_self->event_port).getKjLoop();
 
-  /* "capnp/lib/capnp.pyx":1829
+  /* "capnp/lib/capnp.pyx":1878
  *         self.event_port = capnp.heap[AsyncIoEventPort](<PyObject*>asyncio_loop)
  *         kj_loop = deref(self.event_port).getKjLoop()
  *         self.wait_scope = capnp.heap[WaitScope](deref(kj_loop))             # <<<<<<<<<<<<<<
  *         self.active_streams = _weakref.WeakSet()
  *         self.active_rpcs = _weakref.WeakSet()
  */
   __pyx_v_self->wait_scope =  ::kj::heap< ::kj::WaitScope>((*__pyx_v_kj_loop));
 
-  /* "capnp/lib/capnp.pyx":1830
+  /* "capnp/lib/capnp.pyx":1879
  *         kj_loop = deref(self.event_port).getKjLoop()
  *         self.wait_scope = capnp.heap[WaitScope](deref(kj_loop))
  *         self.active_streams = _weakref.WeakSet()             # <<<<<<<<<<<<<<
  *         self.active_rpcs = _weakref.WeakSet()
  *         self.active_tasks = _weakref.WeakSet()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_weakref); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1830, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_weakref); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1879, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_WeakSet); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1830, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_WeakSet); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1879, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1830, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1879, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->active_streams);
   __Pyx_DECREF(__pyx_v_self->active_streams);
   __pyx_v_self->active_streams = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1831
+  /* "capnp/lib/capnp.pyx":1880
  *         self.wait_scope = capnp.heap[WaitScope](deref(kj_loop))
  *         self.active_streams = _weakref.WeakSet()
  *         self.active_rpcs = _weakref.WeakSet()             # <<<<<<<<<<<<<<
  *         self.active_tasks = _weakref.WeakSet()
  *         self.closed = False
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_weakref); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1831, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_weakref); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1880, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_WeakSet); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1831, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_WeakSet); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1880, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1831, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1880, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->active_rpcs);
   __Pyx_DECREF(__pyx_v_self->active_rpcs);
   __pyx_v_self->active_rpcs = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1832
+  /* "capnp/lib/capnp.pyx":1881
  *         self.active_streams = _weakref.WeakSet()
  *         self.active_rpcs = _weakref.WeakSet()
  *         self.active_tasks = _weakref.WeakSet()             # <<<<<<<<<<<<<<
  *         self.closed = False
  *         return self
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_weakref); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1832, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_weakref); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1881, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_WeakSet); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1832, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_WeakSet); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1881, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1832, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1881, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->active_tasks);
   __Pyx_DECREF(__pyx_v_self->active_tasks);
   __pyx_v_self->active_tasks = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1833
+  /* "capnp/lib/capnp.pyx":1882
  *         self.active_rpcs = _weakref.WeakSet()
  *         self.active_tasks = _weakref.WeakSet()
  *         self.closed = False             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->closed = 0;
 
-  /* "capnp/lib/capnp.pyx":1834
+  /* "capnp/lib/capnp.pyx":1883
  *         self.active_tasks = _weakref.WeakSet()
  *         self.closed = False
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1826
+  /* "capnp/lib/capnp.pyx":1875
  *     cdef cbool closed
  * 
  *     cdef _init(self, asyncio_loop) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self.event_port = capnp.heap[AsyncIoEventPort](<PyObject*>asyncio_loop)
  *         kj_loop = deref(self.event_port).getKjLoop()
  */
 
@@ -43039,15 +43678,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1836
+/* "capnp/lib/capnp.pyx":1885
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         self.close()
  * 
  */
 
@@ -43066,26 +43705,26 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":1837
+  /* "capnp/lib/capnp.pyx":1886
  * 
  *     def __dealloc__(self):
  *         self.close()             # <<<<<<<<<<<<<<
  * 
  *     cdef close(self):
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)__pyx_v_self->__pyx_vtab)->close(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1837, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)__pyx_v_self->__pyx_vtab)->close(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1886, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1836
+  /* "capnp/lib/capnp.pyx":1885
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         self.close()
  * 
  */
 
@@ -43094,99 +43733,99 @@
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_WriteUnraisable("capnp.lib.capnp._EventLoop.__dealloc__", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":1839
+/* "capnp/lib/capnp.pyx":1888
  *         self.close()
  * 
  *     cdef close(self):             # <<<<<<<<<<<<<<
  *         if not self.closed:
  *             self.closed = True
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_10_EventLoop_close(struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   __Pyx_RefNannySetupContext("close", 0);
 
-  /* "capnp/lib/capnp.pyx":1840
+  /* "capnp/lib/capnp.pyx":1889
  * 
  *     cdef close(self):
  *         if not self.closed:             # <<<<<<<<<<<<<<
  *             self.closed = True
  *             deref(self.event_port).kjLoop.run()
  */
   __pyx_t_1 = ((!(__pyx_v_self->closed != 0)) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":1841
+    /* "capnp/lib/capnp.pyx":1890
  *     cdef close(self):
  *         if not self.closed:
  *             self.closed = True             # <<<<<<<<<<<<<<
  *             deref(self.event_port).kjLoop.run()
  *             self.wait_scope = Own[WaitScope]()
  */
     __pyx_v_self->closed = 1;
 
-    /* "capnp/lib/capnp.pyx":1842
+    /* "capnp/lib/capnp.pyx":1891
  *         if not self.closed:
  *             self.closed = True
  *             deref(self.event_port).kjLoop.run()             # <<<<<<<<<<<<<<
  *             self.wait_scope = Own[WaitScope]()
  *             self.event_port = Own[AsyncIoEventPort]()
  */
     (*__pyx_v_self->event_port).kjLoop->run();
 
-    /* "capnp/lib/capnp.pyx":1843
+    /* "capnp/lib/capnp.pyx":1892
  *             self.closed = True
  *             deref(self.event_port).kjLoop.run()
  *             self.wait_scope = Own[WaitScope]()             # <<<<<<<<<<<<<<
  *             self.event_port = Own[AsyncIoEventPort]()
  * 
  */
     __pyx_v_self->wait_scope =  ::kj::Own< ::kj::WaitScope> ();
 
-    /* "capnp/lib/capnp.pyx":1844
+    /* "capnp/lib/capnp.pyx":1893
  *             deref(self.event_port).kjLoop.run()
  *             self.wait_scope = Own[WaitScope]()
  *             self.event_port = Own[AsyncIoEventPort]()             # <<<<<<<<<<<<<<
  * 
  *     cdef check(self):
  */
     __pyx_v_self->event_port =  ::kj::Own<__pyx_t_5capnp_3lib_5capnp_AsyncIoEventPort> ();
 
-    /* "capnp/lib/capnp.pyx":1840
+    /* "capnp/lib/capnp.pyx":1889
  * 
  *     cdef close(self):
  *         if not self.closed:             # <<<<<<<<<<<<<<
  *             self.closed = True
  *             deref(self.event_port).kjLoop.run()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1839
+  /* "capnp/lib/capnp.pyx":1888
  *         self.close()
  * 
  *     cdef close(self):             # <<<<<<<<<<<<<<
  *         if not self.closed:
  *             self.closed = True
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1846
+/* "capnp/lib/capnp.pyx":1895
  *             self.event_port = Own[AsyncIoEventPort]()
  * 
  *     cdef check(self):             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError(
  */
 
@@ -43196,47 +43835,47 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("check", 0);
 
-  /* "capnp/lib/capnp.pyx":1847
+  /* "capnp/lib/capnp.pyx":1896
  * 
  *     cdef check(self):
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError(
  *                 "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  */
   __pyx_t_1 = (__pyx_v_self->closed != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":1848
+    /* "capnp/lib/capnp.pyx":1897
  *     cdef check(self):
  *         if self.closed:
  *             raise RuntimeError(             # <<<<<<<<<<<<<<
  *                 "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  * 
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__33, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1848, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__33, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1897, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 1848, __pyx_L1_error)
+    __PYX_ERR(0, 1897, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1847
+    /* "capnp/lib/capnp.pyx":1896
  * 
  *     cdef check(self):
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError(
  *                 "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1846
+  /* "capnp/lib/capnp.pyx":1895
  *             self.event_port = Own[AsyncIoEventPort]()
  * 
  *     cdef check(self):             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError(
  */
 
@@ -43365,25 +44004,25 @@
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_14generator1(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":1852
+/* "capnp/lib/capnp.pyx":1901
  * 
  * @_asynccontextmanager
  * async def kj_loop():             # <<<<<<<<<<<<<<
- *     asyncio_loop = asyncio.get_running_loop()
- *     if hasattr(asyncio_loop, '_kj_loop'):
+ *     """Context manager for running the KJ event loop
+ * 
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_13kj_loop(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-static char __pyx_doc_5capnp_3lib_5capnp_12kj_loop[] = "kj_loop()";
+static char __pyx_doc_5capnp_3lib_5capnp_12kj_loop[] = "kj_loop()\nContext manager for running the KJ event loop\n\n    As long as the context manager is active it is guaranteed that the KJ event\n    loop is running. When the context manager is exited, the KJ event loop is\n    shut down properly and pending tasks are cancelled.\n\n    :raises [RuntimeError]: If the KJ event loop is already running (on this thread).\n\n    .. warning:: Every capnp rpc call required a running KJ event loop.\n    ";
 static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_13kj_loop = {"kj_loop", (PyCFunction)__pyx_pw_5capnp_3lib_5capnp_13kj_loop, METH_NOARGS, __pyx_doc_5capnp_3lib_5capnp_12kj_loop};
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_13kj_loop(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("kj_loop (wrapper)", 0);
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12kj_loop(__pyx_self);
 
@@ -43400,20 +44039,20 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("kj_loop", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 1852, __pyx_L1_error)
+    __PYX_ERR(0, 1901, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   {
-    __pyx_CoroutineObject *gen = __Pyx_AsyncGen_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14generator1, __pyx_codeobj__36, (PyObject *) __pyx_cur_scope, __pyx_n_s_kj_loop, __pyx_n_s_kj_loop, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 1852, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_AsyncGen_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14generator1, __pyx_codeobj__36, (PyObject *) __pyx_cur_scope, __pyx_n_s_kj_loop, __pyx_n_s_kj_loop, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 1901, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -43460,301 +44099,301 @@
     case 2: goto __pyx_L15_resume_from_await;
     case 3: goto __pyx_L30_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1852, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1901, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1853
- * @_asynccontextmanager
- * async def kj_loop():
+  /* "capnp/lib/capnp.pyx":1912
+ *     .. warning:: Every capnp rpc call required a running KJ event loop.
+ *     """
  *     asyncio_loop = asyncio.get_running_loop()             # <<<<<<<<<<<<<<
  *     if hasattr(asyncio_loop, '_kj_loop'):
  *         raise RuntimeError("The KJ event-loop is already running (on this thread).")
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1853, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1912, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1853, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1912, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1853, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1912, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_asyncio_loop = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1854
- * async def kj_loop():
+  /* "capnp/lib/capnp.pyx":1913
+ *     """
  *     asyncio_loop = asyncio.get_running_loop()
  *     if hasattr(asyncio_loop, '_kj_loop'):             # <<<<<<<<<<<<<<
  *         raise RuntimeError("The KJ event-loop is already running (on this thread).")
  *     cdef _EventLoop kj_loop = _EventLoop()._init(asyncio_loop)
  */
-  __pyx_t_4 = __Pyx_HasAttr(__pyx_cur_scope->__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 1854, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_HasAttr(__pyx_cur_scope->__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 1913, __pyx_L1_error)
   __pyx_t_5 = (__pyx_t_4 != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":1855
+    /* "capnp/lib/capnp.pyx":1914
  *     asyncio_loop = asyncio.get_running_loop()
  *     if hasattr(asyncio_loop, '_kj_loop'):
  *         raise RuntimeError("The KJ event-loop is already running (on this thread).")             # <<<<<<<<<<<<<<
  *     cdef _EventLoop kj_loop = _EventLoop()._init(asyncio_loop)
  *     asyncio_loop._kj_loop = kj_loop
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__37, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1855, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__37, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1914, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 1855, __pyx_L1_error)
+    __PYX_ERR(0, 1914, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1854
- * async def kj_loop():
+    /* "capnp/lib/capnp.pyx":1913
+ *     """
  *     asyncio_loop = asyncio.get_running_loop()
  *     if hasattr(asyncio_loop, '_kj_loop'):             # <<<<<<<<<<<<<<
  *         raise RuntimeError("The KJ event-loop is already running (on this thread).")
  *     cdef _EventLoop kj_loop = _EventLoop()._init(asyncio_loop)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1856
+  /* "capnp/lib/capnp.pyx":1915
  *     if hasattr(asyncio_loop, '_kj_loop'):
  *         raise RuntimeError("The KJ event-loop is already running (on this thread).")
  *     cdef _EventLoop kj_loop = _EventLoop()._init(asyncio_loop)             # <<<<<<<<<<<<<<
  *     asyncio_loop._kj_loop = kj_loop
  *     try:
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__EventLoop)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1856, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__EventLoop)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1915, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_1), __pyx_cur_scope->__pyx_v_asyncio_loop);
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1856, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1915, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1856, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1915, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_5capnp_3lib_5capnp__EventLoop))))) __PYX_ERR(0, 1856, __pyx_L1_error)
+  if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_5capnp_3lib_5capnp__EventLoop))))) __PYX_ERR(0, 1915, __pyx_L1_error)
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_cur_scope->__pyx_v_kj_loop = ((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":1857
+  /* "capnp/lib/capnp.pyx":1916
  *         raise RuntimeError("The KJ event-loop is already running (on this thread).")
  *     cdef _EventLoop kj_loop = _EventLoop()._init(asyncio_loop)
  *     asyncio_loop._kj_loop = kj_loop             # <<<<<<<<<<<<<<
  *     try:
  *         yield
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_cur_scope->__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2, ((PyObject *)__pyx_cur_scope->__pyx_v_kj_loop)) < 0) __PYX_ERR(0, 1857, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_cur_scope->__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2, ((PyObject *)__pyx_cur_scope->__pyx_v_kj_loop)) < 0) __PYX_ERR(0, 1916, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1858
+  /* "capnp/lib/capnp.pyx":1917
  *     cdef _EventLoop kj_loop = _EventLoop()._init(asyncio_loop)
  *     asyncio_loop._kj_loop = kj_loop
  *     try:             # <<<<<<<<<<<<<<
  *         yield
  *     finally:
  */
   /*try:*/ {
 
-    /* "capnp/lib/capnp.pyx":1859
+    /* "capnp/lib/capnp.pyx":1918
  *     asyncio_loop._kj_loop = kj_loop
  *     try:
  *         yield             # <<<<<<<<<<<<<<
  *     finally:
  *         # Close any asynciostream that has not been closed
  */
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     __Pyx_XGIVEREF(__pyx_r);
     __Pyx_RefNannyFinishContext();
     __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
     /* return from async generator, yielding value */
     __pyx_generator->resume_label = 1;
     return __Pyx__PyAsyncGenValueWrapperNew(__pyx_r);
     __pyx_L8_resume_from_yield:;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1859, __pyx_L6_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1918, __pyx_L6_error)
   }
 
-  /* "capnp/lib/capnp.pyx":1862
+  /* "capnp/lib/capnp.pyx":1921
  *     finally:
  *         # Close any asynciostream that has not been closed
  *         for stream in list(kj_loop.active_streams): stream.close()             # <<<<<<<<<<<<<<
  * 
  *         # Shut down all the RPC clients and servers
  */
   /*finally:*/ {
     /*normal exit:*/{
-      __pyx_t_3 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_streams); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1862, __pyx_L1_error)
+      __pyx_t_3 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_streams); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1921, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __pyx_t_1 = __pyx_t_3; __Pyx_INCREF(__pyx_t_1); __pyx_t_6 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       for (;;) {
         if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_6); __Pyx_INCREF(__pyx_t_3); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1862, __pyx_L1_error)
+        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_6); __Pyx_INCREF(__pyx_t_3); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1921, __pyx_L1_error)
         #else
-        __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1862, __pyx_L1_error)
+        __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1921, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         #endif
         __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_stream);
         __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_stream, __pyx_t_3);
         __Pyx_GIVEREF(__pyx_t_3);
         __pyx_t_3 = 0;
-        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_stream, __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1862, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_stream, __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1921, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __pyx_t_7 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
           __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_2);
           if (likely(__pyx_t_7)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
             __Pyx_INCREF(__pyx_t_7);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_2, function);
           }
         }
         __pyx_t_3 = (__pyx_t_7) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_7) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
         __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1862, __pyx_L1_error)
+        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1921, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       }
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":1865
+      /* "capnp/lib/capnp.pyx":1924
  * 
  *         # Shut down all the RPC clients and servers
  *         for rpc in list(kj_loop.active_rpcs): rpc.close()             # <<<<<<<<<<<<<<
  * 
  *         # Cancel any pending task that is a RPC call
  */
-      __pyx_t_1 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_rpcs); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1865, __pyx_L1_error)
+      __pyx_t_1 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_rpcs); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1924, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __pyx_t_3 = __pyx_t_1; __Pyx_INCREF(__pyx_t_3); __pyx_t_6 = 0;
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       for (;;) {
         if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1865, __pyx_L1_error)
+        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1924, __pyx_L1_error)
         #else
-        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1865, __pyx_L1_error)
+        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1924, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         #endif
         __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_rpc);
         __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_rpc, __pyx_t_1);
         __Pyx_GIVEREF(__pyx_t_1);
         __pyx_t_1 = 0;
-        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_rpc, __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1865, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_rpc, __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1924, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __pyx_t_7 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
           __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_2);
           if (likely(__pyx_t_7)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
             __Pyx_INCREF(__pyx_t_7);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_2, function);
           }
         }
         __pyx_t_1 = (__pyx_t_7) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_7) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
         __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-        if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1865, __pyx_L1_error)
+        if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1924, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       }
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":1869
+      /* "capnp/lib/capnp.pyx":1928
  *         # Cancel any pending task that is a RPC call
  *         # TODO: What if the cancellation is inhibited?
  *         tasks = list(kj_loop.active_tasks)             # <<<<<<<<<<<<<<
  *         for task in tasks: task.cancel()
  *         await asyncio.gather(*tasks, return_exceptions=True)
  */
-      __pyx_t_3 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_tasks); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1869, __pyx_L1_error)
+      __pyx_t_3 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_tasks); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1928, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_GIVEREF(__pyx_t_3);
       __pyx_cur_scope->__pyx_v_tasks = ((PyObject*)__pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":1870
+      /* "capnp/lib/capnp.pyx":1929
  *         # TODO: What if the cancellation is inhibited?
  *         tasks = list(kj_loop.active_tasks)
  *         for task in tasks: task.cancel()             # <<<<<<<<<<<<<<
  *         await asyncio.gather(*tasks, return_exceptions=True)
  * 
  */
       __pyx_t_3 = __pyx_cur_scope->__pyx_v_tasks; __Pyx_INCREF(__pyx_t_3); __pyx_t_6 = 0;
       for (;;) {
         if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1870, __pyx_L1_error)
+        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1929, __pyx_L1_error)
         #else
-        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1870, __pyx_L1_error)
+        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1929, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         #endif
         __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_task);
         __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_task, __pyx_t_1);
         __Pyx_GIVEREF(__pyx_t_1);
         __pyx_t_1 = 0;
-        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_task, __pyx_n_s_cancel); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1870, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_task, __pyx_n_s_cancel); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1929, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __pyx_t_7 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
           __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_2);
           if (likely(__pyx_t_7)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
             __Pyx_INCREF(__pyx_t_7);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_2, function);
           }
         }
         __pyx_t_1 = (__pyx_t_7) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_7) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
         __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-        if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1870, __pyx_L1_error)
+        if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1929, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       }
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":1871
+      /* "capnp/lib/capnp.pyx":1930
  *         tasks = list(kj_loop.active_tasks)
  *         for task in tasks: task.cancel()
  *         await asyncio.gather(*tasks, return_exceptions=True)             # <<<<<<<<<<<<<<
  * 
  *         try:
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1871, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1930, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_gather); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1871, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_gather); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1930, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __pyx_t_3 = PySequence_Tuple(__pyx_cur_scope->__pyx_v_tasks); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1871, __pyx_L1_error)
+      __pyx_t_3 = PySequence_Tuple(__pyx_cur_scope->__pyx_v_tasks); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1930, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_2 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1871, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1930, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_return_exceptions, Py_True) < 0) __PYX_ERR(0, 1871, __pyx_L1_error)
-      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1871, __pyx_L1_error)
+      if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_return_exceptions, Py_True) < 0) __PYX_ERR(0, 1930, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_3, __pyx_t_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1930, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_7);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __Pyx_XGOTREF(__pyx_r);
@@ -43762,47 +44401,47 @@
         __Pyx_XGIVEREF(__pyx_r);
         __Pyx_RefNannyFinishContext();
         __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
         /* return from async generator, awaiting value */
         __pyx_generator->resume_label = 2;
         return __pyx_r;
         __pyx_L15_resume_from_await:;
-        if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1871, __pyx_L1_error)
+        if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1930, __pyx_L1_error)
       } else {
         PyObject* exc_type = __Pyx_PyErr_Occurred();
         if (exc_type) {
           if (likely(exc_type == PyExc_StopIteration || (exc_type != PyExc_GeneratorExit && __Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration)))) PyErr_Clear();
-          else __PYX_ERR(0, 1871, __pyx_L1_error)
+          else __PYX_ERR(0, 1930, __pyx_L1_error)
         }
       }
 
-      /* "capnp/lib/capnp.pyx":1873
+      /* "capnp/lib/capnp.pyx":1932
  *         await asyncio.gather(*tasks, return_exceptions=True)
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass
  */
       {
         __Pyx_ExceptionSave(&__pyx_t_8, &__pyx_t_9, &__pyx_t_10);
         __Pyx_XGOTREF(__pyx_t_8);
         __Pyx_XGOTREF(__pyx_t_9);
         __Pyx_XGOTREF(__pyx_t_10);
         /*try:*/ {
 
-          /* "capnp/lib/capnp.pyx":1874
+          /* "capnp/lib/capnp.pyx":1933
  * 
  *         try:
  *             del asyncio_loop._kj_loop             # <<<<<<<<<<<<<<
  *         except AttributeError: pass
  *         kj_loop.close()
  */
-          if (__Pyx_PyObject_DelAttrStr(__pyx_cur_scope->__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2) < 0) __PYX_ERR(0, 1874, __pyx_L16_error)
+          if (__Pyx_PyObject_DelAttrStr(__pyx_cur_scope->__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2) < 0) __PYX_ERR(0, 1933, __pyx_L16_error)
 
-          /* "capnp/lib/capnp.pyx":1873
+          /* "capnp/lib/capnp.pyx":1932
  *         await asyncio.gather(*tasks, return_exceptions=True)
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass
  */
         }
@@ -43812,30 +44451,30 @@
         goto __pyx_L21_try_end;
         __pyx_L16_error:;
         __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
         __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-        /* "capnp/lib/capnp.pyx":1875
+        /* "capnp/lib/capnp.pyx":1934
  *         try:
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass             # <<<<<<<<<<<<<<
  *         kj_loop.close()
  * 
  */
         __pyx_t_11 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_AttributeError);
         if (__pyx_t_11) {
           __Pyx_ErrRestore(0,0,0);
           goto __pyx_L17_exception_handled;
         }
         goto __pyx_L18_except_error;
         __pyx_L18_except_error:;
 
-        /* "capnp/lib/capnp.pyx":1873
+        /* "capnp/lib/capnp.pyx":1932
  *         await asyncio.gather(*tasks, return_exceptions=True)
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass
  */
         __Pyx_XGIVEREF(__pyx_t_8);
@@ -43847,22 +44486,22 @@
         __Pyx_XGIVEREF(__pyx_t_8);
         __Pyx_XGIVEREF(__pyx_t_9);
         __Pyx_XGIVEREF(__pyx_t_10);
         __Pyx_ExceptionReset(__pyx_t_8, __pyx_t_9, __pyx_t_10);
         __pyx_L21_try_end:;
       }
 
-      /* "capnp/lib/capnp.pyx":1876
+      /* "capnp/lib/capnp.pyx":1935
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass
  *         kj_loop.close()             # <<<<<<<<<<<<<<
  * 
  * async def run(coro):
  */
-      __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)__pyx_cur_scope->__pyx_v_kj_loop->__pyx_vtab)->close(__pyx_cur_scope->__pyx_v_kj_loop); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1876, __pyx_L1_error)
+      __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)__pyx_cur_scope->__pyx_v_kj_loop->__pyx_vtab)->close(__pyx_cur_scope->__pyx_v_kj_loop); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1935, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       goto __pyx_L7;
     }
     __pyx_L6_error:;
     /*exception exit:*/{
       __Pyx_PyThreadState_assign
@@ -43877,174 +44516,174 @@
       __Pyx_XGOTREF(__pyx_t_8);
       __Pyx_XGOTREF(__pyx_t_14);
       __Pyx_XGOTREF(__pyx_t_15);
       __Pyx_XGOTREF(__pyx_t_16);
       __pyx_t_11 = __pyx_lineno; __pyx_t_12 = __pyx_clineno; __pyx_t_13 = __pyx_filename;
       {
 
-        /* "capnp/lib/capnp.pyx":1862
+        /* "capnp/lib/capnp.pyx":1921
  *     finally:
  *         # Close any asynciostream that has not been closed
  *         for stream in list(kj_loop.active_streams): stream.close()             # <<<<<<<<<<<<<<
  * 
  *         # Shut down all the RPC clients and servers
  */
-        __pyx_t_7 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_streams); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1862, __pyx_L23_error)
+        __pyx_t_7 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_streams); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1921, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_7);
         __pyx_t_2 = __pyx_t_7; __Pyx_INCREF(__pyx_t_2); __pyx_t_6 = 0;
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
         for (;;) {
           if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_2)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_6); __Pyx_INCREF(__pyx_t_7); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1862, __pyx_L23_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_6); __Pyx_INCREF(__pyx_t_7); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1921, __pyx_L23_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_2, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1862, __pyx_L23_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_2, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1921, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
           __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_stream);
           __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_stream, __pyx_t_7);
           __Pyx_GIVEREF(__pyx_t_7);
           __pyx_t_7 = 0;
-          __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_stream, __pyx_n_s_close); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1862, __pyx_L23_error)
+          __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_stream, __pyx_n_s_close); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1921, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_3);
           __pyx_t_1 = NULL;
           if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
             __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
             if (likely(__pyx_t_1)) {
               PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
               __Pyx_INCREF(__pyx_t_1);
               __Pyx_INCREF(function);
               __Pyx_DECREF_SET(__pyx_t_3, function);
             }
           }
           __pyx_t_7 = (__pyx_t_1) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_1) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
           __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-          if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1862, __pyx_L23_error)
+          if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1921, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_7);
           __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
           __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
         }
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-        /* "capnp/lib/capnp.pyx":1865
+        /* "capnp/lib/capnp.pyx":1924
  * 
  *         # Shut down all the RPC clients and servers
  *         for rpc in list(kj_loop.active_rpcs): rpc.close()             # <<<<<<<<<<<<<<
  * 
  *         # Cancel any pending task that is a RPC call
  */
-        __pyx_t_2 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_rpcs); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1865, __pyx_L23_error)
+        __pyx_t_2 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_rpcs); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1924, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_2);
         __pyx_t_7 = __pyx_t_2; __Pyx_INCREF(__pyx_t_7); __pyx_t_6 = 0;
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         for (;;) {
           if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_7)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_2 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1865, __pyx_L23_error)
+          __pyx_t_2 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1924, __pyx_L23_error)
           #else
-          __pyx_t_2 = PySequence_ITEM(__pyx_t_7, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1865, __pyx_L23_error)
+          __pyx_t_2 = PySequence_ITEM(__pyx_t_7, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1924, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_2);
           #endif
           __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_rpc);
           __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_rpc, __pyx_t_2);
           __Pyx_GIVEREF(__pyx_t_2);
           __pyx_t_2 = 0;
-          __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_rpc, __pyx_n_s_close); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1865, __pyx_L23_error)
+          __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_rpc, __pyx_n_s_close); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1924, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_3);
           __pyx_t_1 = NULL;
           if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
             __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
             if (likely(__pyx_t_1)) {
               PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
               __Pyx_INCREF(__pyx_t_1);
               __Pyx_INCREF(function);
               __Pyx_DECREF_SET(__pyx_t_3, function);
             }
           }
           __pyx_t_2 = (__pyx_t_1) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_1) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
           __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1865, __pyx_L23_error)
+          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1924, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
           __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         }
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-        /* "capnp/lib/capnp.pyx":1869
+        /* "capnp/lib/capnp.pyx":1928
  *         # Cancel any pending task that is a RPC call
  *         # TODO: What if the cancellation is inhibited?
  *         tasks = list(kj_loop.active_tasks)             # <<<<<<<<<<<<<<
  *         for task in tasks: task.cancel()
  *         await asyncio.gather(*tasks, return_exceptions=True)
  */
-        __pyx_t_7 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_tasks); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1869, __pyx_L23_error)
+        __pyx_t_7 = PySequence_List(__pyx_cur_scope->__pyx_v_kj_loop->active_tasks); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1928, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_7);
         __Pyx_GIVEREF(__pyx_t_7);
         __pyx_cur_scope->__pyx_v_tasks = ((PyObject*)__pyx_t_7);
         __pyx_t_7 = 0;
 
-        /* "capnp/lib/capnp.pyx":1870
+        /* "capnp/lib/capnp.pyx":1929
  *         # TODO: What if the cancellation is inhibited?
  *         tasks = list(kj_loop.active_tasks)
  *         for task in tasks: task.cancel()             # <<<<<<<<<<<<<<
  *         await asyncio.gather(*tasks, return_exceptions=True)
  * 
  */
         __pyx_t_7 = __pyx_cur_scope->__pyx_v_tasks; __Pyx_INCREF(__pyx_t_7); __pyx_t_6 = 0;
         for (;;) {
           if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_7)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_2 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1870, __pyx_L23_error)
+          __pyx_t_2 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 1929, __pyx_L23_error)
           #else
-          __pyx_t_2 = PySequence_ITEM(__pyx_t_7, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1870, __pyx_L23_error)
+          __pyx_t_2 = PySequence_ITEM(__pyx_t_7, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1929, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_2);
           #endif
           __Pyx_XGOTREF(__pyx_cur_scope->__pyx_v_task);
           __Pyx_XDECREF_SET(__pyx_cur_scope->__pyx_v_task, __pyx_t_2);
           __Pyx_GIVEREF(__pyx_t_2);
           __pyx_t_2 = 0;
-          __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_task, __pyx_n_s_cancel); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1870, __pyx_L23_error)
+          __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_task, __pyx_n_s_cancel); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1929, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_3);
           __pyx_t_1 = NULL;
           if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
             __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
             if (likely(__pyx_t_1)) {
               PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
               __Pyx_INCREF(__pyx_t_1);
               __Pyx_INCREF(function);
               __Pyx_DECREF_SET(__pyx_t_3, function);
             }
           }
           __pyx_t_2 = (__pyx_t_1) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_1) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
           __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1870, __pyx_L23_error)
+          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1929, __pyx_L23_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
           __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         }
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-        /* "capnp/lib/capnp.pyx":1871
+        /* "capnp/lib/capnp.pyx":1930
  *         tasks = list(kj_loop.active_tasks)
  *         for task in tasks: task.cancel()
  *         await asyncio.gather(*tasks, return_exceptions=True)             # <<<<<<<<<<<<<<
  * 
  *         try:
  */
-        __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1871, __pyx_L23_error)
+        __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1930, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_7);
-        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_gather); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1871, __pyx_L23_error)
+        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_gather); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1930, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-        __pyx_t_7 = PySequence_Tuple(__pyx_cur_scope->__pyx_v_tasks); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1871, __pyx_L23_error)
+        __pyx_t_7 = PySequence_Tuple(__pyx_cur_scope->__pyx_v_tasks); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1930, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_7);
-        __pyx_t_3 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1871, __pyx_L23_error)
+        __pyx_t_3 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1930, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_3);
-        if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_return_exceptions, Py_True) < 0) __PYX_ERR(0, 1871, __pyx_L23_error)
-        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1871, __pyx_L23_error)
+        if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_return_exceptions, Py_True) < 0) __PYX_ERR(0, 1930, __pyx_L23_error)
+        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_7, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1930, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_1);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_1);
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_XGOTREF(__pyx_r);
@@ -44088,47 +44727,47 @@
           __Pyx_XGOTREF(__pyx_t_14);
           __pyx_t_15 = __pyx_cur_scope->__pyx_t_7;
           __pyx_cur_scope->__pyx_t_7 = 0;
           __Pyx_XGOTREF(__pyx_t_15);
           __pyx_t_16 = __pyx_cur_scope->__pyx_t_8;
           __pyx_cur_scope->__pyx_t_8 = 0;
           __Pyx_XGOTREF(__pyx_t_16);
-          if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1871, __pyx_L23_error)
+          if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1930, __pyx_L23_error)
         } else {
           PyObject* exc_type = __Pyx_PyErr_Occurred();
           if (exc_type) {
             if (likely(exc_type == PyExc_StopIteration || (exc_type != PyExc_GeneratorExit && __Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration)))) PyErr_Clear();
-            else __PYX_ERR(0, 1871, __pyx_L23_error)
+            else __PYX_ERR(0, 1930, __pyx_L23_error)
           }
         }
 
-        /* "capnp/lib/capnp.pyx":1873
+        /* "capnp/lib/capnp.pyx":1932
  *         await asyncio.gather(*tasks, return_exceptions=True)
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass
  */
         {
           __Pyx_ExceptionSave(&__pyx_t_17, &__pyx_t_18, &__pyx_t_19);
           __Pyx_XGOTREF(__pyx_t_17);
           __Pyx_XGOTREF(__pyx_t_18);
           __Pyx_XGOTREF(__pyx_t_19);
           /*try:*/ {
 
-            /* "capnp/lib/capnp.pyx":1874
+            /* "capnp/lib/capnp.pyx":1933
  * 
  *         try:
  *             del asyncio_loop._kj_loop             # <<<<<<<<<<<<<<
  *         except AttributeError: pass
  *         kj_loop.close()
  */
-            if (__Pyx_PyObject_DelAttrStr(__pyx_cur_scope->__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2) < 0) __PYX_ERR(0, 1874, __pyx_L31_error)
+            if (__Pyx_PyObject_DelAttrStr(__pyx_cur_scope->__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2) < 0) __PYX_ERR(0, 1933, __pyx_L31_error)
 
-            /* "capnp/lib/capnp.pyx":1873
+            /* "capnp/lib/capnp.pyx":1932
  *         await asyncio.gather(*tasks, return_exceptions=True)
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass
  */
           }
@@ -44138,30 +44777,30 @@
           goto __pyx_L36_try_end;
           __pyx_L31_error:;
           __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
           __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
           __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
           __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-          /* "capnp/lib/capnp.pyx":1875
+          /* "capnp/lib/capnp.pyx":1934
  *         try:
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass             # <<<<<<<<<<<<<<
  *         kj_loop.close()
  * 
  */
           __pyx_t_20 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_AttributeError);
           if (__pyx_t_20) {
             __Pyx_ErrRestore(0,0,0);
             goto __pyx_L32_exception_handled;
           }
           goto __pyx_L33_except_error;
           __pyx_L33_except_error:;
 
-          /* "capnp/lib/capnp.pyx":1873
+          /* "capnp/lib/capnp.pyx":1932
  *         await asyncio.gather(*tasks, return_exceptions=True)
  * 
  *         try:             # <<<<<<<<<<<<<<
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass
  */
           __Pyx_XGIVEREF(__pyx_t_17);
@@ -44173,22 +44812,22 @@
           __Pyx_XGIVEREF(__pyx_t_17);
           __Pyx_XGIVEREF(__pyx_t_18);
           __Pyx_XGIVEREF(__pyx_t_19);
           __Pyx_ExceptionReset(__pyx_t_17, __pyx_t_18, __pyx_t_19);
           __pyx_L36_try_end:;
         }
 
-        /* "capnp/lib/capnp.pyx":1876
+        /* "capnp/lib/capnp.pyx":1935
  *             del asyncio_loop._kj_loop
  *         except AttributeError: pass
  *         kj_loop.close()             # <<<<<<<<<<<<<<
  * 
  * async def run(coro):
  */
-        __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)__pyx_cur_scope->__pyx_v_kj_loop->__pyx_vtab)->close(__pyx_cur_scope->__pyx_v_kj_loop); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1876, __pyx_L23_error)
+        __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EventLoop *)__pyx_cur_scope->__pyx_v_kj_loop->__pyx_vtab)->close(__pyx_cur_scope->__pyx_v_kj_loop); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1935, __pyx_L23_error)
         __Pyx_GOTREF(__pyx_t_1);
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       }
       if (PY_MAJOR_VERSION >= 3) {
         __Pyx_XGIVEREF(__pyx_t_14);
         __Pyx_XGIVEREF(__pyx_t_15);
         __Pyx_XGIVEREF(__pyx_t_16);
@@ -44214,20 +44853,20 @@
       __pyx_t_14 = 0; __pyx_t_15 = 0; __pyx_t_16 = 0;
       goto __pyx_L1_error;
     }
     __pyx_L7:;
   }
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":1852
+  /* "capnp/lib/capnp.pyx":1901
  * 
  * @_asynccontextmanager
  * async def kj_loop():             # <<<<<<<<<<<<<<
- *     asyncio_loop = asyncio.get_running_loop()
- *     if hasattr(asyncio_loop, '_kj_loop'):
+ *     """Context manager for running the KJ event loop
+ * 
  */
 
   /* function exit code */
   PyErr_SetNone(__Pyx_PyExc_StopAsyncIteration);
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
@@ -44243,25 +44882,25 @@
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_17generator2(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":1878
+/* "capnp/lib/capnp.pyx":1937
  *         kj_loop.close()
  * 
  * async def run(coro):             # <<<<<<<<<<<<<<
- *     async with kj_loop():
- *         return await coro
+ *     """Ensure that the coroutine runs while the KJ event loop is running
+ * 
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_16run(PyObject *__pyx_self, PyObject *__pyx_v_coro); /*proto*/
-static char __pyx_doc_5capnp_3lib_5capnp_15run[] = "run(coro)";
+static char __pyx_doc_5capnp_3lib_5capnp_15run[] = "run(coro)\nEnsure that the coroutine runs while the KJ event loop is running\n\n    This is a shortcut for wrapping the coroutine in a :py:meth:`capnp.kj_loop` context manager.\n\n    :param coro: Coroutine to run\n    ";
 static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_16run = {"run", (PyCFunction)__pyx_pw_5capnp_3lib_5capnp_16run, METH_O, __pyx_doc_5capnp_3lib_5capnp_15run};
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_16run(PyObject *__pyx_self, PyObject *__pyx_v_coro) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("run (wrapper)", 0);
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_15run(__pyx_self, ((PyObject *)__pyx_v_coro));
 
@@ -44278,23 +44917,23 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("run", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_7_run *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_7_run(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_7_run, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_7_run *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 1878, __pyx_L1_error)
+    __PYX_ERR(0, 1937, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_coro = __pyx_v_coro;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_coro);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_coro);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_17generator2, __pyx_codeobj__38, (PyObject *) __pyx_cur_scope, __pyx_n_s_run, __pyx_n_s_run, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 1878, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_17generator2, __pyx_codeobj__38, (PyObject *) __pyx_cur_scope, __pyx_n_s_run, __pyx_n_s_run, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 1937, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -44338,58 +44977,58 @@
     case 4: goto __pyx_L20_resume_from_await;
     case 5: goto __pyx_L21_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1878, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1937, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1879
- * 
- * async def run(coro):
+  /* "capnp/lib/capnp.pyx":1944
+ *     :param coro: Coroutine to run
+ *     """
  *     async with kj_loop():             # <<<<<<<<<<<<<<
  *         return await coro
  * 
  */
   /*with:*/ {
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_kj_loop); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1879, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_kj_loop); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1944, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1879, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1944, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_4 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_aexit); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1879, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_aexit); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1944, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_3 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_aenter); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1879, __pyx_L4_error)
+    __pyx_t_3 = __Pyx_PyObject_LookupSpecial(__pyx_t_1, __pyx_n_s_aenter); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1944, __pyx_L4_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_5 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1879, __pyx_L4_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1944, __pyx_L4_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_2);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_XGOTREF(__pyx_r);
     if (likely(__pyx_r)) {
       __Pyx_XGIVEREF(__pyx_t_1);
@@ -44405,33 +45044,33 @@
       __pyx_L5_resume_from_await:;
       __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
       __pyx_cur_scope->__pyx_t_0 = 0;
       __Pyx_XGOTREF(__pyx_t_1);
       __pyx_t_4 = __pyx_cur_scope->__pyx_t_1;
       __pyx_cur_scope->__pyx_t_1 = 0;
       __Pyx_XGOTREF(__pyx_t_4);
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1879, __pyx_L4_error)
+      if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1944, __pyx_L4_error)
       __pyx_t_2 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_2);
     } else {
       __pyx_t_2 = NULL;
-      if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_2) < 0) __PYX_ERR(0, 1879, __pyx_L4_error)
+      if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_2) < 0) __PYX_ERR(0, 1944, __pyx_L4_error)
       __Pyx_GOTREF(__pyx_t_2);
     }
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     /*try:*/ {
       {
         __Pyx_ExceptionSave(&__pyx_t_6, &__pyx_t_7, &__pyx_t_8);
         __Pyx_XGOTREF(__pyx_t_6);
         __Pyx_XGOTREF(__pyx_t_7);
         __Pyx_XGOTREF(__pyx_t_8);
         /*try:*/ {
 
-          /* "capnp/lib/capnp.pyx":1880
- * async def run(coro):
+          /* "capnp/lib/capnp.pyx":1945
+ *     """
  *     async with kj_loop():
  *         return await coro             # <<<<<<<<<<<<<<
  * 
  * cdef _EventLoop C_DEFAULT_EVENT_LOOP_GETTER():
  */
           __Pyx_XDECREF(__pyx_r);
           __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_cur_scope->__pyx_v_coro);
@@ -44460,50 +45099,50 @@
             __Pyx_XGOTREF(__pyx_t_6);
             __pyx_t_7 = __pyx_cur_scope->__pyx_t_2;
             __pyx_cur_scope->__pyx_t_2 = 0;
             __Pyx_XGOTREF(__pyx_t_7);
             __pyx_t_8 = __pyx_cur_scope->__pyx_t_3;
             __pyx_cur_scope->__pyx_t_3 = 0;
             __Pyx_XGOTREF(__pyx_t_8);
-            if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1880, __pyx_L9_error)
+            if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1945, __pyx_L9_error)
             __pyx_t_1 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_1);
           } else {
             __pyx_t_1 = NULL;
-            if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_1) < 0) __PYX_ERR(0, 1880, __pyx_L9_error)
+            if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_1) < 0) __PYX_ERR(0, 1945, __pyx_L9_error)
             __Pyx_GOTREF(__pyx_t_1);
           }
           __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_t_1);
           __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
           goto __pyx_L13_try_return;
 
-          /* "capnp/lib/capnp.pyx":1879
- * 
- * async def run(coro):
+          /* "capnp/lib/capnp.pyx":1944
+ *     :param coro: Coroutine to run
+ *     """
  *     async with kj_loop():             # <<<<<<<<<<<<<<
  *         return await coro
  * 
  */
         }
         __pyx_L9_error:;
         __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         /*except:*/ {
           __Pyx_AddTraceback("capnp.lib.capnp.run", __pyx_clineno, __pyx_lineno, __pyx_filename);
-          if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) __PYX_ERR(0, 1879, __pyx_L11_except_error)
+          if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3) < 0) __PYX_ERR(0, 1944, __pyx_L11_except_error)
           __Pyx_GOTREF(__pyx_t_1);
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_GOTREF(__pyx_t_3);
-          __pyx_t_5 = PyTuple_Pack(3, __pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1879, __pyx_L11_except_error)
+          __pyx_t_5 = PyTuple_Pack(3, __pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1944, __pyx_L11_except_error)
           __Pyx_GOTREF(__pyx_t_5);
           __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_5, NULL);
           __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-          if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1879, __pyx_L11_except_error)
+          if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1944, __pyx_L11_except_error)
           __Pyx_GOTREF(__pyx_t_9);
           __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_9);
           __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
           __Pyx_XGOTREF(__pyx_r);
           if (likely(__pyx_r)) {
             __Pyx_XGIVEREF(__pyx_t_1);
             __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
@@ -44548,34 +45187,34 @@
             __Pyx_XGOTREF(__pyx_t_7);
             __pyx_t_8 = __pyx_cur_scope->__pyx_t_6;
             __pyx_cur_scope->__pyx_t_6 = 0;
             __Pyx_XGOTREF(__pyx_t_8);
             __pyx_t_9 = __pyx_cur_scope->__pyx_t_7;
             __pyx_cur_scope->__pyx_t_7 = 0;
             __Pyx_XGOTREF(__pyx_t_9);
-            if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1879, __pyx_L11_except_error)
+            if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1944, __pyx_L11_except_error)
             __pyx_t_5 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_5);
           } else {
             __pyx_t_5 = NULL;
-            if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_5) < 0) __PYX_ERR(0, 1879, __pyx_L11_except_error)
+            if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_5) < 0) __PYX_ERR(0, 1944, __pyx_L11_except_error)
             __Pyx_GOTREF(__pyx_t_5);
           }
           __pyx_t_9 = __pyx_t_5;
           __pyx_t_5 = 0;
           __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_9);
           __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-          if (__pyx_t_10 < 0) __PYX_ERR(0, 1879, __pyx_L11_except_error)
+          if (__pyx_t_10 < 0) __PYX_ERR(0, 1944, __pyx_L11_except_error)
           __pyx_t_11 = ((!(__pyx_t_10 != 0)) != 0);
           if (__pyx_t_11) {
             __Pyx_GIVEREF(__pyx_t_1);
             __Pyx_GIVEREF(__pyx_t_2);
             __Pyx_XGIVEREF(__pyx_t_3);
             __Pyx_ErrRestoreWithState(__pyx_t_1, __pyx_t_2, __pyx_t_3);
             __pyx_t_1 = 0; __pyx_t_2 = 0; __pyx_t_3 = 0; 
-            __PYX_ERR(0, 1879, __pyx_L11_except_error)
+            __PYX_ERR(0, 1944, __pyx_L11_except_error)
           }
           __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
           __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
           __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
           goto __pyx_L10_exception_handled;
         }
         __pyx_L11_except_error:;
@@ -44598,15 +45237,15 @@
       }
     }
     /*finally:*/ {
       /*normal exit:*/{
         if (__pyx_t_4) {
           __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__23, NULL);
           __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1879, __pyx_L1_error)
+          if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 1944, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_8);
           __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_8);
           __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
           __Pyx_XGOTREF(__pyx_r);
           if (likely(__pyx_r)) {
             __Pyx_XGIVEREF(__pyx_t_4);
             __pyx_cur_scope->__pyx_t_0 = __pyx_t_4;
@@ -44621,19 +45260,19 @@
             __pyx_L20_resume_from_await:;
             __pyx_t_4 = __pyx_cur_scope->__pyx_t_0;
             __pyx_cur_scope->__pyx_t_0 = 0;
             __Pyx_XGOTREF(__pyx_t_4);
             __pyx_t_8 = __pyx_cur_scope->__pyx_t_1;
             __pyx_cur_scope->__pyx_t_1 = 0;
             __Pyx_XGOTREF(__pyx_t_8);
-            if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1879, __pyx_L1_error)
+            if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1944, __pyx_L1_error)
             __pyx_t_3 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_3);
           } else {
             __pyx_t_3 = NULL;
-            if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_3) < 0) __PYX_ERR(0, 1879, __pyx_L1_error)
+            if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_3) < 0) __PYX_ERR(0, 1944, __pyx_L1_error)
             __Pyx_GOTREF(__pyx_t_3);
           }
           __pyx_t_8 = __pyx_t_3;
           __pyx_t_3 = 0;
           __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
         }
         goto __pyx_L8;
@@ -44650,15 +45289,15 @@
         __Pyx_XGOTREF(__pyx_t_12);
         __Pyx_XGOTREF(__pyx_t_13);
         __pyx_t_14 = __pyx_r;
         __pyx_r = 0;
         if (__pyx_t_4) {
           __pyx_t_15 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__23, NULL);
           __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1879, __pyx_L1_error)
+          if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 1944, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_15);
           __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_15);
           __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
           __Pyx_XGOTREF(__pyx_r);
           if (likely(__pyx_r)) {
             __Pyx_XGIVEREF(__pyx_t_4);
             __pyx_cur_scope->__pyx_t_0 = __pyx_t_4;
@@ -44708,19 +45347,19 @@
             __Pyx_XGOTREF(__pyx_t_13);
             __pyx_t_14 = __pyx_cur_scope->__pyx_t_7;
             __pyx_cur_scope->__pyx_t_7 = 0;
             __Pyx_XGOTREF(__pyx_t_14);
             __pyx_t_15 = __pyx_cur_scope->__pyx_t_8;
             __pyx_cur_scope->__pyx_t_8 = 0;
             __Pyx_XGOTREF(__pyx_t_15);
-            if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1879, __pyx_L1_error)
+            if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 1944, __pyx_L1_error)
             __pyx_t_3 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_3);
           } else {
             __pyx_t_3 = NULL;
-            if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_3) < 0) __PYX_ERR(0, 1879, __pyx_L1_error)
+            if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_3) < 0) __PYX_ERR(0, 1944, __pyx_L1_error)
             __Pyx_GOTREF(__pyx_t_3);
           }
           __pyx_t_15 = __pyx_t_3;
           __pyx_t_3 = 0;
           __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
         }
         __pyx_r = __pyx_t_14;
@@ -44744,20 +45383,20 @@
     __pyx_L4_error:;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     goto __pyx_L1_error;
     __pyx_L22:;
   }
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":1878
+  /* "capnp/lib/capnp.pyx":1937
  *         kj_loop.close()
  * 
  * async def run(coro):             # <<<<<<<<<<<<<<
- *     async with kj_loop():
- *         return await coro
+ *     """Ensure that the coroutine runs while the KJ event loop is running
+ * 
  */
 
   /* function exit code */
   PyErr_SetNone(PyExc_StopIteration);
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
@@ -44772,15 +45411,15 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1882
+/* "capnp/lib/capnp.pyx":1947
  *         return await coro
  * 
  * cdef _EventLoop C_DEFAULT_EVENT_LOOP_GETTER():             # <<<<<<<<<<<<<<
  *     asyncio_loop = asyncio.get_running_loop()
  *     kj_loop = getattr(asyncio_loop, '_kj_loop', None)
  */
 
@@ -44795,122 +45434,122 @@
   int __pyx_t_4;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("C_DEFAULT_EVENT_LOOP_GETTER", 0);
 
-  /* "capnp/lib/capnp.pyx":1883
+  /* "capnp/lib/capnp.pyx":1948
  * 
  * cdef _EventLoop C_DEFAULT_EVENT_LOOP_GETTER():
  *     asyncio_loop = asyncio.get_running_loop()             # <<<<<<<<<<<<<<
  *     kj_loop = getattr(asyncio_loop, '_kj_loop', None)
  *     if kj_loop is None:
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1883, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1948, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1883, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1948, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1883, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1948, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_v_asyncio_loop = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1884
+  /* "capnp/lib/capnp.pyx":1949
  * cdef _EventLoop C_DEFAULT_EVENT_LOOP_GETTER():
  *     asyncio_loop = asyncio.get_running_loop()
  *     kj_loop = getattr(asyncio_loop, '_kj_loop', None)             # <<<<<<<<<<<<<<
  *     if kj_loop is None:
  *         raise RuntimeError(
  */
-  __pyx_t_1 = __Pyx_GetAttr3(__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1884, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_GetAttr3(__pyx_v_asyncio_loop, __pyx_n_s_kj_loop_2, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1949, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_kj_loop = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1885
+  /* "capnp/lib/capnp.pyx":1950
  *     asyncio_loop = asyncio.get_running_loop()
  *     kj_loop = getattr(asyncio_loop, '_kj_loop', None)
  *     if kj_loop is None:             # <<<<<<<<<<<<<<
  *         raise RuntimeError(
  *             "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  */
   __pyx_t_4 = (__pyx_v_kj_loop == Py_None);
   __pyx_t_5 = (__pyx_t_4 != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":1886
+    /* "capnp/lib/capnp.pyx":1951
  *     kj_loop = getattr(asyncio_loop, '_kj_loop', None)
  *     if kj_loop is None:
  *         raise RuntimeError(             # <<<<<<<<<<<<<<
  *             "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  *     elif type(kj_loop) is _EventLoop: return kj_loop
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__33, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1886, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__33, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1951, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 1886, __pyx_L1_error)
+    __PYX_ERR(0, 1951, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1885
+    /* "capnp/lib/capnp.pyx":1950
  *     asyncio_loop = asyncio.get_running_loop()
  *     kj_loop = getattr(asyncio_loop, '_kj_loop', None)
  *     if kj_loop is None:             # <<<<<<<<<<<<<<
  *         raise RuntimeError(
  *             "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1888
+  /* "capnp/lib/capnp.pyx":1953
  *         raise RuntimeError(
  *             "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  *     elif type(kj_loop) is _EventLoop: return kj_loop             # <<<<<<<<<<<<<<
  *     else: raise RuntimeError("Someone meddled with the KJ event loop!")
  * 
  */
   __pyx_t_5 = (((PyObject *)Py_TYPE(__pyx_v_kj_loop)) == ((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__EventLoop));
   __pyx_t_4 = (__pyx_t_5 != 0);
   if (likely(__pyx_t_4)) {
     __Pyx_XDECREF(((PyObject *)__pyx_r));
-    if (!(likely(((__pyx_v_kj_loop) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_kj_loop, __pyx_ptype_5capnp_3lib_5capnp__EventLoop))))) __PYX_ERR(0, 1888, __pyx_L1_error)
+    if (!(likely(((__pyx_v_kj_loop) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_kj_loop, __pyx_ptype_5capnp_3lib_5capnp__EventLoop))))) __PYX_ERR(0, 1953, __pyx_L1_error)
     __Pyx_INCREF(__pyx_v_kj_loop);
     __pyx_r = ((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_v_kj_loop);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1889
+  /* "capnp/lib/capnp.pyx":1954
  *             "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  *     elif type(kj_loop) is _EventLoop: return kj_loop
  *     else: raise RuntimeError("Someone meddled with the KJ event loop!")             # <<<<<<<<<<<<<<
  * 
  * 
  */
   /*else*/ {
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__39, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1889, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__39, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1954, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 1889, __pyx_L1_error)
+    __PYX_ERR(0, 1954, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":1882
+  /* "capnp/lib/capnp.pyx":1947
  *         return await coro
  * 
  * cdef _EventLoop C_DEFAULT_EVENT_LOOP_GETTER():             # <<<<<<<<<<<<<<
  *     asyncio_loop = asyncio.get_running_loop()
  *     kj_loop = getattr(asyncio_loop, '_kj_loop', None)
  */
 
@@ -44925,64 +45564,84 @@
   __Pyx_XDECREF(__pyx_v_asyncio_loop);
   __Pyx_XDECREF(__pyx_v_kj_loop);
   __Pyx_XGIVEREF((PyObject *)__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1895
+/* "capnp/lib/capnp.pyx":1960
  *     cdef CallContext * thisptr
  * 
  *     cdef _init(self, CallContext other):             # <<<<<<<<<<<<<<
+ *         helpers.allowCancellation(other)
  *         self.thisptr = new CallContext(move(other))
- *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_12_CallContext__init(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *__pyx_v_self,  ::capnp::CallContext< ::capnp::DynamicStruct, ::capnp::DynamicStruct> __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":1896
+  /* "capnp/lib/capnp.pyx":1961
  * 
  *     cdef _init(self, CallContext other):
+ *         helpers.allowCancellation(other)             # <<<<<<<<<<<<<<
+ *         self.thisptr = new CallContext(move(other))
+ *         return self
+ */
+  try {
+    allowCancellation(__pyx_v_other);
+  } catch(...) {
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1961, __pyx_L1_error)
+  }
+
+  /* "capnp/lib/capnp.pyx":1962
+ *     cdef _init(self, CallContext other):
+ *         helpers.allowCancellation(other)
  *         self.thisptr = new CallContext(move(other))             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = new  ::capnp::CallContext< ::capnp::DynamicStruct, ::capnp::DynamicStruct>(cython_std::move< ::capnp::CallContext< ::capnp::DynamicStruct, ::capnp::DynamicStruct>>(__pyx_v_other));
 
-  /* "capnp/lib/capnp.pyx":1897
- *     cdef _init(self, CallContext other):
+  /* "capnp/lib/capnp.pyx":1963
+ *         helpers.allowCancellation(other)
  *         self.thisptr = new CallContext(move(other))
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1895
+  /* "capnp/lib/capnp.pyx":1960
  *     cdef CallContext * thisptr
  * 
  *     cdef _init(self, CallContext other):             # <<<<<<<<<<<<<<
+ *         helpers.allowCancellation(other)
  *         self.thisptr = new CallContext(move(other))
- *         return self
  */
 
   /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_AddTraceback("capnp.lib.capnp._CallContext._init", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1899
+/* "capnp/lib/capnp.pyx":1965
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -44997,36 +45656,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_12_CallContext___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":1900
+  /* "capnp/lib/capnp.pyx":1966
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  *     property params:
  */
   delete __pyx_v_self->thisptr;
 
-  /* "capnp/lib/capnp.pyx":1899
+  /* "capnp/lib/capnp.pyx":1965
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":1903
+/* "capnp/lib/capnp.pyx":1969
  * 
  *     property params:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getParams(), self)
  * 
  */
 
@@ -45050,38 +45709,38 @@
    ::capnp::DynamicStruct::Reader __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1904
+  /* "capnp/lib/capnp.pyx":1970
  *     property params:
  *         def __get__(self):
  *             return _DynamicStructReader()._init(self.thisptr.getParams(), self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get_results(self, uint word_count=0):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1904, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1970, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_2 = __pyx_v_self->thisptr->getParams();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1904, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1970, __pyx_L1_error)
   }
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), __pyx_t_2, ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1904, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), __pyx_t_2, ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1970, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1903
+  /* "capnp/lib/capnp.pyx":1969
  * 
  *     property params:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getParams(), self)
  * 
  */
 
@@ -45093,15 +45752,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1906
+/* "capnp/lib/capnp.pyx":1972
  *             return _DynamicStructReader()._init(self.thisptr.getParams(), self)
  * 
  *     cpdef _get_results(self, uint word_count=0):             # <<<<<<<<<<<<<<
  *         return _DynamicStructBuilder()._init(self.thisptr.getResults(), self) # TODO: pass firstSegmentWordSize
  * 
  */
 
@@ -45129,19 +45788,19 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_results); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1906, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_results); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1972, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_12_CallContext_3_get_results)) {
         __Pyx_XDECREF(__pyx_r);
-        __pyx_t_3 = __Pyx_PyInt_From_unsigned_int(__pyx_v_word_count); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1906, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyInt_From_unsigned_int(__pyx_v_word_count); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1972, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_4 = __pyx_t_1; __pyx_t_5 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
           __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
           if (likely(__pyx_t_5)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
@@ -45149,15 +45808,15 @@
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_4, function);
           }
         }
         __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_5, __pyx_t_3) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3);
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1906, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1972, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -45170,32 +45829,32 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1907
+  /* "capnp/lib/capnp.pyx":1973
  * 
  *     cpdef _get_results(self, uint word_count=0):
  *         return _DynamicStructBuilder()._init(self.thisptr.getResults(), self) # TODO: pass firstSegmentWordSize             # <<<<<<<<<<<<<<
  * 
  *     property results:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1907, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1973, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1), __pyx_v_self->thisptr->getResults(), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1907, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1), __pyx_v_self->thisptr->getResults(), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1973, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1906
+  /* "capnp/lib/capnp.pyx":1972
  *             return _DynamicStructReader()._init(self.thisptr.getParams(), self)
  * 
  *     cpdef _get_results(self, uint word_count=0):             # <<<<<<<<<<<<<<
  *         return _DynamicStructBuilder()._init(self.thisptr.getResults(), self) # TODO: pass firstSegmentWordSize
  * 
  */
 
@@ -45242,33 +45901,33 @@
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_word_count);
           if (value) { values[0] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_get_results") < 0)) __PYX_ERR(0, 1906, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_get_results") < 0)) __PYX_ERR(0, 1972, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     if (values[0]) {
-      __pyx_v_word_count = __Pyx_PyInt_As_unsigned_int(values[0]); if (unlikely((__pyx_v_word_count == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1906, __pyx_L3_error)
+      __pyx_v_word_count = __Pyx_PyInt_As_unsigned_int(values[0]); if (unlikely((__pyx_v_word_count == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 1972, __pyx_L3_error)
     } else {
       __pyx_v_word_count = ((__pyx_t_5capnp_8includes_5types_uint)0);
     }
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_get_results", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1906, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_get_results", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 1972, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._CallContext._get_results", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12_CallContext_2_get_results(((struct __pyx_obj_5capnp_3lib_5capnp__CallContext *)__pyx_v_self), __pyx_v_word_count);
 
@@ -45285,15 +45944,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get_results", 0);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.word_count = __pyx_v_word_count;
-  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__CallContext->_get_results(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1906, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_5capnp_3lib_5capnp__CallContext->_get_results(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1972, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -45302,15 +45961,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1910
+/* "capnp/lib/capnp.pyx":1976
  * 
  *     property results:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self._get_results()
  * 
  */
 
@@ -45332,29 +45991,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1911
+  /* "capnp/lib/capnp.pyx":1977
  *     property results:
  *         def __get__(self):
  *             return self._get_results()             # <<<<<<<<<<<<<<
  * 
  *     cpdef release_params(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__CallContext *)__pyx_v_self->__pyx_vtab)->_get_results(__pyx_v_self, 0, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1911, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__CallContext *)__pyx_v_self->__pyx_vtab)->_get_results(__pyx_v_self, 0, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1977, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1910
+  /* "capnp/lib/capnp.pyx":1976
  * 
  *     property results:
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return self._get_results()
  * 
  */
 
@@ -45365,15 +46024,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1913
+/* "capnp/lib/capnp.pyx":1979
  *             return self._get_results()
  * 
  *     cpdef release_params(self):             # <<<<<<<<<<<<<<
  *         self.thisptr.releaseParams()
  * 
  */
 
@@ -45394,15 +46053,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_release_params); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1913, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_release_params); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1979, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_12_CallContext_5release_params)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -45411,15 +46070,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1913, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1979, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -45432,29 +46091,29 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1914
+  /* "capnp/lib/capnp.pyx":1980
  * 
  *     cpdef release_params(self):
  *         self.thisptr.releaseParams()             # <<<<<<<<<<<<<<
  * 
  *     cpdef tail_call(self, _Request tailRequest):
  */
   try {
     __pyx_v_self->thisptr->releaseParams();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1914, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 1980, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":1913
+  /* "capnp/lib/capnp.pyx":1979
  *             return self._get_results()
  * 
  *     cpdef release_params(self):             # <<<<<<<<<<<<<<
  *         self.thisptr.releaseParams()
  * 
  */
 
@@ -45493,15 +46152,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("release_params", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_12_CallContext_release_params(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1913, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_12_CallContext_release_params(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1979, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -45510,15 +46169,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1916
+/* "capnp/lib/capnp.pyx":1982
  *         self.thisptr.releaseParams()
  * 
  *     cpdef tail_call(self, _Request tailRequest):             # <<<<<<<<<<<<<<
  *         return _voidpromise_to_asyncio(self.thisptr.tailCall(move(deref(tailRequest.thisptr_child))))
  * 
  */
 
@@ -45539,15 +46198,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_tail_call); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1916, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_tail_call); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1982, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_12_CallContext_7tail_call)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -45556,15 +46215,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, ((PyObject *)__pyx_v_tailRequest)) : __Pyx_PyObject_CallOneArg(__pyx_t_3, ((PyObject *)__pyx_v_tailRequest));
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1916, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1982, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -45577,29 +46236,29 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1917
+  /* "capnp/lib/capnp.pyx":1983
  * 
  *     cpdef tail_call(self, _Request tailRequest):
  *         return _voidpromise_to_asyncio(self.thisptr.tailCall(move(deref(tailRequest.thisptr_child))))             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__voidpromise_to_asyncio(__pyx_v_self->thisptr->tailCall(cython_std::move< ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct>>((*__pyx_v_tailRequest->thisptr_child)))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1917, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__voidpromise_to_asyncio(__pyx_v_self->thisptr->tailCall(cython_std::move< ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct>>((*__pyx_v_tailRequest->thisptr_child)))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1983, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1916
+  /* "capnp/lib/capnp.pyx":1982
  *         self.thisptr.releaseParams()
  * 
  *     cpdef tail_call(self, _Request tailRequest):             # <<<<<<<<<<<<<<
  *         return _voidpromise_to_asyncio(self.thisptr.tailCall(move(deref(tailRequest.thisptr_child))))
  * 
  */
 
@@ -45623,15 +46282,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_12_CallContext_7tail_call(PyObject *__pyx_v_self, PyObject *__pyx_v_tailRequest) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("tail_call (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_tailRequest), __pyx_ptype_5capnp_3lib_5capnp__Request, 1, "tailRequest", 0))) __PYX_ERR(0, 1916, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_tailRequest), __pyx_ptype_5capnp_3lib_5capnp__Request, 1, "tailRequest", 0))) __PYX_ERR(0, 1982, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12_CallContext_6tail_call(((struct __pyx_obj_5capnp_3lib_5capnp__CallContext *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__Request *)__pyx_v_tailRequest));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -45644,15 +46303,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("tail_call", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_12_CallContext_tail_call(__pyx_v_self, __pyx_v_tailRequest, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1916, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_12_CallContext_tail_call(__pyx_v_self, __pyx_v_tailRequest, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1982, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -45776,15 +46435,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._CallContext.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1923
+/* "capnp/lib/capnp.pyx":1989
  *     C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *     fut = asyncio.get_running_loop().create_future()
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None
  */
 
@@ -45815,51 +46474,51 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("success", 0);
   __pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio *) __Pyx_CyFunction_GetClosure(__pyx_self);
   __pyx_cur_scope = __pyx_outer_scope;
   __Pyx_XDECREF(__pyx_r);
-  if (unlikely(!__pyx_cur_scope->__pyx_v_fut)) { __Pyx_RaiseClosureNameError("fut"); __PYX_ERR(0, 1923, __pyx_L1_error) }
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1923, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_v_fut)) { __Pyx_RaiseClosureNameError("fut"); __PYX_ERR(0, 1989, __pyx_L1_error) }
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1989, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1923, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1989, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1923, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1989, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (((!__pyx_t_5) != 0)) {
-    if (unlikely(!__pyx_cur_scope->__pyx_v_fut)) { __Pyx_RaiseClosureNameError("fut"); __PYX_ERR(0, 1923, __pyx_L1_error) }
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_set_result); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1923, __pyx_L1_error)
+    if (unlikely(!__pyx_cur_scope->__pyx_v_fut)) { __Pyx_RaiseClosureNameError("fut"); __PYX_ERR(0, 1989, __pyx_L1_error) }
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_set_result); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1989, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_res) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_res);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1923, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1989, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_1 = __pyx_t_2;
     __pyx_t_2 = 0;
   } else {
     __Pyx_INCREF(Py_None);
     __pyx_t_1 = Py_None;
@@ -45878,15 +46537,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1924
+/* "capnp/lib/capnp.pyx":1990
  *     fut = asyncio.get_running_loop().create_future()
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None
  *     # Attach the promise to the future, so that it doesn't get destroyed
  */
 
@@ -45917,51 +46576,51 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("exception", 0);
   __pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio *) __Pyx_CyFunction_GetClosure(__pyx_self);
   __pyx_cur_scope = __pyx_outer_scope;
   __Pyx_XDECREF(__pyx_r);
-  if (unlikely(!__pyx_cur_scope->__pyx_v_fut)) { __Pyx_RaiseClosureNameError("fut"); __PYX_ERR(0, 1924, __pyx_L1_error) }
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1924, __pyx_L1_error)
+  if (unlikely(!__pyx_cur_scope->__pyx_v_fut)) { __Pyx_RaiseClosureNameError("fut"); __PYX_ERR(0, 1990, __pyx_L1_error) }
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1990, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1924, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1990, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1924, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1990, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (((!__pyx_t_5) != 0)) {
-    if (unlikely(!__pyx_cur_scope->__pyx_v_fut)) { __Pyx_RaiseClosureNameError("fut"); __PYX_ERR(0, 1924, __pyx_L1_error) }
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_set_exception); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1924, __pyx_L1_error)
+    if (unlikely(!__pyx_cur_scope->__pyx_v_fut)) { __Pyx_RaiseClosureNameError("fut"); __PYX_ERR(0, 1990, __pyx_L1_error) }
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_set_exception); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1990, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_err) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_err);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1924, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1990, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_1 = __pyx_t_2;
     __pyx_t_2 = 0;
   } else {
     __Pyx_INCREF(Py_None);
     __pyx_t_1 = Py_None;
@@ -45980,15 +46639,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1925
+/* "capnp/lib/capnp.pyx":1991
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     # Attach the promise to the future, so that it doesn't get destroyed
  *     fut.kjpromise = _Promise()._init(helpers.then(
  */
 
@@ -46015,52 +46674,52 @@
   PyObject *__pyx_t_4 = NULL;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("done", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_fut, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1925, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_fut, __pyx_n_s_cancelled); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1991, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1925, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1991, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1925, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 1991, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (__pyx_t_5) {
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_fut, __pyx_n_s_kjpromise); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1925, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_fut, __pyx_n_s_kjpromise); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1991, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_cancel); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1925, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_cancel); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1991, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1925, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1991, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_t_1 = __pyx_t_2;
     __pyx_t_2 = 0;
   } else {
     __Pyx_INCREF(Py_None);
     __pyx_t_1 = Py_None;
@@ -46079,15 +46738,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1920
+/* "capnp/lib/capnp.pyx":1986
  * 
  * 
  * cdef _promise_to_asyncio(PyPromise promise):             # <<<<<<<<<<<<<<
  *     C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *     fut = asyncio.get_running_loop().create_future()
  */
 
@@ -46106,185 +46765,185 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_promise_to_asyncio", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 1920, __pyx_L1_error)
+    __PYX_ERR(0, 1986, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
 
-  /* "capnp/lib/capnp.pyx":1921
+  /* "capnp/lib/capnp.pyx":1987
  * 
  * cdef _promise_to_asyncio(PyPromise promise):
  *     C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running             # <<<<<<<<<<<<<<
  *     fut = asyncio.get_running_loop().create_future()
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None
  */
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1921, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1987, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1922
+  /* "capnp/lib/capnp.pyx":1988
  * cdef _promise_to_asyncio(PyPromise promise):
  *     C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *     fut = asyncio.get_running_loop().create_future()             # <<<<<<<<<<<<<<
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1922, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1988, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1922, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1988, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_4, function);
     }
   }
   __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1922, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1988, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_create_future); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1922, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_create_future); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1988, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_4, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1922, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1988, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_fut = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1923
+  /* "capnp/lib/capnp.pyx":1989
  *     C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *     fut = asyncio.get_running_loop().create_future()
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_19_promise_to_asyncio_1success, 0, __pyx_n_s_promise_to_asyncio_locals_succe, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__43)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1923, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_19_promise_to_asyncio_1success, 0, __pyx_n_s_promise_to_asyncio_locals_succe, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__43)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1989, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_success = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1924
+  /* "capnp/lib/capnp.pyx":1990
  *     fut = asyncio.get_running_loop().create_future()
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None
  *     # Attach the promise to the future, so that it doesn't get destroyed
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_19_promise_to_asyncio_3exception, 0, __pyx_n_s_promise_to_asyncio_locals_excep, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__45)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1924, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_19_promise_to_asyncio_3exception, 0, __pyx_n_s_promise_to_asyncio_locals_excep, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__45)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1990, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_exception = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1925
+  /* "capnp/lib/capnp.pyx":1991
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     # Attach the promise to the future, so that it doesn't get destroyed
  *     fut.kjpromise = _Promise()._init(helpers.then(
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_19_promise_to_asyncio_5done, 0, __pyx_n_s_promise_to_asyncio_locals_done, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__47)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1925, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_19_promise_to_asyncio_5done, 0, __pyx_n_s_promise_to_asyncio_locals_done, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__47)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1991, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_done = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1927
+  /* "capnp/lib/capnp.pyx":1993
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None
  *     # Attach the promise to the future, so that it doesn't get destroyed
  *     fut.kjpromise = _Promise()._init(helpers.then(             # <<<<<<<<<<<<<<
  *         move(promise),
  *         capnp.heap[PyRefCounter](<PyObject *>success),
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Promise)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1927, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Promise)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1993, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
 
-  /* "capnp/lib/capnp.pyx":1930
+  /* "capnp/lib/capnp.pyx":1996
  *         move(promise),
  *         capnp.heap[PyRefCounter](<PyObject *>success),
  *         capnp.heap[PyRefCounter](<PyObject *>exception)))             # <<<<<<<<<<<<<<
  *     fut.add_done_callback(done)
  *     return fut
  */
-  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Promise *)((struct __pyx_obj_5capnp_3lib_5capnp__Promise *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__Promise *)__pyx_t_1), then(cython_std::move<__pyx_t_5capnp_8includes_9capnp_cpp_PyPromise>(__pyx_v_promise),  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_success)),  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_exception)))); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1927, __pyx_L1_error)
+  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Promise *)((struct __pyx_obj_5capnp_3lib_5capnp__Promise *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__Promise *)__pyx_t_1), then(cython_std::move<__pyx_t_5capnp_8includes_9capnp_cpp_PyPromise>(__pyx_v_promise),  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_success)),  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_exception)))); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1993, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":1927
+  /* "capnp/lib/capnp.pyx":1993
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None
  *     # Attach the promise to the future, so that it doesn't get destroyed
  *     fut.kjpromise = _Promise()._init(helpers.then(             # <<<<<<<<<<<<<<
  *         move(promise),
  *         capnp.heap[PyRefCounter](<PyObject *>success),
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_kjpromise, __pyx_t_4) < 0) __PYX_ERR(0, 1927, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_kjpromise, __pyx_t_4) < 0) __PYX_ERR(0, 1993, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":1931
+  /* "capnp/lib/capnp.pyx":1997
  *         capnp.heap[PyRefCounter](<PyObject *>success),
  *         capnp.heap[PyRefCounter](<PyObject *>exception)))
  *     fut.add_done_callback(done)             # <<<<<<<<<<<<<<
  *     return fut
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_add_done_callback); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1931, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_fut, __pyx_n_s_add_done_callback); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1997, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_1, function);
     }
   }
   __pyx_t_4 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_2, __pyx_v_done) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_done);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1931, __pyx_L1_error)
+  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1997, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":1932
+  /* "capnp/lib/capnp.pyx":1998
  *         capnp.heap[PyRefCounter](<PyObject *>exception)))
  *     fut.add_done_callback(done)
  *     return fut             # <<<<<<<<<<<<<<
  * 
  * cdef _voidpromise_to_asyncio(VoidPromise promise):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_fut);
   __pyx_r = __pyx_cur_scope->__pyx_v_fut;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1920
+  /* "capnp/lib/capnp.pyx":1986
  * 
  * 
  * cdef _promise_to_asyncio(PyPromise promise):             # <<<<<<<<<<<<<<
  *     C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *     fut = asyncio.get_running_loop().create_future()
  */
 
@@ -46302,15 +46961,15 @@
   __Pyx_XDECREF(__pyx_v_done);
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1934
+/* "capnp/lib/capnp.pyx":2000
  *     return fut
  * 
  * cdef _voidpromise_to_asyncio(VoidPromise promise):             # <<<<<<<<<<<<<<
  *     return _promise_to_asyncio(helpers.convert_to_pypromise(move(promise)))
  * 
  */
 
@@ -46319,29 +46978,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_voidpromise_to_asyncio", 0);
 
-  /* "capnp/lib/capnp.pyx":1935
+  /* "capnp/lib/capnp.pyx":2001
  * 
  * cdef _voidpromise_to_asyncio(VoidPromise promise):
  *     return _promise_to_asyncio(helpers.convert_to_pypromise(move(promise)))             # <<<<<<<<<<<<<<
  * 
  * cdef class _Promise:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__promise_to_asyncio(convert_to_pypromise(cython_std::move<__pyx_t_5capnp_8includes_9capnp_cpp_VoidPromise>(__pyx_v_promise))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1935, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__promise_to_asyncio(convert_to_pypromise(cython_std::move<__pyx_t_5capnp_8includes_9capnp_cpp_VoidPromise>(__pyx_v_promise))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2001, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1934
+  /* "capnp/lib/capnp.pyx":2000
  *     return fut
  * 
  * cdef _voidpromise_to_asyncio(VoidPromise promise):             # <<<<<<<<<<<<<<
  *     return _promise_to_asyncio(helpers.convert_to_pypromise(move(promise)))
  * 
  */
 
@@ -46352,64 +47011,64 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1940
+/* "capnp/lib/capnp.pyx":2006
  *     cdef Own[PyPromise] thisptr
  * 
  *     cdef _init(self, PyPromise other):             # <<<<<<<<<<<<<<
  *         self.thisptr = capnp.heap[PyPromise](move(other))
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_8_Promise__init(struct __pyx_obj_5capnp_3lib_5capnp__Promise *__pyx_v_self, __pyx_t_5capnp_8includes_9capnp_cpp_PyPromise __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":1941
+  /* "capnp/lib/capnp.pyx":2007
  * 
  *     cdef _init(self, PyPromise other):
  *         self.thisptr = capnp.heap[PyPromise](move(other))             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr =  ::kj::heap<__pyx_t_5capnp_8includes_9capnp_cpp_PyPromise>(cython_std::move<__pyx_t_5capnp_8includes_9capnp_cpp_PyPromise>(__pyx_v_other));
 
-  /* "capnp/lib/capnp.pyx":1942
+  /* "capnp/lib/capnp.pyx":2008
  *     cdef _init(self, PyPromise other):
  *         self.thisptr = capnp.heap[PyPromise](move(other))
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef cancel(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1940
+  /* "capnp/lib/capnp.pyx":2006
  *     cdef Own[PyPromise] thisptr
  * 
  *     cdef _init(self, PyPromise other):             # <<<<<<<<<<<<<<
  *         self.thisptr = capnp.heap[PyPromise](move(other))
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1944
+/* "capnp/lib/capnp.pyx":2010
  *         return self
  * 
  *     cpdef cancel(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self.thisptr = Own[PyPromise]()
  * 
  */
 
@@ -46430,15 +47089,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_cancel); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1944, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_cancel); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2010, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_8_Promise_1cancel)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -46447,15 +47106,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1944, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2010, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -46468,24 +47127,24 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1945
+  /* "capnp/lib/capnp.pyx":2011
  * 
  *     cpdef cancel(self) except +reraise_kj_exception:
  *         self.thisptr = Own[PyPromise]()             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_v_self->thisptr =  ::kj::Own<__pyx_t_5capnp_8includes_9capnp_cpp_PyPromise> ();
 
-  /* "capnp/lib/capnp.pyx":1944
+  /* "capnp/lib/capnp.pyx":2010
  *         return self
  * 
  *     cpdef cancel(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self.thisptr = Own[PyPromise]()
  * 
  */
 
@@ -46526,18 +47185,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("cancel", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_8_Promise_cancel(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1944, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2010, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1944, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2010, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -46662,15 +47321,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._Promise.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1954
+/* "capnp/lib/capnp.pyx":2020
  *     cdef Own[RemotePromise] thisptr
  * 
  *     cdef _init(self, RemotePromise other, object parent=None):             # <<<<<<<<<<<<<<
  *         self.thisptr = capnp.heap[RemotePromise](move(other))
  *         self._parent = parent
  */
 
@@ -46681,64 +47340,64 @@
   __Pyx_RefNannySetupContext("_init", 0);
   if (__pyx_optional_args) {
     if (__pyx_optional_args->__pyx_n > 0) {
       __pyx_v_parent = __pyx_optional_args->parent;
     }
   }
 
-  /* "capnp/lib/capnp.pyx":1955
+  /* "capnp/lib/capnp.pyx":2021
  * 
  *     cdef _init(self, RemotePromise other, object parent=None):
  *         self.thisptr = capnp.heap[RemotePromise](move(other))             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr =  ::kj::heap< ::capnp::RemotePromise< ::capnp::DynamicStruct>>(cython_std::move< ::capnp::RemotePromise< ::capnp::DynamicStruct>>(__pyx_v_other));
 
-  /* "capnp/lib/capnp.pyx":1956
+  /* "capnp/lib/capnp.pyx":2022
  *     cdef _init(self, RemotePromise other, object parent=None):
  *         self.thisptr = capnp.heap[RemotePromise](move(other))
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":1957
+  /* "capnp/lib/capnp.pyx":2023
  *         self.thisptr = capnp.heap[RemotePromise](move(other))
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cdef void _check_consumed(self) except*:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1954
+  /* "capnp/lib/capnp.pyx":2020
  *     cdef Own[RemotePromise] thisptr
  * 
  *     cdef _init(self, RemotePromise other, object parent=None):             # <<<<<<<<<<<<<<
  *         self.thisptr = capnp.heap[RemotePromise](move(other))
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1959
+/* "capnp/lib/capnp.pyx":2025
  *         return self
  * 
  *     cdef void _check_consumed(self) except*:             # <<<<<<<<<<<<<<
  *         if self.thisptr.get() == NULL:
  *             raise KjException(
  */
 
@@ -46749,62 +47408,62 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_check_consumed", 0);
 
-  /* "capnp/lib/capnp.pyx":1960
+  /* "capnp/lib/capnp.pyx":2026
  * 
  *     cdef void _check_consumed(self) except*:
  *         if self.thisptr.get() == NULL:             # <<<<<<<<<<<<<<
  *             raise KjException(
  *                 "Promise was already used in a consuming operation. You can no longer use this Promise object")
  */
   __pyx_t_1 = ((__pyx_v_self->thisptr.get() == NULL) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":1961
+    /* "capnp/lib/capnp.pyx":2027
  *     cdef void _check_consumed(self) except*:
  *         if self.thisptr.get() == NULL:
  *             raise KjException(             # <<<<<<<<<<<<<<
  *                 "Promise was already used in a consuming operation. You can no longer use this Promise object")
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1961, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2027, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_kp_s_Promise_was_already_used_in_a_co) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_kp_s_Promise_was_already_used_in_a_co);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1961, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2027, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 1961, __pyx_L1_error)
+    __PYX_ERR(0, 2027, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1960
+    /* "capnp/lib/capnp.pyx":2026
  * 
  *     cdef void _check_consumed(self) except*:
  *         if self.thisptr.get() == NULL:             # <<<<<<<<<<<<<<
  *             raise KjException(
  *                 "Promise was already used in a consuming operation. You can no longer use this Promise object")
  */
   }
 
-  /* "capnp/lib/capnp.pyx":1959
+  /* "capnp/lib/capnp.pyx":2025
  *         return self
  * 
  *     cdef void _check_consumed(self) except*:             # <<<<<<<<<<<<<<
  *         if self.thisptr.get() == NULL:
  *             raise KjException(
  */
 
@@ -46815,15 +47474,15 @@
   __Pyx_XDECREF(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_AddTraceback("capnp.lib.capnp._RemotePromise._check_consumed", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":1964
+/* "capnp/lib/capnp.pyx":2030
  *                 "Promise was already used in a consuming operation. You can no longer use this Promise object")
  * 
  *     def __await__(self):             # <<<<<<<<<<<<<<
  *         self._check_consumed()
  *         cdef Own[RemotePromise] thisptr = move(self.thisptr)
  */
 
@@ -46848,81 +47507,81 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__await__", 0);
 
-  /* "capnp/lib/capnp.pyx":1965
+  /* "capnp/lib/capnp.pyx":2031
  * 
  *     def __await__(self):
  *         self._check_consumed()             # <<<<<<<<<<<<<<
  *         cdef Own[RemotePromise] thisptr = move(self.thisptr)
  *         return _promise_to_asyncio(
  */
-  ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)__pyx_v_self->__pyx_vtab)->_check_consumed(__pyx_v_self); if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 1965, __pyx_L1_error)
+  ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)__pyx_v_self->__pyx_vtab)->_check_consumed(__pyx_v_self); if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 2031, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1966
+  /* "capnp/lib/capnp.pyx":2032
  *     def __await__(self):
  *         self._check_consumed()
  *         cdef Own[RemotePromise] thisptr = move(self.thisptr)             # <<<<<<<<<<<<<<
  *         return _promise_to_asyncio(
  *             helpers.convert_to_pypromise(move(deref(thisptr)))
  */
   __pyx_v_thisptr = cython_std::move< ::kj::Own< ::capnp::RemotePromise< ::capnp::DynamicStruct>> >(__pyx_v_self->thisptr);
 
-  /* "capnp/lib/capnp.pyx":1967
+  /* "capnp/lib/capnp.pyx":2033
  *         self._check_consumed()
  *         cdef Own[RemotePromise] thisptr = move(self.thisptr)
  *         return _promise_to_asyncio(             # <<<<<<<<<<<<<<
  *             helpers.convert_to_pypromise(move(deref(thisptr)))
  *             .attach(capnp.heap[PyRefCounter](<PyObject*>self._parent))
  */
   __Pyx_XDECREF(__pyx_r);
 
-  /* "capnp/lib/capnp.pyx":1969
+  /* "capnp/lib/capnp.pyx":2035
  *         return _promise_to_asyncio(
  *             helpers.convert_to_pypromise(move(deref(thisptr)))
  *             .attach(capnp.heap[PyRefCounter](<PyObject*>self._parent))             # <<<<<<<<<<<<<<
  *             ).__await__()
  * 
  */
-  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp__promise_to_asyncio(convert_to_pypromise(cython_std::move< ::capnp::RemotePromise< ::capnp::DynamicStruct> &>((*__pyx_v_thisptr))).attach( ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_self->_parent)))); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1967, __pyx_L1_error)
+  __pyx_t_2 = __pyx_f_5capnp_3lib_5capnp__promise_to_asyncio(convert_to_pypromise(cython_std::move< ::capnp::RemotePromise< ::capnp::DynamicStruct> &>((*__pyx_v_thisptr))).attach( ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_self->_parent)))); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2033, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":1970
+  /* "capnp/lib/capnp.pyx":2036
  *             helpers.convert_to_pypromise(move(deref(thisptr)))
  *             .attach(capnp.heap[PyRefCounter](<PyObject*>self._parent))
  *             ).__await__()             # <<<<<<<<<<<<<<
  * 
  *     cpdef _get(self, field) except +reraise_kj_exception:
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_await); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1970, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_await); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2036, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1970, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2036, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1964
+  /* "capnp/lib/capnp.pyx":2030
  *                 "Promise was already used in a consuming operation. You can no longer use this Promise object")
  * 
  *     def __await__(self):             # <<<<<<<<<<<<<<
  *         self._check_consumed()
  *         cdef Own[RemotePromise] thisptr = move(self.thisptr)
  */
 
@@ -46935,15 +47594,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1972
+/* "capnp/lib/capnp.pyx":2038
  *             ).__await__()
  * 
  *     cpdef _get(self, field) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self._check_consumed()
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).getType()
  */
 
@@ -46966,15 +47625,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1972, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2038, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14_RemotePromise_3_get)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -46983,15 +47642,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_field) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_field);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1972, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2038, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -47004,214 +47663,214 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":1973
+  /* "capnp/lib/capnp.pyx":2039
  * 
  *     cpdef _get(self, field) except +reraise_kj_exception:
  *         self._check_consumed()             # <<<<<<<<<<<<<<
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:
  */
-  ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)__pyx_v_self->__pyx_vtab)->_check_consumed(__pyx_v_self); if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 1973, __pyx_L1_error)
+  ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)__pyx_v_self->__pyx_vtab)->_check_consumed(__pyx_v_self); if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 2039, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1974
+  /* "capnp/lib/capnp.pyx":2040
  *     cpdef _get(self, field) except +reraise_kj_exception:
  *         self._check_consumed()
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).getType()             # <<<<<<<<<<<<<<
  *         if type == capnp.TYPE_CAPABILITY:
  *             return _DynamicCapabilityClient()._init(
  */
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1974, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 2040, __pyx_L1_error)
   __pyx_v_type = (( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr.get()->get(__pyx_t_5)).getType();
 
-  /* "capnp/lib/capnp.pyx":1975
+  /* "capnp/lib/capnp.pyx":2041
  *         self._check_consumed()
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:             # <<<<<<<<<<<<<<
  *             return _DynamicCapabilityClient()._init(
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asCapability(), self._parent)
  */
   switch (__pyx_v_type) {
     case  ::capnp::DynamicValue::CAPABILITY:
 
-    /* "capnp/lib/capnp.pyx":1976
+    /* "capnp/lib/capnp.pyx":2042
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:
  *             return _DynamicCapabilityClient()._init(             # <<<<<<<<<<<<<<
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1976, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2042, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
 
-    /* "capnp/lib/capnp.pyx":1977
+    /* "capnp/lib/capnp.pyx":2043
  *         if type == capnp.TYPE_CAPABILITY:
  *             return _DynamicCapabilityClient()._init(
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asCapability(), self._parent)             # <<<<<<<<<<<<<<
  *         elif type == capnp.TYPE_STRUCT:
  *             return _DynamicStructPipeline()._init(
  */
-    __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1977, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 2043, __pyx_L1_error)
     __pyx_t_2 = __pyx_v_self->_parent;
     __Pyx_INCREF(__pyx_t_2);
 
-    /* "capnp/lib/capnp.pyx":1976
+    /* "capnp/lib/capnp.pyx":2042
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:
  *             return _DynamicCapabilityClient()._init(             # <<<<<<<<<<<<<<
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:
  */
-    __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), (( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr.get()->get(__pyx_t_5)).releaseAs< ::capnp::DynamicCapability>(), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1976, __pyx_L1_error)
+    __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), (( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr.get()->get(__pyx_t_5)).releaseAs< ::capnp::DynamicCapability>(), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2042, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1975
+    /* "capnp/lib/capnp.pyx":2041
  *         self._check_consumed()
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).getType()
  *         if type == capnp.TYPE_CAPABILITY:             # <<<<<<<<<<<<<<
  *             return _DynamicCapabilityClient()._init(
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asCapability(), self._parent)
  */
     break;
     case  ::capnp::DynamicValue::STRUCT:
 
-    /* "capnp/lib/capnp.pyx":1979
+    /* "capnp/lib/capnp.pyx":2045
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:
  *             return _DynamicStructPipeline()._init(             # <<<<<<<<<<<<<<
  *                 new C_DynamicStruct.Pipeline(
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asStruct()), self._parent)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructPipeline)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1979, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructPipeline)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2045, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
 
-    /* "capnp/lib/capnp.pyx":1981
+    /* "capnp/lib/capnp.pyx":2047
  *             return _DynamicStructPipeline()._init(
  *                 new C_DynamicStruct.Pipeline(
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asStruct()), self._parent)             # <<<<<<<<<<<<<<
  *         elif type == capnp.TYPE_UNKNOWN:
  *             raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  */
-    __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 1981, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_field); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 2047, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1980
+    /* "capnp/lib/capnp.pyx":2046
  *         elif type == capnp.TYPE_STRUCT:
  *             return _DynamicStructPipeline()._init(
  *                 new C_DynamicStruct.Pipeline(             # <<<<<<<<<<<<<<
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asStruct()), self._parent)
  *         elif type == capnp.TYPE_UNKNOWN:
  */
     __pyx_t_2 = __pyx_v_self->_parent;
     __Pyx_INCREF(__pyx_t_2);
 
-    /* "capnp/lib/capnp.pyx":1979
+    /* "capnp/lib/capnp.pyx":2045
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:
  *             return _DynamicStructPipeline()._init(             # <<<<<<<<<<<<<<
  *                 new C_DynamicStruct.Pipeline(
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asStruct()), self._parent)
  */
-    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructPipeline *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_t_3)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_t_3), new  ::capnp::DynamicStruct::Pipeline((( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr.get()->get(__pyx_t_5)).releaseAs< ::capnp::DynamicStruct>()), __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1979, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructPipeline *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_t_3)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *)__pyx_t_3), new  ::capnp::DynamicStruct::Pipeline((( ::capnp::DynamicValue::Pipeline)__pyx_v_self->thisptr.get()->get(__pyx_t_5)).releaseAs< ::capnp::DynamicStruct>()), __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2045, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":1978
+    /* "capnp/lib/capnp.pyx":2044
  *             return _DynamicCapabilityClient()._init(
  *                 (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asCapability(), self._parent)
  *         elif type == capnp.TYPE_STRUCT:             # <<<<<<<<<<<<<<
  *             return _DynamicStructPipeline()._init(
  *                 new C_DynamicStruct.Pipeline(
  */
     break;
     case  ::capnp::DynamicValue::UNKNOWN:
 
-    /* "capnp/lib/capnp.pyx":1983
+    /* "capnp/lib/capnp.pyx":2049
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asStruct()), self._parent)
  *         elif type == capnp.TYPE_UNKNOWN:
  *             raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")             # <<<<<<<<<<<<<<
  *         else:
  *             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1983, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2049, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_Cannot_convert_type_to_Python_Ty) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_Cannot_convert_type_to_Python_Ty);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1983, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2049, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 1983, __pyx_L1_error)
+    __PYX_ERR(0, 2049, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":1982
+    /* "capnp/lib/capnp.pyx":2048
  *                 new C_DynamicStruct.Pipeline(
  *                     (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).asStruct()), self._parent)
  *         elif type == capnp.TYPE_UNKNOWN:             # <<<<<<<<<<<<<<
  *             raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  *         else:
  */
     break;
     default:
 
-    /* "capnp/lib/capnp.pyx":1985
+    /* "capnp/lib/capnp.pyx":2051
  *             raise KjException("Cannot convert type to Python. Type is unknown by capnproto library")
  *         else:
  *             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")             # <<<<<<<<<<<<<<
  * 
  *     def __getattr__(self, field):
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1985, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2051, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_Cannot_convert_type_to_Python_Ty_2) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_Cannot_convert_type_to_Python_Ty_2);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1985, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2051, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 1985, __pyx_L1_error)
+    __PYX_ERR(0, 2051, __pyx_L1_error)
     break;
   }
 
-  /* "capnp/lib/capnp.pyx":1972
+  /* "capnp/lib/capnp.pyx":2038
  *             ).__await__()
  * 
  *     cpdef _get(self, field) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self._check_consumed()
  *         cdef int type = (<C_DynamicValue.Pipeline>self.thisptr.get().get(field)).getType()
  */
 
@@ -47250,18 +47909,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14_RemotePromise__get(__pyx_v_self, __pyx_v_field, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1972, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2038, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 1972, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2038, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -47271,15 +47930,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1987
+/* "capnp/lib/capnp.pyx":2053
  *             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
  * 
  *     def __getattr__(self, field):             # <<<<<<<<<<<<<<
  *         try:
  *             return self._get(field)
  */
 
@@ -47306,21 +47965,20 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   PyObject *__pyx_t_7 = NULL;
   int __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getattr__", 0);
 
-  /* "capnp/lib/capnp.pyx":1988
+  /* "capnp/lib/capnp.pyx":2054
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
   {
@@ -47328,124 +47986,100 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":1989
+      /* "capnp/lib/capnp.pyx":2055
  *     def __getattr__(self, field):
  *         try:
  *             return self._get(field)             # <<<<<<<<<<<<<<
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  */
       __Pyx_XDECREF(__pyx_r);
       try {
         __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)__pyx_v_self->__pyx_vtab)->_get(__pyx_v_self, __pyx_v_field, 0);
-        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 1989, __pyx_L3_error)
+        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2055, __pyx_L3_error)
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 1989, __pyx_L3_error)
+        __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 2055, __pyx_L3_error)
       }
       __Pyx_GOTREF(__pyx_t_4);
       __pyx_r = __pyx_t_4;
       __pyx_t_4 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":1988
+      /* "capnp/lib/capnp.pyx":2054
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":1990
+    /* "capnp/lib/capnp.pyx":2056
  *         try:
  *             return self._get(field)
  *         except KjException as e:             # <<<<<<<<<<<<<<
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  * 
  */
     __Pyx_ErrFetch(&__pyx_t_4, &__pyx_t_5, &__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1990, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2056, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_t_8 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_4, __pyx_t_7);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_ErrRestore(__pyx_t_4, __pyx_t_5, __pyx_t_6);
     __pyx_t_4 = 0; __pyx_t_5 = 0; __pyx_t_6 = 0;
     if (__pyx_t_8) {
       __Pyx_AddTraceback("capnp.lib.capnp._RemotePromise.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 1990, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 2056, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __pyx_v_e = __pyx_t_5;
 
-      /* "capnp/lib/capnp.pyx":1991
+      /* "capnp/lib/capnp.pyx":2057
  *             return self._get(field)
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]             # <<<<<<<<<<<<<<
+ *             raise e._to_python() from None             # <<<<<<<<<<<<<<
  * 
  *     property schema:
  */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1991, __pyx_L5_except_error)
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2057, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_9))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_9);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_9, function);
         }
       }
       __pyx_t_7 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_9);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 1991, __pyx_L5_except_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2057, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_GetModuleGlobalName(__pyx_t_10, __pyx_n_s_sys); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 1991, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_t_10, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1991, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __pyx_t_10 = NULL;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_11))) {
-        __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_11);
-        if (likely(__pyx_t_10)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-          __Pyx_INCREF(__pyx_t_10);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_11, function);
-        }
-      }
-      __pyx_t_9 = (__pyx_t_10) ? __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_t_10) : __Pyx_PyObject_CallNoArg(__pyx_t_11);
-      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 1991, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_9);
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __pyx_t_11 = __Pyx_GetItemInt(__pyx_t_9, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 1991, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_Raise(__pyx_t_7, Py_None, __pyx_t_11, 0);
+      __Pyx_Raise(__pyx_t_7, 0, 0, Py_None);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __PYX_ERR(0, 1991, __pyx_L5_except_error)
+      __PYX_ERR(0, 2057, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":1988
+    /* "capnp/lib/capnp.pyx":2054
  * 
  *     def __getattr__(self, field):
  *         try:             # <<<<<<<<<<<<<<
  *             return self._get(field)
  *         except KjException as e:
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -47457,15 +48091,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":1987
+  /* "capnp/lib/capnp.pyx":2053
  *             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
  * 
  *     def __getattr__(self, field):             # <<<<<<<<<<<<<<
  *         try:
  *             return self._get(field)
  */
 
@@ -47473,25 +48107,24 @@
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_XDECREF(__pyx_t_7);
   __Pyx_XDECREF(__pyx_t_9);
   __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_XDECREF(__pyx_t_11);
   __Pyx_AddTraceback("capnp.lib.capnp._RemotePromise.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1995
+/* "capnp/lib/capnp.pyx":2061
  *     property schema:
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             self._check_consumed()
  *             return _StructSchema()._init_child(self.thisptr.get().getSchema())
  */
 
@@ -47514,41 +48147,41 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":1996
+  /* "capnp/lib/capnp.pyx":2062
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):
  *             self._check_consumed()             # <<<<<<<<<<<<<<
  *             return _StructSchema()._init_child(self.thisptr.get().getSchema())
  * 
  */
-  ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)__pyx_v_self->__pyx_vtab)->_check_consumed(__pyx_v_self); if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 1996, __pyx_L1_error)
+  ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)__pyx_v_self->__pyx_vtab)->_check_consumed(__pyx_v_self); if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 2062, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1997
+  /* "capnp/lib/capnp.pyx":2063
  *         def __get__(self):
  *             self._check_consumed()
  *             return _StructSchema()._init_child(self.thisptr.get().getSchema())             # <<<<<<<<<<<<<<
  * 
  *     def __dir__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1997, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2063, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_v_self->thisptr.get()->getSchema()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1997, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_v_self->thisptr.get()->getSchema()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2063, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1995
+  /* "capnp/lib/capnp.pyx":2061
  *     property schema:
  *         """A property that returns the _StructSchema object matching this reader"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             self._check_consumed()
  *             return _StructSchema()._init_child(self.thisptr.get().getSchema())
  */
 
@@ -47560,15 +48193,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":1999
+/* "capnp/lib/capnp.pyx":2065
  *             return _StructSchema()._init_child(self.thisptr.get().getSchema())
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  */
 
@@ -47593,50 +48226,50 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__dir__", 0);
 
-  /* "capnp/lib/capnp.pyx":2000
+  /* "capnp/lib/capnp.pyx":2066
  * 
  *     def __dir__(self):
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))             # <<<<<<<<<<<<<<
  * 
  *     def to_dict(self, verbose=False, ordered=False):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2000, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2066, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2000, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fieldnames); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2066, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2000, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2066, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = PyObject_Dir(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2000, __pyx_L1_error)
+  __pyx_t_3 = PyObject_Dir(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2066, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2000, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2066, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2000, __pyx_L1_error)
+  __pyx_t_3 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2066, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2000, __pyx_L1_error)
+  __pyx_t_1 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2066, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PySequence_List(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2000, __pyx_L1_error)
+  __pyx_t_3 = PySequence_List(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2066, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":1999
+  /* "capnp/lib/capnp.pyx":2065
  *             return _StructSchema()._init_child(self.thisptr.get().getSchema())
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  */
 
@@ -47649,15 +48282,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2002
+/* "capnp/lib/capnp.pyx":2068
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  *     def to_dict(self, verbose=False, ordered=False):             # <<<<<<<<<<<<<<
  *         return _to_dict(self, verbose, ordered)
  * 
  */
 
@@ -47700,15 +48333,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_ordered);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_dict") < 0)) __PYX_ERR(0, 2002, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "to_dict") < 0)) __PYX_ERR(0, 2068, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
@@ -47717,15 +48350,15 @@
       }
     }
     __pyx_v_verbose = values[0];
     __pyx_v_ordered = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("to_dict", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2002, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("to_dict", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2068, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._RemotePromise.to_dict", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14_RemotePromise_8to_dict(((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_v_self), __pyx_v_verbose, __pyx_v_ordered);
 
@@ -47741,31 +48374,31 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("to_dict", 0);
 
-  /* "capnp/lib/capnp.pyx":2003
+  /* "capnp/lib/capnp.pyx":2069
  * 
  *     def to_dict(self, verbose=False, ordered=False):
  *         return _to_dict(self, verbose, ordered)             # <<<<<<<<<<<<<<
  * 
  *     cpdef cancel(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 2003, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ordered); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 2003, __pyx_L1_error)
-  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(((PyObject *)__pyx_v_self), __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2003, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_verbose); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 2069, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_v_ordered); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 2069, __pyx_L1_error)
+  __pyx_t_3 = __pyx_f_5capnp_3lib_5capnp__to_dict(((PyObject *)__pyx_v_self), __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2069, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2002
+  /* "capnp/lib/capnp.pyx":2068
  *         return list(set(self.schema.fieldnames + tuple(dir(self.__class__))))
  * 
  *     def to_dict(self, verbose=False, ordered=False):             # <<<<<<<<<<<<<<
  *         return _to_dict(self, verbose, ordered)
  * 
  */
 
@@ -47776,15 +48409,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2005
+/* "capnp/lib/capnp.pyx":2071
  *         return _to_dict(self, verbose, ordered)
  * 
  *     cpdef cancel(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self.thisptr = Own[RemotePromise]()
  *         self._parent = None # We don't need parent anymore. Setting to none allows quicker garbage collection
  */
 
@@ -47805,15 +48438,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_cancel); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2005, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_cancel); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2071, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14_RemotePromise_11cancel)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -47822,15 +48455,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2005, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2071, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -47843,37 +48476,37 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2006
+  /* "capnp/lib/capnp.pyx":2072
  * 
  *     cpdef cancel(self) except +reraise_kj_exception:
  *         self.thisptr = Own[RemotePromise]()             # <<<<<<<<<<<<<<
  *         self._parent = None # We don't need parent anymore. Setting to none allows quicker garbage collection
  * 
  */
   __pyx_v_self->thisptr =  ::kj::Own< ::capnp::RemotePromise< ::capnp::DynamicStruct>> ();
 
-  /* "capnp/lib/capnp.pyx":2007
+  /* "capnp/lib/capnp.pyx":2073
  *     cpdef cancel(self) except +reraise_kj_exception:
  *         self.thisptr = Own[RemotePromise]()
  *         self._parent = None # We don't need parent anymore. Setting to none allows quicker garbage collection             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = Py_None;
 
-  /* "capnp/lib/capnp.pyx":2005
+  /* "capnp/lib/capnp.pyx":2071
  *         return _to_dict(self, verbose, ordered)
  * 
  *     cpdef cancel(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         self.thisptr = Own[RemotePromise]()
  *         self._parent = None # We don't need parent anymore. Setting to none allows quicker garbage collection
  */
 
@@ -47914,18 +48547,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("cancel", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14_RemotePromise_cancel(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2005, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2071, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2005, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2071, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -48050,15 +48683,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._RemotePromise.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2014
+/* "capnp/lib/capnp.pyx":2080
  *     cdef public bint is_consumed
  * 
  *     cdef _init_child(self, Request other, parent):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = new Request(move(other))
  *         self._init(<DynamicStruct_Builder>deref(self.thisptr_child), parent)
  */
 
@@ -48067,56 +48700,56 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init_child", 0);
 
-  /* "capnp/lib/capnp.pyx":2015
+  /* "capnp/lib/capnp.pyx":2081
  * 
  *     cdef _init_child(self, Request other, parent):
  *         self.thisptr_child = new Request(move(other))             # <<<<<<<<<<<<<<
  *         self._init(<DynamicStruct_Builder>deref(self.thisptr_child), parent)
  *         self.is_consumed = False
  */
   __pyx_v_self->thisptr_child = new  ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct>(cython_std::move< ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct>>(__pyx_v_other));
 
-  /* "capnp/lib/capnp.pyx":2016
+  /* "capnp/lib/capnp.pyx":2082
  *     cdef _init_child(self, Request other, parent):
  *         self.thisptr_child = new Request(move(other))
  *         self._init(<DynamicStruct_Builder>deref(self.thisptr_child), parent)             # <<<<<<<<<<<<<<
  *         self.is_consumed = False
  *         return self
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Request *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), (( ::capnp::DynamicStruct::Builder)(*__pyx_v_self->thisptr_child)), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2016, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Request *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_v_self), (( ::capnp::DynamicStruct::Builder)(*__pyx_v_self->thisptr_child)), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2082, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2017
+  /* "capnp/lib/capnp.pyx":2083
  *         self.thisptr_child = new Request(move(other))
  *         self._init(<DynamicStruct_Builder>deref(self.thisptr_child), parent)
  *         self.is_consumed = False             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->is_consumed = 0;
 
-  /* "capnp/lib/capnp.pyx":2018
+  /* "capnp/lib/capnp.pyx":2084
  *         self._init(<DynamicStruct_Builder>deref(self.thisptr_child), parent)
  *         self.is_consumed = False
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2014
+  /* "capnp/lib/capnp.pyx":2080
  *     cdef public bint is_consumed
  * 
  *     cdef _init_child(self, Request other, parent):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = new Request(move(other))
  *         self._init(<DynamicStruct_Builder>deref(self.thisptr_child), parent)
  */
 
@@ -48127,15 +48760,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2020
+/* "capnp/lib/capnp.pyx":2086
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr_child
  * 
  */
 
@@ -48150,36 +48783,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_8_Request___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__Request *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":2021
+  /* "capnp/lib/capnp.pyx":2087
  * 
  *     def __dealloc__(self):
  *         del self.thisptr_child             # <<<<<<<<<<<<<<
  * 
  *     cpdef send(self):
  */
   delete __pyx_v_self->thisptr_child;
 
-  /* "capnp/lib/capnp.pyx":2020
+  /* "capnp/lib/capnp.pyx":2086
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr_child
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2023
+/* "capnp/lib/capnp.pyx":2089
  *         del self.thisptr_child
  * 
  *     cpdef send(self):             # <<<<<<<<<<<<<<
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *         if self.is_consumed:
  */
 
@@ -48202,15 +48835,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_send); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2023, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_send); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2089, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_8_Request_3send)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -48219,15 +48852,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2023, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2089, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -48240,104 +48873,104 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2024
+  /* "capnp/lib/capnp.pyx":2090
  * 
  *     cpdef send(self):
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running             # <<<<<<<<<<<<<<
  *         if self.is_consumed:
  *             raise KjException('Request has already been sent. You can only send a request once.')
  */
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2024, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2090, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2025
+  /* "capnp/lib/capnp.pyx":2091
  *     cpdef send(self):
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *         if self.is_consumed:             # <<<<<<<<<<<<<<
  *             raise KjException('Request has already been sent. You can only send a request once.')
  *         self.is_consumed = True
  */
   __pyx_t_5 = (__pyx_v_self->is_consumed != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":2026
+    /* "capnp/lib/capnp.pyx":2092
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *         if self.is_consumed:
  *             raise KjException('Request has already been sent. You can only send a request once.')             # <<<<<<<<<<<<<<
  *         self.is_consumed = True
  *         return _RemotePromise()._init(self.thisptr_child.send(), self._parent)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2026, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2092, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_Request_has_already_been_sent_Yo) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_Request_has_already_been_sent_Yo);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2026, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2092, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 2026, __pyx_L1_error)
+    __PYX_ERR(0, 2092, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2025
+    /* "capnp/lib/capnp.pyx":2091
  *     cpdef send(self):
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *         if self.is_consumed:             # <<<<<<<<<<<<<<
  *             raise KjException('Request has already been sent. You can only send a request once.')
  *         self.is_consumed = True
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2027
+  /* "capnp/lib/capnp.pyx":2093
  *         if self.is_consumed:
  *             raise KjException('Request has already been sent. You can only send a request once.')
  *         self.is_consumed = True             # <<<<<<<<<<<<<<
  *         return _RemotePromise()._init(self.thisptr_child.send(), self._parent)
  * 
  */
   __pyx_v_self->is_consumed = 1;
 
-  /* "capnp/lib/capnp.pyx":2028
+  /* "capnp/lib/capnp.pyx":2094
  *             raise KjException('Request has already been sent. You can only send a request once.')
  *         self.is_consumed = True
  *         return _RemotePromise()._init(self.thisptr_child.send(), self._parent)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__RemotePromise)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2028, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__RemotePromise)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2094, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __pyx_v_self->__pyx_base._parent;
   __Pyx_INCREF(__pyx_t_2);
   __pyx_t_6.__pyx_n = 1;
   __pyx_t_6.parent = __pyx_t_2;
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_t_1), __pyx_v_self->thisptr_child->send(), &__pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2028, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_t_1), __pyx_v_self->thisptr_child->send(), &__pyx_t_6); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2094, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2023
+  /* "capnp/lib/capnp.pyx":2089
  *         del self.thisptr_child
  * 
  *     cpdef send(self):             # <<<<<<<<<<<<<<
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *         if self.is_consumed:
  */
 
@@ -48374,15 +49007,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("send", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_8_Request_send(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2023, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_8_Request_send(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2089, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -48391,15 +49024,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2012
+/* "capnp/lib/capnp.pyx":2078
  * cdef class _Request(_DynamicStructBuilder):
  *     cdef Request * thisptr_child
  *     cdef public bint is_consumed             # <<<<<<<<<<<<<<
  * 
  *     cdef _init_child(self, Request other, parent):
  */
 
@@ -48421,15 +49054,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->is_consumed); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2012, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_self->is_consumed); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2078, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -48459,29 +49092,29 @@
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 0);
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 2012, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_value); if (unlikely((__pyx_t_1 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 2078, __pyx_L1_error)
   __pyx_v_self->is_consumed = __pyx_t_1;
 
   /* function exit code */
   __pyx_r = 0;
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._Request.is_consumed.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2034
+/* "capnp/lib/capnp.pyx":2100
  *     cdef Response * thisptr_child
  * 
  *     cdef _init_child(self, Response other, parent):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = new Response(move(other))
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)
  */
 
@@ -48490,47 +49123,47 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init_child", 0);
 
-  /* "capnp/lib/capnp.pyx":2035
+  /* "capnp/lib/capnp.pyx":2101
  * 
  *     cdef _init_child(self, Response other, parent):
  *         self.thisptr_child = new Response(move(other))             # <<<<<<<<<<<<<<
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)
  *         return self
  */
   __pyx_v_self->thisptr_child = new  ::capnp::Response< ::capnp::DynamicStruct>(cython_std::move< ::capnp::Response< ::capnp::DynamicStruct>>(__pyx_v_other));
 
-  /* "capnp/lib/capnp.pyx":2036
+  /* "capnp/lib/capnp.pyx":2102
  *     cdef _init_child(self, Response other, parent):
  *         self.thisptr_child = new Response(move(other))
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Response *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self), (( ::capnp::DynamicStruct::Reader)(*__pyx_v_self->thisptr_child)), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2036, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Response *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self), (( ::capnp::DynamicStruct::Reader)(*__pyx_v_self->thisptr_child)), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2102, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2037
+  /* "capnp/lib/capnp.pyx":2103
  *         self.thisptr_child = new Response(move(other))
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2034
+  /* "capnp/lib/capnp.pyx":2100
  *     cdef Response * thisptr_child
  * 
  *     cdef _init_child(self, Response other, parent):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = new Response(move(other))
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)
  */
 
@@ -48541,15 +49174,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2039
+/* "capnp/lib/capnp.pyx":2105
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr_child
  * 
  */
 
@@ -48564,36 +49197,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_9_Response___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__Response *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":2040
+  /* "capnp/lib/capnp.pyx":2106
  * 
  *     def __dealloc__(self):
  *         del self.thisptr_child             # <<<<<<<<<<<<<<
  * 
  *     cdef _init_childptr(self, Response * other, parent):
  */
   delete __pyx_v_self->thisptr_child;
 
-  /* "capnp/lib/capnp.pyx":2039
+  /* "capnp/lib/capnp.pyx":2105
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr_child
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2042
+/* "capnp/lib/capnp.pyx":2108
  *         del self.thisptr_child
  * 
  *     cdef _init_childptr(self, Response * other, parent):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = other
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)
  */
 
@@ -48602,47 +49235,47 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init_childptr", 0);
 
-  /* "capnp/lib/capnp.pyx":2043
+  /* "capnp/lib/capnp.pyx":2109
  * 
  *     cdef _init_childptr(self, Response * other, parent):
  *         self.thisptr_child = other             # <<<<<<<<<<<<<<
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)
  *         return self
  */
   __pyx_v_self->thisptr_child = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":2044
+  /* "capnp/lib/capnp.pyx":2110
  *     cdef _init_childptr(self, Response * other, parent):
  *         self.thisptr_child = other
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Response *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self), (( ::capnp::DynamicStruct::Reader)(*__pyx_v_self->thisptr_child)), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2044, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Response *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_self), (( ::capnp::DynamicStruct::Reader)(*__pyx_v_self->thisptr_child)), __pyx_v_parent, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2110, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2045
+  /* "capnp/lib/capnp.pyx":2111
  *         self.thisptr_child = other
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)
  *         return self             # <<<<<<<<<<<<<<
  * 
  * cdef class _DynamicCapabilityServer:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2042
+  /* "capnp/lib/capnp.pyx":2108
  *         del self.thisptr_child
  * 
  *     cdef _init_childptr(self, Response * other, parent):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = other
  *         self._init(<C_DynamicStruct.Reader>deref(self.thisptr_child), parent)
  */
 
@@ -48942,19 +49575,19 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2054
+/* "capnp/lib/capnp.pyx":2120
  *     cdef public object _parent, _cached_schema
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  */
 
 /* Python wrapper */
 static void __pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_1__dealloc__(PyObject *__pyx_v_self); /*proto*/
 static void __pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_1__dealloc__(PyObject *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
@@ -48965,98 +49598,98 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_24_DynamicCapabilityClient___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":2057
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+  /* "capnp/lib/capnp.pyx":2123
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  *         self.thisptr = C_DynamicCapability.Client()             # <<<<<<<<<<<<<<
  * 
  *     cdef _init(self, C_DynamicCapability.Client other, object parent):
  */
   __pyx_v_self->thisptr =  ::capnp::DynamicCapability::Client();
 
-  /* "capnp/lib/capnp.pyx":2054
+  /* "capnp/lib/capnp.pyx":2120
  *     cdef public object _parent, _cached_schema
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2059
+/* "capnp/lib/capnp.pyx":2125
  *         self.thisptr = C_DynamicCapability.Client()
  * 
  *     cdef _init(self, C_DynamicCapability.Client other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__init(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *__pyx_v_self,  ::capnp::DynamicCapability::Client __pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":2060
+  /* "capnp/lib/capnp.pyx":2126
  * 
  *     cdef _init(self, C_DynamicCapability.Client other, object parent):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":2061
+  /* "capnp/lib/capnp.pyx":2127
  *     cdef _init(self, C_DynamicCapability.Client other, object parent):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":2062
+  /* "capnp/lib/capnp.pyx":2128
  *         self.thisptr = other
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cdef _init_vals(self, schema, server):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2059
+  /* "capnp/lib/capnp.pyx":2125
  *         self.thisptr = C_DynamicCapability.Client()
  * 
  *     cdef _init(self, C_DynamicCapability.Client other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2064
+/* "capnp/lib/capnp.pyx":2130
  *         return self
  * 
  *     cdef _init_vals(self, schema, server):             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -49069,111 +49702,111 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init_vals", 0);
 
-  /* "capnp/lib/capnp.pyx":2066
+  /* "capnp/lib/capnp.pyx":2132
  *     cdef _init_vals(self, schema, server):
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_1 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 2066, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_1 == ((int)-1))) __PYX_ERR(0, 2132, __pyx_L1_error)
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2067
+    /* "capnp/lib/capnp.pyx":2133
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2067, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2133, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2067, __pyx_L1_error)
+    if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2133, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_3);
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":2066
+    /* "capnp/lib/capnp.pyx":2132
  *     cdef _init_vals(self, schema, server):
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":2069
+  /* "capnp/lib/capnp.pyx":2135
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2069, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2135, __pyx_L1_error)
     __pyx_t_3 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_3);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_3);
     __pyx_t_3 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":2071
+  /* "capnp/lib/capnp.pyx":2137
  *             s = schema
  * 
  *         kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()             # <<<<<<<<<<<<<<
  *         self.thisptr = C_DynamicCapability.Client(
  *             capnp.heap[PythonInterfaceDynamicImpl](
  */
-  __pyx_t_3 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2071, __pyx_L1_error)
+  __pyx_t_3 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2137, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_v_kj_loop = ((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2072
+  /* "capnp/lib/capnp.pyx":2138
  * 
  *         kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         self.thisptr = C_DynamicCapability.Client(             # <<<<<<<<<<<<<<
  *             capnp.heap[PythonInterfaceDynamicImpl](
  *                 s.thisptr,
  */
   __pyx_v_self->thisptr =  ::capnp::DynamicCapability::Client( ::kj::heap<PythonInterfaceDynamicImpl>(__pyx_v_s->thisptr,  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_server)),  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_kj_loop))));
 
-  /* "capnp/lib/capnp.pyx":2077
+  /* "capnp/lib/capnp.pyx":2143
  *                 capnp.heap[PyRefCounter](<PyObject*>server),
  *                 capnp.heap[PyRefCounter](<PyObject*>kj_loop)))
  *         self._parent = server             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_server);
   __Pyx_GIVEREF(__pyx_v_server);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_server;
 
-  /* "capnp/lib/capnp.pyx":2078
+  /* "capnp/lib/capnp.pyx":2144
  *                 capnp.heap[PyRefCounter](<PyObject*>kj_loop)))
  *         self._parent = server
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef _find_method_args(self, method_name):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2064
+  /* "capnp/lib/capnp.pyx":2130
  *         return self
  * 
  *     cdef _init_vals(self, schema, server):             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -49186,15 +49819,15 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_s);
   __Pyx_XDECREF((PyObject *)__pyx_v_kj_loop);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2080
+/* "capnp/lib/capnp.pyx":2146
  *         return self
  * 
  *     cpdef _find_method_args(self, method_name):             # <<<<<<<<<<<<<<
  *         s = self.schema
  *         meth = s.methods_inherited.get(method_name, None)
  */
 
@@ -49222,15 +49855,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_find_method_args); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2080, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_find_method_args); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2146, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_3_find_method_args)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -49239,15 +49872,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_method_name) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_method_name);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2080, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2146, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -49260,36 +49893,36 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2081
+  /* "capnp/lib/capnp.pyx":2147
  * 
  *     cpdef _find_method_args(self, method_name):
  *         s = self.schema             # <<<<<<<<<<<<<<
  *         meth = s.methods_inherited.get(method_name, None)
  *         if meth is None:
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2081, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2147, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_s = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2082
+  /* "capnp/lib/capnp.pyx":2148
  *     cpdef _find_method_args(self, method_name):
  *         s = self.schema
  *         meth = s.methods_inherited.get(method_name, None)             # <<<<<<<<<<<<<<
  *         if meth is None:
  *             raise AttributeError("Method named %s not found." % method_name)
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_s, __pyx_n_s_methods_inherited); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2082, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_s, __pyx_n_s_methods_inherited); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2148, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2082, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2148, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   __pyx_t_5 = 0;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
@@ -49299,146 +49932,146 @@
       __Pyx_DECREF_SET(__pyx_t_3, function);
       __pyx_t_5 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_3)) {
     PyObject *__pyx_temp[3] = {__pyx_t_2, __pyx_v_method_name, Py_None};
-    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2082, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2148, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_GOTREF(__pyx_t_1);
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
     PyObject *__pyx_temp[3] = {__pyx_t_2, __pyx_v_method_name, Py_None};
-    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2082, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 2+__pyx_t_5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2148, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_GOTREF(__pyx_t_1);
   } else
   #endif
   {
-    __pyx_t_4 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2082, __pyx_L1_error)
+    __pyx_t_4 = PyTuple_New(2+__pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2148, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     if (__pyx_t_2) {
       __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_2); __pyx_t_2 = NULL;
     }
     __Pyx_INCREF(__pyx_v_method_name);
     __Pyx_GIVEREF(__pyx_v_method_name);
     PyTuple_SET_ITEM(__pyx_t_4, 0+__pyx_t_5, __pyx_v_method_name);
     __Pyx_INCREF(Py_None);
     __Pyx_GIVEREF(Py_None);
     PyTuple_SET_ITEM(__pyx_t_4, 1+__pyx_t_5, Py_None);
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2082, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2148, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_v_meth = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2083
+  /* "capnp/lib/capnp.pyx":2149
  *         s = self.schema
  *         meth = s.methods_inherited.get(method_name, None)
  *         if meth is None:             # <<<<<<<<<<<<<<
  *             raise AttributeError("Method named %s not found." % method_name)
  * 
  */
   __pyx_t_6 = (__pyx_v_meth == Py_None);
   __pyx_t_7 = (__pyx_t_6 != 0);
   if (unlikely(__pyx_t_7)) {
 
-    /* "capnp/lib/capnp.pyx":2084
+    /* "capnp/lib/capnp.pyx":2150
  *         meth = s.methods_inherited.get(method_name, None)
  *         if meth is None:
  *             raise AttributeError("Method named %s not found." % method_name)             # <<<<<<<<<<<<<<
  * 
  *         params = meth.param_type.node
  */
-    __pyx_t_1 = __Pyx_PyString_FormatSafe(__pyx_kp_s_Method_named_s_not_found, __pyx_v_method_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2084, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyString_FormatSafe(__pyx_kp_s_Method_named_s_not_found, __pyx_v_method_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2150, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2084, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2150, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(0, 2084, __pyx_L1_error)
+    __PYX_ERR(0, 2150, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2083
+    /* "capnp/lib/capnp.pyx":2149
  *         s = self.schema
  *         meth = s.methods_inherited.get(method_name, None)
  *         if meth is None:             # <<<<<<<<<<<<<<
  *             raise AttributeError("Method named %s not found." % method_name)
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2086
+  /* "capnp/lib/capnp.pyx":2152
  *             raise AttributeError("Method named %s not found." % method_name)
  * 
  *         params = meth.param_type.node             # <<<<<<<<<<<<<<
  *         if params.scopeId != 0:
  *             raise KjException(
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_meth, __pyx_n_s_param_type); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2086, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_meth, __pyx_n_s_param_type); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2152, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_node); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2086, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_node); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2152, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_v_params = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2087
+  /* "capnp/lib/capnp.pyx":2153
  * 
  *         params = meth.param_type.node
  *         if params.scopeId != 0:             # <<<<<<<<<<<<<<
  *             raise KjException(
  *                 "Cannot call method `{}` with positional args, since its param struct is not "
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_params, __pyx_n_s_scopeId); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2087, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_params, __pyx_n_s_scopeId); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2153, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_PyInt_NeObjC(__pyx_t_1, __pyx_int_0, 0, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2087, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_NeObjC(__pyx_t_1, __pyx_int_0, 0, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2153, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 2087, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 2153, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (unlikely(__pyx_t_7)) {
 
-    /* "capnp/lib/capnp.pyx":2088
+    /* "capnp/lib/capnp.pyx":2154
  *         params = meth.param_type.node
  *         if params.scopeId != 0:
  *             raise KjException(             # <<<<<<<<<<<<<<
  *                 "Cannot call method `{}` with positional args, since its param struct is not "
  *                 "implicitly defined and thus does not have a set order of arguments".format(method_name))
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2088, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_KjException); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2154, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
 
-    /* "capnp/lib/capnp.pyx":2090
+    /* "capnp/lib/capnp.pyx":2156
  *             raise KjException(
  *                 "Cannot call method `{}` with positional args, since its param struct is not "
  *                 "implicitly defined and thus does not have a set order of arguments".format(method_name))             # <<<<<<<<<<<<<<
  * 
  *         return _find_field_order(params.struct)
  */
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Cannot_call_method_with_position, __pyx_n_s_format); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2090, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Cannot_call_method_with_position, __pyx_n_s_format); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2156, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_8 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_8)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_8);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_4 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_8, __pyx_v_method_name) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_method_name);
     __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2090, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2156, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_t_2 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_2)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
@@ -49446,48 +50079,48 @@
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_3 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_4);
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2088, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2154, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(0, 2088, __pyx_L1_error)
+    __PYX_ERR(0, 2154, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2087
+    /* "capnp/lib/capnp.pyx":2153
  * 
  *         params = meth.param_type.node
  *         if params.scopeId != 0:             # <<<<<<<<<<<<<<
  *             raise KjException(
  *                 "Cannot call method `{}` with positional args, since its param struct is not "
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2092
+  /* "capnp/lib/capnp.pyx":2158
  *                 "implicitly defined and thus does not have a set order of arguments".format(method_name))
  * 
  *         return _find_field_order(params.struct)             # <<<<<<<<<<<<<<
  * 
  *     cdef _set_fields(self, Request * request, name, args, kwargs):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_params, __pyx_n_s_struct); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2092, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_params, __pyx_n_s_struct); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2158, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__find_field_order(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2092, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__find_field_order(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2158, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2080
+  /* "capnp/lib/capnp.pyx":2146
  *         return self
  * 
  *     cpdef _find_method_args(self, method_name):             # <<<<<<<<<<<<<<
  *         s = self.schema
  *         meth = s.methods_inherited.get(method_name, None)
  */
 
@@ -49528,15 +50161,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_find_method_args", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__find_method_args(__pyx_v_self, __pyx_v_method_name, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2080, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__find_method_args(__pyx_v_self, __pyx_v_method_name, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2146, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -49545,15 +50178,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2094
+/* "capnp/lib/capnp.pyx":2160
  *         return _find_field_order(params.struct)
  * 
  *     cdef _set_fields(self, Request * request, name, args, kwargs):             # <<<<<<<<<<<<<<
  *         if args is not None and len(args) > 0:
  *             arg_names = self._find_method_args(name)
  */
 
@@ -49582,82 +50215,82 @@
   PyObject *(*__pyx_t_15)(PyObject *);
   PyObject *(*__pyx_t_16)(PyObject *);
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_set_fields", 0);
 
-  /* "capnp/lib/capnp.pyx":2095
+  /* "capnp/lib/capnp.pyx":2161
  * 
  *     cdef _set_fields(self, Request * request, name, args, kwargs):
  *         if args is not None and len(args) > 0:             # <<<<<<<<<<<<<<
  *             arg_names = self._find_method_args(name)
  *             if len(args) > len(arg_names):
  */
   __pyx_t_2 = (__pyx_v_args != Py_None);
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
   } else {
     __pyx_t_1 = __pyx_t_3;
     goto __pyx_L4_bool_binop_done;
   }
-  __pyx_t_4 = PyObject_Length(__pyx_v_args); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2095, __pyx_L1_error)
+  __pyx_t_4 = PyObject_Length(__pyx_v_args); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2161, __pyx_L1_error)
   __pyx_t_3 = ((__pyx_t_4 > 0) != 0);
   __pyx_t_1 = __pyx_t_3;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2096
+    /* "capnp/lib/capnp.pyx":2162
  *     cdef _set_fields(self, Request * request, name, args, kwargs):
  *         if args is not None and len(args) > 0:
  *             arg_names = self._find_method_args(name)             # <<<<<<<<<<<<<<
  *             if len(args) > len(arg_names):
  *                 raise KjException(
  */
-    __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self->__pyx_vtab)->_find_method_args(__pyx_v_self, __pyx_v_name, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2096, __pyx_L1_error)
+    __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self->__pyx_vtab)->_find_method_args(__pyx_v_self, __pyx_v_name, 0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2162, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __pyx_v_arg_names = __pyx_t_5;
     __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":2097
+    /* "capnp/lib/capnp.pyx":2163
  *         if args is not None and len(args) > 0:
  *             arg_names = self._find_method_args(name)
  *             if len(args) > len(arg_names):             # <<<<<<<<<<<<<<
  *                 raise KjException(
  *                     "Too many arguments passed to `{}`. Expected {} and got {}"
  */
-    __pyx_t_4 = PyObject_Length(__pyx_v_args); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2097, __pyx_L1_error)
-    __pyx_t_6 = PyObject_Length(__pyx_v_arg_names); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2097, __pyx_L1_error)
+    __pyx_t_4 = PyObject_Length(__pyx_v_args); if (unlikely(__pyx_t_4 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2163, __pyx_L1_error)
+    __pyx_t_6 = PyObject_Length(__pyx_v_arg_names); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2163, __pyx_L1_error)
     __pyx_t_1 = ((__pyx_t_4 > __pyx_t_6) != 0);
     if (unlikely(__pyx_t_1)) {
 
-      /* "capnp/lib/capnp.pyx":2098
+      /* "capnp/lib/capnp.pyx":2164
  *             arg_names = self._find_method_args(name)
  *             if len(args) > len(arg_names):
  *                 raise KjException(             # <<<<<<<<<<<<<<
  *                     "Too many arguments passed to `{}`. Expected {} and got {}"
  *                     .format(name, len(arg_names), len(args)))
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2098, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_KjException); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2164, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
 
-      /* "capnp/lib/capnp.pyx":2100
+      /* "capnp/lib/capnp.pyx":2166
  *                 raise KjException(
  *                     "Too many arguments passed to `{}`. Expected {} and got {}"
  *                     .format(name, len(arg_names), len(args)))             # <<<<<<<<<<<<<<
  *             for arg_name, arg_val in zip(arg_names, args):
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), arg_name, arg_val, self)
  */
-      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Too_many_arguments_passed_to_Exp, __pyx_n_s_format); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2100, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_Too_many_arguments_passed_to_Exp, __pyx_n_s_format); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2166, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_6 = PyObject_Length(__pyx_v_arg_names); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2100, __pyx_L1_error)
-      __pyx_t_10 = PyInt_FromSsize_t(__pyx_t_6); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2100, __pyx_L1_error)
+      __pyx_t_6 = PyObject_Length(__pyx_v_arg_names); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2166, __pyx_L1_error)
+      __pyx_t_10 = PyInt_FromSsize_t(__pyx_t_6); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 2166, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_10);
-      __pyx_t_6 = PyObject_Length(__pyx_v_args); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2100, __pyx_L1_error)
-      __pyx_t_11 = PyInt_FromSsize_t(__pyx_t_6); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2100, __pyx_L1_error)
+      __pyx_t_6 = PyObject_Length(__pyx_v_args); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2166, __pyx_L1_error)
+      __pyx_t_11 = PyInt_FromSsize_t(__pyx_t_6); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2166, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_11);
       __pyx_t_12 = NULL;
       __pyx_t_13 = 0;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_9))) {
         __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_9);
         if (likely(__pyx_t_12)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
@@ -49666,47 +50299,47 @@
           __Pyx_DECREF_SET(__pyx_t_9, function);
           __pyx_t_13 = 1;
         }
       }
       #if CYTHON_FAST_PYCALL
       if (PyFunction_Check(__pyx_t_9)) {
         PyObject *__pyx_temp[4] = {__pyx_t_12, __pyx_v_name, __pyx_t_10, __pyx_t_11};
-        __pyx_t_8 = __Pyx_PyFunction_FastCall(__pyx_t_9, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2100, __pyx_L1_error)
+        __pyx_t_8 = __Pyx_PyFunction_FastCall(__pyx_t_9, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2166, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
         __Pyx_GOTREF(__pyx_t_8);
         __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
         __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       } else
       #endif
       #if CYTHON_FAST_PYCCALL
       if (__Pyx_PyFastCFunction_Check(__pyx_t_9)) {
         PyObject *__pyx_temp[4] = {__pyx_t_12, __pyx_v_name, __pyx_t_10, __pyx_t_11};
-        __pyx_t_8 = __Pyx_PyCFunction_FastCall(__pyx_t_9, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2100, __pyx_L1_error)
+        __pyx_t_8 = __Pyx_PyCFunction_FastCall(__pyx_t_9, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2166, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
         __Pyx_GOTREF(__pyx_t_8);
         __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
         __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       } else
       #endif
       {
-        __pyx_t_14 = PyTuple_New(3+__pyx_t_13); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2100, __pyx_L1_error)
+        __pyx_t_14 = PyTuple_New(3+__pyx_t_13); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2166, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_14);
         if (__pyx_t_12) {
           __Pyx_GIVEREF(__pyx_t_12); PyTuple_SET_ITEM(__pyx_t_14, 0, __pyx_t_12); __pyx_t_12 = NULL;
         }
         __Pyx_INCREF(__pyx_v_name);
         __Pyx_GIVEREF(__pyx_v_name);
         PyTuple_SET_ITEM(__pyx_t_14, 0+__pyx_t_13, __pyx_v_name);
         __Pyx_GIVEREF(__pyx_t_10);
         PyTuple_SET_ITEM(__pyx_t_14, 1+__pyx_t_13, __pyx_t_10);
         __Pyx_GIVEREF(__pyx_t_11);
         PyTuple_SET_ITEM(__pyx_t_14, 2+__pyx_t_13, __pyx_t_11);
         __pyx_t_10 = 0;
         __pyx_t_11 = 0;
-        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_t_14, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2100, __pyx_L1_error)
+        __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_t_14, NULL); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2166, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_8);
         __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
       }
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       __pyx_t_9 = NULL;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_7))) {
         __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_7);
@@ -49716,326 +50349,326 @@
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_7, function);
         }
       }
       __pyx_t_5 = (__pyx_t_9) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_9, __pyx_t_8) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_8);
       __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2098, __pyx_L1_error)
+      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2164, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __Pyx_Raise(__pyx_t_5, 0, 0, 0);
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __PYX_ERR(0, 2098, __pyx_L1_error)
+      __PYX_ERR(0, 2164, __pyx_L1_error)
 
-      /* "capnp/lib/capnp.pyx":2097
+      /* "capnp/lib/capnp.pyx":2163
  *         if args is not None and len(args) > 0:
  *             arg_names = self._find_method_args(name)
  *             if len(args) > len(arg_names):             # <<<<<<<<<<<<<<
  *                 raise KjException(
  *                     "Too many arguments passed to `{}`. Expected {} and got {}"
  */
     }
 
-    /* "capnp/lib/capnp.pyx":2101
+    /* "capnp/lib/capnp.pyx":2167
  *                     "Too many arguments passed to `{}`. Expected {} and got {}"
  *                     .format(name, len(arg_names), len(args)))
  *             for arg_name, arg_val in zip(arg_names, args):             # <<<<<<<<<<<<<<
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), arg_name, arg_val, self)
  * 
  */
-    __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2101, __pyx_L1_error)
+    __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2167, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_INCREF(__pyx_v_arg_names);
     __Pyx_GIVEREF(__pyx_v_arg_names);
     PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_v_arg_names);
     __Pyx_INCREF(__pyx_v_args);
     __Pyx_GIVEREF(__pyx_v_args);
     PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_v_args);
-    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_builtin_zip, __pyx_t_5, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2101, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_builtin_zip, __pyx_t_5, NULL); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2167, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     if (likely(PyList_CheckExact(__pyx_t_7)) || PyTuple_CheckExact(__pyx_t_7)) {
       __pyx_t_5 = __pyx_t_7; __Pyx_INCREF(__pyx_t_5); __pyx_t_6 = 0;
       __pyx_t_15 = NULL;
     } else {
-      __pyx_t_6 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2101, __pyx_L1_error)
+      __pyx_t_6 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2167, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
-      __pyx_t_15 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2101, __pyx_L1_error)
+      __pyx_t_15 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2167, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     for (;;) {
       if (likely(!__pyx_t_15)) {
         if (likely(PyList_CheckExact(__pyx_t_5))) {
           if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_5)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_7); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2101, __pyx_L1_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_7); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2167, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2101, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2167, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_7); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2101, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_7); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2167, __pyx_L1_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2101, __pyx_L1_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2167, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_15(__pyx_t_5);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(0, 2101, __pyx_L1_error)
+            else __PYX_ERR(0, 2167, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       if ((likely(PyTuple_CheckExact(__pyx_t_7))) || (PyList_CheckExact(__pyx_t_7))) {
         PyObject* sequence = __pyx_t_7;
         Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
         if (unlikely(size != 2)) {
           if (size > 2) __Pyx_RaiseTooManyValuesError(2);
           else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-          __PYX_ERR(0, 2101, __pyx_L1_error)
+          __PYX_ERR(0, 2167, __pyx_L1_error)
         }
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
         if (likely(PyTuple_CheckExact(sequence))) {
           __pyx_t_8 = PyTuple_GET_ITEM(sequence, 0); 
           __pyx_t_9 = PyTuple_GET_ITEM(sequence, 1); 
         } else {
           __pyx_t_8 = PyList_GET_ITEM(sequence, 0); 
           __pyx_t_9 = PyList_GET_ITEM(sequence, 1); 
         }
         __Pyx_INCREF(__pyx_t_8);
         __Pyx_INCREF(__pyx_t_9);
         #else
-        __pyx_t_8 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2101, __pyx_L1_error)
+        __pyx_t_8 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2167, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_8);
-        __pyx_t_9 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2101, __pyx_L1_error)
+        __pyx_t_9 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2167, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_9);
         #endif
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       } else {
         Py_ssize_t index = -1;
-        __pyx_t_14 = PyObject_GetIter(__pyx_t_7); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2101, __pyx_L1_error)
+        __pyx_t_14 = PyObject_GetIter(__pyx_t_7); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2167, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_14);
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
         __pyx_t_16 = Py_TYPE(__pyx_t_14)->tp_iternext;
         index = 0; __pyx_t_8 = __pyx_t_16(__pyx_t_14); if (unlikely(!__pyx_t_8)) goto __pyx_L9_unpacking_failed;
         __Pyx_GOTREF(__pyx_t_8);
         index = 1; __pyx_t_9 = __pyx_t_16(__pyx_t_14); if (unlikely(!__pyx_t_9)) goto __pyx_L9_unpacking_failed;
         __Pyx_GOTREF(__pyx_t_9);
-        if (__Pyx_IternextUnpackEndCheck(__pyx_t_16(__pyx_t_14), 2) < 0) __PYX_ERR(0, 2101, __pyx_L1_error)
+        if (__Pyx_IternextUnpackEndCheck(__pyx_t_16(__pyx_t_14), 2) < 0) __PYX_ERR(0, 2167, __pyx_L1_error)
         __pyx_t_16 = NULL;
         __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
         goto __pyx_L10_unpacking_done;
         __pyx_L9_unpacking_failed:;
         __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
         __pyx_t_16 = NULL;
         if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-        __PYX_ERR(0, 2101, __pyx_L1_error)
+        __PYX_ERR(0, 2167, __pyx_L1_error)
         __pyx_L10_unpacking_done:;
       }
       __Pyx_XDECREF_SET(__pyx_v_arg_name, __pyx_t_8);
       __pyx_t_8 = 0;
       __Pyx_XDECREF_SET(__pyx_v_arg_val, __pyx_t_9);
       __pyx_t_9 = 0;
 
-      /* "capnp/lib/capnp.pyx":2102
+      /* "capnp/lib/capnp.pyx":2168
  *                     .format(name, len(arg_names), len(args)))
  *             for arg_name, arg_val in zip(arg_names, args):
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), arg_name, arg_val, self)             # <<<<<<<<<<<<<<
  * 
  *         if kwargs is not None:
  */
-      __pyx_t_7 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setDynamicField((( ::capnp::DynamicStruct::Builder)(*__pyx_v_request)), __pyx_v_arg_name, __pyx_v_arg_val, ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2102, __pyx_L1_error)
+      __pyx_t_7 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setDynamicField((( ::capnp::DynamicStruct::Builder)(*__pyx_v_request)), __pyx_v_arg_name, __pyx_v_arg_val, ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2168, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":2101
+      /* "capnp/lib/capnp.pyx":2167
  *                     "Too many arguments passed to `{}`. Expected {} and got {}"
  *                     .format(name, len(arg_names), len(args)))
  *             for arg_name, arg_val in zip(arg_names, args):             # <<<<<<<<<<<<<<
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), arg_name, arg_val, self)
  * 
  */
     }
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":2095
+    /* "capnp/lib/capnp.pyx":2161
  * 
  *     cdef _set_fields(self, Request * request, name, args, kwargs):
  *         if args is not None and len(args) > 0:             # <<<<<<<<<<<<<<
  *             arg_names = self._find_method_args(name)
  *             if len(args) > len(arg_names):
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2104
+  /* "capnp/lib/capnp.pyx":2170
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), arg_name, arg_val, self)
  * 
  *         if kwargs is not None:             # <<<<<<<<<<<<<<
  *             for key, val in kwargs.items():
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), key, val, self)
  */
   __pyx_t_1 = (__pyx_v_kwargs != Py_None);
   __pyx_t_3 = (__pyx_t_1 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":2105
+    /* "capnp/lib/capnp.pyx":2171
  * 
  *         if kwargs is not None:
  *             for key, val in kwargs.items():             # <<<<<<<<<<<<<<
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), key, val, self)
  * 
  */
-    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_kwargs, __pyx_n_s_items); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2105, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_kwargs, __pyx_n_s_items); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2171, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_t_9 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
       __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_7);
       if (likely(__pyx_t_9)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
         __Pyx_INCREF(__pyx_t_9);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_7, function);
       }
     }
     __pyx_t_5 = (__pyx_t_9) ? __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_9) : __Pyx_PyObject_CallNoArg(__pyx_t_7);
     __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-    if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2105, __pyx_L1_error)
+    if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2171, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     if (likely(PyList_CheckExact(__pyx_t_5)) || PyTuple_CheckExact(__pyx_t_5)) {
       __pyx_t_7 = __pyx_t_5; __Pyx_INCREF(__pyx_t_7); __pyx_t_6 = 0;
       __pyx_t_15 = NULL;
     } else {
-      __pyx_t_6 = -1; __pyx_t_7 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2105, __pyx_L1_error)
+      __pyx_t_6 = -1; __pyx_t_7 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2171, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_15 = Py_TYPE(__pyx_t_7)->tp_iternext; if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2105, __pyx_L1_error)
+      __pyx_t_15 = Py_TYPE(__pyx_t_7)->tp_iternext; if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 2171, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     for (;;) {
       if (likely(!__pyx_t_15)) {
         if (likely(PyList_CheckExact(__pyx_t_7))) {
           if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_7)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_5 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_6); __Pyx_INCREF(__pyx_t_5); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2105, __pyx_L1_error)
+          __pyx_t_5 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_6); __Pyx_INCREF(__pyx_t_5); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2171, __pyx_L1_error)
           #else
-          __pyx_t_5 = PySequence_ITEM(__pyx_t_7, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2105, __pyx_L1_error)
+          __pyx_t_5 = PySequence_ITEM(__pyx_t_7, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2171, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_5);
           #endif
         } else {
           if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_7)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_7, __pyx_t_6); __Pyx_INCREF(__pyx_t_5); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2105, __pyx_L1_error)
+          __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_7, __pyx_t_6); __Pyx_INCREF(__pyx_t_5); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2171, __pyx_L1_error)
           #else
-          __pyx_t_5 = PySequence_ITEM(__pyx_t_7, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2105, __pyx_L1_error)
+          __pyx_t_5 = PySequence_ITEM(__pyx_t_7, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2171, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_5);
           #endif
         }
       } else {
         __pyx_t_5 = __pyx_t_15(__pyx_t_7);
         if (unlikely(!__pyx_t_5)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(0, 2105, __pyx_L1_error)
+            else __PYX_ERR(0, 2171, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_5);
       }
       if ((likely(PyTuple_CheckExact(__pyx_t_5))) || (PyList_CheckExact(__pyx_t_5))) {
         PyObject* sequence = __pyx_t_5;
         Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
         if (unlikely(size != 2)) {
           if (size > 2) __Pyx_RaiseTooManyValuesError(2);
           else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-          __PYX_ERR(0, 2105, __pyx_L1_error)
+          __PYX_ERR(0, 2171, __pyx_L1_error)
         }
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
         if (likely(PyTuple_CheckExact(sequence))) {
           __pyx_t_9 = PyTuple_GET_ITEM(sequence, 0); 
           __pyx_t_8 = PyTuple_GET_ITEM(sequence, 1); 
         } else {
           __pyx_t_9 = PyList_GET_ITEM(sequence, 0); 
           __pyx_t_8 = PyList_GET_ITEM(sequence, 1); 
         }
         __Pyx_INCREF(__pyx_t_9);
         __Pyx_INCREF(__pyx_t_8);
         #else
-        __pyx_t_9 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2105, __pyx_L1_error)
+        __pyx_t_9 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2171, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_9);
-        __pyx_t_8 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2105, __pyx_L1_error)
+        __pyx_t_8 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2171, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_8);
         #endif
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       } else {
         Py_ssize_t index = -1;
-        __pyx_t_14 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2105, __pyx_L1_error)
+        __pyx_t_14 = PyObject_GetIter(__pyx_t_5); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 2171, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_14);
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
         __pyx_t_16 = Py_TYPE(__pyx_t_14)->tp_iternext;
         index = 0; __pyx_t_9 = __pyx_t_16(__pyx_t_14); if (unlikely(!__pyx_t_9)) goto __pyx_L14_unpacking_failed;
         __Pyx_GOTREF(__pyx_t_9);
         index = 1; __pyx_t_8 = __pyx_t_16(__pyx_t_14); if (unlikely(!__pyx_t_8)) goto __pyx_L14_unpacking_failed;
         __Pyx_GOTREF(__pyx_t_8);
-        if (__Pyx_IternextUnpackEndCheck(__pyx_t_16(__pyx_t_14), 2) < 0) __PYX_ERR(0, 2105, __pyx_L1_error)
+        if (__Pyx_IternextUnpackEndCheck(__pyx_t_16(__pyx_t_14), 2) < 0) __PYX_ERR(0, 2171, __pyx_L1_error)
         __pyx_t_16 = NULL;
         __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
         goto __pyx_L15_unpacking_done;
         __pyx_L14_unpacking_failed:;
         __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
         __pyx_t_16 = NULL;
         if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-        __PYX_ERR(0, 2105, __pyx_L1_error)
+        __PYX_ERR(0, 2171, __pyx_L1_error)
         __pyx_L15_unpacking_done:;
       }
       __Pyx_XDECREF_SET(__pyx_v_key, __pyx_t_9);
       __pyx_t_9 = 0;
       __Pyx_XDECREF_SET(__pyx_v_val, __pyx_t_8);
       __pyx_t_8 = 0;
 
-      /* "capnp/lib/capnp.pyx":2106
+      /* "capnp/lib/capnp.pyx":2172
  *         if kwargs is not None:
  *             for key, val in kwargs.items():
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), key, val, self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _send_helper(self, name, word_count, args, kwargs) except +reraise_kj_exception:
  */
-      __pyx_t_5 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setDynamicField((( ::capnp::DynamicStruct::Builder)(*__pyx_v_request)), __pyx_v_key, __pyx_v_val, ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2106, __pyx_L1_error)
+      __pyx_t_5 = __pyx_fuse_1__pyx_f_5capnp_3lib_5capnp__setDynamicField((( ::capnp::DynamicStruct::Builder)(*__pyx_v_request)), __pyx_v_key, __pyx_v_val, ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2172, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-      /* "capnp/lib/capnp.pyx":2105
+      /* "capnp/lib/capnp.pyx":2171
  * 
  *         if kwargs is not None:
  *             for key, val in kwargs.items():             # <<<<<<<<<<<<<<
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), key, val, self)
  * 
  */
     }
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-    /* "capnp/lib/capnp.pyx":2104
+    /* "capnp/lib/capnp.pyx":2170
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), arg_name, arg_val, self)
  * 
  *         if kwargs is not None:             # <<<<<<<<<<<<<<
  *             for key, val in kwargs.items():
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), key, val, self)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2094
+  /* "capnp/lib/capnp.pyx":2160
  *         return _find_field_order(params.struct)
  * 
  *     cdef _set_fields(self, Request * request, name, args, kwargs):             # <<<<<<<<<<<<<<
  *         if args is not None and len(args) > 0:
  *             arg_names = self._find_method_args(name)
  */
 
@@ -50060,15 +50693,15 @@
   __Pyx_XDECREF(__pyx_v_key);
   __Pyx_XDECREF(__pyx_v_val);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2108
+/* "capnp/lib/capnp.pyx":2174
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), key, val, self)
  * 
  *     cpdef _send_helper(self, name, word_count, args, kwargs) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         # if word_count is None:
  *         #     word_count = 0
  */
 
@@ -50094,15 +50727,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_send_helper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2108, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_send_helper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2174, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_5_send_helper)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -50114,29 +50747,29 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[5] = {__pyx_t_4, __pyx_v_name, __pyx_v_word_count, __pyx_v_args, __pyx_v_kwargs};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 4+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2108, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 4+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2174, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[5] = {__pyx_t_4, __pyx_v_name, __pyx_v_word_count, __pyx_v_args, __pyx_v_kwargs};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 4+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2108, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 4+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2174, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(4+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2108, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(4+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2174, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_name);
           __Pyx_GIVEREF(__pyx_v_name);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_name);
@@ -50145,15 +50778,15 @@
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_word_count);
           __Pyx_INCREF(__pyx_v_args);
           __Pyx_GIVEREF(__pyx_v_args);
           PyTuple_SET_ITEM(__pyx_t_6, 2+__pyx_t_5, __pyx_v_args);
           __Pyx_INCREF(__pyx_v_kwargs);
           __Pyx_GIVEREF(__pyx_v_kwargs);
           PyTuple_SET_ITEM(__pyx_t_6, 3+__pyx_t_5, __pyx_v_kwargs);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2108, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2174, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -50168,66 +50801,66 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2111
+  /* "capnp/lib/capnp.pyx":2177
  *         # if word_count is None:
  *         #     word_count = 0
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running             # <<<<<<<<<<<<<<
  *         cdef Request * request = new Request(self.thisptr.newRequest(name)) # TODO: pass word_count
  * 
  */
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2111, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2177, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2112
+  /* "capnp/lib/capnp.pyx":2178
  *         #     word_count = 0
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *         cdef Request * request = new Request(self.thisptr.newRequest(name)) # TODO: pass word_count             # <<<<<<<<<<<<<<
  * 
  *         self._set_fields(request, name, args, kwargs)
  */
-  __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_name); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 2112, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_name); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 2178, __pyx_L1_error)
   __pyx_v_request = new  ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct>(__pyx_v_self->thisptr.newRequest(__pyx_t_7));
 
-  /* "capnp/lib/capnp.pyx":2114
+  /* "capnp/lib/capnp.pyx":2180
  *         cdef Request * request = new Request(self.thisptr.newRequest(name)) # TODO: pass word_count
  * 
  *         self._set_fields(request, name, args, kwargs)             # <<<<<<<<<<<<<<
  * 
  *         return _RemotePromise()._init(request.send(), self)
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self->__pyx_vtab)->_set_fields(__pyx_v_self, __pyx_v_request, __pyx_v_name, __pyx_v_args, __pyx_v_kwargs); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2114, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self->__pyx_vtab)->_set_fields(__pyx_v_self, __pyx_v_request, __pyx_v_name, __pyx_v_args, __pyx_v_kwargs); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2116
+  /* "capnp/lib/capnp.pyx":2182
  *         self._set_fields(request, name, args, kwargs)
  * 
  *         return _RemotePromise()._init(request.send(), self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef _request_helper(self, name, firstSegmentWordSize, args, kwargs) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__RemotePromise)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2116, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__RemotePromise)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2182, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_8.__pyx_n = 1;
   __pyx_t_8.parent = ((PyObject *)__pyx_v_self);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_t_1), __pyx_v_request->send(), &__pyx_t_8); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2116, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__RemotePromise *)((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *)__pyx_t_1), __pyx_v_request->send(), &__pyx_t_8); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2182, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2108
+  /* "capnp/lib/capnp.pyx":2174
  *                 _setDynamicField(<DynamicStruct_Builder>deref(request), key, val, self)
  * 
  *     cpdef _send_helper(self, name, word_count, args, kwargs) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         # if word_count is None:
  *         #     word_count = 0
  */
 
@@ -50283,31 +50916,31 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_name)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_word_count)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_send_helper", 1, 4, 4, 1); __PYX_ERR(0, 2108, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_send_helper", 1, 4, 4, 1); __PYX_ERR(0, 2174, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_args)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_send_helper", 1, 4, 4, 2); __PYX_ERR(0, 2108, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_send_helper", 1, 4, 4, 2); __PYX_ERR(0, 2174, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  3:
         if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kwargs)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_send_helper", 1, 4, 4, 3); __PYX_ERR(0, 2108, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_send_helper", 1, 4, 4, 3); __PYX_ERR(0, 2174, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_send_helper") < 0)) __PYX_ERR(0, 2108, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_send_helper") < 0)) __PYX_ERR(0, 2174, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 4) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
@@ -50316,15 +50949,15 @@
     __pyx_v_name = values[0];
     __pyx_v_word_count = values[1];
     __pyx_v_args = values[2];
     __pyx_v_kwargs = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_send_helper", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2108, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_send_helper", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2174, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicCapabilityClient._send_helper", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_24_DynamicCapabilityClient_4_send_helper(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self), __pyx_v_name, __pyx_v_word_count, __pyx_v_args, __pyx_v_kwargs);
 
@@ -50340,18 +50973,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_send_helper", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__send_helper(__pyx_v_self, __pyx_v_name, __pyx_v_word_count, __pyx_v_args, __pyx_v_kwargs, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2108, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2174, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2108, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2174, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -50361,15 +50994,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2118
+/* "capnp/lib/capnp.pyx":2184
  *         return _RemotePromise()._init(request.send(), self)
  * 
  *     cpdef _request_helper(self, name, firstSegmentWordSize, args, kwargs) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         # if word_count is None:
  *         #     word_count = 0
  */
 
@@ -50394,15 +51027,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_request_helper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2118, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_request_helper); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2184, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_7_request_helper)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -50414,29 +51047,29 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[5] = {__pyx_t_4, __pyx_v_name, __pyx_v_firstSegmentWordSize, __pyx_v_args, __pyx_v_kwargs};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 4+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2118, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 4+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2184, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[5] = {__pyx_t_4, __pyx_v_name, __pyx_v_firstSegmentWordSize, __pyx_v_args, __pyx_v_kwargs};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 4+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2118, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 4+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2184, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(4+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2118, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(4+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2184, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_name);
           __Pyx_GIVEREF(__pyx_v_name);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_name);
@@ -50445,15 +51078,15 @@
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_firstSegmentWordSize);
           __Pyx_INCREF(__pyx_v_args);
           __Pyx_GIVEREF(__pyx_v_args);
           PyTuple_SET_ITEM(__pyx_t_6, 2+__pyx_t_5, __pyx_v_args);
           __Pyx_INCREF(__pyx_v_kwargs);
           __Pyx_GIVEREF(__pyx_v_kwargs);
           PyTuple_SET_ITEM(__pyx_t_6, 3+__pyx_t_5, __pyx_v_kwargs);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2118, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2184, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -50468,55 +51101,55 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2121
+  /* "capnp/lib/capnp.pyx":2187
  *         # if word_count is None:
  *         #     word_count = 0
  *         cdef _Request req = _Request()._init_child(self.thisptr.newRequest(name), self)             # <<<<<<<<<<<<<<
  * 
  *         self._set_fields(req.thisptr_child, name, args, kwargs)
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Request)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2121, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Request)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2187, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_name); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 2121, __pyx_L1_error)
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Request *)((struct __pyx_obj_5capnp_3lib_5capnp__Request *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__Request *)__pyx_t_1), __pyx_v_self->thisptr.newRequest(__pyx_t_7), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2121, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_PyObject_AsWritableString(__pyx_v_name); if (unlikely((!__pyx_t_7) && PyErr_Occurred())) __PYX_ERR(0, 2187, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Request *)((struct __pyx_obj_5capnp_3lib_5capnp__Request *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__Request *)__pyx_t_1), __pyx_v_self->thisptr.newRequest(__pyx_t_7), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2187, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__Request))))) __PYX_ERR(0, 2121, __pyx_L1_error)
+  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__Request))))) __PYX_ERR(0, 2187, __pyx_L1_error)
   __pyx_v_req = ((struct __pyx_obj_5capnp_3lib_5capnp__Request *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":2123
+  /* "capnp/lib/capnp.pyx":2189
  *         cdef _Request req = _Request()._init_child(self.thisptr.newRequest(name), self)
  * 
  *         self._set_fields(req.thisptr_child, name, args, kwargs)             # <<<<<<<<<<<<<<
  * 
  *         return req
  */
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self->__pyx_vtab)->_set_fields(__pyx_v_self, __pyx_v_req->thisptr_child, __pyx_v_name, __pyx_v_args, __pyx_v_kwargs); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2123, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self->__pyx_vtab)->_set_fields(__pyx_v_self, __pyx_v_req->thisptr_child, __pyx_v_name, __pyx_v_args, __pyx_v_kwargs); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2189, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":2125
+  /* "capnp/lib/capnp.pyx":2191
  *         self._set_fields(req.thisptr_child, name, args, kwargs)
  * 
  *         return req             # <<<<<<<<<<<<<<
  * 
  *     def _request(self, name, *args, word_count=None, **kwargs):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_req));
   __pyx_r = ((PyObject *)__pyx_v_req);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2118
+  /* "capnp/lib/capnp.pyx":2184
  *         return _RemotePromise()._init(request.send(), self)
  * 
  *     cpdef _request_helper(self, name, firstSegmentWordSize, args, kwargs) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         # if word_count is None:
  *         #     word_count = 0
  */
 
@@ -50573,31 +51206,31 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_name)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_firstSegmentWordSize)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_request_helper", 1, 4, 4, 1); __PYX_ERR(0, 2118, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_request_helper", 1, 4, 4, 1); __PYX_ERR(0, 2184, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_args)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_request_helper", 1, 4, 4, 2); __PYX_ERR(0, 2118, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_request_helper", 1, 4, 4, 2); __PYX_ERR(0, 2184, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  3:
         if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_kwargs)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_request_helper", 1, 4, 4, 3); __PYX_ERR(0, 2118, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_request_helper", 1, 4, 4, 3); __PYX_ERR(0, 2184, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_request_helper") < 0)) __PYX_ERR(0, 2118, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_request_helper") < 0)) __PYX_ERR(0, 2184, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 4) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
@@ -50606,15 +51239,15 @@
     __pyx_v_name = values[0];
     __pyx_v_firstSegmentWordSize = values[1];
     __pyx_v_args = values[2];
     __pyx_v_kwargs = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_request_helper", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2118, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_request_helper", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2184, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicCapabilityClient._request_helper", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_24_DynamicCapabilityClient_6_request_helper(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self), __pyx_v_name, __pyx_v_firstSegmentWordSize, __pyx_v_args, __pyx_v_kwargs);
 
@@ -50630,18 +51263,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_request_helper", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__request_helper(__pyx_v_self, __pyx_v_name, __pyx_v_firstSegmentWordSize, __pyx_v_args, __pyx_v_kwargs, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2118, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2184, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2118, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2184, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -50651,15 +51284,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2127
+/* "capnp/lib/capnp.pyx":2193
  *         return req
  * 
  *     def _request(self, name, *args, word_count=None, **kwargs):             # <<<<<<<<<<<<<<
  *         return self._request_helper(name, word_count, args, kwargs)
  * 
  */
 
@@ -50712,27 +51345,27 @@
       if (kw_args == 1) {
         const Py_ssize_t index = 1;
         PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, *__pyx_pyargnames[index]);
         if (value) { values[index] = value; kw_args--; }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "_request") < 0)) __PYX_ERR(0, 2127, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "_request") < 0)) __PYX_ERR(0, 2193, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_name = values[0];
     __pyx_v_word_count = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_request", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2127, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_request", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2193, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_DECREF(__pyx_v_args); __pyx_v_args = 0;
   __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicCapabilityClient._request", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
@@ -50750,35 +51383,35 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_request", 0);
 
-  /* "capnp/lib/capnp.pyx":2128
+  /* "capnp/lib/capnp.pyx":2194
  * 
  *     def _request(self, name, *args, word_count=None, **kwargs):
  *         return self._request_helper(name, word_count, args, kwargs)             # <<<<<<<<<<<<<<
  * 
  *     def _send(self, name, *args, word_count=None, **kwargs):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self->__pyx_vtab)->_request_helper(__pyx_v_self, __pyx_v_name, __pyx_v_word_count, __pyx_v_args, __pyx_v_kwargs, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2128, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2194, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2128, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2194, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2127
+  /* "capnp/lib/capnp.pyx":2193
  *         return req
  * 
  *     def _request(self, name, *args, word_count=None, **kwargs):             # <<<<<<<<<<<<<<
  *         return self._request_helper(name, word_count, args, kwargs)
  * 
  */
 
@@ -50789,15 +51422,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2130
+/* "capnp/lib/capnp.pyx":2196
  *         return self._request_helper(name, word_count, args, kwargs)
  * 
  *     def _send(self, name, *args, word_count=None, **kwargs):             # <<<<<<<<<<<<<<
  *         return self._send_helper(name, word_count, args, kwargs)
  * 
  */
 
@@ -50850,27 +51483,27 @@
       if (kw_args == 1) {
         const Py_ssize_t index = 1;
         PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, *__pyx_pyargnames[index]);
         if (value) { values[index] = value; kw_args--; }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t used_pos_args = (pos_args < 1) ? pos_args : 1;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "_send") < 0)) __PYX_ERR(0, 2130, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, used_pos_args, "_send") < 0)) __PYX_ERR(0, 2196, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) < 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_name = values[0];
     __pyx_v_word_count = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_send", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2130, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_send", 0, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2196, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_DECREF(__pyx_v_args); __pyx_v_args = 0;
   __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicCapabilityClient._send", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
@@ -50888,35 +51521,35 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_send", 0);
 
-  /* "capnp/lib/capnp.pyx":2131
+  /* "capnp/lib/capnp.pyx":2197
  * 
  *     def _send(self, name, *args, word_count=None, **kwargs):
  *         return self._send_helper(name, word_count, args, kwargs)             # <<<<<<<<<<<<<<
  * 
  *     def __getattr__(self, name):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_v_self->__pyx_vtab)->_send_helper(__pyx_v_self, __pyx_v_name, __pyx_v_word_count, __pyx_v_args, __pyx_v_kwargs, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2131, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2197, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2131, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2197, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2130
+  /* "capnp/lib/capnp.pyx":2196
  *         return self._request_helper(name, word_count, args, kwargs)
  * 
  *     def _send(self, name, *args, word_count=None, **kwargs):             # <<<<<<<<<<<<<<
  *         return self._send_helper(name, word_count, args, kwargs)
  * 
  */
 
@@ -50927,15 +51560,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2133
+/* "capnp/lib/capnp.pyx":2199
  *         return self._send_helper(name, word_count, args, kwargs)
  * 
  *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
  *         try:
  *             if name.endswith('_request'):
  */
 
@@ -50965,21 +51598,20 @@
   PyObject *__pyx_t_6 = NULL;
   int __pyx_t_7;
   int __pyx_t_8;
   PyObject *__pyx_t_9 = NULL;
   int __pyx_t_10;
   PyObject *__pyx_t_11 = NULL;
   PyObject *__pyx_t_12 = NULL;
-  PyObject *__pyx_t_13 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getattr__", 0);
 
-  /* "capnp/lib/capnp.pyx":2134
+  /* "capnp/lib/capnp.pyx":2200
  * 
  *     def __getattr__(self, name):
  *         try:             # <<<<<<<<<<<<<<
  *             if name.endswith('_request'):
  *                 short_name = name[:-8]
  */
   {
@@ -50987,107 +51619,107 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":2135
+      /* "capnp/lib/capnp.pyx":2201
  *     def __getattr__(self, name):
  *         try:
  *             if name.endswith('_request'):             # <<<<<<<<<<<<<<
  *                 short_name = name[:-8]
  *                 if short_name not in self.schema.method_names_inherited:
  */
-      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_name, __pyx_n_s_endswith); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2135, __pyx_L3_error)
+      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_name, __pyx_n_s_endswith); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2201, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_5);
       __pyx_t_6 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
         __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
         if (likely(__pyx_t_6)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
           __Pyx_INCREF(__pyx_t_6);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_5, function);
         }
       }
       __pyx_t_4 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_5, __pyx_t_6, __pyx_n_s_request) : __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_n_s_request);
       __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-      if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2135, __pyx_L3_error)
+      if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2201, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 2135, __pyx_L3_error)
+      __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 2201, __pyx_L3_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       if (__pyx_t_7) {
 
-        /* "capnp/lib/capnp.pyx":2136
+        /* "capnp/lib/capnp.pyx":2202
  *         try:
  *             if name.endswith('_request'):
  *                 short_name = name[:-8]             # <<<<<<<<<<<<<<
  *                 if short_name not in self.schema.method_names_inherited:
  *                     raise AttributeError('Method named %s not found' % short_name)
  */
-        __pyx_t_4 = __Pyx_PyObject_GetSlice(__pyx_v_name, 0, -8L, NULL, NULL, &__pyx_slice__52, 0, 1, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2136, __pyx_L3_error)
+        __pyx_t_4 = __Pyx_PyObject_GetSlice(__pyx_v_name, 0, -8L, NULL, NULL, &__pyx_slice__52, 0, 1, 1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2202, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_4);
         __pyx_v_short_name = __pyx_t_4;
         __pyx_t_4 = 0;
 
-        /* "capnp/lib/capnp.pyx":2137
+        /* "capnp/lib/capnp.pyx":2203
  *             if name.endswith('_request'):
  *                 short_name = name[:-8]
  *                 if short_name not in self.schema.method_names_inherited:             # <<<<<<<<<<<<<<
  *                     raise AttributeError('Method named %s not found' % short_name)
  *                 return _partial(self._request, short_name)
  */
-        __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2137, __pyx_L3_error)
+        __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2203, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_4);
-        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_method_names_inherited); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2137, __pyx_L3_error)
+        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_method_names_inherited); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2203, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_5);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-        __pyx_t_7 = (__Pyx_PySequence_ContainsTF(__pyx_v_short_name, __pyx_t_5, Py_NE)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 2137, __pyx_L3_error)
+        __pyx_t_7 = (__Pyx_PySequence_ContainsTF(__pyx_v_short_name, __pyx_t_5, Py_NE)); if (unlikely(__pyx_t_7 < 0)) __PYX_ERR(0, 2203, __pyx_L3_error)
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
         __pyx_t_8 = (__pyx_t_7 != 0);
         if (unlikely(__pyx_t_8)) {
 
-          /* "capnp/lib/capnp.pyx":2138
+          /* "capnp/lib/capnp.pyx":2204
  *                 short_name = name[:-8]
  *                 if short_name not in self.schema.method_names_inherited:
  *                     raise AttributeError('Method named %s not found' % short_name)             # <<<<<<<<<<<<<<
  *                 return _partial(self._request, short_name)
  * 
  */
-          __pyx_t_5 = __Pyx_PyString_FormatSafe(__pyx_kp_s_Method_named_s_not_found_2, __pyx_v_short_name); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2138, __pyx_L3_error)
+          __pyx_t_5 = __Pyx_PyString_FormatSafe(__pyx_kp_s_Method_named_s_not_found_2, __pyx_v_short_name); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2204, __pyx_L3_error)
           __Pyx_GOTREF(__pyx_t_5);
-          __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2138, __pyx_L3_error)
+          __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2204, __pyx_L3_error)
           __Pyx_GOTREF(__pyx_t_4);
           __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
           __Pyx_Raise(__pyx_t_4, 0, 0, 0);
           __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-          __PYX_ERR(0, 2138, __pyx_L3_error)
+          __PYX_ERR(0, 2204, __pyx_L3_error)
 
-          /* "capnp/lib/capnp.pyx":2137
+          /* "capnp/lib/capnp.pyx":2203
  *             if name.endswith('_request'):
  *                 short_name = name[:-8]
  *                 if short_name not in self.schema.method_names_inherited:             # <<<<<<<<<<<<<<
  *                     raise AttributeError('Method named %s not found' % short_name)
  *                 return _partial(self._request, short_name)
  */
         }
 
-        /* "capnp/lib/capnp.pyx":2139
+        /* "capnp/lib/capnp.pyx":2205
  *                 if short_name not in self.schema.method_names_inherited:
  *                     raise AttributeError('Method named %s not found' % short_name)
  *                 return _partial(self._request, short_name)             # <<<<<<<<<<<<<<
  * 
  *             if name not in self.schema.method_names_inherited:
  */
         __Pyx_XDECREF(__pyx_r);
-        __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_partial); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2139, __pyx_L3_error)
+        __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_partial); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2205, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_5);
-        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_request); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2139, __pyx_L3_error)
+        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_request); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2205, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_6);
         __pyx_t_9 = NULL;
         __pyx_t_10 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_5))) {
           __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_5);
           if (likely(__pyx_t_9)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
@@ -51096,112 +51728,112 @@
             __Pyx_DECREF_SET(__pyx_t_5, function);
             __pyx_t_10 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_5)) {
           PyObject *__pyx_temp[3] = {__pyx_t_9, __pyx_t_6, __pyx_v_short_name};
-          __pyx_t_4 = __Pyx_PyFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2139, __pyx_L3_error)
+          __pyx_t_4 = __Pyx_PyFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2205, __pyx_L3_error)
           __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
           __Pyx_GOTREF(__pyx_t_4);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_5)) {
           PyObject *__pyx_temp[3] = {__pyx_t_9, __pyx_t_6, __pyx_v_short_name};
-          __pyx_t_4 = __Pyx_PyCFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2139, __pyx_L3_error)
+          __pyx_t_4 = __Pyx_PyCFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2205, __pyx_L3_error)
           __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
           __Pyx_GOTREF(__pyx_t_4);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         } else
         #endif
         {
-          __pyx_t_11 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2139, __pyx_L3_error)
+          __pyx_t_11 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2205, __pyx_L3_error)
           __Pyx_GOTREF(__pyx_t_11);
           if (__pyx_t_9) {
             __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
           }
           __Pyx_GIVEREF(__pyx_t_6);
           PyTuple_SET_ITEM(__pyx_t_11, 0+__pyx_t_10, __pyx_t_6);
           __Pyx_INCREF(__pyx_v_short_name);
           __Pyx_GIVEREF(__pyx_v_short_name);
           PyTuple_SET_ITEM(__pyx_t_11, 1+__pyx_t_10, __pyx_v_short_name);
           __pyx_t_6 = 0;
-          __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_11, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2139, __pyx_L3_error)
+          __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_11, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2205, __pyx_L3_error)
           __Pyx_GOTREF(__pyx_t_4);
           __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
         }
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
         __pyx_r = __pyx_t_4;
         __pyx_t_4 = 0;
         goto __pyx_L7_try_return;
 
-        /* "capnp/lib/capnp.pyx":2135
+        /* "capnp/lib/capnp.pyx":2201
  *     def __getattr__(self, name):
  *         try:
  *             if name.endswith('_request'):             # <<<<<<<<<<<<<<
  *                 short_name = name[:-8]
  *                 if short_name not in self.schema.method_names_inherited:
  */
       }
 
-      /* "capnp/lib/capnp.pyx":2141
+      /* "capnp/lib/capnp.pyx":2207
  *                 return _partial(self._request, short_name)
  * 
  *             if name not in self.schema.method_names_inherited:             # <<<<<<<<<<<<<<
  *                 raise AttributeError('Method named %s not found' % name)
  *             return _partial(self._send, name)
  */
-      __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2141, __pyx_L3_error)
+      __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2207, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_method_names_inherited); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2141, __pyx_L3_error)
+      __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_method_names_inherited); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2207, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-      __pyx_t_8 = (__Pyx_PySequence_ContainsTF(__pyx_v_name, __pyx_t_5, Py_NE)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 2141, __pyx_L3_error)
+      __pyx_t_8 = (__Pyx_PySequence_ContainsTF(__pyx_v_name, __pyx_t_5, Py_NE)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 2207, __pyx_L3_error)
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __pyx_t_7 = (__pyx_t_8 != 0);
       if (unlikely(__pyx_t_7)) {
 
-        /* "capnp/lib/capnp.pyx":2142
+        /* "capnp/lib/capnp.pyx":2208
  * 
  *             if name not in self.schema.method_names_inherited:
  *                 raise AttributeError('Method named %s not found' % name)             # <<<<<<<<<<<<<<
  *             return _partial(self._send, name)
  *         except KjException as e:
  */
-        __pyx_t_5 = __Pyx_PyString_FormatSafe(__pyx_kp_s_Method_named_s_not_found_2, __pyx_v_name); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2142, __pyx_L3_error)
+        __pyx_t_5 = __Pyx_PyString_FormatSafe(__pyx_kp_s_Method_named_s_not_found_2, __pyx_v_name); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2208, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_5);
-        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2142, __pyx_L3_error)
+        __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2208, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_Raise(__pyx_t_4, 0, 0, 0);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-        __PYX_ERR(0, 2142, __pyx_L3_error)
+        __PYX_ERR(0, 2208, __pyx_L3_error)
 
-        /* "capnp/lib/capnp.pyx":2141
+        /* "capnp/lib/capnp.pyx":2207
  *                 return _partial(self._request, short_name)
  * 
  *             if name not in self.schema.method_names_inherited:             # <<<<<<<<<<<<<<
  *                 raise AttributeError('Method named %s not found' % name)
  *             return _partial(self._send, name)
  */
       }
 
-      /* "capnp/lib/capnp.pyx":2143
+      /* "capnp/lib/capnp.pyx":2209
  *             if name not in self.schema.method_names_inherited:
  *                 raise AttributeError('Method named %s not found' % name)
  *             return _partial(self._send, name)             # <<<<<<<<<<<<<<
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  */
       __Pyx_XDECREF(__pyx_r);
-      __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_partial); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2143, __pyx_L3_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_partial); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2209, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_5);
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_send_2); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2143, __pyx_L3_error)
+      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_send_2); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2209, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_11);
       __pyx_t_6 = NULL;
       __pyx_t_10 = 0;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_5))) {
         __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
         if (likely(__pyx_t_6)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
@@ -51210,144 +51842,120 @@
           __Pyx_DECREF_SET(__pyx_t_5, function);
           __pyx_t_10 = 1;
         }
       }
       #if CYTHON_FAST_PYCALL
       if (PyFunction_Check(__pyx_t_5)) {
         PyObject *__pyx_temp[3] = {__pyx_t_6, __pyx_t_11, __pyx_v_name};
-        __pyx_t_4 = __Pyx_PyFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2143, __pyx_L3_error)
+        __pyx_t_4 = __Pyx_PyFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2209, __pyx_L3_error)
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       } else
       #endif
       #if CYTHON_FAST_PYCCALL
       if (__Pyx_PyFastCFunction_Check(__pyx_t_5)) {
         PyObject *__pyx_temp[3] = {__pyx_t_6, __pyx_t_11, __pyx_v_name};
-        __pyx_t_4 = __Pyx_PyCFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2143, __pyx_L3_error)
+        __pyx_t_4 = __Pyx_PyCFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2209, __pyx_L3_error)
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       } else
       #endif
       {
-        __pyx_t_9 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2143, __pyx_L3_error)
+        __pyx_t_9 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2209, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_9);
         if (__pyx_t_6) {
           __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_6); __pyx_t_6 = NULL;
         }
         __Pyx_GIVEREF(__pyx_t_11);
         PyTuple_SET_ITEM(__pyx_t_9, 0+__pyx_t_10, __pyx_t_11);
         __Pyx_INCREF(__pyx_v_name);
         __Pyx_GIVEREF(__pyx_v_name);
         PyTuple_SET_ITEM(__pyx_t_9, 1+__pyx_t_10, __pyx_v_name);
         __pyx_t_11 = 0;
-        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_9, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2143, __pyx_L3_error)
+        __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_9, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2209, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_4);
         __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       }
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __pyx_r = __pyx_t_4;
       __pyx_t_4 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":2134
+      /* "capnp/lib/capnp.pyx":2200
  * 
  *     def __getattr__(self, name):
  *         try:             # <<<<<<<<<<<<<<
  *             if name.endswith('_request'):
  *                 short_name = name[:-8]
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-    /* "capnp/lib/capnp.pyx":2144
+    /* "capnp/lib/capnp.pyx":2210
  *                 raise AttributeError('Method named %s not found' % name)
  *             return _partial(self._send, name)
  *         except KjException as e:             # <<<<<<<<<<<<<<
- *             raise e._to_python(), None, _sys.exc_info()[2]
+ *             raise e._to_python() from None
  * 
  */
     __Pyx_ErrFetch(&__pyx_t_4, &__pyx_t_5, &__pyx_t_9);
-    __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_KjException); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2144, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_KjException); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2210, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_11);
     __pyx_t_10 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_4, __pyx_t_11);
     __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
     __Pyx_ErrRestore(__pyx_t_4, __pyx_t_5, __pyx_t_9);
     __pyx_t_4 = 0; __pyx_t_5 = 0; __pyx_t_9 = 0;
     if (__pyx_t_10) {
       __Pyx_AddTraceback("capnp.lib.capnp._DynamicCapabilityClient.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_9, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 2144, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_9, &__pyx_t_5, &__pyx_t_4) < 0) __PYX_ERR(0, 2210, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __pyx_v_e = __pyx_t_5;
 
-      /* "capnp/lib/capnp.pyx":2145
+      /* "capnp/lib/capnp.pyx":2211
  *             return _partial(self._send, name)
  *         except KjException as e:
- *             raise e._to_python(), None, _sys.exc_info()[2]             # <<<<<<<<<<<<<<
+ *             raise e._to_python() from None             # <<<<<<<<<<<<<<
  * 
  *     cpdef upcast(self, schema) except +reraise_kj_exception:
  */
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2145, __pyx_L5_except_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_e, __pyx_n_s_to_python); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2211, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __pyx_t_12 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
         __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_6);
         if (likely(__pyx_t_12)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
           __Pyx_INCREF(__pyx_t_12);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_6, function);
         }
       }
       __pyx_t_11 = (__pyx_t_12) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_12) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-      if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2145, __pyx_L5_except_error)
+      if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2211, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_11);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_sys); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 2145, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_12);
-      __pyx_t_13 = __Pyx_PyObject_GetAttrStr(__pyx_t_12, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 2145, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_13);
-      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-      __pyx_t_12 = NULL;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_13))) {
-        __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_13);
-        if (likely(__pyx_t_12)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_13);
-          __Pyx_INCREF(__pyx_t_12);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_13, function);
-        }
-      }
-      __pyx_t_6 = (__pyx_t_12) ? __Pyx_PyObject_CallOneArg(__pyx_t_13, __pyx_t_12) : __Pyx_PyObject_CallNoArg(__pyx_t_13);
-      __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-      if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2145, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
-      __pyx_t_13 = __Pyx_GetItemInt(__pyx_t_6, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 2145, __pyx_L5_except_error)
-      __Pyx_GOTREF(__pyx_t_13);
-      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __Pyx_Raise(__pyx_t_11, Py_None, __pyx_t_13, 0);
+      __Pyx_Raise(__pyx_t_11, 0, 0, Py_None);
       __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
-      __PYX_ERR(0, 2145, __pyx_L5_except_error)
+      __PYX_ERR(0, 2211, __pyx_L5_except_error)
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":2134
+    /* "capnp/lib/capnp.pyx":2200
  * 
  *     def __getattr__(self, name):
  *         try:             # <<<<<<<<<<<<<<
  *             if name.endswith('_request'):
  *                 short_name = name[:-8]
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -51359,15 +51967,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":2133
+  /* "capnp/lib/capnp.pyx":2199
  *         return self._send_helper(name, word_count, args, kwargs)
  * 
  *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
  *         try:
  *             if name.endswith('_request'):
  */
 
@@ -51375,27 +51983,26 @@
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_XDECREF(__pyx_t_9);
   __Pyx_XDECREF(__pyx_t_11);
   __Pyx_XDECREF(__pyx_t_12);
-  __Pyx_XDECREF(__pyx_t_13);
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicCapabilityClient.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_short_name);
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2147
- *             raise e._to_python(), None, _sys.exc_info()[2]
+/* "capnp/lib/capnp.pyx":2213
+ *             raise e._to_python() from None
  * 
  *     cpdef upcast(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_15upcast(PyObject *__pyx_v_self, PyObject *__pyx_v_schema); /*proto*/
@@ -51418,15 +52025,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_upcast); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2147, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_upcast); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2213, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_15upcast)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -51435,15 +52042,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2147, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2213, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -51456,86 +52063,86 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2149
+  /* "capnp/lib/capnp.pyx":2215
  *     cpdef upcast(self, schema) except +reraise_kj_exception:
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2149, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2215, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":2150
+    /* "capnp/lib/capnp.pyx":2216
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2150, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2216, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2150, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2216, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":2149
+    /* "capnp/lib/capnp.pyx":2215
  *     cpdef upcast(self, schema) except +reraise_kj_exception:
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":2152
+  /* "capnp/lib/capnp.pyx":2218
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicCapabilityClient()._init(self.thisptr.upcast(s.thisptr), self._parent)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2152, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2218, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":2154
+  /* "capnp/lib/capnp.pyx":2220
  *             s = schema
  * 
  *         return _DynamicCapabilityClient()._init(self.thisptr.upcast(s.thisptr), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     cpdef cast_as(self, schema) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2154, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2220, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self->thisptr.upcast(__pyx_v_s->thisptr), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2154, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self->thisptr.upcast(__pyx_v_s->thisptr), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2220, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2147
- *             raise e._to_python(), None, _sys.exc_info()[2]
+  /* "capnp/lib/capnp.pyx":2213
+ *             raise e._to_python() from None
  * 
  *     cpdef upcast(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
   /* function exit code */
@@ -51574,18 +52181,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("upcast", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient_upcast(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2147, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2213, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2147, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2213, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -51595,15 +52202,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2156
+/* "capnp/lib/capnp.pyx":2222
  *         return _DynamicCapabilityClient()._init(self.thisptr.upcast(s.thisptr), self._parent)
  * 
  *     cpdef cast_as(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -51627,15 +52234,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_cast_as); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2156, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_cast_as); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2222, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_17cast_as)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -51644,15 +52251,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2156, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2222, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -51665,85 +52272,85 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2158
+  /* "capnp/lib/capnp.pyx":2224
  *     cpdef cast_as(self, schema) except +reraise_kj_exception:
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2158, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2224, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":2159
+    /* "capnp/lib/capnp.pyx":2225
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2159, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2225, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2159, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2225, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":2158
+    /* "capnp/lib/capnp.pyx":2224
  *     cpdef cast_as(self, schema) except +reraise_kj_exception:
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":2161
+  /* "capnp/lib/capnp.pyx":2227
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  *         return _DynamicCapabilityClient()._init(self.thisptr.castAs(s.thisptr), self._parent)
  * 
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2161, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2227, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":2162
+  /* "capnp/lib/capnp.pyx":2228
  *         else:
  *             s = schema
  *         return _DynamicCapabilityClient()._init(self.thisptr.castAs(s.thisptr), self._parent)             # <<<<<<<<<<<<<<
  * 
  *     property schema:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2162, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2228, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self->thisptr.castAs< ::capnp::DynamicCapability>(__pyx_v_s->thisptr), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2162, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self->thisptr.castAs< ::capnp::DynamicCapability>(__pyx_v_s->thisptr), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2228, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2156
+  /* "capnp/lib/capnp.pyx":2222
  *         return _DynamicCapabilityClient()._init(self.thisptr.upcast(s.thisptr), self._parent)
  * 
  *     cpdef cast_as(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -51783,18 +52390,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("cast_as", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient_cast_as(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2156, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2222, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2156, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2222, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -51804,15 +52411,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2166
+/* "capnp/lib/capnp.pyx":2232
  *     property schema:
  *         """A property that returns the _InterfaceSchema object matching this client"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self._cached_schema is None:
  *                 self._cached_schema = _InterfaceSchema()._init(self.thisptr.getSchema())
  */
 
@@ -51837,65 +52444,65 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2167
+  /* "capnp/lib/capnp.pyx":2233
  *         """A property that returns the _InterfaceSchema object matching this client"""
  *         def __get__(self):
  *             if self._cached_schema is None:             # <<<<<<<<<<<<<<
  *                 self._cached_schema = _InterfaceSchema()._init(self.thisptr.getSchema())
  *             return self._cached_schema
  */
   __pyx_t_1 = (__pyx_v_self->_cached_schema == Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2168
+    /* "capnp/lib/capnp.pyx":2234
  *         def __get__(self):
  *             if self._cached_schema is None:
  *                 self._cached_schema = _InterfaceSchema()._init(self.thisptr.getSchema())             # <<<<<<<<<<<<<<
  *             return self._cached_schema
  * 
  */
-    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2168, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2234, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_3)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_3), __pyx_v_self->thisptr.getSchema()); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2168, __pyx_L1_error)
+    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_3)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_3), __pyx_v_self->thisptr.getSchema()); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2234, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_GIVEREF(__pyx_t_4);
     __Pyx_GOTREF(__pyx_v_self->_cached_schema);
     __Pyx_DECREF(__pyx_v_self->_cached_schema);
     __pyx_v_self->_cached_schema = __pyx_t_4;
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":2167
+    /* "capnp/lib/capnp.pyx":2233
  *         """A property that returns the _InterfaceSchema object matching this client"""
  *         def __get__(self):
  *             if self._cached_schema is None:             # <<<<<<<<<<<<<<
  *                 self._cached_schema = _InterfaceSchema()._init(self.thisptr.getSchema())
  *             return self._cached_schema
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2169
+  /* "capnp/lib/capnp.pyx":2235
  *             if self._cached_schema is None:
  *                 self._cached_schema = _InterfaceSchema()._init(self.thisptr.getSchema())
  *             return self._cached_schema             # <<<<<<<<<<<<<<
  * 
  *     def __dir__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->_cached_schema);
   __pyx_r = __pyx_v_self->_cached_schema;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2166
+  /* "capnp/lib/capnp.pyx":2232
  *     property schema:
  *         """A property that returns the _InterfaceSchema object matching this client"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self._cached_schema is None:
  *                 self._cached_schema = _InterfaceSchema()._init(self.thisptr.getSchema())
  */
 
@@ -51907,19 +52514,19 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2171
+/* "capnp/lib/capnp.pyx":2237
  *             return self._cached_schema
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
- *         return list(set(self.schema.method_names_inherited) + tuple(dir(self.__class__)))
+ *         return list(set(self.schema.method_names_inherited) | set(dir(self.__class__)))
  * 
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_19__dir__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused); /*proto*/
 static char __pyx_doc_5capnp_3lib_5capnp_24_DynamicCapabilityClient_18__dir__[] = "_DynamicCapabilityClient.__dir__(self)";
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_24_DynamicCapabilityClient_19__dir__(PyObject *__pyx_v_self, CYTHON_UNUSED PyObject *unused) {
@@ -51940,54 +52547,54 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__dir__", 0);
 
-  /* "capnp/lib/capnp.pyx":2172
+  /* "capnp/lib/capnp.pyx":2238
  * 
  *     def __dir__(self):
- *         return list(set(self.schema.method_names_inherited) + tuple(dir(self.__class__)))             # <<<<<<<<<<<<<<
+ *         return list(set(self.schema.method_names_inherited) | set(dir(self.__class__)))             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2172, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2238, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_method_names_inherited); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2172, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_method_names_inherited); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2238, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PySet_New(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2172, __pyx_L1_error)
+  __pyx_t_1 = PySet_New(__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2238, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2172, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2238, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyObject_Dir(__pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2172, __pyx_L1_error)
+  __pyx_t_3 = PyObject_Dir(__pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2238, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2172, __pyx_L1_error)
+  __pyx_t_2 = PySet_New(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2238, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PyNumber_Add(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2172, __pyx_L1_error)
+  __pyx_t_3 = PyNumber_Or(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2238, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = PySequence_List(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2172, __pyx_L1_error)
+  __pyx_t_2 = PySequence_List(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2238, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2171
+  /* "capnp/lib/capnp.pyx":2237
  *             return self._cached_schema
  * 
  *     def __dir__(self):             # <<<<<<<<<<<<<<
- *         return list(set(self.schema.method_names_inherited) + tuple(dir(self.__class__)))
+ *         return list(set(self.schema.method_names_inherited) | set(dir(self.__class__)))
  * 
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_2);
@@ -51996,15 +52603,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2052
+/* "capnp/lib/capnp.pyx":2118
  * cdef class _DynamicCapabilityClient:
  *     cdef C_DynamicCapability.Client thisptr
  *     cdef public object _parent, _cached_schema             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
 
@@ -52293,77 +52900,77 @@
   __Pyx_AddTraceback("capnp.lib.capnp._DynamicCapabilityClient.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2179
+/* "capnp/lib/capnp.pyx":2245
  *     cdef public object _parent
  * 
  *     cdef _init(self, C_Capability.Client other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = new C_Capability.Client(other)
  *         self._parent = parent
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_17_CapabilityClient__init(struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *__pyx_v_self,  ::capnp::Capability::Client __pyx_v_other, PyObject *__pyx_v_parent) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":2180
+  /* "capnp/lib/capnp.pyx":2246
  * 
  *     cdef _init(self, C_Capability.Client other, object parent):
  *         self.thisptr = new C_Capability.Client(other)             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = new  ::capnp::Capability::Client(__pyx_v_other);
 
-  /* "capnp/lib/capnp.pyx":2181
+  /* "capnp/lib/capnp.pyx":2247
  *     cdef _init(self, C_Capability.Client other, object parent):
  *         self.thisptr = new C_Capability.Client(other)
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":2182
+  /* "capnp/lib/capnp.pyx":2248
  *         self.thisptr = new C_Capability.Client(other)
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2179
+  /* "capnp/lib/capnp.pyx":2245
  *     cdef public object _parent
  * 
  *     cdef _init(self, C_Capability.Client other, object parent):             # <<<<<<<<<<<<<<
  *         self.thisptr = new C_Capability.Client(other)
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2184
+/* "capnp/lib/capnp.pyx":2250
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -52378,36 +52985,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_17_CapabilityClient___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":2185
+  /* "capnp/lib/capnp.pyx":2251
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  *     cpdef cast_as(self, schema):
  */
   delete __pyx_v_self->thisptr;
 
-  /* "capnp/lib/capnp.pyx":2184
+  /* "capnp/lib/capnp.pyx":2250
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2187
+/* "capnp/lib/capnp.pyx":2253
  *         del self.thisptr
  * 
  *     cpdef cast_as(self, schema):             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -52431,15 +53038,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_cast_as); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2187, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_cast_as); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2253, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_17_CapabilityClient_3cast_as)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -52448,15 +53055,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2187, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2253, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -52469,85 +53076,85 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2189
+  /* "capnp/lib/capnp.pyx":2255
  *     cpdef cast_as(self, schema):
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2189, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 2255, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":2190
+    /* "capnp/lib/capnp.pyx":2256
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2190, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2256, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2190, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2256, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":2189
+    /* "capnp/lib/capnp.pyx":2255
  *     cpdef cast_as(self, schema):
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":2192
+  /* "capnp/lib/capnp.pyx":2258
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  *         return _DynamicCapabilityClient()._init(self.thisptr.castAs(s.thisptr), self._parent)
  * 
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2192, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2258, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":2193
+  /* "capnp/lib/capnp.pyx":2259
  *         else:
  *             s = schema
  *         return _DynamicCapabilityClient()._init(self.thisptr.castAs(s.thisptr), self._parent)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2193, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2259, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __pyx_v_self->_parent;
   __Pyx_INCREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self->thisptr->castAs< ::capnp::DynamicCapability>(__pyx_v_s->thisptr), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2193, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_v_self->thisptr->castAs< ::capnp::DynamicCapability>(__pyx_v_s->thisptr), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2259, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2187
+  /* "capnp/lib/capnp.pyx":2253
  *         del self.thisptr
  * 
  *     cpdef cast_as(self, schema):             # <<<<<<<<<<<<<<
  *         cdef _InterfaceSchema s
  *         if hasattr(schema, 'schema'):
  */
 
@@ -52585,15 +53192,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("cast_as", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_17_CapabilityClient_cast_as(__pyx_v_self, __pyx_v_schema, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2187, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_17_CapabilityClient_cast_as(__pyx_v_self, __pyx_v_schema, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2253, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -52602,15 +53209,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2177
+/* "capnp/lib/capnp.pyx":2243
  * cdef class _CapabilityClient:
  *     cdef C_Capability.Client * thisptr
  *     cdef public object _parent             # <<<<<<<<<<<<<<
  * 
  *     cdef _init(self, C_Capability.Client other, object parent):
  */
 
@@ -52812,15 +53419,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._CapabilityClient.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2200
+/* "capnp/lib/capnp.pyx":2266
  *     cdef _AsyncIoStream stream
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         self.thisptr = Own[C_TwoPartyVatNetwork]()
  * 
  */
 
@@ -52839,101 +53446,101 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_19_TwoPartyVatNetwork_close(struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("close", 0);
 
-  /* "capnp/lib/capnp.pyx":2201
+  /* "capnp/lib/capnp.pyx":2267
  * 
  *     def close(self):
  *         self.thisptr = Own[C_TwoPartyVatNetwork]()             # <<<<<<<<<<<<<<
  * 
  *     cdef _init(self, _AsyncIoStream stream, Side side, schema_cpp.ReaderOptions opts):
  */
   __pyx_v_self->thisptr =  ::kj::Own< ::capnp::TwoPartyVatNetwork> ();
 
-  /* "capnp/lib/capnp.pyx":2200
+  /* "capnp/lib/capnp.pyx":2266
  *     cdef _AsyncIoStream stream
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         self.thisptr = Own[C_TwoPartyVatNetwork]()
  * 
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2203
+/* "capnp/lib/capnp.pyx":2269
  *         self.thisptr = Own[C_TwoPartyVatNetwork]()
  * 
  *     cdef _init(self, _AsyncIoStream stream, Side side, schema_cpp.ReaderOptions opts):             # <<<<<<<<<<<<<<
  *         self.stream = stream
  *         self.thisptr = capnp.heap[C_TwoPartyVatNetwork](deref(stream.thisptr), side, opts)
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_19_TwoPartyVatNetwork__init(struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *__pyx_v_self, struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_stream,  ::capnp::rpc::twoparty::Side __pyx_v_side,  ::capnp::ReaderOptions __pyx_v_opts) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":2204
+  /* "capnp/lib/capnp.pyx":2270
  * 
  *     cdef _init(self, _AsyncIoStream stream, Side side, schema_cpp.ReaderOptions opts):
  *         self.stream = stream             # <<<<<<<<<<<<<<
  *         self.thisptr = capnp.heap[C_TwoPartyVatNetwork](deref(stream.thisptr), side, opts)
  *         return self
  */
   __Pyx_INCREF(((PyObject *)__pyx_v_stream));
   __Pyx_GIVEREF(((PyObject *)__pyx_v_stream));
   __Pyx_GOTREF(__pyx_v_self->stream);
   __Pyx_DECREF(((PyObject *)__pyx_v_self->stream));
   __pyx_v_self->stream = __pyx_v_stream;
 
-  /* "capnp/lib/capnp.pyx":2205
+  /* "capnp/lib/capnp.pyx":2271
  *     cdef _init(self, _AsyncIoStream stream, Side side, schema_cpp.ReaderOptions opts):
  *         self.stream = stream
  *         self.thisptr = capnp.heap[C_TwoPartyVatNetwork](deref(stream.thisptr), side, opts)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr =  ::kj::heap< ::capnp::TwoPartyVatNetwork>((*__pyx_v_stream->thisptr), __pyx_v_side, __pyx_v_opts);
 
-  /* "capnp/lib/capnp.pyx":2206
+  /* "capnp/lib/capnp.pyx":2272
  *         self.stream = stream
  *         self.thisptr = capnp.heap[C_TwoPartyVatNetwork](deref(stream.thisptr), side, opts)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2203
+  /* "capnp/lib/capnp.pyx":2269
  *         self.thisptr = Own[C_TwoPartyVatNetwork]()
  * 
  *     cdef _init(self, _AsyncIoStream stream, Side side, schema_cpp.ReaderOptions opts):             # <<<<<<<<<<<<<<
  *         self.stream = stream
  *         self.thisptr = capnp.heap[C_TwoPartyVatNetwork](deref(stream.thisptr), side, opts)
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2208
+/* "capnp/lib/capnp.pyx":2274
  *         return self
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return _voidpromise_to_asyncio(deref(self.thisptr).onDisconnect())
  * 
  */
 
@@ -52954,15 +53561,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_on_disconnect); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2208, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_on_disconnect); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2274, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_19_TwoPartyVatNetwork_3on_disconnect)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -52971,15 +53578,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2208, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2274, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -52992,29 +53599,29 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2209
+  /* "capnp/lib/capnp.pyx":2275
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  *         return _voidpromise_to_asyncio(deref(self.thisptr).onDisconnect())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__voidpromise_to_asyncio((*__pyx_v_self->thisptr).onDisconnect()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2209, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__voidpromise_to_asyncio((*__pyx_v_self->thisptr).onDisconnect()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2275, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2208
+  /* "capnp/lib/capnp.pyx":2274
  *         return self
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return _voidpromise_to_asyncio(deref(self.thisptr).onDisconnect())
  * 
  */
 
@@ -53053,18 +53660,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("on_disconnect", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_19_TwoPartyVatNetwork_on_disconnect(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2208, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2274, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2208, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2274, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -53189,19 +53796,19 @@
   __Pyx_AddTraceback("capnp.lib.capnp._TwoPartyVatNetwork.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2225
+/* "capnp/lib/capnp.pyx":2291
  *     cdef cbool closed
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  */
 
 /* Python wrapper */
 static void __pyx_pw_5capnp_3lib_5capnp_14TwoPartyClient_1__dealloc__(PyObject *__pyx_v_self); /*proto*/
 static void __pyx_pw_5capnp_3lib_5capnp_14TwoPartyClient_1__dealloc__(PyObject *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
@@ -53212,36 +53819,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_14TwoPartyClient___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyClient *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":2228
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+  /* "capnp/lib/capnp.pyx":2294
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  *         self.thisptr = Own[RpcSystem]()             # <<<<<<<<<<<<<<
  * 
  *     def close(self):
  */
   __pyx_v_self->thisptr =  ::kj::Own< ::capnp::RpcSystem<capnp::rpc::twoparty::SturdyRefHostId>> ();
 
-  /* "capnp/lib/capnp.pyx":2225
+  /* "capnp/lib/capnp.pyx":2291
  *     cdef cbool closed
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2230
+/* "capnp/lib/capnp.pyx":2296
  *         self.thisptr = Own[RpcSystem]()
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         self.closed = True
  *         self.thisptr = Own[RpcSystem]()
  */
 
@@ -53266,59 +53873,59 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("close", 0);
 
-  /* "capnp/lib/capnp.pyx":2231
+  /* "capnp/lib/capnp.pyx":2297
  * 
  *     def close(self):
  *         self.closed = True             # <<<<<<<<<<<<<<
  *         self.thisptr = Own[RpcSystem]()
  *         self._network.close()
  */
   __pyx_v_self->closed = 1;
 
-  /* "capnp/lib/capnp.pyx":2232
+  /* "capnp/lib/capnp.pyx":2298
  *     def close(self):
  *         self.closed = True
  *         self.thisptr = Own[RpcSystem]()             # <<<<<<<<<<<<<<
  *         self._network.close()
  * 
  */
   __pyx_v_self->thisptr =  ::kj::Own< ::capnp::RpcSystem<capnp::rpc::twoparty::SturdyRefHostId>> ();
 
-  /* "capnp/lib/capnp.pyx":2233
+  /* "capnp/lib/capnp.pyx":2299
  *         self.closed = True
  *         self.thisptr = Own[RpcSystem]()
  *         self._network.close()             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, socket=None, traversal_limit_in_words=None, nesting_limit=None):
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->_network), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2233, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->_network), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2299, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2233, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2299, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2230
+  /* "capnp/lib/capnp.pyx":2296
  *         self.thisptr = Own[RpcSystem]()
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         self.closed = True
  *         self.thisptr = Own[RpcSystem]()
  */
 
@@ -53333,15 +53940,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2235
+/* "capnp/lib/capnp.pyx":2301
  *         self._network.close()
  * 
  *     def __init__(self, socket=None, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)
  */
 
@@ -53393,15 +54000,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 2235, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 2301, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -53413,15 +54020,15 @@
     }
     __pyx_v_socket = values[0];
     __pyx_v_traversal_limit_in_words = values[1];
     __pyx_v_nesting_limit = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2235, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2301, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp.TwoPartyClient.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14TwoPartyClient_4__init__(((struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyClient *)__pyx_v_self), __pyx_v_socket, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -53441,134 +54048,134 @@
   int __pyx_t_4;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":2236
+  /* "capnp/lib/capnp.pyx":2302
  * 
  *     def __init__(self, socket=None, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()             # <<<<<<<<<<<<<<
  *         loop.active_rpcs.add(self)
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  */
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2236, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2302, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_loop = ((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2237
+  /* "capnp/lib/capnp.pyx":2303
  *     def __init__(self, socket=None, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_loop->active_rpcs, __pyx_n_s_add); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2237, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_loop->active_rpcs, __pyx_n_s_add); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2303, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, ((PyObject *)__pyx_v_self)) : __Pyx_PyObject_CallOneArg(__pyx_t_2, ((PyObject *)__pyx_v_self));
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2237, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2303, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2238
+  /* "capnp/lib/capnp.pyx":2304
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  * 
  *         if isinstance(socket, _AsyncIoStream):
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":2240
+  /* "capnp/lib/capnp.pyx":2306
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  *         if isinstance(socket, _AsyncIoStream):             # <<<<<<<<<<<<<<
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.CLIENT, opts)
  *         else:
  */
   __pyx_t_4 = __Pyx_TypeCheck(__pyx_v_socket, __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream); 
   __pyx_t_5 = (__pyx_t_4 != 0);
   if (likely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":2241
+    /* "capnp/lib/capnp.pyx":2307
  * 
  *         if isinstance(socket, _AsyncIoStream):
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.CLIENT, opts)             # <<<<<<<<<<<<<<
  *         else:
  *             raise ValueError(f"Argument socket should be a AsyncIoStream, was {type(socket)}")
  */
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2241, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2307, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_v_socket) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_socket, __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream))))) __PYX_ERR(0, 2241, __pyx_L1_error)
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__TwoPartyVatNetwork *)((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_1), ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)__pyx_v_socket),  ::capnp::rpc::twoparty::Side::CLIENT, __pyx_v_opts); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2241, __pyx_L1_error)
+    if (!(likely(((__pyx_v_socket) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_socket, __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream))))) __PYX_ERR(0, 2307, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__TwoPartyVatNetwork *)((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_1), ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)__pyx_v_socket),  ::capnp::rpc::twoparty::Side::CLIENT, __pyx_v_opts); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2307, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork))))) __PYX_ERR(0, 2241, __pyx_L1_error)
+    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork))))) __PYX_ERR(0, 2307, __pyx_L1_error)
     __Pyx_GIVEREF(__pyx_t_2);
     __Pyx_GOTREF(__pyx_v_self->_network);
     __Pyx_DECREF(((PyObject *)__pyx_v_self->_network));
     __pyx_v_self->_network = ((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2240
+    /* "capnp/lib/capnp.pyx":2306
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  *         if isinstance(socket, _AsyncIoStream):             # <<<<<<<<<<<<<<
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.CLIENT, opts)
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":2243
+  /* "capnp/lib/capnp.pyx":2309
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.CLIENT, opts)
  *         else:
  *             raise ValueError(f"Argument socket should be a AsyncIoStream, was {type(socket)}")             # <<<<<<<<<<<<<<
  * 
  *         self.thisptr = capnp.heap[RpcSystem](makeRpcClient(deref(self._network.thisptr)))
  */
   /*else*/ {
-    __pyx_t_2 = __Pyx_PyObject_FormatSimple(((PyObject *)Py_TYPE(__pyx_v_socket)), __pyx_empty_unicode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2243, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_FormatSimple(((PyObject *)Py_TYPE(__pyx_v_socket)), __pyx_empty_unicode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2309, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_1 = __Pyx_PyUnicode_Concat(__pyx_kp_u_Argument_socket_should_be_a_Asyn, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2243, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyUnicode_Concat(__pyx_kp_u_Argument_socket_should_be_a_Asyn, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2309, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2243, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2309, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 2243, __pyx_L1_error)
+    __PYX_ERR(0, 2309, __pyx_L1_error)
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":2245
+  /* "capnp/lib/capnp.pyx":2311
  *             raise ValueError(f"Argument socket should be a AsyncIoStream, was {type(socket)}")
  * 
  *         self.thisptr = capnp.heap[RpcSystem](makeRpcClient(deref(self._network.thisptr)))             # <<<<<<<<<<<<<<
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  */
   __pyx_v_self->thisptr =  ::kj::heap< ::capnp::RpcSystem<capnp::rpc::twoparty::SturdyRefHostId>>( ::capnp::makeRpcClient((*__pyx_v_self->_network->thisptr)));
 
-  /* "capnp/lib/capnp.pyx":2235
+  /* "capnp/lib/capnp.pyx":2301
  *         self._network.close()
  * 
  *     def __init__(self, socket=None, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)
  */
 
@@ -53583,15 +54190,15 @@
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_loop);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2247
+/* "capnp/lib/capnp.pyx":2313
  *         self.thisptr = capnp.heap[RpcSystem](makeRpcClient(deref(self._network.thisptr)))
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError("This client is closed")
  */
 
@@ -53613,15 +54220,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_bootstrap); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2247, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_bootstrap); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2313, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14TwoPartyClient_7bootstrap)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -53630,15 +54237,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2247, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2313, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -53651,64 +54258,64 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2248
+  /* "capnp/lib/capnp.pyx":2314
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("This client is closed")
  *         return _CapabilityClient()._init(helpers.bootstrapHelper(deref(self.thisptr)), self)
  */
   __pyx_t_5 = (__pyx_v_self->closed != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":2249
+    /* "capnp/lib/capnp.pyx":2315
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  *         if self.closed:
  *             raise RuntimeError("This client is closed")             # <<<<<<<<<<<<<<
  *         return _CapabilityClient()._init(helpers.bootstrapHelper(deref(self.thisptr)), self)
  * 
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__59, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2249, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__59, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2315, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 2249, __pyx_L1_error)
+    __PYX_ERR(0, 2315, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2248
+    /* "capnp/lib/capnp.pyx":2314
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("This client is closed")
  *         return _CapabilityClient()._init(helpers.bootstrapHelper(deref(self.thisptr)), self)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2250
+  /* "capnp/lib/capnp.pyx":2316
  *         if self.closed:
  *             raise RuntimeError("This client is closed")
  *         return _CapabilityClient()._init(helpers.bootstrapHelper(deref(self.thisptr)), self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__CapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2250, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__CapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2316, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__CapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *)__pyx_t_1), bootstrapHelper((*__pyx_v_self->thisptr)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2250, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__CapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *)__pyx_t_1), bootstrapHelper((*__pyx_v_self->thisptr)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2316, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2247
+  /* "capnp/lib/capnp.pyx":2313
  *         self.thisptr = capnp.heap[RpcSystem](makeRpcClient(deref(self._network.thisptr)))
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError("This client is closed")
  */
 
@@ -53747,18 +54354,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("bootstrap", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14TwoPartyClient_bootstrap(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2247, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2313, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2247, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2313, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -53768,15 +54375,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2252
+/* "capnp/lib/capnp.pyx":2318
  *         return _CapabilityClient()._init(helpers.bootstrapHelper(deref(self.thisptr)), self)
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError("This client is closed")
  */
 
@@ -53798,15 +54405,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_on_disconnect); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2252, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_on_disconnect); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2318, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14TwoPartyClient_9on_disconnect)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -53815,15 +54422,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2252, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2318, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -53836,67 +54443,67 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2253
+  /* "capnp/lib/capnp.pyx":2319
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("This client is closed")
  *         return self._network.on_disconnect()
  */
   __pyx_t_5 = (__pyx_v_self->closed != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":2254
+    /* "capnp/lib/capnp.pyx":2320
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  *         if self.closed:
  *             raise RuntimeError("This client is closed")             # <<<<<<<<<<<<<<
  *         return self._network.on_disconnect()
  * 
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__59, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2254, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__59, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2320, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 2254, __pyx_L1_error)
+    __PYX_ERR(0, 2320, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2253
+    /* "capnp/lib/capnp.pyx":2319
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("This client is closed")
  *         return self._network.on_disconnect()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2255
+  /* "capnp/lib/capnp.pyx":2321
  *         if self.closed:
  *             raise RuntimeError("This client is closed")
  *         return self._network.on_disconnect()             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_v_self->_network->__pyx_vtab)->on_disconnect(__pyx_v_self->_network, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2255, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2321, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2255, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2321, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2252
+  /* "capnp/lib/capnp.pyx":2318
  *         return _CapabilityClient()._init(helpers.bootstrapHelper(deref(self.thisptr)), self)
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError("This client is closed")
  */
 
@@ -53935,18 +54542,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("on_disconnect", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14TwoPartyClient_on_disconnect(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2252, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2318, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2252, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2318, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -54071,19 +54678,19 @@
   __Pyx_AddTraceback("capnp.lib.capnp.TwoPartyClient.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2272
+/* "capnp/lib/capnp.pyx":2338
  *     cdef cbool closed
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  */
 
 /* Python wrapper */
 static void __pyx_pw_5capnp_3lib_5capnp_14TwoPartyServer_1__dealloc__(PyObject *__pyx_v_self); /*proto*/
 static void __pyx_pw_5capnp_3lib_5capnp_14TwoPartyServer_1__dealloc__(PyObject *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
@@ -54094,36 +54701,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_14TwoPartyServer___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyServer *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":2275
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+  /* "capnp/lib/capnp.pyx":2341
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  *         self.thisptr = Own[RpcSystem]()             # <<<<<<<<<<<<<<
  * 
  *     def close(self):
  */
   __pyx_v_self->thisptr =  ::kj::Own< ::capnp::RpcSystem<capnp::rpc::twoparty::SturdyRefHostId>> ();
 
-  /* "capnp/lib/capnp.pyx":2272
+  /* "capnp/lib/capnp.pyx":2338
  *     cdef cbool closed
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2277
+/* "capnp/lib/capnp.pyx":2343
  *         self.thisptr = Own[RpcSystem]()
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         self.closed = True
  *         self.thisptr = Own[RpcSystem]()
  */
 
@@ -54148,59 +54755,59 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("close", 0);
 
-  /* "capnp/lib/capnp.pyx":2278
+  /* "capnp/lib/capnp.pyx":2344
  * 
  *     def close(self):
  *         self.closed = True             # <<<<<<<<<<<<<<
  *         self.thisptr = Own[RpcSystem]()
  *         self._network.close()
  */
   __pyx_v_self->closed = 1;
 
-  /* "capnp/lib/capnp.pyx":2279
+  /* "capnp/lib/capnp.pyx":2345
  *     def close(self):
  *         self.closed = True
  *         self.thisptr = Own[RpcSystem]()             # <<<<<<<<<<<<<<
  *         self._network.close()
  * 
  */
   __pyx_v_self->thisptr =  ::kj::Own< ::capnp::RpcSystem<capnp::rpc::twoparty::SturdyRefHostId>> ();
 
-  /* "capnp/lib/capnp.pyx":2280
+  /* "capnp/lib/capnp.pyx":2346
  *         self.closed = True
  *         self.thisptr = Own[RpcSystem]()
  *         self._network.close()             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, socket=None, bootstrap=None, traversal_limit_in_words=None, nesting_limit=None):
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->_network), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2280, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->_network), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2346, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2280, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2346, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2277
+  /* "capnp/lib/capnp.pyx":2343
  *         self.thisptr = Own[RpcSystem]()
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         self.closed = True
  *         self.thisptr = Own[RpcSystem]()
  */
 
@@ -54215,15 +54822,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2282
+/* "capnp/lib/capnp.pyx":2348
  *         self._network.close()
  * 
  *     def __init__(self, socket=None, bootstrap=None, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)
  */
 
@@ -54285,15 +54892,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 2282, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 2348, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -54308,15 +54915,15 @@
     __pyx_v_socket = values[0];
     __pyx_v_bootstrap = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2282, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2348, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp.TwoPartyServer.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14TwoPartyServer_4__init__(((struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyServer *)__pyx_v_self), __pyx_v_socket, __pyx_v_bootstrap, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -54337,195 +54944,195 @@
   int __pyx_t_4;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":2283
+  /* "capnp/lib/capnp.pyx":2349
  * 
  *     def __init__(self, socket=None, bootstrap=None, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()             # <<<<<<<<<<<<<<
  *         loop.active_rpcs.add(self)
  *         if not bootstrap:
  */
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2283, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2349, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_loop = ((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2284
+  /* "capnp/lib/capnp.pyx":2350
  *     def __init__(self, socket=None, bootstrap=None, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)             # <<<<<<<<<<<<<<
  *         if not bootstrap:
  *             raise KjException("You must provide a bootstrap interface to a server constructor.")
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_loop->active_rpcs, __pyx_n_s_add); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2284, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_loop->active_rpcs, __pyx_n_s_add); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2350, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, ((PyObject *)__pyx_v_self)) : __Pyx_PyObject_CallOneArg(__pyx_t_2, ((PyObject *)__pyx_v_self));
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2284, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2350, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2285
+  /* "capnp/lib/capnp.pyx":2351
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)
  *         if not bootstrap:             # <<<<<<<<<<<<<<
  *             raise KjException("You must provide a bootstrap interface to a server constructor.")
  * 
  */
-  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_bootstrap); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 2285, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_v_bootstrap); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 2351, __pyx_L1_error)
   __pyx_t_5 = ((!__pyx_t_4) != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":2286
+    /* "capnp/lib/capnp.pyx":2352
  *         loop.active_rpcs.add(self)
  *         if not bootstrap:
  *             raise KjException("You must provide a bootstrap interface to a server constructor.")             # <<<<<<<<<<<<<<
  * 
  *         opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2286, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_KjException); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2352, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_kp_s_You_must_provide_a_bootstrap_int) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_You_must_provide_a_bootstrap_int);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2286, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2352, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 2286, __pyx_L1_error)
+    __PYX_ERR(0, 2352, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2285
+    /* "capnp/lib/capnp.pyx":2351
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)
  *         if not bootstrap:             # <<<<<<<<<<<<<<
  *             raise KjException("You must provide a bootstrap interface to a server constructor.")
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2288
+  /* "capnp/lib/capnp.pyx":2354
  *             raise KjException("You must provide a bootstrap interface to a server constructor.")
  * 
  *         opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         if isinstance(socket, _AsyncIoStream):
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.SERVER, opts)
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":2289
+  /* "capnp/lib/capnp.pyx":2355
  * 
  *         opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         if isinstance(socket, _AsyncIoStream):             # <<<<<<<<<<<<<<
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.SERVER, opts)
  *         else:
  */
   __pyx_t_5 = __Pyx_TypeCheck(__pyx_v_socket, __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream); 
   __pyx_t_4 = (__pyx_t_5 != 0);
   if (likely(__pyx_t_4)) {
 
-    /* "capnp/lib/capnp.pyx":2290
+    /* "capnp/lib/capnp.pyx":2356
  *         opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         if isinstance(socket, _AsyncIoStream):
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.SERVER, opts)             # <<<<<<<<<<<<<<
  *         else:
  *             raise ValueError(f"Argument socket should be a AsyncIoStream, was {type(socket)}")
  */
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2290, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2356, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_v_socket) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_socket, __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream))))) __PYX_ERR(0, 2290, __pyx_L1_error)
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__TwoPartyVatNetwork *)((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_1), ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)__pyx_v_socket),  ::capnp::rpc::twoparty::Side::SERVER, __pyx_v_opts); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2290, __pyx_L1_error)
+    if (!(likely(((__pyx_v_socket) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_socket, __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream))))) __PYX_ERR(0, 2356, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__TwoPartyVatNetwork *)((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_1), ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)__pyx_v_socket),  ::capnp::rpc::twoparty::Side::SERVER, __pyx_v_opts); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2356, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork))))) __PYX_ERR(0, 2290, __pyx_L1_error)
+    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork))))) __PYX_ERR(0, 2356, __pyx_L1_error)
     __Pyx_GIVEREF(__pyx_t_2);
     __Pyx_GOTREF(__pyx_v_self->_network);
     __Pyx_DECREF(((PyObject *)__pyx_v_self->_network));
     __pyx_v_self->_network = ((struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2289
+    /* "capnp/lib/capnp.pyx":2355
  * 
  *         opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         if isinstance(socket, _AsyncIoStream):             # <<<<<<<<<<<<<<
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.SERVER, opts)
  *         else:
  */
     goto __pyx_L4;
   }
 
-  /* "capnp/lib/capnp.pyx":2292
+  /* "capnp/lib/capnp.pyx":2358
  *             self._network = _TwoPartyVatNetwork()._init(socket, capnp.SERVER, opts)
  *         else:
  *             raise ValueError(f"Argument socket should be a AsyncIoStream, was {type(socket)}")             # <<<<<<<<<<<<<<
  * 
  *         cdef _InterfaceSchema schema = bootstrap.schema
  */
   /*else*/ {
-    __pyx_t_2 = __Pyx_PyObject_FormatSimple(((PyObject *)Py_TYPE(__pyx_v_socket)), __pyx_empty_unicode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2292, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_FormatSimple(((PyObject *)Py_TYPE(__pyx_v_socket)), __pyx_empty_unicode); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2358, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_1 = __Pyx_PyUnicode_Concat(__pyx_kp_u_Argument_socket_should_be_a_Asyn, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2292, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyUnicode_Concat(__pyx_kp_u_Argument_socket_should_be_a_Asyn, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2358, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2292, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2358, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 2292, __pyx_L1_error)
+    __PYX_ERR(0, 2358, __pyx_L1_error)
   }
   __pyx_L4:;
 
-  /* "capnp/lib/capnp.pyx":2294
+  /* "capnp/lib/capnp.pyx":2360
  *             raise ValueError(f"Argument socket should be a AsyncIoStream, was {type(socket)}")
  * 
  *         cdef _InterfaceSchema schema = bootstrap.schema             # <<<<<<<<<<<<<<
  *         self.thisptr = capnp.heap[RpcSystem](makeRpcServer(
  *             deref(self._network.thisptr),
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_bootstrap, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2294, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_bootstrap, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2360, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2294, __pyx_L1_error)
+  if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2360, __pyx_L1_error)
   __pyx_v_schema = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":2295
+  /* "capnp/lib/capnp.pyx":2361
  * 
  *         cdef _InterfaceSchema schema = bootstrap.schema
  *         self.thisptr = capnp.heap[RpcSystem](makeRpcServer(             # <<<<<<<<<<<<<<
  *             deref(self._network.thisptr),
  *             C_DynamicCapability.Client(capnp.heap[PythonInterfaceDynamicImpl](
  */
   __pyx_v_self->thisptr =  ::kj::heap< ::capnp::RpcSystem<capnp::rpc::twoparty::SturdyRefHostId>>( ::capnp::makeRpcServer((*__pyx_v_self->_network->thisptr), (( ::capnp::Capability::Client) ::capnp::DynamicCapability::Client( ::kj::heap<PythonInterfaceDynamicImpl>(__pyx_v_schema->thisptr,  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_bootstrap)),  ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_loop)))))));
 
-  /* "capnp/lib/capnp.pyx":2282
+  /* "capnp/lib/capnp.pyx":2348
  *         self._network.close()
  * 
  *     def __init__(self, socket=None, bootstrap=None, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_rpcs.add(self)
  */
 
@@ -54541,15 +55148,15 @@
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_loop);
   __Pyx_XDECREF((PyObject *)__pyx_v_schema);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2302
+/* "capnp/lib/capnp.pyx":2368
  *                 capnp.heap[PyRefCounter](<PyObject*>loop)))))
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError("This server is closed")
  */
 
@@ -54571,15 +55178,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_bootstrap); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2302, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_bootstrap); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2368, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14TwoPartyServer_7bootstrap)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -54588,15 +55195,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2302, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2368, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -54609,64 +55216,64 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2303
+  /* "capnp/lib/capnp.pyx":2369
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("This server is closed")
  *         return _CapabilityClient()._init(helpers.bootstrapHelperServer(deref(self.thisptr)), self)
  */
   __pyx_t_5 = (__pyx_v_self->closed != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":2304
+    /* "capnp/lib/capnp.pyx":2370
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  *         if self.closed:
  *             raise RuntimeError("This server is closed")             # <<<<<<<<<<<<<<
  *         return _CapabilityClient()._init(helpers.bootstrapHelperServer(deref(self.thisptr)), self)
  * 
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__62, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2304, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__62, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2370, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 2304, __pyx_L1_error)
+    __PYX_ERR(0, 2370, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2303
+    /* "capnp/lib/capnp.pyx":2369
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("This server is closed")
  *         return _CapabilityClient()._init(helpers.bootstrapHelperServer(deref(self.thisptr)), self)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2305
+  /* "capnp/lib/capnp.pyx":2371
  *         if self.closed:
  *             raise RuntimeError("This server is closed")
  *         return _CapabilityClient()._init(helpers.bootstrapHelperServer(deref(self.thisptr)), self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__CapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2305, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__CapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2371, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__CapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *)__pyx_t_1), bootstrapHelperServer((*__pyx_v_self->thisptr)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2305, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__CapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *)__pyx_t_1), bootstrapHelperServer((*__pyx_v_self->thisptr)), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2371, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2302
+  /* "capnp/lib/capnp.pyx":2368
  *                 capnp.heap[PyRefCounter](<PyObject*>loop)))))
  * 
  *     cpdef bootstrap(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError("This server is closed")
  */
 
@@ -54705,18 +55312,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("bootstrap", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14TwoPartyServer_bootstrap(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2302, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2368, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2302, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2368, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -54726,15 +55333,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2307
+/* "capnp/lib/capnp.pyx":2373
  *         return _CapabilityClient()._init(helpers.bootstrapHelperServer(deref(self.thisptr)), self)
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError("This server is closed")
  */
 
@@ -54756,15 +55363,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_on_disconnect); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2307, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_on_disconnect); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2373, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14TwoPartyServer_9on_disconnect)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -54773,15 +55380,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2307, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2373, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -54794,69 +55401,69 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2308
+  /* "capnp/lib/capnp.pyx":2374
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("This server is closed")
  *         return _voidpromise_to_asyncio(deref(self._network.thisptr).onDisconnect()
  */
   __pyx_t_5 = (__pyx_v_self->closed != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":2309
+    /* "capnp/lib/capnp.pyx":2375
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  *         if self.closed:
  *             raise RuntimeError("This server is closed")             # <<<<<<<<<<<<<<
  *         return _voidpromise_to_asyncio(deref(self._network.thisptr).onDisconnect()
  *                                        .attach(capnp.heap[PyRefCounter](<PyObject*>self)))
  */
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__62, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2309, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__62, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2375, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 2309, __pyx_L1_error)
+    __PYX_ERR(0, 2375, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2308
+    /* "capnp/lib/capnp.pyx":2374
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:
  *         if self.closed:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("This server is closed")
  *         return _voidpromise_to_asyncio(deref(self._network.thisptr).onDisconnect()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2310
+  /* "capnp/lib/capnp.pyx":2376
  *         if self.closed:
  *             raise RuntimeError("This server is closed")
  *         return _voidpromise_to_asyncio(deref(self._network.thisptr).onDisconnect()             # <<<<<<<<<<<<<<
  *                                        .attach(capnp.heap[PyRefCounter](<PyObject*>self)))
  * 
  */
   __Pyx_XDECREF(__pyx_r);
 
-  /* "capnp/lib/capnp.pyx":2311
+  /* "capnp/lib/capnp.pyx":2377
  *             raise RuntimeError("This server is closed")
  *         return _voidpromise_to_asyncio(deref(self._network.thisptr).onDisconnect()
  *                                        .attach(capnp.heap[PyRefCounter](<PyObject*>self)))             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__voidpromise_to_asyncio((*__pyx_v_self->_network->thisptr).onDisconnect().attach( ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_self)))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2310, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__voidpromise_to_asyncio((*__pyx_v_self->_network->thisptr).onDisconnect().attach( ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_self)))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2376, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2307
+  /* "capnp/lib/capnp.pyx":2373
  *         return _CapabilityClient()._init(helpers.bootstrapHelperServer(deref(self.thisptr)), self)
  * 
  *     cpdef on_disconnect(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         if self.closed:
  *             raise RuntimeError("This server is closed")
  */
 
@@ -54895,18 +55502,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("on_disconnect", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14TwoPartyServer_on_disconnect(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2307, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2373, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2307, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2373, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -55031,15 +55638,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp.TwoPartyServer.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2320
+/* "capnp/lib/capnp.pyx":2386
  *     cdef object protocol
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_streams.add(self)
  */
 
@@ -55067,62 +55674,62 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":2321
+  /* "capnp/lib/capnp.pyx":2387
  * 
  *     def __init__(self):
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()             # <<<<<<<<<<<<<<
  *         loop.active_streams.add(self)
  *         self.close_called = False
  */
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2321, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2387, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_loop = ((struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2322
+  /* "capnp/lib/capnp.pyx":2388
  *     def __init__(self):
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_streams.add(self)             # <<<<<<<<<<<<<<
  *         self.close_called = False
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_loop->active_streams, __pyx_n_s_add); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2322, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_loop->active_streams, __pyx_n_s_add); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2388, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, ((PyObject *)__pyx_v_self)) : __Pyx_PyObject_CallOneArg(__pyx_t_2, ((PyObject *)__pyx_v_self));
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2322, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2388, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2323
+  /* "capnp/lib/capnp.pyx":2389
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_streams.add(self)
  *         self.close_called = False             # <<<<<<<<<<<<<<
  * 
  *     def _post_init(self, protocol):
  */
   __pyx_v_self->close_called = 0;
 
-  /* "capnp/lib/capnp.pyx":2320
+  /* "capnp/lib/capnp.pyx":2386
  *     cdef object protocol
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         cdef _EventLoop loop = C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop.active_streams.add(self)
  */
 
@@ -55137,15 +55744,15 @@
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_loop);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2325
+/* "capnp/lib/capnp.pyx":2391
  *         self.close_called = False
  * 
  *     def _post_init(self, protocol):             # <<<<<<<<<<<<<<
  *         if not self.close_called:
  *             self.thisptr = <Own[AsyncIoStream]>capnp.heap[PyAsyncIoStream](
  */
 
@@ -55171,89 +55778,89 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_post_init", 0);
 
-  /* "capnp/lib/capnp.pyx":2326
+  /* "capnp/lib/capnp.pyx":2392
  * 
  *     def _post_init(self, protocol):
  *         if not self.close_called:             # <<<<<<<<<<<<<<
  *             self.thisptr = <Own[AsyncIoStream]>capnp.heap[PyAsyncIoStream](
  *                 capnp.heap[PyRefCounter](<PyObject*>protocol))
  */
   __pyx_t_1 = ((!(__pyx_v_self->close_called != 0)) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2327
+    /* "capnp/lib/capnp.pyx":2393
  *     def _post_init(self, protocol):
  *         if not self.close_called:
  *             self.thisptr = <Own[AsyncIoStream]>capnp.heap[PyAsyncIoStream](             # <<<<<<<<<<<<<<
  *                 capnp.heap[PyRefCounter](<PyObject*>protocol))
  *             self.protocol = protocol
  */
     __pyx_v_self->thisptr = (( ::kj::Own< ::kj::AsyncIoStream> ) ::kj::heap<PyAsyncIoStream>( ::kj::heap<PyRefCounter>(((PyObject *)__pyx_v_protocol))));
 
-    /* "capnp/lib/capnp.pyx":2329
+    /* "capnp/lib/capnp.pyx":2395
  *             self.thisptr = <Own[AsyncIoStream]>capnp.heap[PyAsyncIoStream](
  *                 capnp.heap[PyRefCounter](<PyObject*>protocol))
  *             self.protocol = protocol             # <<<<<<<<<<<<<<
  *         else:
  *             protocol.transport.close()
  */
     __Pyx_INCREF(__pyx_v_protocol);
     __Pyx_GIVEREF(__pyx_v_protocol);
     __Pyx_GOTREF(__pyx_v_self->protocol);
     __Pyx_DECREF(__pyx_v_self->protocol);
     __pyx_v_self->protocol = __pyx_v_protocol;
 
-    /* "capnp/lib/capnp.pyx":2326
+    /* "capnp/lib/capnp.pyx":2392
  * 
  *     def _post_init(self, protocol):
  *         if not self.close_called:             # <<<<<<<<<<<<<<
  *             self.thisptr = <Own[AsyncIoStream]>capnp.heap[PyAsyncIoStream](
  *                 capnp.heap[PyRefCounter](<PyObject*>protocol))
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":2331
+  /* "capnp/lib/capnp.pyx":2397
  *             self.protocol = protocol
  *         else:
  *             protocol.transport.close()             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   /*else*/ {
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_protocol, __pyx_n_s_transport); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2331, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_protocol, __pyx_n_s_transport); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2397, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_close); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2331, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_close); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2397, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2331, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2397, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":2325
+  /* "capnp/lib/capnp.pyx":2391
  *         self.close_called = False
  * 
  *     def _post_init(self, protocol):             # <<<<<<<<<<<<<<
  *         if not self.close_called:
  *             self.thisptr = <Own[AsyncIoStream]>capnp.heap[PyAsyncIoStream](
  */
 
@@ -55268,19 +55875,19 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2333
+/* "capnp/lib/capnp.pyx":2399
  *             protocol.transport.close()
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  */
 
 /* Python wrapper */
 static void __pyx_pw_5capnp_3lib_5capnp_14_AsyncIoStream_5__dealloc__(PyObject *__pyx_v_self); /*proto*/
 static void __pyx_pw_5capnp_3lib_5capnp_14_AsyncIoStream_5__dealloc__(PyObject *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
@@ -55291,36 +55898,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_4__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":2336
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+  /* "capnp/lib/capnp.pyx":2402
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  *         self.thisptr = Own[AsyncIoStream]()             # <<<<<<<<<<<<<<
  * 
  *     def close(self):
  */
   __pyx_v_self->thisptr =  ::kj::Own< ::kj::AsyncIoStream> ();
 
-  /* "capnp/lib/capnp.pyx":2333
+  /* "capnp/lib/capnp.pyx":2399
  *             protocol.transport.close()
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
- *         # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+ *         # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
  *         # appropriately
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2338
+/* "capnp/lib/capnp.pyx":2404
  *         self.thisptr = Own[AsyncIoStream]()
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         if self.protocol is None: # _post_init wasn't called yet
  *             self.close_called = True
  */
 
@@ -55348,136 +55955,136 @@
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("close", 0);
 
-  /* "capnp/lib/capnp.pyx":2339
+  /* "capnp/lib/capnp.pyx":2405
  * 
  *     def close(self):
  *         if self.protocol is None: # _post_init wasn't called yet             # <<<<<<<<<<<<<<
  *             self.close_called = True
  *         elif self.protocol.transport is not None and hasattr(self.protocol.transport, "close"):
  */
   __pyx_t_1 = (__pyx_v_self->protocol == Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2340
+    /* "capnp/lib/capnp.pyx":2406
  *     def close(self):
  *         if self.protocol is None: # _post_init wasn't called yet
  *             self.close_called = True             # <<<<<<<<<<<<<<
  *         elif self.protocol.transport is not None and hasattr(self.protocol.transport, "close"):
  *             self.protocol.transport.close()
  */
     __pyx_v_self->close_called = 1;
 
-    /* "capnp/lib/capnp.pyx":2339
+    /* "capnp/lib/capnp.pyx":2405
  * 
  *     def close(self):
  *         if self.protocol is None: # _post_init wasn't called yet             # <<<<<<<<<<<<<<
  *             self.close_called = True
  *         elif self.protocol.transport is not None and hasattr(self.protocol.transport, "close"):
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":2341
+  /* "capnp/lib/capnp.pyx":2407
  *         if self.protocol is None: # _post_init wasn't called yet
  *             self.close_called = True
  *         elif self.protocol.transport is not None and hasattr(self.protocol.transport, "close"):             # <<<<<<<<<<<<<<
  *             self.protocol.transport.close()
  *             # Call connection_lost immediately, instead of waiting for the transport to do it.
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->protocol, __pyx_n_s_transport); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2341, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->protocol, __pyx_n_s_transport); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2407, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_1 = (__pyx_t_3 != Py_None);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_4 = (__pyx_t_1 != 0);
   if (__pyx_t_4) {
   } else {
     __pyx_t_2 = __pyx_t_4;
     goto __pyx_L4_bool_binop_done;
   }
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->protocol, __pyx_n_s_transport); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2341, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->protocol, __pyx_n_s_transport); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2407, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_HasAttr(__pyx_t_3, __pyx_n_s_close); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2341, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_HasAttr(__pyx_t_3, __pyx_n_s_close); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2407, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_1 = (__pyx_t_4 != 0);
   __pyx_t_2 = __pyx_t_1;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2342
+    /* "capnp/lib/capnp.pyx":2408
  *             self.close_called = True
  *         elif self.protocol.transport is not None and hasattr(self.protocol.transport, "close"):
  *             self.protocol.transport.close()             # <<<<<<<<<<<<<<
  *             # Call connection_lost immediately, instead of waiting for the transport to do it.
- *             self.protocol.connection_lost("Stream is closing")
+ *             # TODO: This might be a questionable thing to do...
  */
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->protocol, __pyx_n_s_transport); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2342, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->protocol, __pyx_n_s_transport); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2408, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_close); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2342, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_close); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2408, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __pyx_t_5 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_6);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_6, function);
       }
     }
     __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2342, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2408, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":2344
- *             self.protocol.transport.close()
+    /* "capnp/lib/capnp.pyx":2411
  *             # Call connection_lost immediately, instead of waiting for the transport to do it.
+ *             # TODO: This might be a questionable thing to do...
  *             self.protocol.connection_lost("Stream is closing")             # <<<<<<<<<<<<<<
  * 
  *     async def wait_closed(self):
  */
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->protocol, __pyx_n_s_connection_lost); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2344, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->protocol, __pyx_n_s_connection_lost); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2411, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __pyx_t_5 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_6);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_6, function);
       }
     }
     __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_5, __pyx_kp_s_Stream_is_closing) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_kp_s_Stream_is_closing);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2344, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2411, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":2341
+    /* "capnp/lib/capnp.pyx":2407
  *         if self.protocol is None: # _post_init wasn't called yet
  *             self.close_called = True
  *         elif self.protocol.transport is not None and hasattr(self.protocol.transport, "close"):             # <<<<<<<<<<<<<<
  *             self.protocol.transport.close()
  *             # Call connection_lost immediately, instead of waiting for the transport to do it.
  */
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":2338
+  /* "capnp/lib/capnp.pyx":2404
  *         self.thisptr = Own[AsyncIoStream]()
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         if self.protocol is None: # _post_init wasn't called yet
  *             self.close_called = True
  */
 
@@ -55493,15 +56100,15 @@
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_10generator3(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2346
+/* "capnp/lib/capnp.pyx":2413
  *             self.protocol.connection_lost("Stream is closing")
  * 
  *     async def wait_closed(self):             # <<<<<<<<<<<<<<
  *         return await self.protocol.closed_future
  * 
  */
 
@@ -55527,23 +56134,23 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("wait_closed", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2346, __pyx_L1_error)
+    __PYX_ERR(0, 2413, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
   __Pyx_INCREF((PyObject *)__pyx_cur_scope->__pyx_v_self);
   __Pyx_GIVEREF((PyObject *)__pyx_cur_scope->__pyx_v_self);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_10generator3, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_wait_closed, __pyx_n_s_AsyncIoStream_wait_closed, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2346, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_10generator3, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_wait_closed, __pyx_n_s_AsyncIoStream_wait_closed, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2413, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -55569,50 +56176,50 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L4_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2346, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2413, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2347
+  /* "capnp/lib/capnp.pyx":2414
  * 
  *     async def wait_closed(self):
  *         return await self.protocol.closed_future             # <<<<<<<<<<<<<<
  * 
  *     @staticmethod
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self->protocol, __pyx_n_s_closed_future); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2347, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self->protocol, __pyx_n_s_closed_future); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2414, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_XGOTREF(__pyx_r);
   if (likely(__pyx_r)) {
     __Pyx_XGIVEREF(__pyx_r);
     __Pyx_RefNannyFinishContext();
     __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
     /* return from generator, awaiting value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L4_resume_from_await:;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2347, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2414, __pyx_L1_error)
     __pyx_t_1 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_1);
   } else {
     __pyx_t_1 = NULL;
-    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_1) < 0) __PYX_ERR(0, 2347, __pyx_L1_error)
+    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_1) < 0) __PYX_ERR(0, 2414, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
   }
   __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   goto __pyx_L0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":2346
+  /* "capnp/lib/capnp.pyx":2413
  *             self.protocol.connection_lost("Stream is closing")
  * 
  *     async def wait_closed(self):             # <<<<<<<<<<<<<<
  *         return await self.protocol.closed_future
  * 
  */
 
@@ -55628,15 +56235,15 @@
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_13generator4(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2350
+/* "capnp/lib/capnp.pyx":2417
  * 
  *     @staticmethod
  *     async def create_connection(host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection.
  * 
  */
 
@@ -55683,15 +56290,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_port);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "create_connection") < 0)) __PYX_ERR(0, 2350, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "create_connection") < 0)) __PYX_ERR(0, 2417, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
@@ -55700,30 +56307,30 @@
       }
     }
     __pyx_v_host = values[0];
     __pyx_v_port = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("create_connection", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2350, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("create_connection", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2417, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_CLEAR(__pyx_v_kwargs);
   __Pyx_AddTraceback("capnp.lib.capnp._AsyncIoStream.create_connection", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_11create_connection(__pyx_v_host, __pyx_v_port, __pyx_v_kwargs);
 
   /* function exit code */
   __Pyx_XDECREF(__pyx_v_kwargs);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2359
+/* "capnp/lib/capnp.pyx":2426
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)             # <<<<<<<<<<<<<<
  *         self._post_init(protocol)
  *         return self
  */
 
@@ -55746,15 +56353,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("lambda2", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2359, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2426, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -55763,15 +56370,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2350
+/* "capnp/lib/capnp.pyx":2417
  * 
  *     @staticmethod
  *     async def create_connection(host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection.
  * 
  */
 
@@ -55783,29 +56390,29 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("create_connection", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2350, __pyx_L1_error)
+    __PYX_ERR(0, 2417, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_host = __pyx_v_host;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_host);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_host);
   __pyx_cur_scope->__pyx_v_port = __pyx_v_port;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_port);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_port);
   __pyx_cur_scope->__pyx_v_kwargs = __pyx_v_kwargs;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_kwargs);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_kwargs);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_13generator4, __pyx_codeobj__65, (PyObject *) __pyx_cur_scope, __pyx_n_s_create_connection, __pyx_n_s_AsyncIoStream_create_connection, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2350, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_13generator4, __pyx_codeobj__65, (PyObject *) __pyx_cur_scope, __pyx_n_s_create_connection, __pyx_n_s_AsyncIoStream_create_connection, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2417, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -55835,117 +56442,117 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L4_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2350, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2417, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2356
+  /* "capnp/lib/capnp.pyx":2423
  *         See that function for documentation on the possible arguments.
  *         """
  *         cdef _AsyncIoStream self = _AsyncIoStream()             # <<<<<<<<<<<<<<
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_connection(
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2356, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2423, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2357
+  /* "capnp/lib/capnp.pyx":2424
  *         """
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()             # <<<<<<<<<<<<<<
  *         transport, protocol = await loop.create_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2357, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2424, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2357, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2424, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2357, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2424, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_loop = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2358
+  /* "capnp/lib/capnp.pyx":2425
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_connection(             # <<<<<<<<<<<<<<
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)
  *         self._post_init(protocol)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_loop, __pyx_n_s_create_connection); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2358, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_loop, __pyx_n_s_create_connection); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2425, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
 
-  /* "capnp/lib/capnp.pyx":2359
+  /* "capnp/lib/capnp.pyx":2426
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)             # <<<<<<<<<<<<<<
  *         self._post_init(protocol)
  *         return self
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_17create_connection_lambda2, 0, __pyx_n_s_create_connection_locals_lambda, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2359, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_17create_connection_lambda2, 0, __pyx_n_s_create_connection_locals_lambda, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2426, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":2358
+  /* "capnp/lib/capnp.pyx":2425
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_connection(             # <<<<<<<<<<<<<<
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)
  *         self._post_init(protocol)
  */
-  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2358, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2425, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3);
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_host);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_host);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_cur_scope->__pyx_v_host);
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_port);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_port);
   PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_cur_scope->__pyx_v_port);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2359
+  /* "capnp/lib/capnp.pyx":2426
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)             # <<<<<<<<<<<<<<
  *         self._post_init(protocol)
  *         return self
  */
-  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2359, __pyx_L1_error)
+  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2426, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":2358
+  /* "capnp/lib/capnp.pyx":2425
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_connection(             # <<<<<<<<<<<<<<
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)
  *         self._post_init(protocol)
  */
-  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2358, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2425, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_4);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_XGOTREF(__pyx_r);
@@ -55953,113 +56560,113 @@
     __Pyx_XGIVEREF(__pyx_r);
     __Pyx_RefNannyFinishContext();
     __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
     /* return from generator, awaiting value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L4_resume_from_await:;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2358, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2425, __pyx_L1_error)
     __pyx_t_4 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_4);
   } else {
     __pyx_t_4 = NULL;
-    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_4) < 0) __PYX_ERR(0, 2358, __pyx_L1_error)
+    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_4) < 0) __PYX_ERR(0, 2425, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
   }
   if ((likely(PyTuple_CheckExact(__pyx_t_4))) || (PyList_CheckExact(__pyx_t_4))) {
     PyObject* sequence = __pyx_t_4;
     Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
     if (unlikely(size != 2)) {
       if (size > 2) __Pyx_RaiseTooManyValuesError(2);
       else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-      __PYX_ERR(0, 2358, __pyx_L1_error)
+      __PYX_ERR(0, 2425, __pyx_L1_error)
     }
     #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
     if (likely(PyTuple_CheckExact(sequence))) {
       __pyx_t_3 = PyTuple_GET_ITEM(sequence, 0); 
       __pyx_t_2 = PyTuple_GET_ITEM(sequence, 1); 
     } else {
       __pyx_t_3 = PyList_GET_ITEM(sequence, 0); 
       __pyx_t_2 = PyList_GET_ITEM(sequence, 1); 
     }
     __Pyx_INCREF(__pyx_t_3);
     __Pyx_INCREF(__pyx_t_2);
     #else
-    __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2358, __pyx_L1_error)
+    __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2425, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2358, __pyx_L1_error)
+    __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2425, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     #endif
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   } else {
     Py_ssize_t index = -1;
-    __pyx_t_1 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2358, __pyx_L1_error)
+    __pyx_t_1 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2425, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_t_5 = Py_TYPE(__pyx_t_1)->tp_iternext;
     index = 0; __pyx_t_3 = __pyx_t_5(__pyx_t_1); if (unlikely(!__pyx_t_3)) goto __pyx_L5_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_3);
     index = 1; __pyx_t_2 = __pyx_t_5(__pyx_t_1); if (unlikely(!__pyx_t_2)) goto __pyx_L5_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_2);
-    if (__Pyx_IternextUnpackEndCheck(__pyx_t_5(__pyx_t_1), 2) < 0) __PYX_ERR(0, 2358, __pyx_L1_error)
+    if (__Pyx_IternextUnpackEndCheck(__pyx_t_5(__pyx_t_1), 2) < 0) __PYX_ERR(0, 2425, __pyx_L1_error)
     __pyx_t_5 = NULL;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     goto __pyx_L6_unpacking_done;
     __pyx_L5_unpacking_failed:;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_t_5 = NULL;
     if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-    __PYX_ERR(0, 2358, __pyx_L1_error)
+    __PYX_ERR(0, 2425, __pyx_L1_error)
     __pyx_L6_unpacking_done:;
   }
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_cur_scope->__pyx_v_transport = __pyx_t_3;
   __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_cur_scope->__pyx_v_protocol = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":2360
+  /* "capnp/lib/capnp.pyx":2427
  *         transport, protocol = await loop.create_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)
  *         self._post_init(protocol)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_cur_scope->__pyx_v_self), __pyx_n_s_post_init); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2360, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_cur_scope->__pyx_v_self), __pyx_n_s_post_init); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2427, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_4 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_cur_scope->__pyx_v_protocol) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_cur_scope->__pyx_v_protocol);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2360, __pyx_L1_error)
+  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2427, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":2361
+  /* "capnp/lib/capnp.pyx":2428
  *             lambda: _PyAsyncIoStreamProtocol(), host, port, **kwargs)
  *         self._post_init(protocol)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     @staticmethod
  */
   __Pyx_XDECREF(__pyx_r);
   __pyx_r = NULL; __Pyx_ReturnWithStopIteration(((PyObject *)__pyx_cur_scope->__pyx_v_self));
   goto __pyx_L0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":2350
+  /* "capnp/lib/capnp.pyx":2417
  * 
  *     @staticmethod
  *     async def create_connection(host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection.
  * 
  */
 
@@ -56078,15 +56685,15 @@
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_16generator5(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2364
+/* "capnp/lib/capnp.pyx":2431
  * 
  *     @staticmethod
  *     async def create_unix_connection(path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a Unix socket connection.
  * 
  */
 
@@ -56123,44 +56730,44 @@
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_path);
           if (value) { values[0] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "create_unix_connection") < 0)) __PYX_ERR(0, 2364, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "create_unix_connection") < 0)) __PYX_ERR(0, 2431, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_path = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("create_unix_connection", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2364, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("create_unix_connection", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2431, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_CLEAR(__pyx_v_kwargs);
   __Pyx_AddTraceback("capnp.lib.capnp._AsyncIoStream.create_unix_connection", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_14create_unix_connection(__pyx_v_path, __pyx_v_kwargs);
 
   /* function exit code */
   __Pyx_XDECREF(__pyx_v_kwargs);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2373
+/* "capnp/lib/capnp.pyx":2440
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_unix_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)             # <<<<<<<<<<<<<<
  *         self._post_init(protocol)
  *         return self
  */
 
@@ -56183,15 +56790,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("lambda3", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2373, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2440, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -56200,15 +56807,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2364
+/* "capnp/lib/capnp.pyx":2431
  * 
  *     @staticmethod
  *     async def create_unix_connection(path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a Unix socket connection.
  * 
  */
 
@@ -56220,26 +56827,26 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("create_unix_connection", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2364, __pyx_L1_error)
+    __PYX_ERR(0, 2431, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_path = __pyx_v_path;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_path);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_path);
   __pyx_cur_scope->__pyx_v_kwargs = __pyx_v_kwargs;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_kwargs);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_kwargs);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_16generator5, __pyx_codeobj__66, (PyObject *) __pyx_cur_scope, __pyx_n_s_create_unix_connection, __pyx_n_s_AsyncIoStream_create_unix_conne, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2364, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_16generator5, __pyx_codeobj__66, (PyObject *) __pyx_cur_scope, __pyx_n_s_create_unix_connection, __pyx_n_s_AsyncIoStream_create_unix_conne, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2431, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -56269,114 +56876,114 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L4_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2364, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2431, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2370
+  /* "capnp/lib/capnp.pyx":2437
  *         See that function for documentation on the possible arguments.
  *         """
  *         cdef _AsyncIoStream self = _AsyncIoStream()             # <<<<<<<<<<<<<<
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_unix_connection(
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2370, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2437, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2371
+  /* "capnp/lib/capnp.pyx":2438
  *         """
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()             # <<<<<<<<<<<<<<
  *         transport, protocol = await loop.create_unix_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2371, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2438, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2371, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2438, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2371, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2438, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_loop = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2372
+  /* "capnp/lib/capnp.pyx":2439
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_unix_connection(             # <<<<<<<<<<<<<<
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)
  *         self._post_init(protocol)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_loop, __pyx_n_s_create_unix_connection); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2372, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_loop, __pyx_n_s_create_unix_connection); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2439, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
 
-  /* "capnp/lib/capnp.pyx":2373
+  /* "capnp/lib/capnp.pyx":2440
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_unix_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)             # <<<<<<<<<<<<<<
  *         self._post_init(protocol)
  *         return self
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_22create_unix_connection_lambda3, 0, __pyx_n_s_create_unix_connection_locals_la, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2373, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_22create_unix_connection_lambda3, 0, __pyx_n_s_create_unix_connection_locals_la, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2440, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":2372
+  /* "capnp/lib/capnp.pyx":2439
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_unix_connection(             # <<<<<<<<<<<<<<
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)
  *         self._post_init(protocol)
  */
-  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2372, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2439, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3);
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_path);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_path);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_cur_scope->__pyx_v_path);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2373
+  /* "capnp/lib/capnp.pyx":2440
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_unix_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)             # <<<<<<<<<<<<<<
  *         self._post_init(protocol)
  *         return self
  */
-  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2373, __pyx_L1_error)
+  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2440, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":2372
+  /* "capnp/lib/capnp.pyx":2439
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  *         transport, protocol = await loop.create_unix_connection(             # <<<<<<<<<<<<<<
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)
  *         self._post_init(protocol)
  */
-  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2372, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2439, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_4);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_XGOTREF(__pyx_r);
@@ -56384,113 +56991,113 @@
     __Pyx_XGIVEREF(__pyx_r);
     __Pyx_RefNannyFinishContext();
     __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
     /* return from generator, awaiting value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L4_resume_from_await:;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2372, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2439, __pyx_L1_error)
     __pyx_t_4 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_4);
   } else {
     __pyx_t_4 = NULL;
-    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_4) < 0) __PYX_ERR(0, 2372, __pyx_L1_error)
+    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_4) < 0) __PYX_ERR(0, 2439, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
   }
   if ((likely(PyTuple_CheckExact(__pyx_t_4))) || (PyList_CheckExact(__pyx_t_4))) {
     PyObject* sequence = __pyx_t_4;
     Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
     if (unlikely(size != 2)) {
       if (size > 2) __Pyx_RaiseTooManyValuesError(2);
       else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-      __PYX_ERR(0, 2372, __pyx_L1_error)
+      __PYX_ERR(0, 2439, __pyx_L1_error)
     }
     #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
     if (likely(PyTuple_CheckExact(sequence))) {
       __pyx_t_3 = PyTuple_GET_ITEM(sequence, 0); 
       __pyx_t_2 = PyTuple_GET_ITEM(sequence, 1); 
     } else {
       __pyx_t_3 = PyList_GET_ITEM(sequence, 0); 
       __pyx_t_2 = PyList_GET_ITEM(sequence, 1); 
     }
     __Pyx_INCREF(__pyx_t_3);
     __Pyx_INCREF(__pyx_t_2);
     #else
-    __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2372, __pyx_L1_error)
+    __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2439, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2372, __pyx_L1_error)
+    __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2439, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     #endif
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   } else {
     Py_ssize_t index = -1;
-    __pyx_t_1 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2372, __pyx_L1_error)
+    __pyx_t_1 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2439, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_t_5 = Py_TYPE(__pyx_t_1)->tp_iternext;
     index = 0; __pyx_t_3 = __pyx_t_5(__pyx_t_1); if (unlikely(!__pyx_t_3)) goto __pyx_L5_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_3);
     index = 1; __pyx_t_2 = __pyx_t_5(__pyx_t_1); if (unlikely(!__pyx_t_2)) goto __pyx_L5_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_2);
-    if (__Pyx_IternextUnpackEndCheck(__pyx_t_5(__pyx_t_1), 2) < 0) __PYX_ERR(0, 2372, __pyx_L1_error)
+    if (__Pyx_IternextUnpackEndCheck(__pyx_t_5(__pyx_t_1), 2) < 0) __PYX_ERR(0, 2439, __pyx_L1_error)
     __pyx_t_5 = NULL;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     goto __pyx_L6_unpacking_done;
     __pyx_L5_unpacking_failed:;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_t_5 = NULL;
     if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-    __PYX_ERR(0, 2372, __pyx_L1_error)
+    __PYX_ERR(0, 2439, __pyx_L1_error)
     __pyx_L6_unpacking_done:;
   }
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_cur_scope->__pyx_v_transport = __pyx_t_3;
   __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_2);
   __pyx_cur_scope->__pyx_v_protocol = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":2374
+  /* "capnp/lib/capnp.pyx":2441
  *         transport, protocol = await loop.create_unix_connection(
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)
  *         self._post_init(protocol)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_cur_scope->__pyx_v_self), __pyx_n_s_post_init); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2374, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_cur_scope->__pyx_v_self), __pyx_n_s_post_init); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2441, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_4 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_cur_scope->__pyx_v_protocol) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_cur_scope->__pyx_v_protocol);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2374, __pyx_L1_error)
+  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2441, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":2375
+  /* "capnp/lib/capnp.pyx":2442
  *             lambda: _PyAsyncIoStreamProtocol(), path, **kwargs)
  *         self._post_init(protocol)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     @staticmethod
  */
   __Pyx_XDECREF(__pyx_r);
   __pyx_r = NULL; __Pyx_ReturnWithStopIteration(((PyObject *)__pyx_cur_scope->__pyx_v_self));
   goto __pyx_L0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":2364
+  /* "capnp/lib/capnp.pyx":2431
  * 
  *     @staticmethod
  *     async def create_unix_connection(path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a Unix socket connection.
  * 
  */
 
@@ -56508,15 +57115,15 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2378
+/* "capnp/lib/capnp.pyx":2445
  * 
  *     @staticmethod
  *     def _connect(callback):             # <<<<<<<<<<<<<<
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  */
 
@@ -56547,26 +57154,26 @@
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_callback)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_connect") < 0)) __PYX_ERR(0, 2378, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_connect") < 0)) __PYX_ERR(0, 2445, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_callback = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_connect", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2378, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_connect", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2445, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._AsyncIoStream._connect", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_17_connect(__pyx_v_callback);
 
@@ -56585,116 +57192,116 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_connect", 0);
 
-  /* "capnp/lib/capnp.pyx":2379
+  /* "capnp/lib/capnp.pyx":2446
  *     @staticmethod
  *     def _connect(callback):
  *         cdef _AsyncIoStream self = _AsyncIoStream()             # <<<<<<<<<<<<<<
  *         loop = asyncio.get_running_loop()
  *         protocol = _PyAsyncIoStreamProtocol(callback, self)
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2379, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2446, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2380
+  /* "capnp/lib/capnp.pyx":2447
  *     def _connect(callback):
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()             # <<<<<<<<<<<<<<
  *         protocol = _PyAsyncIoStreamProtocol(callback, self)
  *         self._post_init(protocol)
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2380, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2447, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2380, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2447, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2380, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2447, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_v_loop = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2381
+  /* "capnp/lib/capnp.pyx":2448
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  *         protocol = _PyAsyncIoStreamProtocol(callback, self)             # <<<<<<<<<<<<<<
  *         self._post_init(protocol)
  *         return protocol
  */
-  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2381, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2448, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(__pyx_v_callback);
   __Pyx_GIVEREF(__pyx_v_callback);
   PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_callback);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __Pyx_GIVEREF(((PyObject *)__pyx_v_self));
   PyTuple_SET_ITEM(__pyx_t_1, 1, ((PyObject *)__pyx_v_self));
-  __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol), __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2381, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol), __pyx_t_1, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2448, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_protocol = ((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2382
+  /* "capnp/lib/capnp.pyx":2449
  *         loop = asyncio.get_running_loop()
  *         protocol = _PyAsyncIoStreamProtocol(callback, self)
  *         self._post_init(protocol)             # <<<<<<<<<<<<<<
  *         return protocol
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_post_init); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2382, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_post_init); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2449, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_1, function);
     }
   }
   __pyx_t_3 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_2, ((PyObject *)__pyx_v_protocol)) : __Pyx_PyObject_CallOneArg(__pyx_t_1, ((PyObject *)__pyx_v_protocol));
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2382, __pyx_L1_error)
+  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2449, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2383
+  /* "capnp/lib/capnp.pyx":2450
  *         protocol = _PyAsyncIoStreamProtocol(callback, self)
  *         self._post_init(protocol)
  *         return protocol             # <<<<<<<<<<<<<<
  * 
  *     @staticmethod
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_protocol));
   __pyx_r = ((PyObject *)__pyx_v_protocol);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2378
+  /* "capnp/lib/capnp.pyx":2445
  * 
  *     @staticmethod
  *     def _connect(callback):             # <<<<<<<<<<<<<<
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  */
 
@@ -56711,15 +57318,15 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_protocol);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_21generator6(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2386
+/* "capnp/lib/capnp.pyx":2453
  * 
  *     @staticmethod
  *     async def create_server(callback, host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection server.
  * 
  */
 
@@ -56773,15 +57380,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_port);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "create_server") < 0)) __PYX_ERR(0, 2386, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "create_server") < 0)) __PYX_ERR(0, 2453, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -56792,31 +57399,31 @@
     }
     __pyx_v_callback = values[0];
     __pyx_v_host = values[1];
     __pyx_v_port = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("create_server", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2386, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("create_server", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2453, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_CLEAR(__pyx_v_kwargs);
   __Pyx_AddTraceback("capnp.lib.capnp._AsyncIoStream.create_server", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_19create_server(__pyx_v_callback, __pyx_v_host, __pyx_v_port, __pyx_v_kwargs);
 
   /* function exit code */
   __Pyx_XDECREF(__pyx_v_kwargs);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2397
- *         """
+/* "capnp/lib/capnp.pyx":2467
+ *         C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop = asyncio.get_running_loop()
  *         return await loop.create_server(lambda: _AsyncIoStream._connect(callback), host, port, **kwargs)             # <<<<<<<<<<<<<<
  * 
  *     @staticmethod
  */
 
 /* Python wrapper */
@@ -56844,30 +57451,30 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("lambda4", 0);
   __pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server *) __Pyx_CyFunction_GetClosure(__pyx_self);
   __pyx_cur_scope = __pyx_outer_scope;
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream), __pyx_n_s_connect); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2397, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream), __pyx_n_s_connect); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2467, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (unlikely(!__pyx_cur_scope->__pyx_v_callback)) { __Pyx_RaiseClosureNameError("callback"); __PYX_ERR(0, 2397, __pyx_L1_error) }
+  if (unlikely(!__pyx_cur_scope->__pyx_v_callback)) { __Pyx_RaiseClosureNameError("callback"); __PYX_ERR(0, 2467, __pyx_L1_error) }
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_cur_scope->__pyx_v_callback) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_cur_scope->__pyx_v_callback);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2397, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2467, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -56879,15 +57486,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2386
+/* "capnp/lib/capnp.pyx":2453
  * 
  *     @staticmethod
  *     async def create_server(callback, host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection server.
  * 
  */
 
@@ -56899,15 +57506,15 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("create_server", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2386, __pyx_L1_error)
+    __PYX_ERR(0, 2453, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_callback = __pyx_v_callback;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_callback);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_callback);
   __pyx_cur_scope->__pyx_v_host = __pyx_v_host;
@@ -56916,15 +57523,15 @@
   __pyx_cur_scope->__pyx_v_port = __pyx_v_port;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_port);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_port);
   __pyx_cur_scope->__pyx_v_kwargs = __pyx_v_kwargs;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_kwargs);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_kwargs);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_21generator6, __pyx_codeobj__67, (PyObject *) __pyx_cur_scope, __pyx_n_s_create_server, __pyx_n_s_AsyncIoStream_create_server, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2386, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_21generator6, __pyx_codeobj__67, (PyObject *) __pyx_cur_scope, __pyx_n_s_create_server, __pyx_n_s_AsyncIoStream_create_server, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2453, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -56953,73 +57560,84 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L4_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2386, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2453, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2396
- *         See that function for documentation on the possible arguments.
- *         """
+  /* "capnp/lib/capnp.pyx":2465
+ *         # Fail early in case the kj loop is not running. Without this, the error is thrown when a connection is made.
+ *         # Unless asyncio is in debug mode, that error is swallowed.
+ *         C_DEFAULT_EVENT_LOOP_GETTER()             # <<<<<<<<<<<<<<
+ *         loop = asyncio.get_running_loop()
+ *         return await loop.create_server(lambda: _AsyncIoStream._connect(callback), host, port, **kwargs)
+ */
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2465, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+
+  /* "capnp/lib/capnp.pyx":2466
+ *         # Unless asyncio is in debug mode, that error is swallowed.
+ *         C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop = asyncio.get_running_loop()             # <<<<<<<<<<<<<<
  *         return await loop.create_server(lambda: _AsyncIoStream._connect(callback), host, port, **kwargs)
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2396, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2466, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2396, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2466, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2396, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2466, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_loop = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2397
- *         """
+  /* "capnp/lib/capnp.pyx":2467
+ *         C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop = asyncio.get_running_loop()
  *         return await loop.create_server(lambda: _AsyncIoStream._connect(callback), host, port, **kwargs)             # <<<<<<<<<<<<<<
  * 
  *     @staticmethod
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_loop, __pyx_n_s_create_server); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2397, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_loop, __pyx_n_s_create_server); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2467, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_13create_server_lambda4, 0, __pyx_n_s_create_server_locals_lambda, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2397, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_13create_server_lambda4, 0, __pyx_n_s_create_server_locals_lambda, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2467, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2397, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2467, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3);
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_host);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_host);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_cur_scope->__pyx_v_host);
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_port);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_port);
   PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_cur_scope->__pyx_v_port);
   __pyx_t_3 = 0;
-  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2397, __pyx_L1_error)
+  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2467, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2397, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2467, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_4);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_XGOTREF(__pyx_r);
@@ -57027,27 +57645,27 @@
     __Pyx_XGIVEREF(__pyx_r);
     __Pyx_RefNannyFinishContext();
     __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
     /* return from generator, awaiting value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L4_resume_from_await:;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2397, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2467, __pyx_L1_error)
     __pyx_t_4 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_4);
   } else {
     __pyx_t_4 = NULL;
-    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_4) < 0) __PYX_ERR(0, 2397, __pyx_L1_error)
+    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_4) < 0) __PYX_ERR(0, 2467, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
   }
   __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   goto __pyx_L0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":2386
+  /* "capnp/lib/capnp.pyx":2453
  * 
  *     @staticmethod
  *     async def create_server(callback, host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection server.
  * 
  */
 
@@ -57066,15 +57684,15 @@
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_24generator7(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2400
+/* "capnp/lib/capnp.pyx":2470
  * 
  *     @staticmethod
  *     async def create_unix_server(callback, path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a unix connection server.
  * 
  */
 
@@ -57118,15 +57736,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_path);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "create_unix_server") < 0)) __PYX_ERR(0, 2400, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "create_unix_server") < 0)) __PYX_ERR(0, 2470, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
@@ -57134,31 +57752,31 @@
       }
     }
     __pyx_v_callback = values[0];
     __pyx_v_path = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("create_unix_server", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2400, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("create_unix_server", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2470, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_CLEAR(__pyx_v_kwargs);
   __Pyx_AddTraceback("capnp.lib.capnp._AsyncIoStream.create_unix_server", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14_AsyncIoStream_22create_unix_server(__pyx_v_callback, __pyx_v_path, __pyx_v_kwargs);
 
   /* function exit code */
   __Pyx_XDECREF(__pyx_v_kwargs);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2411
- *         """
+/* "capnp/lib/capnp.pyx":2484
+ *         C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop = asyncio.get_running_loop()
  *         return await loop.create_unix_server(lambda: _AsyncIoStream._connect(callback), path, **kwargs)             # <<<<<<<<<<<<<<
  * 
  * cdef class DummyBaseClass:
  */
 
 /* Python wrapper */
@@ -57186,30 +57804,30 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("lambda5", 0);
   __pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server *) __Pyx_CyFunction_GetClosure(__pyx_self);
   __pyx_cur_scope = __pyx_outer_scope;
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream), __pyx_n_s_connect); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2411, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream), __pyx_n_s_connect); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2484, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (unlikely(!__pyx_cur_scope->__pyx_v_callback)) { __Pyx_RaiseClosureNameError("callback"); __PYX_ERR(0, 2411, __pyx_L1_error) }
+  if (unlikely(!__pyx_cur_scope->__pyx_v_callback)) { __Pyx_RaiseClosureNameError("callback"); __PYX_ERR(0, 2484, __pyx_L1_error) }
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_cur_scope->__pyx_v_callback) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_cur_scope->__pyx_v_callback);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2411, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2484, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -57221,15 +57839,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2400
+/* "capnp/lib/capnp.pyx":2470
  * 
  *     @staticmethod
  *     async def create_unix_server(callback, path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a unix connection server.
  * 
  */
 
@@ -57241,29 +57859,29 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("create_unix_server", 0);
   __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
     __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2400, __pyx_L1_error)
+    __PYX_ERR(0, 2470, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_callback = __pyx_v_callback;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_callback);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_callback);
   __pyx_cur_scope->__pyx_v_path = __pyx_v_path;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_path);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_path);
   __pyx_cur_scope->__pyx_v_kwargs = __pyx_v_kwargs;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_kwargs);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_kwargs);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_24generator7, __pyx_codeobj__68, (PyObject *) __pyx_cur_scope, __pyx_n_s_create_unix_server, __pyx_n_s_AsyncIoStream_create_unix_serve, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2400, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_14_AsyncIoStream_24generator7, __pyx_codeobj__68, (PyObject *) __pyx_cur_scope, __pyx_n_s_create_unix_server, __pyx_n_s_AsyncIoStream_create_unix_serve, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2470, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -57292,70 +57910,81 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L4_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2400, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2470, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2410
- *         See that function for documentation on the possible arguments.
- *         """
+  /* "capnp/lib/capnp.pyx":2482
+ *         # Fail early in case the kj loop is not running. Without this, the error is thrown when a connection is made.
+ *         # Unless asyncio is in debug mode, that error is swallowed.
+ *         C_DEFAULT_EVENT_LOOP_GETTER()             # <<<<<<<<<<<<<<
+ *         loop = asyncio.get_running_loop()
+ *         return await loop.create_unix_server(lambda: _AsyncIoStream._connect(callback), path, **kwargs)
+ */
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2482, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+
+  /* "capnp/lib/capnp.pyx":2483
+ *         # Unless asyncio is in debug mode, that error is swallowed.
+ *         C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop = asyncio.get_running_loop()             # <<<<<<<<<<<<<<
  *         return await loop.create_unix_server(lambda: _AsyncIoStream._connect(callback), path, **kwargs)
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2410, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2483, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2410, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2483, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2410, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2483, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_loop = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2411
- *         """
+  /* "capnp/lib/capnp.pyx":2484
+ *         C_DEFAULT_EVENT_LOOP_GETTER()
  *         loop = asyncio.get_running_loop()
  *         return await loop.create_unix_server(lambda: _AsyncIoStream._connect(callback), path, **kwargs)             # <<<<<<<<<<<<<<
  * 
  * cdef class DummyBaseClass:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_loop, __pyx_n_s_create_unix_server); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2411, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_loop, __pyx_n_s_create_unix_server); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2484, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_18create_unix_server_lambda5, 0, __pyx_n_s_create_unix_server_locals_lambda, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2411, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_18create_unix_server_lambda5, 0, __pyx_n_s_create_unix_server_locals_lambda, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2484, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2411, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2484, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_3);
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_path);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_path);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_cur_scope->__pyx_v_path);
   __pyx_t_3 = 0;
-  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2411, __pyx_L1_error)
+  __pyx_t_3 = PyDict_Copy(__pyx_cur_scope->__pyx_v_kwargs); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2484, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2411, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2484, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_4);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_XGOTREF(__pyx_r);
@@ -57363,27 +57992,27 @@
     __Pyx_XGIVEREF(__pyx_r);
     __Pyx_RefNannyFinishContext();
     __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
     /* return from generator, awaiting value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L4_resume_from_await:;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2411, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2484, __pyx_L1_error)
     __pyx_t_4 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_4);
   } else {
     __pyx_t_4 = NULL;
-    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_4) < 0) __PYX_ERR(0, 2411, __pyx_L1_error)
+    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_4) < 0) __PYX_ERR(0, 2484, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
   }
   __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   goto __pyx_L0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":2400
+  /* "capnp/lib/capnp.pyx":2470
  * 
  *     @staticmethod
  *     async def create_unix_server(callback, path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a unix connection server.
  * 
  */
 
@@ -57805,15 +58434,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2454
+/* "capnp/lib/capnp.pyx":2525
  *     cdef VoidPromiseFulfiller* write_fulfiller
  * 
  *     def __init__(self, connected_callback = None, callback_arg = None):             # <<<<<<<<<<<<<<
  *         self.connected_callback = connected_callback
  *         self.callback_arg = callback_arg
  */
 
@@ -57855,15 +58484,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_callback_arg);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 2454, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 2525, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
@@ -57872,15 +58501,15 @@
       }
     }
     __pyx_v_connected_callback = values[0];
     __pyx_v_callback_arg = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2454, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2525, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._PyAsyncIoStreamProtocol.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol___init__(((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self), __pyx_v_connected_callback, __pyx_v_callback_arg);
 
@@ -57890,55 +58519,55 @@
 }
 
 static int __pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol___init__(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self, PyObject *__pyx_v_connected_callback, PyObject *__pyx_v_callback_arg) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":2455
+  /* "capnp/lib/capnp.pyx":2526
  * 
  *     def __init__(self, connected_callback = None, callback_arg = None):
  *         self.connected_callback = connected_callback             # <<<<<<<<<<<<<<
  *         self.callback_arg = callback_arg
  * 
  */
   __Pyx_INCREF(__pyx_v_connected_callback);
   __Pyx_GIVEREF(__pyx_v_connected_callback);
   __Pyx_GOTREF(__pyx_v_self->connected_callback);
   __Pyx_DECREF(__pyx_v_self->connected_callback);
   __pyx_v_self->connected_callback = __pyx_v_connected_callback;
 
-  /* "capnp/lib/capnp.pyx":2456
+  /* "capnp/lib/capnp.pyx":2527
  *     def __init__(self, connected_callback = None, callback_arg = None):
  *         self.connected_callback = connected_callback
  *         self.callback_arg = callback_arg             # <<<<<<<<<<<<<<
  * 
  *     def connection_made(self, transport):
  */
   __Pyx_INCREF(__pyx_v_callback_arg);
   __Pyx_GIVEREF(__pyx_v_callback_arg);
   __Pyx_GOTREF(__pyx_v_self->callback_arg);
   __Pyx_DECREF(__pyx_v_self->callback_arg);
   __pyx_v_self->callback_arg = __pyx_v_callback_arg;
 
-  /* "capnp/lib/capnp.pyx":2454
+  /* "capnp/lib/capnp.pyx":2525
  *     cdef VoidPromiseFulfiller* write_fulfiller
  * 
  *     def __init__(self, connected_callback = None, callback_arg = None):             # <<<<<<<<<<<<<<
  *         self.connected_callback = connected_callback
  *         self.callback_arg = callback_arg
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2458
+/* "capnp/lib/capnp.pyx":2529
  *         self.callback_arg = callback_arg
  * 
  *     def connection_made(self, transport):             # <<<<<<<<<<<<<<
  *         self.transport = transport
  * 
  */
 
@@ -57952,296 +58581,601 @@
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_2connection_made(((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self), ((PyObject *)__pyx_v_transport));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
+/* "capnp/lib/capnp.pyx":2541
+ *         self.read_eof = False
+ *         self.read_overflow_buffer = bytearray()
+ *         def done(task):             # <<<<<<<<<<<<<<
+ *             if self.transport is not None:
+ *                 self.transport.close()
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15connection_made_1done(PyObject *__pyx_self, PyObject *__pyx_v_task); /*proto*/
+static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15connection_made_1done = {"done", (PyCFunction)__pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15connection_made_1done, METH_O, 0};
+static PyObject *__pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15connection_made_1done(PyObject *__pyx_self, PyObject *__pyx_v_task) {
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("done (wrapper)", 0);
+  __pyx_r = __pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15connection_made_done(__pyx_self, ((PyObject *)__pyx_v_task));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15connection_made_done(PyObject *__pyx_self, PyObject *__pyx_v_task) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *__pyx_outer_scope;
+  PyObject *__pyx_v_exc = NULL;
+  PyObject *__pyx_v_context = NULL;
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  int __pyx_t_2;
+  PyObject *__pyx_t_3 = NULL;
+  PyObject *__pyx_t_4 = NULL;
+  PyObject *__pyx_t_5 = NULL;
+  PyObject *__pyx_t_6 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("done", 0);
+  __pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *) __Pyx_CyFunction_GetClosure(__pyx_self);
+  __pyx_cur_scope = __pyx_outer_scope;
+
+  /* "capnp/lib/capnp.pyx":2542
+ *         self.read_overflow_buffer = bytearray()
+ *         def done(task):
+ *             if self.transport is not None:             # <<<<<<<<<<<<<<
+ *                 self.transport.close()
+ *             exc = task.exception()
+ */
+  if (unlikely(!__pyx_cur_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 2542, __pyx_L1_error) }
+  __pyx_t_1 = (__pyx_cur_scope->__pyx_v_self->transport != Py_None);
+  __pyx_t_2 = (__pyx_t_1 != 0);
+  if (__pyx_t_2) {
+
+    /* "capnp/lib/capnp.pyx":2543
+ *         def done(task):
+ *             if self.transport is not None:
+ *                 self.transport.close()             # <<<<<<<<<<<<<<
+ *             exc = task.exception()
+ *             if exc is not None:
+ */
+    if (unlikely(!__pyx_cur_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 2543, __pyx_L1_error) }
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self->transport, __pyx_n_s_close); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2543, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_4);
+    __pyx_t_5 = NULL;
+    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
+      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
+      if (likely(__pyx_t_5)) {
+        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
+        __Pyx_INCREF(__pyx_t_5);
+        __Pyx_INCREF(function);
+        __Pyx_DECREF_SET(__pyx_t_4, function);
+      }
+    }
+    __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
+    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2543, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+
+    /* "capnp/lib/capnp.pyx":2542
+ *         self.read_overflow_buffer = bytearray()
+ *         def done(task):
+ *             if self.transport is not None:             # <<<<<<<<<<<<<<
+ *                 self.transport.close()
+ *             exc = task.exception()
+ */
+  }
+
+  /* "capnp/lib/capnp.pyx":2544
+ *             if self.transport is not None:
+ *                 self.transport.close()
+ *             exc = task.exception()             # <<<<<<<<<<<<<<
+ *             if exc is not None:
+ *                 context = {
+ */
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_task, __pyx_n_s_exception); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2544, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_4);
+  __pyx_t_5 = NULL;
+  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
+    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
+    if (likely(__pyx_t_5)) {
+      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
+      __Pyx_INCREF(__pyx_t_5);
+      __Pyx_INCREF(function);
+      __Pyx_DECREF_SET(__pyx_t_4, function);
+    }
+  }
+  __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
+  __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
+  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2544, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+  __pyx_v_exc = __pyx_t_3;
+  __pyx_t_3 = 0;
+
+  /* "capnp/lib/capnp.pyx":2545
+ *                 self.transport.close()
+ *             exc = task.exception()
+ *             if exc is not None:             # <<<<<<<<<<<<<<
+ *                 context = {
+ *                     'message': "Exception in pycapnp server callback",
+ */
+  __pyx_t_2 = (__pyx_v_exc != Py_None);
+  __pyx_t_1 = (__pyx_t_2 != 0);
+  if (__pyx_t_1) {
+
+    /* "capnp/lib/capnp.pyx":2547
+ *             if exc is not None:
+ *                 context = {
+ *                     'message': "Exception in pycapnp server callback",             # <<<<<<<<<<<<<<
+ *                     'exception': exc,
+ *                     'task': task,
+ */
+    __pyx_t_3 = __Pyx_PyDict_NewPresized(5); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2547, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_message, __pyx_kp_s_Exception_in_pycapnp_server_call) < 0) __PYX_ERR(0, 2547, __pyx_L1_error)
+
+    /* "capnp/lib/capnp.pyx":2548
+ *                 context = {
+ *                     'message': "Exception in pycapnp server callback",
+ *                     'exception': exc,             # <<<<<<<<<<<<<<
+ *                     'task': task,
+ *                     'protocol': self,
+ */
+    if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_exception, __pyx_v_exc) < 0) __PYX_ERR(0, 2547, __pyx_L1_error)
+
+    /* "capnp/lib/capnp.pyx":2549
+ *                     'message': "Exception in pycapnp server callback",
+ *                     'exception': exc,
+ *                     'task': task,             # <<<<<<<<<<<<<<
+ *                     'protocol': self,
+ *                     'transport': self.transport
+ */
+    if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_task, __pyx_v_task) < 0) __PYX_ERR(0, 2547, __pyx_L1_error)
+
+    /* "capnp/lib/capnp.pyx":2550
+ *                     'exception': exc,
+ *                     'task': task,
+ *                     'protocol': self,             # <<<<<<<<<<<<<<
+ *                     'transport': self.transport
+ *                 }
+ */
+    if (unlikely(!__pyx_cur_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 2550, __pyx_L1_error) }
+    if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_protocol, ((PyObject *)__pyx_cur_scope->__pyx_v_self)) < 0) __PYX_ERR(0, 2547, __pyx_L1_error)
+
+    /* "capnp/lib/capnp.pyx":2551
+ *                     'task': task,
+ *                     'protocol': self,
+ *                     'transport': self.transport             # <<<<<<<<<<<<<<
+ *                 }
+ *                 asyncio.get_running_loop().call_exception_handler(context)
+ */
+    if (unlikely(!__pyx_cur_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 2551, __pyx_L1_error) }
+    if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_transport, __pyx_cur_scope->__pyx_v_self->transport) < 0) __PYX_ERR(0, 2547, __pyx_L1_error)
+    __pyx_v_context = ((PyObject*)__pyx_t_3);
+    __pyx_t_3 = 0;
+
+    /* "capnp/lib/capnp.pyx":2553
+ *                     'transport': self.transport
+ *                 }
+ *                 asyncio.get_running_loop().call_exception_handler(context)             # <<<<<<<<<<<<<<
+ *         if self.connected_callback is not None:
+ *             callback_res = self.connected_callback(self.callback_arg)
+ */
+    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2553, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_5);
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2553, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
+    __pyx_t_5 = NULL;
+    if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_6))) {
+      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_6);
+      if (likely(__pyx_t_5)) {
+        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
+        __Pyx_INCREF(__pyx_t_5);
+        __Pyx_INCREF(function);
+        __Pyx_DECREF_SET(__pyx_t_6, function);
+      }
+    }
+    __pyx_t_4 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
+    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2553, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_4);
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_call_exception_handler); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2553, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+    __pyx_t_4 = NULL;
+    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
+      __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_6);
+      if (likely(__pyx_t_4)) {
+        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
+        __Pyx_INCREF(__pyx_t_4);
+        __Pyx_INCREF(function);
+        __Pyx_DECREF_SET(__pyx_t_6, function);
+      }
+    }
+    __pyx_t_3 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_4, __pyx_v_context) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_context);
+    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2553, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+
+    /* "capnp/lib/capnp.pyx":2545
+ *                 self.transport.close()
+ *             exc = task.exception()
+ *             if exc is not None:             # <<<<<<<<<<<<<<
+ *                 context = {
+ *                     'message': "Exception in pycapnp server callback",
+ */
+  }
+
+  /* "capnp/lib/capnp.pyx":2541
+ *         self.read_eof = False
+ *         self.read_overflow_buffer = bytearray()
+ *         def done(task):             # <<<<<<<<<<<<<<
+ *             if self.transport is not None:
+ *                 self.transport.close()
+ */
+
+  /* function exit code */
+  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_XDECREF(__pyx_t_4);
+  __Pyx_XDECREF(__pyx_t_5);
+  __Pyx_XDECREF(__pyx_t_6);
+  __Pyx_AddTraceback("capnp.lib.capnp._PyAsyncIoStreamProtocol.connection_made.done", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XDECREF(__pyx_v_exc);
+  __Pyx_XDECREF(__pyx_v_context);
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "capnp/lib/capnp.pyx":2529
+ *         self.callback_arg = callback_arg
+ * 
+ *     def connection_made(self, transport):             # <<<<<<<<<<<<<<
+ *         self.transport = transport
+ * 
+ */
+
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_2connection_made(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self, PyObject *__pyx_v_transport) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *__pyx_cur_scope;
+  PyObject *__pyx_v_done = 0;
   PyObject *__pyx_v_callback_res = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_t_4;
   int __pyx_t_5;
-  PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("connection_made", 0);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made, __pyx_empty_tuple, NULL);
+  if (unlikely(!__pyx_cur_scope)) {
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *)Py_None);
+    __Pyx_INCREF(Py_None);
+    __PYX_ERR(0, 2529, __pyx_L1_error)
+  } else {
+    __Pyx_GOTREF(__pyx_cur_scope);
+  }
+  __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
+  __Pyx_INCREF((PyObject *)__pyx_cur_scope->__pyx_v_self);
+  __Pyx_GIVEREF((PyObject *)__pyx_cur_scope->__pyx_v_self);
 
-  /* "capnp/lib/capnp.pyx":2459
+  /* "capnp/lib/capnp.pyx":2530
  * 
  *     def connection_made(self, transport):
  *         self.transport = transport             # <<<<<<<<<<<<<<
  * 
  *         # TODO: BUG. We want to immediately pause reading, but Python's transport implementation does not
  */
   __Pyx_INCREF(__pyx_v_transport);
   __Pyx_GIVEREF(__pyx_v_transport);
-  __Pyx_GOTREF(__pyx_v_self->transport);
-  __Pyx_DECREF(__pyx_v_self->transport);
-  __pyx_v_self->transport = __pyx_v_transport;
+  __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_self->transport);
+  __Pyx_DECREF(__pyx_cur_scope->__pyx_v_self->transport);
+  __pyx_cur_scope->__pyx_v_self->transport = __pyx_v_transport;
 
-  /* "capnp/lib/capnp.pyx":2464
+  /* "capnp/lib/capnp.pyx":2535
  *         #       allow this. See https://github.com/python/cpython/issues/103607.
  *         #       To work around this, we also insert pause_reading() in get_buffer() when appropriate.
  *         transport.pause_reading()             # <<<<<<<<<<<<<<
  * 
  *         self.write_paused = False
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_transport, __pyx_n_s_pause_reading); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2464, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_transport, __pyx_n_s_pause_reading); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2535, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2464, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2535, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2466
+  /* "capnp/lib/capnp.pyx":2537
  *         transport.pause_reading()
  * 
  *         self.write_paused = False             # <<<<<<<<<<<<<<
  *         self.write_in_progress = False
  *         self.read_eof = False
  */
-  __pyx_v_self->write_paused = 0;
+  __pyx_cur_scope->__pyx_v_self->write_paused = 0;
 
-  /* "capnp/lib/capnp.pyx":2467
+  /* "capnp/lib/capnp.pyx":2538
  * 
  *         self.write_paused = False
  *         self.write_in_progress = False             # <<<<<<<<<<<<<<
  *         self.read_eof = False
  *         self.read_overflow_buffer = bytearray()
  */
-  __pyx_v_self->write_in_progress = 0;
+  __pyx_cur_scope->__pyx_v_self->write_in_progress = 0;
 
-  /* "capnp/lib/capnp.pyx":2468
+  /* "capnp/lib/capnp.pyx":2539
  *         self.write_paused = False
  *         self.write_in_progress = False
  *         self.read_eof = False             # <<<<<<<<<<<<<<
  *         self.read_overflow_buffer = bytearray()
- *         if self.connected_callback is not None:
+ *         def done(task):
  */
-  __pyx_v_self->read_eof = 0;
+  __pyx_cur_scope->__pyx_v_self->read_eof = 0;
 
-  /* "capnp/lib/capnp.pyx":2469
+  /* "capnp/lib/capnp.pyx":2540
  *         self.write_in_progress = False
  *         self.read_eof = False
  *         self.read_overflow_buffer = bytearray()             # <<<<<<<<<<<<<<
- *         if self.connected_callback is not None:
- *             callback_res = self.connected_callback(self.callback_arg)
+ *         def done(task):
+ *             if self.transport is not None:
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)(&PyByteArray_Type))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2469, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)(&PyByteArray_Type))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2540, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
-  __Pyx_GOTREF(__pyx_v_self->read_overflow_buffer);
-  __Pyx_DECREF(__pyx_v_self->read_overflow_buffer);
-  __pyx_v_self->read_overflow_buffer = ((PyObject*)__pyx_t_1);
+  __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_self->read_overflow_buffer);
+  __Pyx_DECREF(__pyx_cur_scope->__pyx_v_self->read_overflow_buffer);
+  __pyx_cur_scope->__pyx_v_self->read_overflow_buffer = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2470
+  /* "capnp/lib/capnp.pyx":2541
  *         self.read_eof = False
  *         self.read_overflow_buffer = bytearray()
+ *         def done(task):             # <<<<<<<<<<<<<<
+ *             if self.transport is not None:
+ *                 self.transport.close()
+ */
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15connection_made_1done, 0, __pyx_n_s_connection_made_locals_done, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__72)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2541, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_v_done = __pyx_t_1;
+  __pyx_t_1 = 0;
+
+  /* "capnp/lib/capnp.pyx":2554
+ *                 }
+ *                 asyncio.get_running_loop().call_exception_handler(context)
  *         if self.connected_callback is not None:             # <<<<<<<<<<<<<<
  *             callback_res = self.connected_callback(self.callback_arg)
  *             if asyncio.iscoroutine(callback_res):
  */
-  __pyx_t_4 = (__pyx_v_self->connected_callback != Py_None);
+  __pyx_t_4 = (__pyx_cur_scope->__pyx_v_self->connected_callback != Py_None);
   __pyx_t_5 = (__pyx_t_4 != 0);
   if (__pyx_t_5) {
 
-    /* "capnp/lib/capnp.pyx":2471
- *         self.read_overflow_buffer = bytearray()
+    /* "capnp/lib/capnp.pyx":2555
+ *                 asyncio.get_running_loop().call_exception_handler(context)
  *         if self.connected_callback is not None:
  *             callback_res = self.connected_callback(self.callback_arg)             # <<<<<<<<<<<<<<
  *             if asyncio.iscoroutine(callback_res):
- *                 self._task = asyncio.get_running_loop().create_task(callback_res)
+ *                 self._task = asyncio.create_task(callback_res)
  */
-    __Pyx_INCREF(__pyx_v_self->connected_callback);
-    __pyx_t_2 = __pyx_v_self->connected_callback; __pyx_t_3 = NULL;
+    __Pyx_INCREF(__pyx_cur_scope->__pyx_v_self->connected_callback);
+    __pyx_t_2 = __pyx_cur_scope->__pyx_v_self->connected_callback; __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
-    __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_self->callback_arg) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_self->callback_arg);
+    __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_cur_scope->__pyx_v_self->callback_arg) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_cur_scope->__pyx_v_self->callback_arg);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2471, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2555, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_v_callback_res = __pyx_t_1;
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":2472
+    /* "capnp/lib/capnp.pyx":2556
  *         if self.connected_callback is not None:
  *             callback_res = self.connected_callback(self.callback_arg)
  *             if asyncio.iscoroutine(callback_res):             # <<<<<<<<<<<<<<
- *                 self._task = asyncio.get_running_loop().create_task(callback_res)
- *             self.connected_callback = None
+ *                 self._task = asyncio.create_task(callback_res)
+ *                 self._task.add_done_callback(done)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2472, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2556, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_iscoroutine); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2472, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_iscoroutine); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2556, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_t_2 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_2)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_2);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_2, __pyx_v_callback_res) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_callback_res);
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2472, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2556, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 2472, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 2556, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     if (__pyx_t_5) {
 
-      /* "capnp/lib/capnp.pyx":2473
+      /* "capnp/lib/capnp.pyx":2557
  *             callback_res = self.connected_callback(self.callback_arg)
  *             if asyncio.iscoroutine(callback_res):
- *                 self._task = asyncio.get_running_loop().create_task(callback_res)             # <<<<<<<<<<<<<<
+ *                 self._task = asyncio.create_task(callback_res)             # <<<<<<<<<<<<<<
+ *                 self._task.add_done_callback(done)
  *             self.connected_callback = None
- *             self.callback_arg = None
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2473, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2557, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_3);
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_create_task); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2557, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get_running_loop); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2473, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-      __pyx_t_2 = NULL;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_6))) {
-        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
-        if (likely(__pyx_t_2)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
-          __Pyx_INCREF(__pyx_t_2);
+      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+      __pyx_t_3 = NULL;
+      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
+        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
+        if (likely(__pyx_t_3)) {
+          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
+          __Pyx_INCREF(__pyx_t_3);
           __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_6, function);
+          __Pyx_DECREF_SET(__pyx_t_2, function);
         }
       }
-      __pyx_t_3 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
-      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2473, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_3);
-      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_create_task); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2473, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_6);
-      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+      __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_callback_res) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_callback_res);
+      __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2557, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_1);
+      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+      __Pyx_GIVEREF(__pyx_t_1);
+      __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_self->_task);
+      __Pyx_DECREF(__pyx_cur_scope->__pyx_v_self->_task);
+      __pyx_cur_scope->__pyx_v_self->_task = __pyx_t_1;
+      __pyx_t_1 = 0;
+
+      /* "capnp/lib/capnp.pyx":2558
+ *             if asyncio.iscoroutine(callback_res):
+ *                 self._task = asyncio.create_task(callback_res)
+ *                 self._task.add_done_callback(done)             # <<<<<<<<<<<<<<
+ *             self.connected_callback = None
+ *             self.callback_arg = None
+ */
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self->_task, __pyx_n_s_add_done_callback); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2558, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_2);
       __pyx_t_3 = NULL;
-      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
-        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_6);
+      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
+        __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
         if (likely(__pyx_t_3)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
+          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
           __Pyx_INCREF(__pyx_t_3);
           __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_6, function);
+          __Pyx_DECREF_SET(__pyx_t_2, function);
         }
       }
-      __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_3, __pyx_v_callback_res) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_callback_res);
+      __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_done) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_done);
       __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2473, __pyx_L1_error)
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2558, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      if (__Pyx_PyObject_SetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_task_2, __pyx_t_1) < 0) __PYX_ERR(0, 2473, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":2472
+      /* "capnp/lib/capnp.pyx":2556
  *         if self.connected_callback is not None:
  *             callback_res = self.connected_callback(self.callback_arg)
  *             if asyncio.iscoroutine(callback_res):             # <<<<<<<<<<<<<<
- *                 self._task = asyncio.get_running_loop().create_task(callback_res)
- *             self.connected_callback = None
+ *                 self._task = asyncio.create_task(callback_res)
+ *                 self._task.add_done_callback(done)
  */
     }
 
-    /* "capnp/lib/capnp.pyx":2474
- *             if asyncio.iscoroutine(callback_res):
- *                 self._task = asyncio.get_running_loop().create_task(callback_res)
+    /* "capnp/lib/capnp.pyx":2559
+ *                 self._task = asyncio.create_task(callback_res)
+ *                 self._task.add_done_callback(done)
  *             self.connected_callback = None             # <<<<<<<<<<<<<<
  *             self.callback_arg = None
  * 
  */
     __Pyx_INCREF(Py_None);
     __Pyx_GIVEREF(Py_None);
-    __Pyx_GOTREF(__pyx_v_self->connected_callback);
-    __Pyx_DECREF(__pyx_v_self->connected_callback);
-    __pyx_v_self->connected_callback = Py_None;
+    __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_self->connected_callback);
+    __Pyx_DECREF(__pyx_cur_scope->__pyx_v_self->connected_callback);
+    __pyx_cur_scope->__pyx_v_self->connected_callback = Py_None;
 
-    /* "capnp/lib/capnp.pyx":2475
- *                 self._task = asyncio.get_running_loop().create_task(callback_res)
+    /* "capnp/lib/capnp.pyx":2560
+ *                 self._task.add_done_callback(done)
  *             self.connected_callback = None
  *             self.callback_arg = None             # <<<<<<<<<<<<<<
  * 
  *     def connection_lost(self, exc):
  */
     __Pyx_INCREF(Py_None);
     __Pyx_GIVEREF(Py_None);
-    __Pyx_GOTREF(__pyx_v_self->callback_arg);
-    __Pyx_DECREF(__pyx_v_self->callback_arg);
-    __pyx_v_self->callback_arg = Py_None;
+    __Pyx_GOTREF(__pyx_cur_scope->__pyx_v_self->callback_arg);
+    __Pyx_DECREF(__pyx_cur_scope->__pyx_v_self->callback_arg);
+    __pyx_cur_scope->__pyx_v_self->callback_arg = Py_None;
 
-    /* "capnp/lib/capnp.pyx":2470
- *         self.read_eof = False
- *         self.read_overflow_buffer = bytearray()
+    /* "capnp/lib/capnp.pyx":2554
+ *                 }
+ *                 asyncio.get_running_loop().call_exception_handler(context)
  *         if self.connected_callback is not None:             # <<<<<<<<<<<<<<
  *             callback_res = self.connected_callback(self.callback_arg)
  *             if asyncio.iscoroutine(callback_res):
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2458
+  /* "capnp/lib/capnp.pyx":2529
  *         self.callback_arg = callback_arg
  * 
  *     def connection_made(self, transport):             # <<<<<<<<<<<<<<
  *         self.transport = transport
  * 
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_6);
   __Pyx_AddTraceback("capnp.lib.capnp._PyAsyncIoStreamProtocol.connection_made", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
+  __Pyx_XDECREF(__pyx_v_done);
   __Pyx_XDECREF(__pyx_v_callback_res);
+  __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2477
+/* "capnp/lib/capnp.pyx":2562
  *             self.callback_arg = None
  * 
  *     def connection_lost(self, exc):             # <<<<<<<<<<<<<<
  *         if self.read_fulfiller != NULL:
  *             capnp.rejectDisconnected[size_t](deref(self.read_fulfiller), StringPtr(str(exc)))
  */
 
@@ -58266,139 +59200,143 @@
   PyObject *__pyx_t_2 = NULL;
   char *__pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("connection_lost", 0);
 
-  /* "capnp/lib/capnp.pyx":2478
+  /* "capnp/lib/capnp.pyx":2563
  * 
  *     def connection_lost(self, exc):
  *         if self.read_fulfiller != NULL:             # <<<<<<<<<<<<<<
  *             capnp.rejectDisconnected[size_t](deref(self.read_fulfiller), StringPtr(str(exc)))
  *             self.read_buffer = NULL
  */
   __pyx_t_1 = ((__pyx_v_self->read_fulfiller != NULL) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2479
+    /* "capnp/lib/capnp.pyx":2564
  *     def connection_lost(self, exc):
  *         if self.read_fulfiller != NULL:
  *             capnp.rejectDisconnected[size_t](deref(self.read_fulfiller), StringPtr(str(exc)))             # <<<<<<<<<<<<<<
  *             self.read_buffer = NULL
  *             self.read_fulfiller = NULL
  */
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_exc); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2479, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_exc); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2564, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyObject_AsWritableString(__pyx_t_2); if (unlikely((!__pyx_t_3) && PyErr_Occurred())) __PYX_ERR(0, 2479, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_AsWritableString(__pyx_t_2); if (unlikely((!__pyx_t_3) && PyErr_Occurred())) __PYX_ERR(0, 2564, __pyx_L1_error)
     rejectDisconnected<size_t>((*__pyx_v_self->read_fulfiller),  ::kj::StringPtr(__pyx_t_3));
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2480
+    /* "capnp/lib/capnp.pyx":2565
  *         if self.read_fulfiller != NULL:
  *             capnp.rejectDisconnected[size_t](deref(self.read_fulfiller), StringPtr(str(exc)))
  *             self.read_buffer = NULL             # <<<<<<<<<<<<<<
  *             self.read_fulfiller = NULL
  *         if self.write_fulfiller != NULL:
  */
     __pyx_v_self->read_buffer = NULL;
 
-    /* "capnp/lib/capnp.pyx":2481
+    /* "capnp/lib/capnp.pyx":2566
  *             capnp.rejectDisconnected[size_t](deref(self.read_fulfiller), StringPtr(str(exc)))
  *             self.read_buffer = NULL
  *             self.read_fulfiller = NULL             # <<<<<<<<<<<<<<
  *         if self.write_fulfiller != NULL:
  *             capnp.rejectVoidDisconnected(deref(self.write_fulfiller), StringPtr(str(exc)))
  */
     __pyx_v_self->read_fulfiller = NULL;
 
-    /* "capnp/lib/capnp.pyx":2478
+    /* "capnp/lib/capnp.pyx":2563
  * 
  *     def connection_lost(self, exc):
  *         if self.read_fulfiller != NULL:             # <<<<<<<<<<<<<<
  *             capnp.rejectDisconnected[size_t](deref(self.read_fulfiller), StringPtr(str(exc)))
  *             self.read_buffer = NULL
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2482
+  /* "capnp/lib/capnp.pyx":2567
  *             self.read_buffer = NULL
  *             self.read_fulfiller = NULL
  *         if self.write_fulfiller != NULL:             # <<<<<<<<<<<<<<
  *             capnp.rejectVoidDisconnected(deref(self.write_fulfiller), StringPtr(str(exc)))
  *             self.write_reset()
  */
   __pyx_t_1 = ((__pyx_v_self->write_fulfiller != NULL) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2483
+    /* "capnp/lib/capnp.pyx":2568
  *             self.read_fulfiller = NULL
  *         if self.write_fulfiller != NULL:
  *             capnp.rejectVoidDisconnected(deref(self.write_fulfiller), StringPtr(str(exc)))             # <<<<<<<<<<<<<<
  *             self.write_reset()
  *             self.write_paused = True
  */
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_exc); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2483, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_exc); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2568, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyObject_AsWritableString(__pyx_t_2); if (unlikely((!__pyx_t_3) && PyErr_Occurred())) __PYX_ERR(0, 2483, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_AsWritableString(__pyx_t_2); if (unlikely((!__pyx_t_3) && PyErr_Occurred())) __PYX_ERR(0, 2568, __pyx_L1_error)
     rejectVoidDisconnected((*__pyx_v_self->write_fulfiller),  ::kj::StringPtr(__pyx_t_3));
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2484
+    /* "capnp/lib/capnp.pyx":2569
  *         if self.write_fulfiller != NULL:
  *             capnp.rejectVoidDisconnected(deref(self.write_fulfiller), StringPtr(str(exc)))
  *             self.write_reset()             # <<<<<<<<<<<<<<
  *             self.write_paused = True
  *         self.transport = None
  */
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->write_reset(__pyx_v_self); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2484, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->write_reset(__pyx_v_self); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2569, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2485
+    /* "capnp/lib/capnp.pyx":2570
  *             capnp.rejectVoidDisconnected(deref(self.write_fulfiller), StringPtr(str(exc)))
  *             self.write_reset()
  *             self.write_paused = True             # <<<<<<<<<<<<<<
  *         self.transport = None
  *         self._task = None
  */
     __pyx_v_self->write_paused = 1;
 
-    /* "capnp/lib/capnp.pyx":2482
+    /* "capnp/lib/capnp.pyx":2567
  *             self.read_buffer = NULL
  *             self.read_fulfiller = NULL
  *         if self.write_fulfiller != NULL:             # <<<<<<<<<<<<<<
  *             capnp.rejectVoidDisconnected(deref(self.write_fulfiller), StringPtr(str(exc)))
  *             self.write_reset()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2486
+  /* "capnp/lib/capnp.pyx":2571
  *             self.write_reset()
  *             self.write_paused = True
  *         self.transport = None             # <<<<<<<<<<<<<<
  *         self._task = None
  * 
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->transport);
   __Pyx_DECREF(__pyx_v_self->transport);
   __pyx_v_self->transport = Py_None;
 
-  /* "capnp/lib/capnp.pyx":2487
+  /* "capnp/lib/capnp.pyx":2572
  *             self.write_paused = True
  *         self.transport = None
  *         self._task = None             # <<<<<<<<<<<<<<
  * 
  *     def get_buffer(self, size_hint):
  */
-  if (__Pyx_PyObject_SetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_task_2, Py_None) < 0) __PYX_ERR(0, 2487, __pyx_L1_error)
+  __Pyx_INCREF(Py_None);
+  __Pyx_GIVEREF(Py_None);
+  __Pyx_GOTREF(__pyx_v_self->_task);
+  __Pyx_DECREF(__pyx_v_self->_task);
+  __pyx_v_self->_task = Py_None;
 
-  /* "capnp/lib/capnp.pyx":2477
+  /* "capnp/lib/capnp.pyx":2562
  *             self.callback_arg = None
  * 
  *     def connection_lost(self, exc):             # <<<<<<<<<<<<<<
  *         if self.read_fulfiller != NULL:
  *             capnp.rejectDisconnected[size_t](deref(self.read_fulfiller), StringPtr(str(exc)))
  */
 
@@ -58411,15 +59349,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2489
+/* "capnp/lib/capnp.pyx":2574
  *         self._task = None
  * 
  *     def get_buffer(self, size_hint):             # <<<<<<<<<<<<<<
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above
  * 
  */
 
@@ -58446,123 +59384,123 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_buffer", 0);
 
-  /* "capnp/lib/capnp.pyx":2490
+  /* "capnp/lib/capnp.pyx":2575
  * 
  *     def get_buffer(self, size_hint):
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above             # <<<<<<<<<<<<<<
  * 
  *             # TODO: Bug. Workaround for the transport ignoring pause_reading() in connection_made()
  */
   __pyx_t_1 = ((__pyx_v_self->read_buffer == NULL) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2493
+    /* "capnp/lib/capnp.pyx":2578
  * 
  *             # TODO: Bug. Workaround for the transport ignoring pause_reading() in connection_made()
  *             self.transport.pause_reading()             # <<<<<<<<<<<<<<
  * 
  *             size = size_hint if size_hint > 0 else 100
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_pause_reading); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2493, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_pause_reading); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2578, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2493, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2578, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2495
+    /* "capnp/lib/capnp.pyx":2580
  *             self.transport.pause_reading()
  * 
  *             size = size_hint if size_hint > 0 else 100             # <<<<<<<<<<<<<<
  *             self.read_overflow_buffer_current = bytearray(size)
  *             return self.read_overflow_buffer_current
  */
-    __pyx_t_3 = PyObject_RichCompare(__pyx_v_size_hint, __pyx_int_0, Py_GT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2495, __pyx_L1_error)
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 2495, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_v_size_hint, __pyx_int_0, Py_GT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2580, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 2580, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     if (__pyx_t_1) {
       __Pyx_INCREF(__pyx_v_size_hint);
       __pyx_t_2 = __pyx_v_size_hint;
     } else {
       __Pyx_INCREF(__pyx_int_100);
       __pyx_t_2 = __pyx_int_100;
     }
     __pyx_v_size = __pyx_t_2;
     __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2496
+    /* "capnp/lib/capnp.pyx":2581
  * 
  *             size = size_hint if size_hint > 0 else 100
  *             self.read_overflow_buffer_current = bytearray(size)             # <<<<<<<<<<<<<<
  *             return self.read_overflow_buffer_current
  *         else:
  */
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyByteArray_Type)), __pyx_v_size); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2496, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyByteArray_Type)), __pyx_v_size); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2581, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_GIVEREF(__pyx_t_2);
     __Pyx_GOTREF(__pyx_v_self->read_overflow_buffer_current);
     __Pyx_DECREF(__pyx_v_self->read_overflow_buffer_current);
     __pyx_v_self->read_overflow_buffer_current = ((PyObject*)__pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2497
+    /* "capnp/lib/capnp.pyx":2582
  *             size = size_hint if size_hint > 0 else 100
  *             self.read_overflow_buffer_current = bytearray(size)
  *             return self.read_overflow_buffer_current             # <<<<<<<<<<<<<<
  *         else:
  *             return memoryview.PyMemoryView_FromMemory(self.read_buffer, self.read_max_bytes, buffer.PyBUF_WRITE)
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->read_overflow_buffer_current);
     __pyx_r = __pyx_v_self->read_overflow_buffer_current;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2490
+    /* "capnp/lib/capnp.pyx":2575
  * 
  *     def get_buffer(self, size_hint):
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above             # <<<<<<<<<<<<<<
  * 
  *             # TODO: Bug. Workaround for the transport ignoring pause_reading() in connection_made()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2499
+  /* "capnp/lib/capnp.pyx":2584
  *             return self.read_overflow_buffer_current
  *         else:
  *             return memoryview.PyMemoryView_FromMemory(self.read_buffer, self.read_max_bytes, buffer.PyBUF_WRITE)             # <<<<<<<<<<<<<<
  * 
  *     def buffer_updated(self, size):
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = PyMemoryView_FromMemory(__pyx_v_self->read_buffer, __pyx_v_self->read_max_bytes, PyBUF_WRITE); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2499, __pyx_L1_error)
+    __pyx_t_2 = PyMemoryView_FromMemory(__pyx_v_self->read_buffer, __pyx_v_self->read_max_bytes, PyBUF_WRITE); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2584, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":2489
+  /* "capnp/lib/capnp.pyx":2574
  *         self._task = None
  * 
  *     def get_buffer(self, size_hint):             # <<<<<<<<<<<<<<
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above
  * 
  */
 
@@ -58576,15 +59514,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_size);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2501
+/* "capnp/lib/capnp.pyx":2586
  *             return memoryview.PyMemoryView_FromMemory(self.read_buffer, self.read_max_bytes, buffer.PyBUF_WRITE)
  * 
  *     def buffer_updated(self, size):             # <<<<<<<<<<<<<<
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above
  *             self.read_overflow_buffer.extend(self.read_overflow_buffer_current[0:size])
  */
 
@@ -58615,178 +59553,178 @@
   int32_t __pyx_t_8;
   size_t __pyx_t_9;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("buffer_updated", 0);
 
-  /* "capnp/lib/capnp.pyx":2502
+  /* "capnp/lib/capnp.pyx":2587
  * 
  *     def buffer_updated(self, size):
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above             # <<<<<<<<<<<<<<
  *             self.read_overflow_buffer.extend(self.read_overflow_buffer_current[0:size])
  *         else:
  */
   __pyx_t_1 = ((__pyx_v_self->read_buffer == NULL) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2503
+    /* "capnp/lib/capnp.pyx":2588
  *     def buffer_updated(self, size):
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above
  *             self.read_overflow_buffer.extend(self.read_overflow_buffer_current[0:size])             # <<<<<<<<<<<<<<
  *         else:
  *             self.read_buffer += size
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->read_overflow_buffer, __pyx_n_s_extend); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2503, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->read_overflow_buffer, __pyx_n_s_extend); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2588, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     if (unlikely(__pyx_v_self->read_overflow_buffer_current == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(0, 2503, __pyx_L1_error)
+      __PYX_ERR(0, 2588, __pyx_L1_error)
     }
     __Pyx_INCREF(__pyx_v_size);
     __pyx_t_4 = __pyx_v_size;
     __pyx_t_1 = (__pyx_t_4 == Py_None);
     if (__pyx_t_1) {
       __pyx_t_5 = PY_SSIZE_T_MAX;
     } else {
-      __pyx_t_6 = __Pyx_PyIndex_AsSsize_t(__pyx_t_4); if (unlikely((__pyx_t_6 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2503, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyIndex_AsSsize_t(__pyx_t_4); if (unlikely((__pyx_t_6 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2588, __pyx_L1_error)
       __pyx_t_5 = __pyx_t_6;
     }
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __pyx_t_4 = PySequence_GetSlice(__pyx_v_self->read_overflow_buffer_current, 0, __pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2503, __pyx_L1_error)
+    __pyx_t_4 = PySequence_GetSlice(__pyx_v_self->read_overflow_buffer_current, 0, __pyx_t_5); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2588, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_7 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_7)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_7);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_7) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_7, __pyx_t_4) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4);
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2503, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2588, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2502
+    /* "capnp/lib/capnp.pyx":2587
  * 
  *     def buffer_updated(self, size):
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above             # <<<<<<<<<<<<<<
  *             self.read_overflow_buffer.extend(self.read_overflow_buffer_current[0:size])
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":2505
+  /* "capnp/lib/capnp.pyx":2590
  *             self.read_overflow_buffer.extend(self.read_overflow_buffer_current[0:size])
  *         else:
  *             self.read_buffer += size             # <<<<<<<<<<<<<<
  *             self.read_min_bytes -= size
  *             self.read_max_bytes -= size
  */
   /*else*/ {
-    __pyx_t_5 = __Pyx_PyIndex_AsSsize_t(__pyx_v_size); if (unlikely((__pyx_t_5 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2505, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyIndex_AsSsize_t(__pyx_v_size); if (unlikely((__pyx_t_5 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2590, __pyx_L1_error)
     __pyx_v_self->read_buffer = (__pyx_v_self->read_buffer + __pyx_t_5);
 
-    /* "capnp/lib/capnp.pyx":2506
+    /* "capnp/lib/capnp.pyx":2591
  *         else:
  *             self.read_buffer += size
  *             self.read_min_bytes -= size             # <<<<<<<<<<<<<<
  *             self.read_max_bytes -= size
  *             self.read_already_read += size
  */
-    __pyx_t_2 = __Pyx_PyInt_From_int32_t(__pyx_v_self->read_min_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2506, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyInt_From_int32_t(__pyx_v_self->read_min_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2591, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = PyNumber_InPlaceSubtract(__pyx_t_2, __pyx_v_size); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2506, __pyx_L1_error)
+    __pyx_t_3 = PyNumber_InPlaceSubtract(__pyx_t_2, __pyx_v_size); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2591, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_8 = __Pyx_PyInt_As_int32_t(__pyx_t_3); if (unlikely((__pyx_t_8 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 2506, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyInt_As_int32_t(__pyx_t_3); if (unlikely((__pyx_t_8 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 2591, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_v_self->read_min_bytes = __pyx_t_8;
 
-    /* "capnp/lib/capnp.pyx":2507
+    /* "capnp/lib/capnp.pyx":2592
  *             self.read_buffer += size
  *             self.read_min_bytes -= size
  *             self.read_max_bytes -= size             # <<<<<<<<<<<<<<
  *             self.read_already_read += size
  *             if self.read_min_bytes <= 0:
  */
-    __pyx_t_3 = __Pyx_PyInt_FromSize_t(__pyx_v_self->read_max_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2507, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_FromSize_t(__pyx_v_self->read_max_bytes); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2592, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_2 = PyNumber_InPlaceSubtract(__pyx_t_3, __pyx_v_size); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2507, __pyx_L1_error)
+    __pyx_t_2 = PyNumber_InPlaceSubtract(__pyx_t_3, __pyx_v_size); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2592, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_t_2); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2507, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_t_2); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2592, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_v_self->read_max_bytes = __pyx_t_9;
 
-    /* "capnp/lib/capnp.pyx":2508
+    /* "capnp/lib/capnp.pyx":2593
  *             self.read_min_bytes -= size
  *             self.read_max_bytes -= size
  *             self.read_already_read += size             # <<<<<<<<<<<<<<
  *             if self.read_min_bytes <= 0:
  *                 self.read_fulfiller.fulfill(move(self.read_already_read))
  */
-    __pyx_t_2 = __Pyx_PyInt_FromSize_t(__pyx_v_self->read_already_read); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2508, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyInt_FromSize_t(__pyx_v_self->read_already_read); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2593, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = PyNumber_InPlaceAdd(__pyx_t_2, __pyx_v_size); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2508, __pyx_L1_error)
+    __pyx_t_3 = PyNumber_InPlaceAdd(__pyx_t_2, __pyx_v_size); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2593, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_t_3); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2508, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_t_3); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2593, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_v_self->read_already_read = __pyx_t_9;
 
-    /* "capnp/lib/capnp.pyx":2509
+    /* "capnp/lib/capnp.pyx":2594
  *             self.read_max_bytes -= size
  *             self.read_already_read += size
  *             if self.read_min_bytes <= 0:             # <<<<<<<<<<<<<<
  *                 self.read_fulfiller.fulfill(move(self.read_already_read))
  *                 self.read_reset()
  */
     __pyx_t_1 = ((__pyx_v_self->read_min_bytes <= 0) != 0);
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":2510
+      /* "capnp/lib/capnp.pyx":2595
  *             self.read_already_read += size
  *             if self.read_min_bytes <= 0:
  *                 self.read_fulfiller.fulfill(move(self.read_already_read))             # <<<<<<<<<<<<<<
  *                 self.read_reset()
  * 
  */
       __pyx_v_self->read_fulfiller->fulfill(cython_std::move<size_t>(__pyx_v_self->read_already_read));
 
-      /* "capnp/lib/capnp.pyx":2511
+      /* "capnp/lib/capnp.pyx":2596
  *             if self.read_min_bytes <= 0:
  *                 self.read_fulfiller.fulfill(move(self.read_already_read))
  *                 self.read_reset()             # <<<<<<<<<<<<<<
  * 
  *     def pause_writing(self):
  */
-      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->read_reset(__pyx_v_self); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2511, __pyx_L1_error)
+      __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->read_reset(__pyx_v_self); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2596, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":2509
+      /* "capnp/lib/capnp.pyx":2594
  *             self.read_max_bytes -= size
  *             self.read_already_read += size
  *             if self.read_min_bytes <= 0:             # <<<<<<<<<<<<<<
  *                 self.read_fulfiller.fulfill(move(self.read_already_read))
  *                 self.read_reset()
  */
     }
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":2501
+  /* "capnp/lib/capnp.pyx":2586
  *             return memoryview.PyMemoryView_FromMemory(self.read_buffer, self.read_max_bytes, buffer.PyBUF_WRITE)
  * 
  *     def buffer_updated(self, size):             # <<<<<<<<<<<<<<
  *         if self.read_buffer == NULL: # Should not happen, but for SSL it does, see comment above
  *             self.read_overflow_buffer.extend(self.read_overflow_buffer_current[0:size])
  */
 
@@ -58802,15 +59740,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2513
+/* "capnp/lib/capnp.pyx":2598
  *                 self.read_reset()
  * 
  *     def pause_writing(self):             # <<<<<<<<<<<<<<
  *         self.write_paused = True
  * 
  */
 
@@ -58829,39 +59767,39 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_10pause_writing(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("pause_writing", 0);
 
-  /* "capnp/lib/capnp.pyx":2514
+  /* "capnp/lib/capnp.pyx":2599
  * 
  *     def pause_writing(self):
  *         self.write_paused = True             # <<<<<<<<<<<<<<
  * 
  *     def resume_writing(self):
  */
   __pyx_v_self->write_paused = 1;
 
-  /* "capnp/lib/capnp.pyx":2513
+  /* "capnp/lib/capnp.pyx":2598
  *                 self.read_reset()
  * 
  *     def pause_writing(self):             # <<<<<<<<<<<<<<
  *         self.write_paused = True
  * 
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2516
+/* "capnp/lib/capnp.pyx":2601
  *         self.write_paused = True
  * 
  *     def resume_writing(self):             # <<<<<<<<<<<<<<
  *         self.write_paused = False
  *         self.write_loop()
  */
 
@@ -58884,35 +59822,35 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("resume_writing", 0);
 
-  /* "capnp/lib/capnp.pyx":2517
+  /* "capnp/lib/capnp.pyx":2602
  * 
  *     def resume_writing(self):
  *         self.write_paused = False             # <<<<<<<<<<<<<<
  *         self.write_loop()
  * 
  */
   __pyx_v_self->write_paused = 0;
 
-  /* "capnp/lib/capnp.pyx":2518
+  /* "capnp/lib/capnp.pyx":2603
  *     def resume_writing(self):
  *         self.write_paused = False
  *         self.write_loop()             # <<<<<<<<<<<<<<
  * 
  *     def eof_received(self):
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->write_loop(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2518, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->write_loop(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2603, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2516
+  /* "capnp/lib/capnp.pyx":2601
  *         self.write_paused = True
  * 
  *     def resume_writing(self):             # <<<<<<<<<<<<<<
  *         self.write_paused = False
  *         self.write_loop()
  */
 
@@ -58925,15 +59863,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2520
+/* "capnp/lib/capnp.pyx":2605
  *         self.write_loop()
  * 
  *     def eof_received(self):             # <<<<<<<<<<<<<<
  *         self.read_eof = True
  *         if self.read_buffer != NULL:
  */
 
@@ -58957,63 +59895,63 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("eof_received", 0);
 
-  /* "capnp/lib/capnp.pyx":2521
+  /* "capnp/lib/capnp.pyx":2606
  * 
  *     def eof_received(self):
  *         self.read_eof = True             # <<<<<<<<<<<<<<
  *         if self.read_buffer != NULL:
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  */
   __pyx_v_self->read_eof = 1;
 
-  /* "capnp/lib/capnp.pyx":2522
+  /* "capnp/lib/capnp.pyx":2607
  *     def eof_received(self):
  *         self.read_eof = True
  *         if self.read_buffer != NULL:             # <<<<<<<<<<<<<<
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  *             self.read_reset()
  */
   __pyx_t_1 = ((__pyx_v_self->read_buffer != NULL) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2523
+    /* "capnp/lib/capnp.pyx":2608
  *         self.read_eof = True
  *         if self.read_buffer != NULL:
  *             self.read_fulfiller.fulfill(move(self.read_already_read))             # <<<<<<<<<<<<<<
  *             self.read_reset()
  * 
  */
     __pyx_v_self->read_fulfiller->fulfill(cython_std::move<size_t>(__pyx_v_self->read_already_read));
 
-    /* "capnp/lib/capnp.pyx":2524
+    /* "capnp/lib/capnp.pyx":2609
  *         if self.read_buffer != NULL:
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  *             self.read_reset()             # <<<<<<<<<<<<<<
  * 
  *     cdef write_loop(self):
  */
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->read_reset(__pyx_v_self); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2524, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->read_reset(__pyx_v_self); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2609, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":2522
+    /* "capnp/lib/capnp.pyx":2607
  *     def eof_received(self):
  *         self.read_eof = True
  *         if self.read_buffer != NULL:             # <<<<<<<<<<<<<<
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  *             self.read_reset()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2520
+  /* "capnp/lib/capnp.pyx":2605
  *         self.write_loop()
  * 
  *     def eof_received(self):             # <<<<<<<<<<<<<<
  *         self.read_eof = True
  *         if self.read_buffer != NULL:
  */
 
@@ -59026,216 +59964,295 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2526
+/* "capnp/lib/capnp.pyx":2611
  *             self.read_reset()
  * 
  *     cdef write_loop(self):             # <<<<<<<<<<<<<<
- *         if not self.write_in_progress: return
+ *         if self.write_paused or not self.write_in_progress: return
  *         cdef const ArrayPtr[const uint8_t]* piece
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_write_loop(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self) {
    ::kj::ArrayPtr<uint8_t const >  const *__pyx_v_piece;
-  size_t __pyx_v_i;
+  PyObject *__pyx_v_i = NULL;
   PyObject *__pyx_v_view = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
-  size_t __pyx_t_2;
-  size_t __pyx_t_3;
-  size_t __pyx_t_4;
+  int __pyx_t_2;
+  PyObject *__pyx_t_3 = NULL;
+  PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  PyObject *__pyx_t_7 = NULL;
+  Py_ssize_t __pyx_t_6;
+  PyObject *(*__pyx_t_7)(PyObject *);
+  size_t __pyx_t_8;
+  PyObject *__pyx_t_9 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("write_loop", 0);
 
-  /* "capnp/lib/capnp.pyx":2527
+  /* "capnp/lib/capnp.pyx":2612
  * 
  *     cdef write_loop(self):
- *         if not self.write_in_progress: return             # <<<<<<<<<<<<<<
+ *         if self.write_paused or not self.write_in_progress: return             # <<<<<<<<<<<<<<
  *         cdef const ArrayPtr[const uint8_t]* piece
  *         for i in range(self.write_index, self.write_pieces.size()):
  */
-  __pyx_t_1 = ((!(__pyx_v_self->write_in_progress != 0)) != 0);
+  __pyx_t_2 = (__pyx_v_self->write_paused != 0);
+  if (!__pyx_t_2) {
+  } else {
+    __pyx_t_1 = __pyx_t_2;
+    goto __pyx_L4_bool_binop_done;
+  }
+  __pyx_t_2 = ((!(__pyx_v_self->write_in_progress != 0)) != 0);
+  __pyx_t_1 = __pyx_t_2;
+  __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":2529
- *         if not self.write_in_progress: return
+  /* "capnp/lib/capnp.pyx":2614
+ *         if self.write_paused or not self.write_in_progress: return
  *         cdef const ArrayPtr[const uint8_t]* piece
  *         for i in range(self.write_index, self.write_pieces.size()):             # <<<<<<<<<<<<<<
- *             if self.write_paused:
- *                 self.write_index = i
+ *             piece = &self.write_pieces[i]
+ *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
  */
-  __pyx_t_2 = __pyx_v_self->write_pieces.size();
-  __pyx_t_3 = __pyx_t_2;
-  for (__pyx_t_4 = __pyx_v_self->write_index; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
-    __pyx_v_i = __pyx_t_4;
+  __pyx_t_3 = __Pyx_PyInt_FromSize_t(__pyx_v_self->write_index); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2614, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_4 = __Pyx_PyInt_FromSize_t(__pyx_v_self->write_pieces.size()); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2614, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_4);
+  __pyx_t_5 = PyTuple_New(2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2614, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_5);
+  __Pyx_GIVEREF(__pyx_t_3);
+  PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_t_3);
+  __Pyx_GIVEREF(__pyx_t_4);
+  PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_4);
+  __pyx_t_3 = 0;
+  __pyx_t_4 = 0;
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_builtin_range, __pyx_t_5, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2614, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_4);
+  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
+  if (likely(PyList_CheckExact(__pyx_t_4)) || PyTuple_CheckExact(__pyx_t_4)) {
+    __pyx_t_5 = __pyx_t_4; __Pyx_INCREF(__pyx_t_5); __pyx_t_6 = 0;
+    __pyx_t_7 = NULL;
+  } else {
+    __pyx_t_6 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2614, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_5);
+    __pyx_t_7 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2614, __pyx_L1_error)
+  }
+  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+  for (;;) {
+    if (likely(!__pyx_t_7)) {
+      if (likely(PyList_CheckExact(__pyx_t_5))) {
+        if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_5)) break;
+        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_4); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2614, __pyx_L1_error)
+        #else
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2614, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_4);
+        #endif
+      } else {
+        if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
+        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_4); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 2614, __pyx_L1_error)
+        #else
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2614, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_4);
+        #endif
+      }
+    } else {
+      __pyx_t_4 = __pyx_t_7(__pyx_t_5);
+      if (unlikely(!__pyx_t_4)) {
+        PyObject* exc_type = PyErr_Occurred();
+        if (exc_type) {
+          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
+          else __PYX_ERR(0, 2614, __pyx_L1_error)
+        }
+        break;
+      }
+      __Pyx_GOTREF(__pyx_t_4);
+    }
+    __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_4);
+    __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":2530
+    /* "capnp/lib/capnp.pyx":2615
  *         cdef const ArrayPtr[const uint8_t]* piece
  *         for i in range(self.write_index, self.write_pieces.size()):
- *             if self.write_paused:             # <<<<<<<<<<<<<<
- *                 self.write_index = i
- *                 break
+ *             piece = &self.write_pieces[i]             # <<<<<<<<<<<<<<
+ *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
+ *             self.transport.write(view)
  */
-    __pyx_t_1 = (__pyx_v_self->write_paused != 0);
-    if (__pyx_t_1) {
+    __pyx_t_8 = __Pyx_PyInt_As_size_t(__pyx_v_i); if (unlikely((__pyx_t_8 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2615, __pyx_L1_error)
+    __pyx_v_piece = (( ::kj::ArrayPtr<uint8_t const >  const *)(&(__pyx_v_self->write_pieces[__pyx_t_8])));
 
-      /* "capnp/lib/capnp.pyx":2531
+    /* "capnp/lib/capnp.pyx":2616
  *         for i in range(self.write_index, self.write_pieces.size()):
- *             if self.write_paused:
- *                 self.write_index = i             # <<<<<<<<<<<<<<
- *                 break
  *             piece = &self.write_pieces[i]
+ *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)             # <<<<<<<<<<<<<<
+ *             self.transport.write(view)
+ *             if self.write_paused:
  */
-      __pyx_v_self->write_index = __pyx_v_i;
+    __pyx_t_4 = PyMemoryView_FromMemory(((char *)__pyx_v_piece->begin()), __pyx_v_piece->size(), PyBUF_READ); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2616, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_4);
+    __Pyx_XDECREF_SET(__pyx_v_view, __pyx_t_4);
+    __pyx_t_4 = 0;
 
-      /* "capnp/lib/capnp.pyx":2532
- *             if self.write_paused:
- *                 self.write_index = i
- *                 break             # <<<<<<<<<<<<<<
+    /* "capnp/lib/capnp.pyx":2617
  *             piece = &self.write_pieces[i]
  *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
+ *             self.transport.write(view)             # <<<<<<<<<<<<<<
+ *             if self.write_paused:
+ *                 self.write_index = i+1
  */
-      goto __pyx_L5_break;
-
-      /* "capnp/lib/capnp.pyx":2530
- *         cdef const ArrayPtr[const uint8_t]* piece
- *         for i in range(self.write_index, self.write_pieces.size()):
- *             if self.write_paused:             # <<<<<<<<<<<<<<
- *                 self.write_index = i
- *                 break
- */
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_write); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2617, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_9 = NULL;
+    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
+      __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_3);
+      if (likely(__pyx_t_9)) {
+        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
+        __Pyx_INCREF(__pyx_t_9);
+        __Pyx_INCREF(function);
+        __Pyx_DECREF_SET(__pyx_t_3, function);
+      }
     }
+    __pyx_t_4 = (__pyx_t_9) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_9, __pyx_v_view) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_view);
+    __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2617, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_4);
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":2533
- *                 self.write_index = i
- *                 break
- *             piece = &self.write_pieces[i]             # <<<<<<<<<<<<<<
+    /* "capnp/lib/capnp.pyx":2618
  *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
  *             self.transport.write(view)
+ *             if self.write_paused:             # <<<<<<<<<<<<<<
+ *                 self.write_index = i+1
+ *                 break
  */
-    __pyx_v_piece = (( ::kj::ArrayPtr<uint8_t const >  const *)(&(__pyx_v_self->write_pieces[__pyx_v_i])));
+    __pyx_t_1 = (__pyx_v_self->write_paused != 0);
+    if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2534
- *                 break
- *             piece = &self.write_pieces[i]
- *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)             # <<<<<<<<<<<<<<
+      /* "capnp/lib/capnp.pyx":2619
  *             self.transport.write(view)
+ *             if self.write_paused:
+ *                 self.write_index = i+1             # <<<<<<<<<<<<<<
+ *                 break
  *         if not self.write_paused:
  */
-    __pyx_t_5 = PyMemoryView_FromMemory(((char *)__pyx_v_piece->begin()), __pyx_v_piece->size(), PyBUF_READ); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2534, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_XDECREF_SET(__pyx_v_view, __pyx_t_5);
-    __pyx_t_5 = 0;
+      __pyx_t_4 = __Pyx_PyInt_AddObjC(__pyx_v_i, __pyx_int_1, 1, 0, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2619, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_4);
+      __pyx_t_8 = __Pyx_PyInt_As_size_t(__pyx_t_4); if (unlikely((__pyx_t_8 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2619, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+      __pyx_v_self->write_index = __pyx_t_8;
 
-    /* "capnp/lib/capnp.pyx":2535
- *             piece = &self.write_pieces[i]
- *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
- *             self.transport.write(view)             # <<<<<<<<<<<<<<
+      /* "capnp/lib/capnp.pyx":2620
+ *             if self.write_paused:
+ *                 self.write_index = i+1
+ *                 break             # <<<<<<<<<<<<<<
  *         if not self.write_paused:
  *             self.write_fulfiller.fulfill()
  */
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_write); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2535, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    __pyx_t_7 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
-      __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_6);
-      if (likely(__pyx_t_7)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
-        __Pyx_INCREF(__pyx_t_7);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_6, function);
-      }
-    }
-    __pyx_t_5 = (__pyx_t_7) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_7, __pyx_v_view) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_view);
-    __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-    if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2535, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  }
-  __pyx_L5_break:;
+      goto __pyx_L7_break;
 
-  /* "capnp/lib/capnp.pyx":2536
+      /* "capnp/lib/capnp.pyx":2618
  *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
  *             self.transport.write(view)
+ *             if self.write_paused:             # <<<<<<<<<<<<<<
+ *                 self.write_index = i+1
+ *                 break
+ */
+    }
+
+    /* "capnp/lib/capnp.pyx":2614
+ *         if self.write_paused or not self.write_in_progress: return
+ *         cdef const ArrayPtr[const uint8_t]* piece
+ *         for i in range(self.write_index, self.write_pieces.size()):             # <<<<<<<<<<<<<<
+ *             piece = &self.write_pieces[i]
+ *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
+ */
+  }
+  __pyx_L7_break:;
+  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
+
+  /* "capnp/lib/capnp.pyx":2621
+ *                 self.write_index = i+1
+ *                 break
  *         if not self.write_paused:             # <<<<<<<<<<<<<<
  *             self.write_fulfiller.fulfill()
  *             self.write_reset()
  */
   __pyx_t_1 = ((!(__pyx_v_self->write_paused != 0)) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2537
- *             self.transport.write(view)
+    /* "capnp/lib/capnp.pyx":2622
+ *                 break
  *         if not self.write_paused:
  *             self.write_fulfiller.fulfill()             # <<<<<<<<<<<<<<
  *             self.write_reset()
  * 
  */
     __pyx_v_self->write_fulfiller->fulfill();
 
-    /* "capnp/lib/capnp.pyx":2538
+    /* "capnp/lib/capnp.pyx":2623
  *         if not self.write_paused:
  *             self.write_fulfiller.fulfill()
  *             self.write_reset()             # <<<<<<<<<<<<<<
  * 
  *     cdef read_reset(self):
  */
-    __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->write_reset(__pyx_v_self); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2538, __pyx_L1_error)
+    __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->write_reset(__pyx_v_self); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2623, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":2536
- *             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
- *             self.transport.write(view)
+    /* "capnp/lib/capnp.pyx":2621
+ *                 self.write_index = i+1
+ *                 break
  *         if not self.write_paused:             # <<<<<<<<<<<<<<
  *             self.write_fulfiller.fulfill()
  *             self.write_reset()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2526
+  /* "capnp/lib/capnp.pyx":2611
  *             self.read_reset()
  * 
  *     cdef write_loop(self):             # <<<<<<<<<<<<<<
- *         if not self.write_in_progress: return
+ *         if self.write_paused or not self.write_in_progress: return
  *         cdef const ArrayPtr[const uint8_t]* piece
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   goto __pyx_L0;
   __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_XDECREF(__pyx_t_9);
   __Pyx_AddTraceback("capnp.lib.capnp._PyAsyncIoStreamProtocol.write_loop", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = 0;
   __pyx_L0:;
+  __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF(__pyx_v_view);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2540
+/* "capnp/lib/capnp.pyx":2625
  *             self.write_reset()
  * 
  *     cdef read_reset(self):             # <<<<<<<<<<<<<<
  *         self.transport.pause_reading()
  *         self.read_buffer = NULL
  */
 
@@ -59246,59 +60263,59 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("read_reset", 0);
 
-  /* "capnp/lib/capnp.pyx":2541
+  /* "capnp/lib/capnp.pyx":2626
  * 
  *     cdef read_reset(self):
  *         self.transport.pause_reading()             # <<<<<<<<<<<<<<
  *         self.read_buffer = NULL
  *         self.read_fulfiller = NULL
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_pause_reading); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2541, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_pause_reading); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2626, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2541, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2626, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2542
+  /* "capnp/lib/capnp.pyx":2627
  *     cdef read_reset(self):
  *         self.transport.pause_reading()
  *         self.read_buffer = NULL             # <<<<<<<<<<<<<<
  *         self.read_fulfiller = NULL
  * 
  */
   __pyx_v_self->read_buffer = NULL;
 
-  /* "capnp/lib/capnp.pyx":2543
+  /* "capnp/lib/capnp.pyx":2628
  *         self.transport.pause_reading()
  *         self.read_buffer = NULL
  *         self.read_fulfiller = NULL             # <<<<<<<<<<<<<<
  * 
  *     cdef write_reset(self):
  */
   __pyx_v_self->read_fulfiller = NULL;
 
-  /* "capnp/lib/capnp.pyx":2540
+  /* "capnp/lib/capnp.pyx":2625
  *             self.write_reset()
  * 
  *     cdef read_reset(self):             # <<<<<<<<<<<<<<
  *         self.transport.pause_reading()
  *         self.read_buffer = NULL
  */
 
@@ -59313,62 +60330,62 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2545
+/* "capnp/lib/capnp.pyx":2630
  *         self.read_fulfiller = NULL
  * 
  *     cdef write_reset(self):             # <<<<<<<<<<<<<<
  *         self.write_in_progress = False
  *         self.write_fulfiller = NULL
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_write_reset(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("write_reset", 0);
 
-  /* "capnp/lib/capnp.pyx":2546
+  /* "capnp/lib/capnp.pyx":2631
  * 
  *     cdef write_reset(self):
  *         self.write_in_progress = False             # <<<<<<<<<<<<<<
  *         self.write_fulfiller = NULL
  * 
  */
   __pyx_v_self->write_in_progress = 0;
 
-  /* "capnp/lib/capnp.pyx":2547
+  /* "capnp/lib/capnp.pyx":2632
  *     cdef write_reset(self):
  *         self.write_in_progress = False
  *         self.write_fulfiller = NULL             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_v_self->write_fulfiller = NULL;
 
-  /* "capnp/lib/capnp.pyx":2545
+  /* "capnp/lib/capnp.pyx":2630
  *         self.read_fulfiller = NULL
  * 
  *     cdef write_reset(self):             # <<<<<<<<<<<<<<
  *         self.write_in_progress = False
  *         self.write_fulfiller = NULL
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2421
- *     cdef dict __dict__
+/* "capnp/lib/capnp.pyx":2492
+ *     cdef object _task
  * 
  *     cdef public object transport             # <<<<<<<<<<<<<<
  *     cdef object connected_callback
  *     cdef object callback_arg
  */
 
 /* Python wrapper */
@@ -59489,15 +60506,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__71, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__73, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -59546,15 +60563,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__72, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__74, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -59569,15 +60586,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._PyAsyncIoStreamProtocol.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2550
+/* "capnp/lib/capnp.pyx":2635
  * 
  * 
  * cdef api void _asyncio_stream_write_start(             # <<<<<<<<<<<<<<
  *     object thisptr, ArrayPtr[const ArrayPtr[const uint8_t]] pieces,
  *     VoidPromiseFulfiller& fulfiller) except*:
  */
 
@@ -59591,138 +60608,138 @@
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_asyncio_stream_write_start", 0);
 
-  /* "capnp/lib/capnp.pyx":2553
+  /* "capnp/lib/capnp.pyx":2638
  *     object thisptr, ArrayPtr[const ArrayPtr[const uint8_t]] pieces,
  *     VoidPromiseFulfiller& fulfiller) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr             # <<<<<<<<<<<<<<
  *     if self.transport is None or self.transport.is_closing():
  *         capnp.rejectVoidDisconnected(fulfiller, StringPtr("Socket is closing."))
  */
   __pyx_t_1 = __pyx_v_thisptr;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2554
+  /* "capnp/lib/capnp.pyx":2639
  *     VoidPromiseFulfiller& fulfiller) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is None or self.transport.is_closing():             # <<<<<<<<<<<<<<
  *         capnp.rejectVoidDisconnected(fulfiller, StringPtr("Socket is closing."))
  *         return
  */
   __pyx_t_3 = (__pyx_v_self->transport == Py_None);
   __pyx_t_4 = (__pyx_t_3 != 0);
   if (!__pyx_t_4) {
   } else {
     __pyx_t_2 = __pyx_t_4;
     goto __pyx_L4_bool_binop_done;
   }
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_is_closing); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2554, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_is_closing); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2639, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __pyx_t_6 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
     __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
     if (likely(__pyx_t_6)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
       __Pyx_INCREF(__pyx_t_6);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_5, function);
     }
   }
   __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2554, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2639, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 2554, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 2639, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_2 = __pyx_t_4;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2555
+    /* "capnp/lib/capnp.pyx":2640
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is None or self.transport.is_closing():
  *         capnp.rejectVoidDisconnected(fulfiller, StringPtr("Socket is closing."))             # <<<<<<<<<<<<<<
  *         return
  *     self.write_pieces = pieces
  */
     rejectVoidDisconnected(__pyx_v_fulfiller,  ::kj::StringPtr(((char *)"Socket is closing.")));
 
-    /* "capnp/lib/capnp.pyx":2556
+    /* "capnp/lib/capnp.pyx":2641
  *     if self.transport is None or self.transport.is_closing():
  *         capnp.rejectVoidDisconnected(fulfiller, StringPtr("Socket is closing."))
  *         return             # <<<<<<<<<<<<<<
  *     self.write_pieces = pieces
  *     self.write_index = 0
  */
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2554
+    /* "capnp/lib/capnp.pyx":2639
  *     VoidPromiseFulfiller& fulfiller) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is None or self.transport.is_closing():             # <<<<<<<<<<<<<<
  *         capnp.rejectVoidDisconnected(fulfiller, StringPtr("Socket is closing."))
  *         return
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2557
+  /* "capnp/lib/capnp.pyx":2642
  *         capnp.rejectVoidDisconnected(fulfiller, StringPtr("Socket is closing."))
  *         return
  *     self.write_pieces = pieces             # <<<<<<<<<<<<<<
  *     self.write_index = 0
  *     self.write_fulfiller = &fulfiller
  */
   __pyx_v_self->write_pieces = (( ::kj::ArrayPtr< ::kj::ArrayPtr<uint8_t const >  const > )__pyx_v_pieces);
 
-  /* "capnp/lib/capnp.pyx":2558
+  /* "capnp/lib/capnp.pyx":2643
  *         return
  *     self.write_pieces = pieces
  *     self.write_index = 0             # <<<<<<<<<<<<<<
  *     self.write_fulfiller = &fulfiller
  *     self.write_in_progress = True
  */
   __pyx_v_self->write_index = 0;
 
-  /* "capnp/lib/capnp.pyx":2559
+  /* "capnp/lib/capnp.pyx":2644
  *     self.write_pieces = pieces
  *     self.write_index = 0
  *     self.write_fulfiller = &fulfiller             # <<<<<<<<<<<<<<
  *     self.write_in_progress = True
  *     self.write_loop()
  */
   __pyx_v_self->write_fulfiller = (&__pyx_v_fulfiller);
 
-  /* "capnp/lib/capnp.pyx":2560
+  /* "capnp/lib/capnp.pyx":2645
  *     self.write_index = 0
  *     self.write_fulfiller = &fulfiller
  *     self.write_in_progress = True             # <<<<<<<<<<<<<<
  *     self.write_loop()
  * 
  */
   __pyx_v_self->write_in_progress = 1;
 
-  /* "capnp/lib/capnp.pyx":2561
+  /* "capnp/lib/capnp.pyx":2646
  *     self.write_fulfiller = &fulfiller
  *     self.write_in_progress = True
  *     self.write_loop()             # <<<<<<<<<<<<<<
  * 
  * cdef api void _asyncio_stream_write_stop(object thisptr):
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->write_loop(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2561, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->write_loop(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2646, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2550
+  /* "capnp/lib/capnp.pyx":2635
  * 
  * 
  * cdef api void _asyncio_stream_write_start(             # <<<<<<<<<<<<<<
  *     object thisptr, ArrayPtr[const ArrayPtr[const uint8_t]] pieces,
  *     VoidPromiseFulfiller& fulfiller) except*:
  */
 
@@ -59734,15 +60751,15 @@
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_AddTraceback("capnp.lib.capnp._asyncio_stream_write_start", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_self);
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2563
+/* "capnp/lib/capnp.pyx":2648
  *     self.write_loop()
  * 
  * cdef api void _asyncio_stream_write_stop(object thisptr):             # <<<<<<<<<<<<<<
  *     (<_PyAsyncIoStreamProtocol>thisptr).write_reset()
  * 
  */
 
@@ -59750,26 +60767,26 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_asyncio_stream_write_stop", 0);
 
-  /* "capnp/lib/capnp.pyx":2564
+  /* "capnp/lib/capnp.pyx":2649
  * 
  * cdef api void _asyncio_stream_write_stop(object thisptr):
  *     (<_PyAsyncIoStreamProtocol>thisptr).write_reset()             # <<<<<<<<<<<<<<
  * 
  * cdef api void _asyncio_stream_read_start(
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_thisptr)->__pyx_vtab)->write_reset(((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_thisptr)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2564, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_thisptr)->__pyx_vtab)->write_reset(((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_thisptr)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2649, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2563
+  /* "capnp/lib/capnp.pyx":2648
  *     self.write_loop()
  * 
  * cdef api void _asyncio_stream_write_stop(object thisptr):             # <<<<<<<<<<<<<<
  *     (<_PyAsyncIoStreamProtocol>thisptr).write_reset()
  * 
  */
 
@@ -59778,15 +60795,15 @@
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_WriteUnraisable("capnp.lib.capnp._asyncio_stream_write_stop", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2566
+/* "capnp/lib/capnp.pyx":2651
  *     (<_PyAsyncIoStreamProtocol>thisptr).write_reset()
  * 
  * cdef api void _asyncio_stream_read_start(             # <<<<<<<<<<<<<<
  *     object thisptr, void* buffer, size_t min_bytes, size_t max_bytes,
  *     PromiseFulfiller[size_t]& fulfiller) except*:
  */
 
@@ -59807,384 +60824,384 @@
   Py_ssize_t __pyx_t_11;
   int32_t __pyx_t_12;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_asyncio_stream_read_start", 0);
 
-  /* "capnp/lib/capnp.pyx":2569
+  /* "capnp/lib/capnp.pyx":2654
  *     object thisptr, void* buffer, size_t min_bytes, size_t max_bytes,
  *     PromiseFulfiller[size_t]& fulfiller) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr             # <<<<<<<<<<<<<<
  *     if self.transport is None or self.transport.is_closing():
  *         capnp.rejectDisconnected(fulfiller, StringPtr("Socket is closing"))
  */
   __pyx_t_1 = __pyx_v_thisptr;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2570
+  /* "capnp/lib/capnp.pyx":2655
  *     PromiseFulfiller[size_t]& fulfiller) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is None or self.transport.is_closing():             # <<<<<<<<<<<<<<
  *         capnp.rejectDisconnected(fulfiller, StringPtr("Socket is closing"))
  *         return
  */
   __pyx_t_3 = (__pyx_v_self->transport == Py_None);
   __pyx_t_4 = (__pyx_t_3 != 0);
   if (!__pyx_t_4) {
   } else {
     __pyx_t_2 = __pyx_t_4;
     goto __pyx_L4_bool_binop_done;
   }
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_is_closing); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2570, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_is_closing); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2655, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __pyx_t_6 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
     __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
     if (likely(__pyx_t_6)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
       __Pyx_INCREF(__pyx_t_6);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_5, function);
     }
   }
   __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2570, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2655, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 2570, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 2655, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_2 = __pyx_t_4;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2571
+    /* "capnp/lib/capnp.pyx":2656
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is None or self.transport.is_closing():
  *         capnp.rejectDisconnected(fulfiller, StringPtr("Socket is closing"))             # <<<<<<<<<<<<<<
  *         return
  *     if self.read_eof:
  */
     rejectDisconnected<size_t>(__pyx_v_fulfiller,  ::kj::StringPtr(((char *)"Socket is closing")));
 
-    /* "capnp/lib/capnp.pyx":2572
+    /* "capnp/lib/capnp.pyx":2657
  *     if self.transport is None or self.transport.is_closing():
  *         capnp.rejectDisconnected(fulfiller, StringPtr("Socket is closing"))
  *         return             # <<<<<<<<<<<<<<
  *     if self.read_eof:
  *         self.read_fulfiller.fulfill(0)
  */
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2570
+    /* "capnp/lib/capnp.pyx":2655
  *     PromiseFulfiller[size_t]& fulfiller) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is None or self.transport.is_closing():             # <<<<<<<<<<<<<<
  *         capnp.rejectDisconnected(fulfiller, StringPtr("Socket is closing"))
  *         return
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2573
+  /* "capnp/lib/capnp.pyx":2658
  *         capnp.rejectDisconnected(fulfiller, StringPtr("Socket is closing"))
  *         return
  *     if self.read_eof:             # <<<<<<<<<<<<<<
  *         self.read_fulfiller.fulfill(0)
  *         return
  */
   __pyx_t_2 = (__pyx_v_self->read_eof != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2574
+    /* "capnp/lib/capnp.pyx":2659
  *         return
  *     if self.read_eof:
  *         self.read_fulfiller.fulfill(0)             # <<<<<<<<<<<<<<
  *         return
  *     self.read_buffer = <char*>buffer
  */
     __pyx_v_self->read_fulfiller->fulfill(0);
 
-    /* "capnp/lib/capnp.pyx":2575
+    /* "capnp/lib/capnp.pyx":2660
  *     if self.read_eof:
  *         self.read_fulfiller.fulfill(0)
  *         return             # <<<<<<<<<<<<<<
  *     self.read_buffer = <char*>buffer
  *     self.read_min_bytes = min_bytes
  */
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2573
+    /* "capnp/lib/capnp.pyx":2658
  *         capnp.rejectDisconnected(fulfiller, StringPtr("Socket is closing"))
  *         return
  *     if self.read_eof:             # <<<<<<<<<<<<<<
  *         self.read_fulfiller.fulfill(0)
  *         return
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2576
+  /* "capnp/lib/capnp.pyx":2661
  *         self.read_fulfiller.fulfill(0)
  *         return
  *     self.read_buffer = <char*>buffer             # <<<<<<<<<<<<<<
  *     self.read_min_bytes = min_bytes
  *     self.read_max_bytes = max_bytes
  */
   __pyx_v_self->read_buffer = ((char *)__pyx_v_buffer);
 
-  /* "capnp/lib/capnp.pyx":2577
+  /* "capnp/lib/capnp.pyx":2662
  *         return
  *     self.read_buffer = <char*>buffer
  *     self.read_min_bytes = min_bytes             # <<<<<<<<<<<<<<
  *     self.read_max_bytes = max_bytes
  *     self.read_already_read = 0
  */
   __pyx_v_self->read_min_bytes = __pyx_v_min_bytes;
 
-  /* "capnp/lib/capnp.pyx":2578
+  /* "capnp/lib/capnp.pyx":2663
  *     self.read_buffer = <char*>buffer
  *     self.read_min_bytes = min_bytes
  *     self.read_max_bytes = max_bytes             # <<<<<<<<<<<<<<
  *     self.read_already_read = 0
  *     self.read_fulfiller = &fulfiller
  */
   __pyx_v_self->read_max_bytes = __pyx_v_max_bytes;
 
-  /* "capnp/lib/capnp.pyx":2579
+  /* "capnp/lib/capnp.pyx":2664
  *     self.read_min_bytes = min_bytes
  *     self.read_max_bytes = max_bytes
  *     self.read_already_read = 0             # <<<<<<<<<<<<<<
  *     self.read_fulfiller = &fulfiller
  * 
  */
   __pyx_v_self->read_already_read = 0;
 
-  /* "capnp/lib/capnp.pyx":2580
+  /* "capnp/lib/capnp.pyx":2665
  *     self.read_max_bytes = max_bytes
  *     self.read_already_read = 0
  *     self.read_fulfiller = &fulfiller             # <<<<<<<<<<<<<<
  * 
  *     # Begin of draining the overflow buffer, which is created because of a bug in SSL, see comment above.
  */
   __pyx_v_self->read_fulfiller = (&__pyx_v_fulfiller);
 
-  /* "capnp/lib/capnp.pyx":2584
+  /* "capnp/lib/capnp.pyx":2669
  *     # Begin of draining the overflow buffer, which is created because of a bug in SSL, see comment above.
  *     # Can be removed once Python < 3.11 is not longer supported.
  *     if self.read_overflow_buffer:             # <<<<<<<<<<<<<<
  *         to_copy = min(len(self.read_overflow_buffer), max_bytes)
  *         memcpy(buffer, <char*>self.read_overflow_buffer, to_copy)
  */
   __pyx_t_2 = (__pyx_v_self->read_overflow_buffer != Py_None)&&(PyByteArray_GET_SIZE(__pyx_v_self->read_overflow_buffer) != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2585
+    /* "capnp/lib/capnp.pyx":2670
  *     # Can be removed once Python < 3.11 is not longer supported.
  *     if self.read_overflow_buffer:
  *         to_copy = min(len(self.read_overflow_buffer), max_bytes)             # <<<<<<<<<<<<<<
  *         memcpy(buffer, <char*>self.read_overflow_buffer, to_copy)
  *         del self.read_overflow_buffer[:to_copy]
  */
     __pyx_t_7 = __pyx_v_max_bytes;
     __pyx_t_1 = __pyx_v_self->read_overflow_buffer;
     __Pyx_INCREF(__pyx_t_1);
     if (unlikely(__pyx_t_1 == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
-      __PYX_ERR(0, 2585, __pyx_L1_error)
+      __PYX_ERR(0, 2670, __pyx_L1_error)
     }
-    __pyx_t_8 = PyByteArray_GET_SIZE(__pyx_t_1); if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2585, __pyx_L1_error)
+    __pyx_t_8 = PyByteArray_GET_SIZE(__pyx_t_1); if (unlikely(__pyx_t_8 == ((Py_ssize_t)-1))) __PYX_ERR(0, 2670, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     if (((__pyx_t_7 < __pyx_t_8) != 0)) {
       __pyx_t_9 = __pyx_t_7;
     } else {
       __pyx_t_9 = __pyx_t_8;
     }
-    __pyx_t_1 = __Pyx_PyInt_FromSize_t(__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2585, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_FromSize_t(__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2670, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_v_to_copy = __pyx_t_1;
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":2586
+    /* "capnp/lib/capnp.pyx":2671
  *     if self.read_overflow_buffer:
  *         to_copy = min(len(self.read_overflow_buffer), max_bytes)
  *         memcpy(buffer, <char*>self.read_overflow_buffer, to_copy)             # <<<<<<<<<<<<<<
  *         del self.read_overflow_buffer[:to_copy]
  *         self.read_buffer += to_copy
  */
-    __pyx_t_10 = __Pyx_PyObject_AsWritableString(__pyx_v_self->read_overflow_buffer); if (unlikely((!__pyx_t_10) && PyErr_Occurred())) __PYX_ERR(0, 2586, __pyx_L1_error)
-    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_v_to_copy); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2586, __pyx_L1_error)
+    __pyx_t_10 = __Pyx_PyObject_AsWritableString(__pyx_v_self->read_overflow_buffer); if (unlikely((!__pyx_t_10) && PyErr_Occurred())) __PYX_ERR(0, 2671, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_v_to_copy); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2671, __pyx_L1_error)
     (void)(memcpy(__pyx_v_buffer, ((char *)__pyx_t_10), __pyx_t_9));
 
-    /* "capnp/lib/capnp.pyx":2587
+    /* "capnp/lib/capnp.pyx":2672
  *         to_copy = min(len(self.read_overflow_buffer), max_bytes)
  *         memcpy(buffer, <char*>self.read_overflow_buffer, to_copy)
  *         del self.read_overflow_buffer[:to_copy]             # <<<<<<<<<<<<<<
  *         self.read_buffer += to_copy
  *         self.read_min_bytes -= to_copy
  */
     if (unlikely(__pyx_v_self->read_overflow_buffer == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(0, 2587, __pyx_L1_error)
+      __PYX_ERR(0, 2672, __pyx_L1_error)
     }
     __Pyx_INCREF(__pyx_v_to_copy);
     __pyx_t_1 = __pyx_v_to_copy;
     __pyx_t_2 = (__pyx_t_1 == Py_None);
     if (__pyx_t_2) {
       __pyx_t_8 = PY_SSIZE_T_MAX;
     } else {
-      __pyx_t_11 = __Pyx_PyIndex_AsSsize_t(__pyx_t_1); if (unlikely((__pyx_t_11 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2587, __pyx_L1_error)
+      __pyx_t_11 = __Pyx_PyIndex_AsSsize_t(__pyx_t_1); if (unlikely((__pyx_t_11 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2672, __pyx_L1_error)
       __pyx_t_8 = __pyx_t_11;
     }
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    if (__Pyx_PyObject_DelSlice(__pyx_v_self->read_overflow_buffer, 0, __pyx_t_8, NULL, NULL, NULL, 0, 1, 1) < 0) __PYX_ERR(0, 2587, __pyx_L1_error)
+    if (__Pyx_PyObject_DelSlice(__pyx_v_self->read_overflow_buffer, 0, __pyx_t_8, NULL, NULL, NULL, 0, 1, 1) < 0) __PYX_ERR(0, 2672, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":2588
+    /* "capnp/lib/capnp.pyx":2673
  *         memcpy(buffer, <char*>self.read_overflow_buffer, to_copy)
  *         del self.read_overflow_buffer[:to_copy]
  *         self.read_buffer += to_copy             # <<<<<<<<<<<<<<
  *         self.read_min_bytes -= to_copy
  *         self.read_max_bytes -= to_copy
  */
-    __pyx_t_8 = __Pyx_PyIndex_AsSsize_t(__pyx_v_to_copy); if (unlikely((__pyx_t_8 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2588, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyIndex_AsSsize_t(__pyx_v_to_copy); if (unlikely((__pyx_t_8 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2673, __pyx_L1_error)
     __pyx_v_self->read_buffer = (__pyx_v_self->read_buffer + __pyx_t_8);
 
-    /* "capnp/lib/capnp.pyx":2589
+    /* "capnp/lib/capnp.pyx":2674
  *         del self.read_overflow_buffer[:to_copy]
  *         self.read_buffer += to_copy
  *         self.read_min_bytes -= to_copy             # <<<<<<<<<<<<<<
  *         self.read_max_bytes -= to_copy
  *         self.read_already_read += to_copy
  */
-    __pyx_t_1 = __Pyx_PyInt_From_int32_t(__pyx_v_self->read_min_bytes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2589, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_From_int32_t(__pyx_v_self->read_min_bytes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2674, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = PyNumber_InPlaceSubtract(__pyx_t_1, __pyx_v_to_copy); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2589, __pyx_L1_error)
+    __pyx_t_5 = PyNumber_InPlaceSubtract(__pyx_t_1, __pyx_v_to_copy); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2674, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_12 = __Pyx_PyInt_As_int32_t(__pyx_t_5); if (unlikely((__pyx_t_12 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 2589, __pyx_L1_error)
+    __pyx_t_12 = __Pyx_PyInt_As_int32_t(__pyx_t_5); if (unlikely((__pyx_t_12 == ((int32_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 2674, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __pyx_v_self->read_min_bytes = __pyx_t_12;
 
-    /* "capnp/lib/capnp.pyx":2590
+    /* "capnp/lib/capnp.pyx":2675
  *         self.read_buffer += to_copy
  *         self.read_min_bytes -= to_copy
  *         self.read_max_bytes -= to_copy             # <<<<<<<<<<<<<<
  *         self.read_already_read += to_copy
  *         if self.read_min_bytes <= 0:
  */
-    __pyx_t_5 = __Pyx_PyInt_FromSize_t(__pyx_v_self->read_max_bytes); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2590, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyInt_FromSize_t(__pyx_v_self->read_max_bytes); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2675, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_1 = PyNumber_InPlaceSubtract(__pyx_t_5, __pyx_v_to_copy); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2590, __pyx_L1_error)
+    __pyx_t_1 = PyNumber_InPlaceSubtract(__pyx_t_5, __pyx_v_to_copy); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2675, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_t_1); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2590, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_t_1); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2675, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_v_self->read_max_bytes = __pyx_t_9;
 
-    /* "capnp/lib/capnp.pyx":2591
+    /* "capnp/lib/capnp.pyx":2676
  *         self.read_min_bytes -= to_copy
  *         self.read_max_bytes -= to_copy
  *         self.read_already_read += to_copy             # <<<<<<<<<<<<<<
  *         if self.read_min_bytes <= 0:
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  */
-    __pyx_t_1 = __Pyx_PyInt_FromSize_t(__pyx_v_self->read_already_read); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2591, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_FromSize_t(__pyx_v_self->read_already_read); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2676, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = PyNumber_InPlaceAdd(__pyx_t_1, __pyx_v_to_copy); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2591, __pyx_L1_error)
+    __pyx_t_5 = PyNumber_InPlaceAdd(__pyx_t_1, __pyx_v_to_copy); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2676, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_t_5); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2591, __pyx_L1_error)
+    __pyx_t_9 = __Pyx_PyInt_As_size_t(__pyx_t_5); if (unlikely((__pyx_t_9 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 2676, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __pyx_v_self->read_already_read = __pyx_t_9;
 
-    /* "capnp/lib/capnp.pyx":2592
+    /* "capnp/lib/capnp.pyx":2677
  *         self.read_max_bytes -= to_copy
  *         self.read_already_read += to_copy
  *         if self.read_min_bytes <= 0:             # <<<<<<<<<<<<<<
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  *             self.read_reset()
  */
     __pyx_t_2 = ((__pyx_v_self->read_min_bytes <= 0) != 0);
     if (__pyx_t_2) {
 
-      /* "capnp/lib/capnp.pyx":2593
+      /* "capnp/lib/capnp.pyx":2678
  *         self.read_already_read += to_copy
  *         if self.read_min_bytes <= 0:
  *             self.read_fulfiller.fulfill(move(self.read_already_read))             # <<<<<<<<<<<<<<
  *             self.read_reset()
  *             return # resume_reading no longer needed
  */
       __pyx_v_self->read_fulfiller->fulfill(cython_std::move<size_t>(__pyx_v_self->read_already_read));
 
-      /* "capnp/lib/capnp.pyx":2594
+      /* "capnp/lib/capnp.pyx":2679
  *         if self.read_min_bytes <= 0:
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  *             self.read_reset()             # <<<<<<<<<<<<<<
  *             return # resume_reading no longer needed
  *     # End of draining the overflow buffer.
  */
-      __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->read_reset(__pyx_v_self); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2594, __pyx_L1_error)
+      __pyx_t_5 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->read_reset(__pyx_v_self); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2679, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-      /* "capnp/lib/capnp.pyx":2595
+      /* "capnp/lib/capnp.pyx":2680
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  *             self.read_reset()
  *             return # resume_reading no longer needed             # <<<<<<<<<<<<<<
  *     # End of draining the overflow buffer.
  * 
  */
       goto __pyx_L0;
 
-      /* "capnp/lib/capnp.pyx":2592
+      /* "capnp/lib/capnp.pyx":2677
  *         self.read_max_bytes -= to_copy
  *         self.read_already_read += to_copy
  *         if self.read_min_bytes <= 0:             # <<<<<<<<<<<<<<
  *             self.read_fulfiller.fulfill(move(self.read_already_read))
  *             self.read_reset()
  */
     }
 
-    /* "capnp/lib/capnp.pyx":2584
+    /* "capnp/lib/capnp.pyx":2669
  *     # Begin of draining the overflow buffer, which is created because of a bug in SSL, see comment above.
  *     # Can be removed once Python < 3.11 is not longer supported.
  *     if self.read_overflow_buffer:             # <<<<<<<<<<<<<<
  *         to_copy = min(len(self.read_overflow_buffer), max_bytes)
  *         memcpy(buffer, <char*>self.read_overflow_buffer, to_copy)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2598
+  /* "capnp/lib/capnp.pyx":2683
  *     # End of draining the overflow buffer.
  * 
  *     self.transport.resume_reading()             # <<<<<<<<<<<<<<
  * 
  * cdef api void _asyncio_stream_read_stop(object thisptr):
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_resume_reading); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2598, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_resume_reading); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2683, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_6 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_1);
     if (likely(__pyx_t_6)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_6);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_1, function);
     }
   }
   __pyx_t_5 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-  if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2598, __pyx_L1_error)
+  if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2683, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-  /* "capnp/lib/capnp.pyx":2566
+  /* "capnp/lib/capnp.pyx":2651
  *     (<_PyAsyncIoStreamProtocol>thisptr).write_reset()
  * 
  * cdef api void _asyncio_stream_read_start(             # <<<<<<<<<<<<<<
  *     object thisptr, void* buffer, size_t min_bytes, size_t max_bytes,
  *     PromiseFulfiller[size_t]& fulfiller) except*:
  */
 
@@ -60197,15 +61214,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._asyncio_stream_read_start", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_self);
   __Pyx_XDECREF(__pyx_v_to_copy);
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2600
+/* "capnp/lib/capnp.pyx":2685
  *     self.transport.resume_reading()
  * 
  * cdef api void _asyncio_stream_read_stop(object thisptr):             # <<<<<<<<<<<<<<
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is not None: self.read_reset()
  */
 
@@ -60216,42 +61233,42 @@
   int __pyx_t_2;
   int __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_asyncio_stream_read_stop", 0);
 
-  /* "capnp/lib/capnp.pyx":2601
+  /* "capnp/lib/capnp.pyx":2686
  * 
  * cdef api void _asyncio_stream_read_stop(object thisptr):
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr             # <<<<<<<<<<<<<<
  *     if self.transport is not None: self.read_reset()
  * 
  */
   __pyx_t_1 = __pyx_v_thisptr;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2602
+  /* "capnp/lib/capnp.pyx":2687
  * cdef api void _asyncio_stream_read_stop(object thisptr):
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is not None: self.read_reset()             # <<<<<<<<<<<<<<
  * 
  * cdef api void _asyncio_stream_shutdown_write(object thisptr) except*:
  */
   __pyx_t_2 = (__pyx_v_self->transport != Py_None);
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
-    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->read_reset(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2602, __pyx_L1_error)
+    __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_v_self->__pyx_vtab)->read_reset(__pyx_v_self); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2687, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   }
 
-  /* "capnp/lib/capnp.pyx":2600
+  /* "capnp/lib/capnp.pyx":2685
  *     self.transport.resume_reading()
  * 
  * cdef api void _asyncio_stream_read_stop(object thisptr):             # <<<<<<<<<<<<<<
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is not None: self.read_reset()
  */
 
@@ -60261,15 +61278,15 @@
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_WriteUnraisable("capnp.lib.capnp._asyncio_stream_read_stop", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_self);
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2604
+/* "capnp/lib/capnp.pyx":2689
  *     if self.transport is not None: self.read_reset()
  * 
  * cdef api void _asyncio_stream_shutdown_write(object thisptr) except*:             # <<<<<<<<<<<<<<
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is not None and self.transport.can_write_eof():
  */
 
@@ -60283,99 +61300,99 @@
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_asyncio_stream_shutdown_write", 0);
 
-  /* "capnp/lib/capnp.pyx":2605
+  /* "capnp/lib/capnp.pyx":2690
  * 
  * cdef api void _asyncio_stream_shutdown_write(object thisptr) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr             # <<<<<<<<<<<<<<
  *     if self.transport is not None and self.transport.can_write_eof():
  *         self.transport.write_eof()
  */
   __pyx_t_1 = __pyx_v_thisptr;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2606
+  /* "capnp/lib/capnp.pyx":2691
  * cdef api void _asyncio_stream_shutdown_write(object thisptr) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is not None and self.transport.can_write_eof():             # <<<<<<<<<<<<<<
  *         self.transport.write_eof()
  * 
  */
   __pyx_t_3 = (__pyx_v_self->transport != Py_None);
   __pyx_t_4 = (__pyx_t_3 != 0);
   if (__pyx_t_4) {
   } else {
     __pyx_t_2 = __pyx_t_4;
     goto __pyx_L4_bool_binop_done;
   }
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_can_write_eof); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2606, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_can_write_eof); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2691, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __pyx_t_6 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
     __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
     if (likely(__pyx_t_6)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
       __Pyx_INCREF(__pyx_t_6);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_5, function);
     }
   }
   __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2606, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2691, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 2606, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 2691, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_2 = __pyx_t_4;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2607
+    /* "capnp/lib/capnp.pyx":2692
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is not None and self.transport.can_write_eof():
  *         self.transport.write_eof()             # <<<<<<<<<<<<<<
  * 
  * cdef api void _asyncio_stream_close(object thisptr) except*:
  */
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_write_eof); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2607, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_write_eof); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2692, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __pyx_t_6 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
       __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
       if (likely(__pyx_t_6)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
         __Pyx_INCREF(__pyx_t_6);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_5, function);
       }
     }
     __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2607, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2692, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":2606
+    /* "capnp/lib/capnp.pyx":2691
  * cdef api void _asyncio_stream_shutdown_write(object thisptr) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is not None and self.transport.can_write_eof():             # <<<<<<<<<<<<<<
  *         self.transport.write_eof()
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2604
+  /* "capnp/lib/capnp.pyx":2689
  *     if self.transport is not None: self.read_reset()
  * 
  * cdef api void _asyncio_stream_shutdown_write(object thisptr) except*:             # <<<<<<<<<<<<<<
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     if self.transport is not None and self.transport.can_write_eof():
  */
 
@@ -60387,15 +61404,15 @@
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_AddTraceback("capnp.lib.capnp._asyncio_stream_shutdown_write", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_self);
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2609
+/* "capnp/lib/capnp.pyx":2694
  *         self.transport.write_eof()
  * 
  * cdef api void _asyncio_stream_close(object thisptr) except*:             # <<<<<<<<<<<<<<
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     # Careful, the transport object may have already been partially destroyed here.
  */
 
@@ -60409,27 +61426,27 @@
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_asyncio_stream_close", 0);
 
-  /* "capnp/lib/capnp.pyx":2610
+  /* "capnp/lib/capnp.pyx":2695
  * 
  * cdef api void _asyncio_stream_close(object thisptr) except*:
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr             # <<<<<<<<<<<<<<
  *     # Careful, the transport object may have already been partially destroyed here.
  *     if self.transport is not None and hasattr(self.transport, "close"):
  */
   __pyx_t_1 = __pyx_v_thisptr;
   __Pyx_INCREF(__pyx_t_1);
   __pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2612
+  /* "capnp/lib/capnp.pyx":2697
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     # Careful, the transport object may have already been partially destroyed here.
  *     if self.transport is not None and hasattr(self.transport, "close"):             # <<<<<<<<<<<<<<
  *         self.transport.close()
  * 
  */
   __pyx_t_3 = (__pyx_v_self->transport != Py_None);
@@ -60437,57 +61454,57 @@
   if (__pyx_t_4) {
   } else {
     __pyx_t_2 = __pyx_t_4;
     goto __pyx_L4_bool_binop_done;
   }
   __pyx_t_1 = __pyx_v_self->transport;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_4 = __Pyx_HasAttr(__pyx_t_1, __pyx_n_s_close); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2612, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_HasAttr(__pyx_t_1, __pyx_n_s_close); if (unlikely(__pyx_t_4 == ((int)-1))) __PYX_ERR(0, 2697, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_4 != 0);
   __pyx_t_2 = __pyx_t_3;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2613
+    /* "capnp/lib/capnp.pyx":2698
  *     # Careful, the transport object may have already been partially destroyed here.
  *     if self.transport is not None and hasattr(self.transport, "close"):
  *         self.transport.close()             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_close); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2613, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->transport, __pyx_n_s_close); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2698, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __pyx_t_6 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
       __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
       if (likely(__pyx_t_6)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
         __Pyx_INCREF(__pyx_t_6);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_5, function);
       }
     }
     __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2613, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2698, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":2612
+    /* "capnp/lib/capnp.pyx":2697
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     # Careful, the transport object may have already been partially destroyed here.
  *     if self.transport is not None and hasattr(self.transport, "close"):             # <<<<<<<<<<<<<<
  *         self.transport.close()
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2609
+  /* "capnp/lib/capnp.pyx":2694
  *         self.transport.write_eof()
  * 
  * cdef api void _asyncio_stream_close(object thisptr) except*:             # <<<<<<<<<<<<<<
  *     cdef _PyAsyncIoStreamProtocol self = <_PyAsyncIoStreamProtocol>thisptr
  *     # Careful, the transport object may have already been partially destroyed here.
  */
 
@@ -60499,64 +61516,64 @@
   __Pyx_XDECREF(__pyx_t_6);
   __Pyx_AddTraceback("capnp.lib.capnp._asyncio_stream_close", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_self);
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":2617
+/* "capnp/lib/capnp.pyx":2702
  * 
  * cdef class _Schema:
  *     cdef _init(self, C_Schema other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_7_Schema__init(struct __pyx_obj_5capnp_3lib_5capnp__Schema *__pyx_v_self,  ::capnp::Schema __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":2618
+  /* "capnp/lib/capnp.pyx":2703
  * cdef class _Schema:
  *     cdef _init(self, C_Schema other):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":2619
+  /* "capnp/lib/capnp.pyx":2704
  *     cdef _init(self, C_Schema other):
  *         self.thisptr = other
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_const_value(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2617
+  /* "capnp/lib/capnp.pyx":2702
  * 
  * cdef class _Schema:
  *     cdef _init(self, C_Schema other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2621
+/* "capnp/lib/capnp.pyx":2706
  *         return self
  * 
  *     cpdef as_const_value(self):             # <<<<<<<<<<<<<<
  *         return to_python_reader(<C_DynamicValue.Reader>self.thisptr.asConst(), self)
  * 
  */
 
@@ -60578,15 +61595,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_const_value); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2621, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_const_value); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2706, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_7_Schema_1as_const_value)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -60595,15 +61612,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2621, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2706, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -60616,35 +61633,35 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2622
+  /* "capnp/lib/capnp.pyx":2707
  * 
  *     cpdef as_const_value(self):
  *         return to_python_reader(<C_DynamicValue.Reader>self.thisptr.asConst(), self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_struct(self):
  */
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.asConst();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2622, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2707, __pyx_L1_error)
   }
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_to_python_reader((( ::capnp::DynamicValue::Reader)__pyx_t_5), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2622, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_to_python_reader((( ::capnp::DynamicValue::Reader)__pyx_t_5), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2707, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2621
+  /* "capnp/lib/capnp.pyx":2706
  *         return self
  * 
  *     cpdef as_const_value(self):             # <<<<<<<<<<<<<<
  *         return to_python_reader(<C_DynamicValue.Reader>self.thisptr.asConst(), self)
  * 
  */
 
@@ -60681,15 +61698,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_const_value", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_as_const_value(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2621, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_as_const_value(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2706, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -60698,15 +61715,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2624
+/* "capnp/lib/capnp.pyx":2709
  *         return to_python_reader(<C_DynamicValue.Reader>self.thisptr.asConst(), self)
  * 
  *     cpdef as_struct(self):             # <<<<<<<<<<<<<<
  *         return _StructSchema()._init_child(self.thisptr.asStruct())
  * 
  */
 
@@ -60728,15 +61745,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2624, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2709, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_7_Schema_3as_struct)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -60745,15 +61762,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2624, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2709, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -60766,38 +61783,38 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2625
+  /* "capnp/lib/capnp.pyx":2710
  * 
  *     cpdef as_struct(self):
  *         return _StructSchema()._init_child(self.thisptr.asStruct())             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_interface(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2625, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2710, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.asStruct();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2625, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2710, __pyx_L1_error)
   }
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2625, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2710, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2624
+  /* "capnp/lib/capnp.pyx":2709
  *         return to_python_reader(<C_DynamicValue.Reader>self.thisptr.asConst(), self)
  * 
  *     cpdef as_struct(self):             # <<<<<<<<<<<<<<
  *         return _StructSchema()._init_child(self.thisptr.asStruct())
  * 
  */
 
@@ -60834,15 +61851,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_struct", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_as_struct(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2624, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_as_struct(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2709, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -60851,15 +61868,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2627
+/* "capnp/lib/capnp.pyx":2712
  *         return _StructSchema()._init_child(self.thisptr.asStruct())
  * 
  *     cpdef as_interface(self):             # <<<<<<<<<<<<<<
  *         return _InterfaceSchema()._init(self.thisptr.asInterface())
  * 
  */
 
@@ -60881,15 +61898,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_interface); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2627, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_interface); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2712, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_7_Schema_5as_interface)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -60898,15 +61915,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2627, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2712, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -60919,38 +61936,38 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2628
+  /* "capnp/lib/capnp.pyx":2713
  * 
  *     cpdef as_interface(self):
  *         return _InterfaceSchema()._init(self.thisptr.asInterface())             # <<<<<<<<<<<<<<
  * 
  *     cpdef as_enum(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2628, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2713, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.asInterface();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2628, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2713, __pyx_L1_error)
   }
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2628, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_1), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2713, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2627
+  /* "capnp/lib/capnp.pyx":2712
  *         return _StructSchema()._init_child(self.thisptr.asStruct())
  * 
  *     cpdef as_interface(self):             # <<<<<<<<<<<<<<
  *         return _InterfaceSchema()._init(self.thisptr.asInterface())
  * 
  */
 
@@ -60987,15 +62004,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_interface", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_as_interface(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2627, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_as_interface(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2712, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -61004,15 +62021,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2630
+/* "capnp/lib/capnp.pyx":2715
  *         return _InterfaceSchema()._init(self.thisptr.asInterface())
  * 
  *     cpdef as_enum(self):             # <<<<<<<<<<<<<<
  *         return _EnumSchema()._init(self.thisptr.asEnum())
  * 
  */
 
@@ -61034,15 +62051,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_enum); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2630, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_as_enum); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2715, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_7_Schema_7as_enum)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -61051,15 +62068,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2630, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2715, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -61072,38 +62089,38 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2631
+  /* "capnp/lib/capnp.pyx":2716
  * 
  *     cpdef as_enum(self):
  *         return _EnumSchema()._init(self.thisptr.asEnum())             # <<<<<<<<<<<<<<
  * 
  *     cpdef get_proto(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__EnumSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2631, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__EnumSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2716, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.asEnum();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2631, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2716, __pyx_L1_error)
   }
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EnumSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_1), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2631, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EnumSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_1), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2716, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2630
+  /* "capnp/lib/capnp.pyx":2715
  *         return _InterfaceSchema()._init(self.thisptr.asInterface())
  * 
  *     cpdef as_enum(self):             # <<<<<<<<<<<<<<
  *         return _EnumSchema()._init(self.thisptr.asEnum())
  * 
  */
 
@@ -61140,15 +62157,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("as_enum", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_as_enum(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2630, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_as_enum(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2715, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -61157,15 +62174,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2633
+/* "capnp/lib/capnp.pyx":2718
  *         return _EnumSchema()._init(self.thisptr.asEnum())
  * 
  *     cpdef get_proto(self):             # <<<<<<<<<<<<<<
  *         return _NodeReader().init(self.thisptr.getProto())
  * 
  */
 
@@ -61187,15 +62204,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_proto); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2633, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_proto); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2718, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_7_Schema_9get_proto)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -61204,15 +62221,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2633, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2718, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -61225,38 +62242,38 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":2634
+  /* "capnp/lib/capnp.pyx":2719
  * 
  *     cpdef get_proto(self):
  *         return _NodeReader().init(self.thisptr.getProto())             # <<<<<<<<<<<<<<
  * 
  *     property node:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__NodeReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2634, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__NodeReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2719, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_5 = __pyx_v_self->thisptr.getProto();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2634, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2719, __pyx_L1_error)
   }
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__NodeReader *)((struct __pyx_obj_5capnp_3lib_5capnp__NodeReader *)__pyx_t_1)->__pyx_vtab)->init(((struct __pyx_obj_5capnp_3lib_5capnp__NodeReader *)__pyx_t_1), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2634, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__NodeReader *)((struct __pyx_obj_5capnp_3lib_5capnp__NodeReader *)__pyx_t_1)->__pyx_vtab)->init(((struct __pyx_obj_5capnp_3lib_5capnp__NodeReader *)__pyx_t_1), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2719, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2633
+  /* "capnp/lib/capnp.pyx":2718
  *         return _EnumSchema()._init(self.thisptr.asEnum())
  * 
  *     cpdef get_proto(self):             # <<<<<<<<<<<<<<
  *         return _NodeReader().init(self.thisptr.getProto())
  * 
  */
 
@@ -61293,15 +62310,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_proto", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_get_proto(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2633, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_7_Schema_get_proto(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2718, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -61310,15 +62327,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2638
+/* "capnp/lib/capnp.pyx":2723
  *     property node:
  *         """The raw schema node"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  */
 
@@ -61342,38 +62359,38 @@
    ::capnp::schema::Node::Reader __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2639
+  /* "capnp/lib/capnp.pyx":2724
  *         """The raw schema node"""
  *         def __get__(self):
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2639, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2724, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_2 = __pyx_v_self->thisptr.getProto();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2639, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2724, __pyx_L1_error)
   }
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_t_2), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2639, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_t_2), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2724, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2638
+  /* "capnp/lib/capnp.pyx":2723
  *     property node:
  *         """The raw schema node"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  */
 
@@ -61420,15 +62437,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__73, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__75, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -61477,15 +62494,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__74, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__76, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -61500,15 +62517,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._Schema.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2646
+/* "capnp/lib/capnp.pyx":2731
  *     cdef object __fieldnames, __union_fields, __non_union_fields, __fields, __getters
  *     cdef list __fields_list
  *     cdef _init_child(self, C_StructSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = other
  *         self._init(other)
  */
 
@@ -61517,125 +62534,125 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init_child", 0);
 
-  /* "capnp/lib/capnp.pyx":2647
+  /* "capnp/lib/capnp.pyx":2732
  *     cdef list __fields_list
  *     cdef _init_child(self, C_StructSchema other):
  *         self.thisptr_child = other             # <<<<<<<<<<<<<<
  *         self._init(other)
  *         self.__fieldnames = None
  */
   __pyx_v_self->thisptr_child = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":2648
+  /* "capnp/lib/capnp.pyx":2733
  *     cdef _init_child(self, C_StructSchema other):
  *         self.thisptr_child = other
  *         self._init(other)             # <<<<<<<<<<<<<<
  *         self.__fieldnames = None
  *         self.__union_fields = None
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_v_self), __pyx_v_other); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2648, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_v_self), __pyx_v_other); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2733, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2649
+  /* "capnp/lib/capnp.pyx":2734
  *         self.thisptr_child = other
  *         self._init(other)
  *         self.__fieldnames = None             # <<<<<<<<<<<<<<
  *         self.__union_fields = None
  *         self.__non_union_fields = None
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->__pyx___fieldnames);
   __Pyx_DECREF(__pyx_v_self->__pyx___fieldnames);
   __pyx_v_self->__pyx___fieldnames = Py_None;
 
-  /* "capnp/lib/capnp.pyx":2650
+  /* "capnp/lib/capnp.pyx":2735
  *         self._init(other)
  *         self.__fieldnames = None
  *         self.__union_fields = None             # <<<<<<<<<<<<<<
  *         self.__non_union_fields = None
  *         self.__fields = None
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->__pyx___union_fields);
   __Pyx_DECREF(__pyx_v_self->__pyx___union_fields);
   __pyx_v_self->__pyx___union_fields = Py_None;
 
-  /* "capnp/lib/capnp.pyx":2651
+  /* "capnp/lib/capnp.pyx":2736
  *         self.__fieldnames = None
  *         self.__union_fields = None
  *         self.__non_union_fields = None             # <<<<<<<<<<<<<<
  *         self.__fields = None
  *         self.__fields_list = None
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->__pyx___non_union_fields);
   __Pyx_DECREF(__pyx_v_self->__pyx___non_union_fields);
   __pyx_v_self->__pyx___non_union_fields = Py_None;
 
-  /* "capnp/lib/capnp.pyx":2652
+  /* "capnp/lib/capnp.pyx":2737
  *         self.__union_fields = None
  *         self.__non_union_fields = None
  *         self.__fields = None             # <<<<<<<<<<<<<<
  *         self.__fields_list = None
  *         self.__getters = None
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->__pyx___fields);
   __Pyx_DECREF(__pyx_v_self->__pyx___fields);
   __pyx_v_self->__pyx___fields = Py_None;
 
-  /* "capnp/lib/capnp.pyx":2653
+  /* "capnp/lib/capnp.pyx":2738
  *         self.__non_union_fields = None
  *         self.__fields = None
  *         self.__fields_list = None             # <<<<<<<<<<<<<<
  *         self.__getters = None
  *         return self
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->__pyx___fields_list);
   __Pyx_DECREF(__pyx_v_self->__pyx___fields_list);
   __pyx_v_self->__pyx___fields_list = ((PyObject*)Py_None);
 
-  /* "capnp/lib/capnp.pyx":2654
+  /* "capnp/lib/capnp.pyx":2739
  *         self.__fields = None
  *         self.__fields_list = None
  *         self.__getters = None             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __Pyx_GOTREF(__pyx_v_self->__pyx___getters);
   __Pyx_DECREF(__pyx_v_self->__pyx___getters);
   __pyx_v_self->__pyx___getters = Py_None;
 
-  /* "capnp/lib/capnp.pyx":2655
+  /* "capnp/lib/capnp.pyx":2740
  *         self.__fields_list = None
  *         self.__getters = None
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cdef C_StructSchema _thisptr(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2646
+  /* "capnp/lib/capnp.pyx":2731
  *     cdef object __fieldnames, __union_fields, __non_union_fields, __fields, __getters
  *     cdef list __fields_list
  *     cdef _init_child(self, C_StructSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = other
  *         self._init(other)
  */
 
@@ -61646,52 +62663,52 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2657
+/* "capnp/lib/capnp.pyx":2742
  *         return self
  * 
  *     cdef C_StructSchema _thisptr(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr_child
  * 
  */
 
 static  ::capnp::StructSchema __pyx_f_5capnp_3lib_5capnp_13_StructSchema__thisptr(struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *__pyx_v_self) {
    ::capnp::StructSchema __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_thisptr", 0);
 
-  /* "capnp/lib/capnp.pyx":2658
+  /* "capnp/lib/capnp.pyx":2743
  * 
  *     cdef C_StructSchema _thisptr(self):
  *         return self.thisptr_child             # <<<<<<<<<<<<<<
  * 
  *     property fieldnames:
  */
   __pyx_r = __pyx_v_self->thisptr_child;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2657
+  /* "capnp/lib/capnp.pyx":2742
  *         return self
  * 
  *     cdef C_StructSchema _thisptr(self):             # <<<<<<<<<<<<<<
  *         return self.thisptr_child
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2662
+/* "capnp/lib/capnp.pyx":2747
  *     property fieldnames:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__fieldnames is not None:
  *                 return self.__fieldnames
  */
 
@@ -61705,43 +62722,43 @@
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___2generator12(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2667
+/* "capnp/lib/capnp.pyx":2752
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  *             self.__fieldnames = tuple(<char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__fieldnames
  * 
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2667, __pyx_L1_error)
+    __PYX_ERR(0, 2752, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___2generator12, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_StructSchema___get___locals_gen, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2667, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___2generator12, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_StructSchema___get___locals_gen, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2752, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -61751,15 +62768,15 @@
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___2generator12(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *)__pyx_generator->closure);
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
@@ -61770,20 +62787,20 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L6_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2667, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2752, __pyx_L1_error)
   __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_nfields;
   __pyx_t_2 = __pyx_t_1;
   for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
     __pyx_cur_scope->__pyx_v_i = __pyx_t_3;
-    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2667, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2752, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
     __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
     __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
     __Pyx_XGIVEREF(__pyx_r);
@@ -61792,15 +62809,15 @@
     /* return from generator, yielding value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L6_resume_from_yield:;
     __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
     __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
     __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2667, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2752, __pyx_L1_error)
   }
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
   PyErr_SetNone(PyExc_StopIteration);
   goto __pyx_L0;
   __pyx_L1_error:;
@@ -61813,125 +62830,125 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2662
+/* "capnp/lib/capnp.pyx":2747
  *     property fieldnames:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__fieldnames is not None:
  *                 return self.__fieldnames
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_13_StructSchema_10fieldnames___get__(struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *__pyx_v_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *__pyx_cur_scope;
   PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___2generator12 = 0;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_14___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_14___get__, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_15___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_15___get__, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2662, __pyx_L1_error)
+    __PYX_ERR(0, 2747, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
 
-  /* "capnp/lib/capnp.pyx":2663
+  /* "capnp/lib/capnp.pyx":2748
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):
  *             if self.__fieldnames is not None:             # <<<<<<<<<<<<<<
  *                 return self.__fieldnames
  *             fieldlist = self._thisptr().getFields()
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___fieldnames != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2664
+    /* "capnp/lib/capnp.pyx":2749
  *         def __get__(self):
  *             if self.__fieldnames is not None:
  *                 return self.__fieldnames             # <<<<<<<<<<<<<<
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___fieldnames);
     __pyx_r = __pyx_v_self->__pyx___fieldnames;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2663
+    /* "capnp/lib/capnp.pyx":2748
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):
  *             if self.__fieldnames is not None:             # <<<<<<<<<<<<<<
  *                 return self.__fieldnames
  *             fieldlist = self._thisptr().getFields()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2665
+  /* "capnp/lib/capnp.pyx":2750
  *             if self.__fieldnames is not None:
  *                 return self.__fieldnames
  *             fieldlist = self._thisptr().getFields()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             self.__fieldnames = tuple(<char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  */
   __pyx_cur_scope->__pyx_v_fieldlist = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self).getFields();
 
-  /* "capnp/lib/capnp.pyx":2666
+  /* "capnp/lib/capnp.pyx":2751
  *                 return self.__fieldnames
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             self.__fieldnames = tuple(<char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             return self.__fieldnames
  */
   __pyx_cur_scope->__pyx_v_nfields = __pyx_cur_scope->__pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2667
+  /* "capnp/lib/capnp.pyx":2752
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  *             self.__fieldnames = tuple(<char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__fieldnames
  * 
  */
-  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2667, __pyx_L1_error)
+  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2752, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2667, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2752, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_4);
   __Pyx_GOTREF(__pyx_v_self->__pyx___fieldnames);
   __Pyx_DECREF(__pyx_v_self->__pyx___fieldnames);
   __pyx_v_self->__pyx___fieldnames = __pyx_t_4;
   __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":2668
+  /* "capnp/lib/capnp.pyx":2753
  *             nfields = fieldlist.size()
  *             self.__fieldnames = tuple(<char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             return self.__fieldnames             # <<<<<<<<<<<<<<
  * 
  *     property union_fields:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___fieldnames);
   __pyx_r = __pyx_v_self->__pyx___fieldnames;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2662
+  /* "capnp/lib/capnp.pyx":2747
  *     property fieldnames:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__fieldnames is not None:
  *                 return self.__fieldnames
  */
 
@@ -61945,15 +62962,15 @@
   __Pyx_XDECREF(__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_10fieldnames_7__get___2generator12);
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2672
+/* "capnp/lib/capnp.pyx":2757
  *     property union_fields:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__union_fields is not None:
  *                 return self.__union_fields
  */
 
@@ -61967,43 +62984,43 @@
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___2generator13(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2678
+/* "capnp/lib/capnp.pyx":2763
  *             nfields = fieldlist.size()
  *             self.__union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__union_fields
  * 
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2678, __pyx_L1_error)
+    __PYX_ERR(0, 2763, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___2generator13, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_StructSchema___get___locals_gen, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2678, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___2generator13, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_StructSchema___get___locals_gen, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2763, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -62013,15 +63030,15 @@
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___2generator13(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *)__pyx_generator->closure);
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
@@ -62032,20 +63049,20 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L6_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2678, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2763, __pyx_L1_error)
   __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_nfields;
   __pyx_t_2 = __pyx_t_1;
   for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
     __pyx_cur_scope->__pyx_v_i = __pyx_t_3;
-    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2678, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2763, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
     __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
     __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
     __Pyx_XGIVEREF(__pyx_r);
@@ -62054,15 +63071,15 @@
     /* return from generator, yielding value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L6_resume_from_yield:;
     __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
     __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
     __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2678, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2763, __pyx_L1_error)
   }
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
   PyErr_SetNone(PyExc_StopIteration);
   goto __pyx_L0;
   __pyx_L1_error:;
@@ -62075,133 +63092,133 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2672
+/* "capnp/lib/capnp.pyx":2757
  *     property union_fields:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__union_fields is not None:
  *                 return self.__union_fields
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_13_StructSchema_12union_fields___get__(struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *__pyx_v_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *__pyx_cur_scope;
   PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___2generator13 = 0;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_16___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_16___get__, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_17___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_17___get__, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2672, __pyx_L1_error)
+    __PYX_ERR(0, 2757, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
 
-  /* "capnp/lib/capnp.pyx":2673
+  /* "capnp/lib/capnp.pyx":2758
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):
  *             if self.__union_fields is not None:             # <<<<<<<<<<<<<<
  *                 return self.__union_fields
  *             fieldlist = self._thisptr().getUnionFields()
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___union_fields != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2674
+    /* "capnp/lib/capnp.pyx":2759
  *         def __get__(self):
  *             if self.__union_fields is not None:
  *                 return self.__union_fields             # <<<<<<<<<<<<<<
  *             fieldlist = self._thisptr().getUnionFields()
  *             nfields = fieldlist.size()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___union_fields);
     __pyx_r = __pyx_v_self->__pyx___union_fields;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2673
+    /* "capnp/lib/capnp.pyx":2758
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):
  *             if self.__union_fields is not None:             # <<<<<<<<<<<<<<
  *                 return self.__union_fields
  *             fieldlist = self._thisptr().getUnionFields()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2675
+  /* "capnp/lib/capnp.pyx":2760
  *             if self.__union_fields is not None:
  *                 return self.__union_fields
  *             fieldlist = self._thisptr().getUnionFields()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             self.__union_fields = tuple(
  */
   __pyx_cur_scope->__pyx_v_fieldlist = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self).getUnionFields();
 
-  /* "capnp/lib/capnp.pyx":2676
+  /* "capnp/lib/capnp.pyx":2761
  *                 return self.__union_fields
  *             fieldlist = self._thisptr().getUnionFields()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             self.__union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  */
   __pyx_cur_scope->__pyx_v_nfields = __pyx_cur_scope->__pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2678
+  /* "capnp/lib/capnp.pyx":2763
  *             nfields = fieldlist.size()
  *             self.__union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__union_fields
  * 
  */
-  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2678, __pyx_L1_error)
+  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2763, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":2677
+  /* "capnp/lib/capnp.pyx":2762
  *             fieldlist = self._thisptr().getUnionFields()
  *             nfields = fieldlist.size()
  *             self.__union_fields = tuple(             # <<<<<<<<<<<<<<
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             return self.__union_fields
  */
-  __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2677, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2762, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_4);
   __Pyx_GOTREF(__pyx_v_self->__pyx___union_fields);
   __Pyx_DECREF(__pyx_v_self->__pyx___union_fields);
   __pyx_v_self->__pyx___union_fields = __pyx_t_4;
   __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":2679
+  /* "capnp/lib/capnp.pyx":2764
  *             self.__union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             return self.__union_fields             # <<<<<<<<<<<<<<
  * 
  *     property non_union_fields:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___union_fields);
   __pyx_r = __pyx_v_self->__pyx___union_fields;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2672
+  /* "capnp/lib/capnp.pyx":2757
  *     property union_fields:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__union_fields is not None:
  *                 return self.__union_fields
  */
 
@@ -62215,15 +63232,15 @@
   __Pyx_XDECREF(__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_12union_fields_7__get___2generator13);
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2683
+/* "capnp/lib/capnp.pyx":2768
  *     property non_union_fields:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__non_union_fields is not None:
  *                 return self.__non_union_fields
  */
 
@@ -62237,43 +63254,43 @@
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___2generator14(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2689
+/* "capnp/lib/capnp.pyx":2774
  *             nfields = fieldlist.size()
  *             self.__non_union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__non_union_fields
  * 
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2689, __pyx_L1_error)
+    __PYX_ERR(0, 2774, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___2generator14, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_StructSchema___get___locals_gen, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2689, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___2generator14, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_StructSchema___get___locals_gen, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2774, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -62283,15 +63300,15 @@
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___2generator14(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *)__pyx_generator->closure);
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
@@ -62302,20 +63319,20 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L6_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2689, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2774, __pyx_L1_error)
   __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_nfields;
   __pyx_t_2 = __pyx_t_1;
   for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
     __pyx_cur_scope->__pyx_v_i = __pyx_t_3;
-    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2689, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2774, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
     __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
     __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
     __Pyx_XGIVEREF(__pyx_r);
@@ -62324,15 +63341,15 @@
     /* return from generator, yielding value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L6_resume_from_yield:;
     __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
     __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
     __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2689, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2774, __pyx_L1_error)
   }
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
   PyErr_SetNone(PyExc_StopIteration);
   goto __pyx_L0;
   __pyx_L1_error:;
@@ -62345,133 +63362,133 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2683
+/* "capnp/lib/capnp.pyx":2768
  *     property non_union_fields:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__non_union_fields is not None:
  *                 return self.__non_union_fields
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields___get__(struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *__pyx_v_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *__pyx_cur_scope;
   PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___2generator14 = 0;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_18___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_18___get__, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_19___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_19___get__, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2683, __pyx_L1_error)
+    __PYX_ERR(0, 2768, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
 
-  /* "capnp/lib/capnp.pyx":2684
+  /* "capnp/lib/capnp.pyx":2769
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):
  *             if self.__non_union_fields is not None:             # <<<<<<<<<<<<<<
  *                 return self.__non_union_fields
  *             fieldlist = self._thisptr().getNonUnionFields()
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___non_union_fields != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2685
+    /* "capnp/lib/capnp.pyx":2770
  *         def __get__(self):
  *             if self.__non_union_fields is not None:
  *                 return self.__non_union_fields             # <<<<<<<<<<<<<<
  *             fieldlist = self._thisptr().getNonUnionFields()
  *             nfields = fieldlist.size()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___non_union_fields);
     __pyx_r = __pyx_v_self->__pyx___non_union_fields;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2684
+    /* "capnp/lib/capnp.pyx":2769
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):
  *             if self.__non_union_fields is not None:             # <<<<<<<<<<<<<<
  *                 return self.__non_union_fields
  *             fieldlist = self._thisptr().getNonUnionFields()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2686
+  /* "capnp/lib/capnp.pyx":2771
  *             if self.__non_union_fields is not None:
  *                 return self.__non_union_fields
  *             fieldlist = self._thisptr().getNonUnionFields()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             self.__non_union_fields = tuple(
  */
   __pyx_cur_scope->__pyx_v_fieldlist = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self).getNonUnionFields();
 
-  /* "capnp/lib/capnp.pyx":2687
+  /* "capnp/lib/capnp.pyx":2772
  *                 return self.__non_union_fields
  *             fieldlist = self._thisptr().getNonUnionFields()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             self.__non_union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  */
   __pyx_cur_scope->__pyx_v_nfields = __pyx_cur_scope->__pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2689
+  /* "capnp/lib/capnp.pyx":2774
  *             nfields = fieldlist.size()
  *             self.__non_union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__non_union_fields
  * 
  */
-  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2689, __pyx_L1_error)
+  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2774, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":2688
+  /* "capnp/lib/capnp.pyx":2773
  *             fieldlist = self._thisptr().getNonUnionFields()
  *             nfields = fieldlist.size()
  *             self.__non_union_fields = tuple(             # <<<<<<<<<<<<<<
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             return self.__non_union_fields
  */
-  __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2688, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2773, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_4);
   __Pyx_GOTREF(__pyx_v_self->__pyx___non_union_fields);
   __Pyx_DECREF(__pyx_v_self->__pyx___non_union_fields);
   __pyx_v_self->__pyx___non_union_fields = __pyx_t_4;
   __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":2690
+  /* "capnp/lib/capnp.pyx":2775
  *             self.__non_union_fields = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             return self.__non_union_fields             # <<<<<<<<<<<<<<
  * 
  *     property fields:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___non_union_fields);
   __pyx_r = __pyx_v_self->__pyx___non_union_fields;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2683
+  /* "capnp/lib/capnp.pyx":2768
  *     property non_union_fields:
  *         """A tuple of the field names in the struct."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__non_union_fields is not None:
  *                 return self.__non_union_fields
  */
 
@@ -62485,15 +63502,15 @@
   __Pyx_XDECREF(__pyx_gb_5capnp_3lib_5capnp_13_StructSchema_16non_union_fields_7__get___2generator14);
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2694
+/* "capnp/lib/capnp.pyx":2779
  *     property fields:
  *         """All of the _StructSchemaField in this schema as a dict"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__fields is not None:
  *                 return self.__fields
  */
 
@@ -62527,135 +63544,135 @@
   PyObject *__pyx_t_9 = NULL;
   struct __pyx_opt_args_5capnp_3lib_5capnp_18_StructSchemaField__init __pyx_t_10;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2695
+  /* "capnp/lib/capnp.pyx":2780
  *         """All of the _StructSchemaField in this schema as a dict"""
  *         def __get__(self):
  *             if self.__fields is not None:             # <<<<<<<<<<<<<<
  *                 return self.__fields
  *             fieldlist = self._thisptr().getFields()
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___fields != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2696
+    /* "capnp/lib/capnp.pyx":2781
  *         def __get__(self):
  *             if self.__fields is not None:
  *                 return self.__fields             # <<<<<<<<<<<<<<
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___fields);
     __pyx_r = __pyx_v_self->__pyx___fields;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2695
+    /* "capnp/lib/capnp.pyx":2780
  *         """All of the _StructSchemaField in this schema as a dict"""
  *         def __get__(self):
  *             if self.__fields is not None:             # <<<<<<<<<<<<<<
  *                 return self.__fields
  *             fieldlist = self._thisptr().getFields()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2697
+  /* "capnp/lib/capnp.pyx":2782
  *             if self.__fields is not None:
  *                 return self.__fields
  *             fieldlist = self._thisptr().getFields()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             self.__fields = {
  */
   __pyx_v_fieldlist = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self).getFields();
 
-  /* "capnp/lib/capnp.pyx":2698
+  /* "capnp/lib/capnp.pyx":2783
  *                 return self.__fields
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             self.__fields = {
  *                 <char*>fieldlist[i].getProto().getName().cStr(): _StructSchemaField()._init(fieldlist[i], self)
  */
   __pyx_v_nfields = __pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2699
+  /* "capnp/lib/capnp.pyx":2784
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  *             self.__fields = {             # <<<<<<<<<<<<<<
  *                 <char*>fieldlist[i].getProto().getName().cStr(): _StructSchemaField()._init(fieldlist[i], self)
  *                 for i in xrange(nfields)
  */
   { /* enter inner scope */
-    __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2699, __pyx_L1_error)
+    __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2784, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
 
-    /* "capnp/lib/capnp.pyx":2701
+    /* "capnp/lib/capnp.pyx":2786
  *             self.__fields = {
  *                 <char*>fieldlist[i].getProto().getName().cStr(): _StructSchemaField()._init(fieldlist[i], self)
  *                 for i in xrange(nfields)             # <<<<<<<<<<<<<<
  *             }
  *             return self.__fields
  */
     __pyx_t_4 = __pyx_v_nfields;
     __pyx_t_5 = __pyx_t_4;
     for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
       __pyx_8genexpr6__pyx_v_i = __pyx_t_6;
 
-      /* "capnp/lib/capnp.pyx":2700
+      /* "capnp/lib/capnp.pyx":2785
  *             nfields = fieldlist.size()
  *             self.__fields = {
  *                 <char*>fieldlist[i].getProto().getName().cStr(): _StructSchemaField()._init(fieldlist[i], self)             # <<<<<<<<<<<<<<
  *                 for i in xrange(nfields)
  *             }
  */
-      __pyx_t_7 = __Pyx_PyStr_FromString(((char *)(__pyx_v_fieldlist[__pyx_8genexpr6__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2700, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyStr_FromString(((char *)(__pyx_v_fieldlist[__pyx_8genexpr6__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2785, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_8 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchemaField)); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2700, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchemaField)); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2785, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
       __pyx_t_10.__pyx_n = 1;
       __pyx_t_10.parent = ((PyObject *)__pyx_v_self);
-      __pyx_t_9 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_8)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_8), (__pyx_v_fieldlist[__pyx_8genexpr6__pyx_v_i]), &__pyx_t_10); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2700, __pyx_L1_error)
+      __pyx_t_9 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_8)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_8), (__pyx_v_fieldlist[__pyx_8genexpr6__pyx_v_i]), &__pyx_t_10); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2785, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      if (unlikely(PyDict_SetItem(__pyx_t_3, (PyObject*)__pyx_t_7, (PyObject*)__pyx_t_9))) __PYX_ERR(0, 2700, __pyx_L1_error)
+      if (unlikely(PyDict_SetItem(__pyx_t_3, (PyObject*)__pyx_t_7, (PyObject*)__pyx_t_9))) __PYX_ERR(0, 2785, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     }
   } /* exit inner scope */
 
-  /* "capnp/lib/capnp.pyx":2699
+  /* "capnp/lib/capnp.pyx":2784
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  *             self.__fields = {             # <<<<<<<<<<<<<<
  *                 <char*>fieldlist[i].getProto().getName().cStr(): _StructSchemaField()._init(fieldlist[i], self)
  *                 for i in xrange(nfields)
  */
   __Pyx_GIVEREF(__pyx_t_3);
   __Pyx_GOTREF(__pyx_v_self->__pyx___fields);
   __Pyx_DECREF(__pyx_v_self->__pyx___fields);
   __pyx_v_self->__pyx___fields = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2703
+  /* "capnp/lib/capnp.pyx":2788
  *                 for i in xrange(nfields)
  *             }
  *             return self.__fields             # <<<<<<<<<<<<<<
  * 
  *     property fields_list:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___fields);
   __pyx_r = __pyx_v_self->__pyx___fields;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2694
+  /* "capnp/lib/capnp.pyx":2779
  *     property fields:
  *         """All of the _StructSchemaField in this schema as a dict"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__fields is not None:
  *                 return self.__fields
  */
 
@@ -62669,15 +63686,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2707
+/* "capnp/lib/capnp.pyx":2792
  *     property fields_list:
  *         """All of the _StructSchemaField in this schema as a list"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__fields_list is not None:
  *                 return self.__fields_list
  */
 
@@ -62710,106 +63727,106 @@
   PyObject *__pyx_t_8 = NULL;
   struct __pyx_opt_args_5capnp_3lib_5capnp_18_StructSchemaField__init __pyx_t_9;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2708
+  /* "capnp/lib/capnp.pyx":2793
  *         """All of the _StructSchemaField in this schema as a list"""
  *         def __get__(self):
  *             if self.__fields_list is not None:             # <<<<<<<<<<<<<<
  *                 return self.__fields_list
  *             fieldlist = self._thisptr().getFields()
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___fields_list != ((PyObject*)Py_None));
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2709
+    /* "capnp/lib/capnp.pyx":2794
  *         def __get__(self):
  *             if self.__fields_list is not None:
  *                 return self.__fields_list             # <<<<<<<<<<<<<<
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___fields_list);
     __pyx_r = __pyx_v_self->__pyx___fields_list;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2708
+    /* "capnp/lib/capnp.pyx":2793
  *         """All of the _StructSchemaField in this schema as a list"""
  *         def __get__(self):
  *             if self.__fields_list is not None:             # <<<<<<<<<<<<<<
  *                 return self.__fields_list
  *             fieldlist = self._thisptr().getFields()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2710
+  /* "capnp/lib/capnp.pyx":2795
  *             if self.__fields_list is not None:
  *                 return self.__fields_list
  *             fieldlist = self._thisptr().getFields()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             self.__fields_list = [_StructSchemaField()._init(fieldlist[i], self) for i in xrange(nfields)]
  */
   __pyx_v_fieldlist = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self).getFields();
 
-  /* "capnp/lib/capnp.pyx":2711
+  /* "capnp/lib/capnp.pyx":2796
  *                 return self.__fields_list
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             self.__fields_list = [_StructSchemaField()._init(fieldlist[i], self) for i in xrange(nfields)]
  *             return self.__fields_list
  */
   __pyx_v_nfields = __pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2712
+  /* "capnp/lib/capnp.pyx":2797
  *             fieldlist = self._thisptr().getFields()
  *             nfields = fieldlist.size()
  *             self.__fields_list = [_StructSchemaField()._init(fieldlist[i], self) for i in xrange(nfields)]             # <<<<<<<<<<<<<<
  *             return self.__fields_list
  * 
  */
-  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2712, __pyx_L1_error)
+  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2797, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_4 = __pyx_v_nfields;
   __pyx_t_5 = __pyx_t_4;
   for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
     __pyx_v_i = __pyx_t_6;
-    __pyx_t_7 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchemaField)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2712, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchemaField)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2797, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     __pyx_t_9.__pyx_n = 1;
     __pyx_t_9.parent = ((PyObject *)__pyx_v_self);
-    __pyx_t_8 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_7)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_7), (__pyx_v_fieldlist[__pyx_v_i]), &__pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2712, __pyx_L1_error)
+    __pyx_t_8 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchemaField *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_7)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *)__pyx_t_7), (__pyx_v_fieldlist[__pyx_v_i]), &__pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2797, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-    if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_8))) __PYX_ERR(0, 2712, __pyx_L1_error)
+    if (unlikely(__Pyx_ListComp_Append(__pyx_t_3, (PyObject*)__pyx_t_8))) __PYX_ERR(0, 2797, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
   }
   __Pyx_GIVEREF(__pyx_t_3);
   __Pyx_GOTREF(__pyx_v_self->__pyx___fields_list);
   __Pyx_DECREF(__pyx_v_self->__pyx___fields_list);
   __pyx_v_self->__pyx___fields_list = ((PyObject*)__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2713
+  /* "capnp/lib/capnp.pyx":2798
  *             nfields = fieldlist.size()
  *             self.__fields_list = [_StructSchemaField()._init(fieldlist[i], self) for i in xrange(nfields)]
  *             return self.__fields_list             # <<<<<<<<<<<<<<
  * 
  *     property node:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___fields_list);
   __pyx_r = __pyx_v_self->__pyx___fields_list;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2707
+  /* "capnp/lib/capnp.pyx":2792
  *     property fields_list:
  *         """All of the _StructSchemaField in this schema as a list"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__fields_list is not None:
  *                 return self.__fields_list
  */
 
@@ -62822,15 +63839,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2717
+/* "capnp/lib/capnp.pyx":2802
  *     property node:
  *         """The raw schema node"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self._thisptr().getProto(), self)
  * 
  */
 
@@ -62854,38 +63871,38 @@
    ::capnp::schema::Node::Reader __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2718
+  /* "capnp/lib/capnp.pyx":2803
  *         """The raw schema node"""
  *         def __get__(self):
  *             return _DynamicStructReader()._init(self._thisptr().getProto(), self)             # <<<<<<<<<<<<<<
  * 
  *     def __richcmp__(_StructSchema self, _StructSchema other, mode):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2718, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2803, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self).getProto();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2718, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2803, __pyx_L1_error)
   }
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_t_2), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2718, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_t_2), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2803, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2717
+  /* "capnp/lib/capnp.pyx":2802
  *     property node:
  *         """The raw schema node"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self._thisptr().getProto(), self)
  * 
  */
 
@@ -62897,15 +63914,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2720
+/* "capnp/lib/capnp.pyx":2805
  *             return _DynamicStructReader()._init(self._thisptr().getProto(), self)
  * 
  *     def __richcmp__(_StructSchema self, _StructSchema other, mode):             # <<<<<<<<<<<<<<
  *         if mode == 2:
  *             return self._thisptr() == other._thisptr()
  */
 
@@ -62915,23 +63932,23 @@
   PyObject *__pyx_v_mode = 0;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__richcmp__ (wrapper)", 0);
-  __pyx_v_mode = __Pyx_PyInt_From_int(__pyx_arg_mode); if (unlikely(!__pyx_v_mode)) __PYX_ERR(0, 2720, __pyx_L3_error)
+  __pyx_v_mode = __Pyx_PyInt_From_int(__pyx_arg_mode); if (unlikely(!__pyx_v_mode)) __PYX_ERR(0, 2805, __pyx_L3_error)
   __Pyx_GOTREF(__pyx_v_mode);
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructSchema.__richcmp__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_5capnp_3lib_5capnp__StructSchema, 1, "other", 0))) __PYX_ERR(0, 2720, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_other), __pyx_ptype_5capnp_3lib_5capnp__StructSchema, 1, "other", 0))) __PYX_ERR(0, 2805, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructSchema___richcmp__(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_v_other), ((PyObject *)__pyx_v_mode));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -62946,102 +63963,102 @@
   PyObject *__pyx_t_1 = NULL;
   int __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__richcmp__", 0);
 
-  /* "capnp/lib/capnp.pyx":2721
+  /* "capnp/lib/capnp.pyx":2806
  * 
  *     def __richcmp__(_StructSchema self, _StructSchema other, mode):
  *         if mode == 2:             # <<<<<<<<<<<<<<
  *             return self._thisptr() == other._thisptr()
  *         elif mode == 3:
  */
-  __pyx_t_1 = __Pyx_PyInt_EqObjC(__pyx_v_mode, __pyx_int_2, 2, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2721, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_EqObjC(__pyx_v_mode, __pyx_int_2, 2, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2806, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 2721, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 2806, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2722
+    /* "capnp/lib/capnp.pyx":2807
  *     def __richcmp__(_StructSchema self, _StructSchema other, mode):
  *         if mode == 2:
  *             return self._thisptr() == other._thisptr()             # <<<<<<<<<<<<<<
  *         elif mode == 3:
  *             return not (self._thisptr() == other._thisptr())
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyBool_FromLong((((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self) == ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_other->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_other))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2722, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyBool_FromLong((((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self) == ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_other->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_other))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2807, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2721
+    /* "capnp/lib/capnp.pyx":2806
  * 
  *     def __richcmp__(_StructSchema self, _StructSchema other, mode):
  *         if mode == 2:             # <<<<<<<<<<<<<<
  *             return self._thisptr() == other._thisptr()
  *         elif mode == 3:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2723
+  /* "capnp/lib/capnp.pyx":2808
  *         if mode == 2:
  *             return self._thisptr() == other._thisptr()
  *         elif mode == 3:             # <<<<<<<<<<<<<<
  *             return not (self._thisptr() == other._thisptr())
  *         else:
  */
-  __pyx_t_1 = __Pyx_PyInt_EqObjC(__pyx_v_mode, __pyx_int_3, 3, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2723, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_EqObjC(__pyx_v_mode, __pyx_int_3, 3, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2808, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 2723, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 2808, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (likely(__pyx_t_2)) {
 
-    /* "capnp/lib/capnp.pyx":2724
+    /* "capnp/lib/capnp.pyx":2809
  *             return self._thisptr() == other._thisptr()
  *         elif mode == 3:
  *             return not (self._thisptr() == other._thisptr())             # <<<<<<<<<<<<<<
  *         else:
  *             raise NotImplementedError()
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyBool_FromLong((!((((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self) == ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_other->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_other)) != 0))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2724, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyBool_FromLong((!((((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_self) == ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_other->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_other)) != 0))); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2809, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2723
+    /* "capnp/lib/capnp.pyx":2808
  *         if mode == 2:
  *             return self._thisptr() == other._thisptr()
  *         elif mode == 3:             # <<<<<<<<<<<<<<
  *             return not (self._thisptr() == other._thisptr())
  *         else:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2726
+  /* "capnp/lib/capnp.pyx":2811
  *             return not (self._thisptr() == other._thisptr())
  *         else:
  *             raise NotImplementedError()             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   /*else*/ {
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_builtin_NotImplementedError); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2726, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(__pyx_builtin_NotImplementedError); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2811, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 2726, __pyx_L1_error)
+    __PYX_ERR(0, 2811, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":2720
+  /* "capnp/lib/capnp.pyx":2805
  *             return _DynamicStructReader()._init(self._thisptr().getProto(), self)
  * 
  *     def __richcmp__(_StructSchema self, _StructSchema other, mode):             # <<<<<<<<<<<<<<
  *         if mode == 2:
  *             return self._thisptr() == other._thisptr()
  */
 
@@ -63052,15 +64069,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2728
+/* "capnp/lib/capnp.pyx":2813
  *             raise NotImplementedError()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<schema for %s>' % self.node.displayName
  * 
  */
 
@@ -63083,35 +64100,35 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":2729
+  /* "capnp/lib/capnp.pyx":2814
  * 
  *     def __repr__(self):
  *         return '<schema for %s>' % self.node.displayName             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_node); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2729, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_node); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2814, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_displayName); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2729, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_displayName); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2814, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyString_FormatSafe(__pyx_kp_s_schema_for_s, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2729, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyString_FormatSafe(__pyx_kp_s_schema_for_s, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2814, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2728
+  /* "capnp/lib/capnp.pyx":2813
  *             raise NotImplementedError()
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<schema for %s>' % self.node.displayName
  * 
  */
 
@@ -63158,15 +64175,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__75, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__77, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -63215,15 +64232,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__76, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__78, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -63238,15 +64255,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._StructSchema.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2732
+/* "capnp/lib/capnp.pyx":2817
  * 
  * 
  * cdef typeAsSchema(capnp.SchemaType fieldType):             # <<<<<<<<<<<<<<
  *     # TODO(soon): make sure this is memory safe
  *     if fieldType.isInterface():
  */
 
@@ -63262,213 +64279,213 @@
    ::capnp::ListSchema __pyx_t_7;
   PyObject *__pyx_t_8 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("typeAsSchema", 0);
 
-  /* "capnp/lib/capnp.pyx":2734
+  /* "capnp/lib/capnp.pyx":2819
  * cdef typeAsSchema(capnp.SchemaType fieldType):
  *     # TODO(soon): make sure this is memory safe
  *     if fieldType.isInterface():             # <<<<<<<<<<<<<<
  *         return _InterfaceSchema()._init(fieldType.asInterface())
  *     elif fieldType.isStruct():
  */
   __pyx_t_1 = (__pyx_v_fieldType.isInterface() != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2735
+    /* "capnp/lib/capnp.pyx":2820
  *     # TODO(soon): make sure this is memory safe
  *     if fieldType.isInterface():
  *         return _InterfaceSchema()._init(fieldType.asInterface())             # <<<<<<<<<<<<<<
  *     elif fieldType.isStruct():
  *         return _StructSchema()._init_child(fieldType.asStruct())
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2735, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2820, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     try {
       __pyx_t_3 = __pyx_v_fieldType.asInterface();
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 2735, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 2820, __pyx_L1_error)
     }
-    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_2), __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2735, __pyx_L1_error)
+    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_2), __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2820, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2734
+    /* "capnp/lib/capnp.pyx":2819
  * cdef typeAsSchema(capnp.SchemaType fieldType):
  *     # TODO(soon): make sure this is memory safe
  *     if fieldType.isInterface():             # <<<<<<<<<<<<<<
  *         return _InterfaceSchema()._init(fieldType.asInterface())
  *     elif fieldType.isStruct():
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2736
+  /* "capnp/lib/capnp.pyx":2821
  *     if fieldType.isInterface():
  *         return _InterfaceSchema()._init(fieldType.asInterface())
  *     elif fieldType.isStruct():             # <<<<<<<<<<<<<<
  *         return _StructSchema()._init_child(fieldType.asStruct())
  *     elif fieldType.isEnum():
  */
   __pyx_t_1 = (__pyx_v_fieldType.isStruct() != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2737
+    /* "capnp/lib/capnp.pyx":2822
  *         return _InterfaceSchema()._init(fieldType.asInterface())
  *     elif fieldType.isStruct():
  *         return _StructSchema()._init_child(fieldType.asStruct())             # <<<<<<<<<<<<<<
  *     elif fieldType.isEnum():
  *         return _EnumSchema()._init(fieldType.asEnum())
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2737, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2822, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     try {
       __pyx_t_5 = __pyx_v_fieldType.asStruct();
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 2737, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 2822, __pyx_L1_error)
     }
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_4)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_4), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2737, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_4)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_4), __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2822, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2736
+    /* "capnp/lib/capnp.pyx":2821
  *     if fieldType.isInterface():
  *         return _InterfaceSchema()._init(fieldType.asInterface())
  *     elif fieldType.isStruct():             # <<<<<<<<<<<<<<
  *         return _StructSchema()._init_child(fieldType.asStruct())
  *     elif fieldType.isEnum():
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2738
+  /* "capnp/lib/capnp.pyx":2823
  *     elif fieldType.isStruct():
  *         return _StructSchema()._init_child(fieldType.asStruct())
  *     elif fieldType.isEnum():             # <<<<<<<<<<<<<<
  *         return _EnumSchema()._init(fieldType.asEnum())
  *     elif fieldType.isList():
  */
   __pyx_t_1 = (__pyx_v_fieldType.isEnum() != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":2739
+    /* "capnp/lib/capnp.pyx":2824
  *         return _StructSchema()._init_child(fieldType.asStruct())
  *     elif fieldType.isEnum():
  *         return _EnumSchema()._init(fieldType.asEnum())             # <<<<<<<<<<<<<<
  *     elif fieldType.isList():
  *         return _ListSchema()._init(fieldType.asList())
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__EnumSchema)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2739, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__EnumSchema)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2824, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     try {
       __pyx_t_6 = __pyx_v_fieldType.asEnum();
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 2739, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 2824, __pyx_L1_error)
     }
-    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EnumSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_2), __pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2739, __pyx_L1_error)
+    __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__EnumSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_2)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_2), __pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2824, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2738
+    /* "capnp/lib/capnp.pyx":2823
  *     elif fieldType.isStruct():
  *         return _StructSchema()._init_child(fieldType.asStruct())
  *     elif fieldType.isEnum():             # <<<<<<<<<<<<<<
  *         return _EnumSchema()._init(fieldType.asEnum())
  *     elif fieldType.isList():
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2740
+  /* "capnp/lib/capnp.pyx":2825
  *     elif fieldType.isEnum():
  *         return _EnumSchema()._init(fieldType.asEnum())
  *     elif fieldType.isList():             # <<<<<<<<<<<<<<
  *         return _ListSchema()._init(fieldType.asList())
  *     else:
  */
   __pyx_t_1 = (__pyx_v_fieldType.isList() != 0);
   if (likely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":2741
+    /* "capnp/lib/capnp.pyx":2826
  *         return _EnumSchema()._init(fieldType.asEnum())
  *     elif fieldType.isList():
  *         return _ListSchema()._init(fieldType.asList())             # <<<<<<<<<<<<<<
  *     else:
  *         raise KjException("Schema type is unknown")
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__ListSchema)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2741, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__ListSchema)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2826, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     try {
       __pyx_t_7 = __pyx_v_fieldType.asList();
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 2741, __pyx_L1_error)
+      c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 2826, __pyx_L1_error)
     }
-    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__ListSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_4)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_4), __pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2741, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__ListSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_4)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_4), __pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2826, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2740
+    /* "capnp/lib/capnp.pyx":2825
  *     elif fieldType.isEnum():
  *         return _EnumSchema()._init(fieldType.asEnum())
  *     elif fieldType.isList():             # <<<<<<<<<<<<<<
  *         return _ListSchema()._init(fieldType.asList())
  *     else:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2743
+  /* "capnp/lib/capnp.pyx":2828
  *         return _ListSchema()._init(fieldType.asList())
  *     else:
  *         raise KjException("Schema type is unknown")             # <<<<<<<<<<<<<<
  * 
  * 
  */
   /*else*/ {
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2743, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2828, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_8 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_8)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
         __Pyx_INCREF(__pyx_t_8);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_2 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_8, __pyx_kp_s_Schema_type_is_unknown) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_kp_s_Schema_type_is_unknown);
     __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2743, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2828, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 2743, __pyx_L1_error)
+    __PYX_ERR(0, 2828, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":2732
+  /* "capnp/lib/capnp.pyx":2817
  * 
  * 
  * cdef typeAsSchema(capnp.SchemaType fieldType):             # <<<<<<<<<<<<<<
  *     # TODO(soon): make sure this is memory safe
  *     if fieldType.isInterface():
  */
 
@@ -63481,15 +64498,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2747
+/* "capnp/lib/capnp.pyx":2832
  * 
  * cdef class _StructSchemaField:
  *     cdef _init(self, C_StructSchema.Field other, parent=None):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
@@ -63500,64 +64517,64 @@
   __Pyx_RefNannySetupContext("_init", 0);
   if (__pyx_optional_args) {
     if (__pyx_optional_args->__pyx_n > 0) {
       __pyx_v_parent = __pyx_optional_args->parent;
     }
   }
 
-  /* "capnp/lib/capnp.pyx":2748
+  /* "capnp/lib/capnp.pyx":2833
  * cdef class _StructSchemaField:
  *     cdef _init(self, C_StructSchema.Field other, parent=None):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         self._parent = parent
  *         return self
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":2749
+  /* "capnp/lib/capnp.pyx":2834
  *     cdef _init(self, C_StructSchema.Field other, parent=None):
  *         self.thisptr = other
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->_parent);
   __Pyx_DECREF(__pyx_v_self->_parent);
   __pyx_v_self->_parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":2750
+  /* "capnp/lib/capnp.pyx":2835
  *         self.thisptr = other
  *         self._parent = parent
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     property proto:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2747
+  /* "capnp/lib/capnp.pyx":2832
  * 
  * cdef class _StructSchemaField:
  *     cdef _init(self, C_StructSchema.Field other, parent=None):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         self._parent = parent
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2754
+/* "capnp/lib/capnp.pyx":2839
  *     property proto:
  *         """The raw schema proto"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  */
 
@@ -63580,32 +64597,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2755
+  /* "capnp/lib/capnp.pyx":2840
  *         """The raw schema proto"""
  *         def __get__(self):
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)             # <<<<<<<<<<<<<<
  * 
  *     property schema:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2755, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2840, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_v_self->thisptr.getProto()), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2755, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_v_self->thisptr.getProto()), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2840, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2754
+  /* "capnp/lib/capnp.pyx":2839
  *     property proto:
  *         """The raw schema proto"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  */
 
@@ -63617,15 +64634,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2759
+/* "capnp/lib/capnp.pyx":2844
  *     property schema:
  *         """The schema of this field, or None if it's a type without a schema"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return typeAsSchema(self.thisptr.getType())
  * 
  */
 
@@ -63647,29 +64664,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2760
+  /* "capnp/lib/capnp.pyx":2845
  *         """The schema of this field, or None if it's a type without a schema"""
  *         def __get__(self):
  *             return typeAsSchema(self.thisptr.getType())             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_typeAsSchema(__pyx_v_self->thisptr.getType()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2760, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_typeAsSchema(__pyx_v_self->thisptr.getType()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2845, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2759
+  /* "capnp/lib/capnp.pyx":2844
  *     property schema:
  *         """The schema of this field, or None if it's a type without a schema"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return typeAsSchema(self.thisptr.getType())
  * 
  */
 
@@ -63680,15 +64697,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2762
+/* "capnp/lib/capnp.pyx":2847
  *             return typeAsSchema(self.thisptr.getType())
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<field schema for %s>' % self.proto.name
  * 
  */
 
@@ -63711,35 +64728,35 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":2763
+  /* "capnp/lib/capnp.pyx":2848
  * 
  *     def __repr__(self):
  *         return '<field schema for %s>' % self.proto.name             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_proto); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2763, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_proto); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2848, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2763, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2848, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyString_FormatSafe(__pyx_kp_s_field_schema_for_s, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2763, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyString_FormatSafe(__pyx_kp_s_field_schema_for_s, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2848, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2762
+  /* "capnp/lib/capnp.pyx":2847
  *             return typeAsSchema(self.thisptr.getType())
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<field schema for %s>' % self.proto.name
  * 
  */
 
@@ -63786,15 +64803,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__77, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__79, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -63843,15 +64860,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__78, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__80, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -63866,64 +64883,64 @@
   __Pyx_AddTraceback("capnp.lib.capnp._StructSchemaField.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2769
+/* "capnp/lib/capnp.pyx":2854
  *     cdef C_InterfaceSchema.Method thisptr
  * 
  *     cdef _init(self, C_InterfaceSchema.Method other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_16_InterfaceMethod__init(struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *__pyx_v_self,  ::capnp::InterfaceSchema::Method __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":2770
+  /* "capnp/lib/capnp.pyx":2855
  * 
  *     cdef _init(self, C_InterfaceSchema.Method other):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":2771
+  /* "capnp/lib/capnp.pyx":2856
  *     cdef _init(self, C_InterfaceSchema.Method other):
  *         self.thisptr = other
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     property param_type:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2769
+  /* "capnp/lib/capnp.pyx":2854
  *     cdef C_InterfaceSchema.Method thisptr
  * 
  *     cdef _init(self, C_InterfaceSchema.Method other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2775
+/* "capnp/lib/capnp.pyx":2860
  *     property param_type:
  *         """The type of this method's parameter struct"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             # TODO(soon): make sure this is memory safe
  *             return _StructSchema()._init_child(self.thisptr.getParamType())
  */
 
@@ -63946,32 +64963,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2777
+  /* "capnp/lib/capnp.pyx":2862
  *         def __get__(self):
  *             # TODO(soon): make sure this is memory safe
  *             return _StructSchema()._init_child(self.thisptr.getParamType())             # <<<<<<<<<<<<<<
  * 
  *     property result_type:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2777, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2862, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_v_self->thisptr.getParamType()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2777, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_v_self->thisptr.getParamType()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2862, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2775
+  /* "capnp/lib/capnp.pyx":2860
  *     property param_type:
  *         """The type of this method's parameter struct"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             # TODO(soon): make sure this is memory safe
  *             return _StructSchema()._init_child(self.thisptr.getParamType())
  */
 
@@ -63983,15 +65000,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2781
+/* "capnp/lib/capnp.pyx":2866
  *     property result_type:
  *         """The type of this method's result struct"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             # TODO(soon): make sure this is memory safe
  *             return _StructSchema()._init_child(self.thisptr.getResultType())
  */
 
@@ -64014,32 +65031,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2783
+  /* "capnp/lib/capnp.pyx":2868
  *         def __get__(self):
  *             # TODO(soon): make sure this is memory safe
  *             return _StructSchema()._init_child(self.thisptr.getResultType())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2783, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StructSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2868, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_v_self->thisptr.getResultType()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2783, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1), __pyx_v_self->thisptr.getResultType()); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2868, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2781
+  /* "capnp/lib/capnp.pyx":2866
  *     property result_type:
  *         """The type of this method's result struct"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             # TODO(soon): make sure this is memory safe
  *             return _StructSchema()._init_child(self.thisptr.getResultType())
  */
 
@@ -64086,15 +65103,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__79, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__81, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -64143,15 +65160,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__80, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__82, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -64166,64 +65183,64 @@
   __Pyx_AddTraceback("capnp.lib.capnp._InterfaceMethod.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2787
+/* "capnp/lib/capnp.pyx":2872
  * 
  * cdef class _InterfaceSchema:
  *     cdef _init(self, C_InterfaceSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_16_InterfaceSchema__init(struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *__pyx_v_self,  ::capnp::InterfaceSchema __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":2788
+  /* "capnp/lib/capnp.pyx":2873
  * cdef class _InterfaceSchema:
  *     cdef _init(self, C_InterfaceSchema other):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":2789
+  /* "capnp/lib/capnp.pyx":2874
  *     cdef _init(self, C_InterfaceSchema other):
  *         self.thisptr = other
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     property method_names:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2787
+  /* "capnp/lib/capnp.pyx":2872
  * 
  * cdef class _InterfaceSchema:
  *     cdef _init(self, C_InterfaceSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2793
+/* "capnp/lib/capnp.pyx":2878
  *     property method_names:
  *         """A tuple of the function names in the interface."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__method_names is not None:
  *                 return self.__method_names
  */
 
@@ -64237,43 +65254,43 @@
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___2generator15(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2799
+/* "capnp/lib/capnp.pyx":2884
  *             nfields = fieldlist.size()
  *             self.__method_names = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__method_names
  * 
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2799, __pyx_L1_error)
+    __PYX_ERR(0, 2884, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___2generator15, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_InterfaceSchema___get___locals, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2799, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___2generator15, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_InterfaceSchema___get___locals, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2884, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -64283,15 +65300,15 @@
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___2generator15(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *)__pyx_generator->closure);
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
@@ -64302,20 +65319,20 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L6_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2799, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2884, __pyx_L1_error)
   __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_nfields;
   __pyx_t_2 = __pyx_t_1;
   for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
     __pyx_cur_scope->__pyx_v_i = __pyx_t_3;
-    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2799, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2884, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     __pyx_cur_scope->__pyx_t_0 = __pyx_t_1;
     __pyx_cur_scope->__pyx_t_1 = __pyx_t_2;
     __pyx_cur_scope->__pyx_t_2 = __pyx_t_3;
     __Pyx_XGIVEREF(__pyx_r);
@@ -64324,15 +65341,15 @@
     /* return from generator, yielding value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L6_resume_from_yield:;
     __pyx_t_1 = __pyx_cur_scope->__pyx_t_0;
     __pyx_t_2 = __pyx_cur_scope->__pyx_t_1;
     __pyx_t_3 = __pyx_cur_scope->__pyx_t_2;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2799, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2884, __pyx_L1_error)
   }
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
   PyErr_SetNone(PyExc_StopIteration);
   goto __pyx_L0;
   __pyx_L1_error:;
@@ -64345,133 +65362,133 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2793
+/* "capnp/lib/capnp.pyx":2878
  *     property method_names:
  *         """A tuple of the function names in the interface."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__method_names is not None:
  *                 return self.__method_names
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names___get__(struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *__pyx_v_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *__pyx_cur_scope;
   PyObject *__pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___2generator15 = 0;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_20___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_20___get__, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_21___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_21___get__, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2793, __pyx_L1_error)
+    __PYX_ERR(0, 2878, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
 
-  /* "capnp/lib/capnp.pyx":2794
+  /* "capnp/lib/capnp.pyx":2879
  *         """A tuple of the function names in the interface."""
  *         def __get__(self):
  *             if self.__method_names is not None:             # <<<<<<<<<<<<<<
  *                 return self.__method_names
  *             fieldlist = self.thisptr.getMethods()
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___method_names != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2795
+    /* "capnp/lib/capnp.pyx":2880
  *         def __get__(self):
  *             if self.__method_names is not None:
  *                 return self.__method_names             # <<<<<<<<<<<<<<
  *             fieldlist = self.thisptr.getMethods()
  *             nfields = fieldlist.size()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___method_names);
     __pyx_r = __pyx_v_self->__pyx___method_names;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2794
+    /* "capnp/lib/capnp.pyx":2879
  *         """A tuple of the function names in the interface."""
  *         def __get__(self):
  *             if self.__method_names is not None:             # <<<<<<<<<<<<<<
  *                 return self.__method_names
  *             fieldlist = self.thisptr.getMethods()
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2796
+  /* "capnp/lib/capnp.pyx":2881
  *             if self.__method_names is not None:
  *                 return self.__method_names
  *             fieldlist = self.thisptr.getMethods()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             self.__method_names = tuple(
  */
   __pyx_cur_scope->__pyx_v_fieldlist = __pyx_v_self->thisptr.getMethods();
 
-  /* "capnp/lib/capnp.pyx":2797
+  /* "capnp/lib/capnp.pyx":2882
  *                 return self.__method_names
  *             fieldlist = self.thisptr.getMethods()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             self.__method_names = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  */
   __pyx_cur_scope->__pyx_v_nfields = __pyx_cur_scope->__pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2799
+  /* "capnp/lib/capnp.pyx":2884
  *             nfields = fieldlist.size()
  *             self.__method_names = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             return self.__method_names
  * 
  */
-  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2799, __pyx_L1_error)
+  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2884, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":2798
+  /* "capnp/lib/capnp.pyx":2883
  *             fieldlist = self.thisptr.getMethods()
  *             nfields = fieldlist.size()
  *             self.__method_names = tuple(             # <<<<<<<<<<<<<<
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             return self.__method_names
  */
-  __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2798, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PySequence_Tuple(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2883, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_4);
   __Pyx_GOTREF(__pyx_v_self->__pyx___method_names);
   __Pyx_DECREF(__pyx_v_self->__pyx___method_names);
   __pyx_v_self->__pyx___method_names = __pyx_t_4;
   __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":2800
+  /* "capnp/lib/capnp.pyx":2885
  *             self.__method_names = tuple(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             return self.__method_names             # <<<<<<<<<<<<<<
  * 
  *     property method_names_inherited:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___method_names);
   __pyx_r = __pyx_v_self->__pyx___method_names;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2793
+  /* "capnp/lib/capnp.pyx":2878
  *     property method_names:
  *         """A tuple of the function names in the interface."""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__method_names is not None:
  *                 return self.__method_names
  */
 
@@ -64485,15 +65502,15 @@
   __Pyx_XDECREF(__pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_12method_names_7__get___2generator15);
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2804
+/* "capnp/lib/capnp.pyx":2889
  *     property method_names_inherited:
  *         """A set of the function names in the interface, including inherited methods"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__method_names_inherited is not None:
  *                 return self.__method_names_inherited
  */
 
@@ -64507,43 +65524,43 @@
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___2generator16(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":2811
+/* "capnp/lib/capnp.pyx":2896
  *             nfields = fieldlist.size()
  *             self.__method_names_inherited = set(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             for interface in self.superclasses:
  *                 self.__method_names_inherited |= interface.method_names_inherited
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___genexpr(PyObject *__pyx_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("genexpr", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2811, __pyx_L1_error)
+    __PYX_ERR(0, 2896, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
-  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *) __pyx_self;
+  __pyx_cur_scope->__pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *) __pyx_self;
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_outer_scope));
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_outer_scope);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___2generator16, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_InterfaceSchema___get___locals, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2811, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___2generator16, NULL, (PyObject *) __pyx_cur_scope, __pyx_n_s_genexpr, __pyx_n_s_InterfaceSchema___get___locals, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 2896, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -64553,15 +65570,15 @@
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___2generator16(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *)__pyx_generator->closure);
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
@@ -64571,24 +65588,24 @@
   switch (__pyx_generator->resume_label) {
     case 0: goto __pyx_L3_first_run;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2811, __pyx_L1_error)
-  __pyx_r = PySet_New(NULL); if (unlikely(!__pyx_r)) __PYX_ERR(0, 2811, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 2896, __pyx_L1_error)
+  __pyx_r = PySet_New(NULL); if (unlikely(!__pyx_r)) __PYX_ERR(0, 2896, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_r);
   __pyx_t_1 = __pyx_cur_scope->__pyx_outer_scope->__pyx_v_nfields;
   __pyx_t_2 = __pyx_t_1;
   for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
     __pyx_cur_scope->__pyx_v_i = __pyx_t_3;
-    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2811, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyStr_FromString(((char *)(__pyx_cur_scope->__pyx_outer_scope->__pyx_v_fieldlist[__pyx_cur_scope->__pyx_v_i]).getProto().getName().cStr())); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2896, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    if (unlikely(PySet_Add(__pyx_r, (PyObject*)__pyx_t_4))) __PYX_ERR(0, 2811, __pyx_L1_error)
+    if (unlikely(PySet_Add(__pyx_r, (PyObject*)__pyx_t_4))) __PYX_ERR(0, 2896, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
@@ -64602,24 +65619,24 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2804
+/* "capnp/lib/capnp.pyx":2889
  *     property method_names_inherited:
  *         """A set of the function names in the interface, including inherited methods"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__method_names_inherited is not None:
  *                 return self.__method_names_inherited
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited___get__(struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *__pyx_v_self) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *__pyx_cur_scope;
   PyObject *__pyx_v_interface = NULL;
   PyObject *__pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___2generator16 = 0;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
@@ -64627,192 +65644,192 @@
   Py_ssize_t __pyx_t_5;
   PyObject *(*__pyx_t_6)(PyObject *);
   PyObject *__pyx_t_7 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_22___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_22___get__, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_23___get__(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_23___get__, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 2804, __pyx_L1_error)
+    __PYX_ERR(0, 2889, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
 
-  /* "capnp/lib/capnp.pyx":2805
+  /* "capnp/lib/capnp.pyx":2890
  *         """A set of the function names in the interface, including inherited methods"""
  *         def __get__(self):
  *             if self.__method_names_inherited is not None:             # <<<<<<<<<<<<<<
  *                 return self.__method_names_inherited
  * 
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___method_names_inherited != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2806
+    /* "capnp/lib/capnp.pyx":2891
  *         def __get__(self):
  *             if self.__method_names_inherited is not None:
  *                 return self.__method_names_inherited             # <<<<<<<<<<<<<<
  * 
  *             fieldlist = self.thisptr.getMethods()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___method_names_inherited);
     __pyx_r = __pyx_v_self->__pyx___method_names_inherited;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2805
+    /* "capnp/lib/capnp.pyx":2890
  *         """A set of the function names in the interface, including inherited methods"""
  *         def __get__(self):
  *             if self.__method_names_inherited is not None:             # <<<<<<<<<<<<<<
  *                 return self.__method_names_inherited
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2808
+  /* "capnp/lib/capnp.pyx":2893
  *                 return self.__method_names_inherited
  * 
  *             fieldlist = self.thisptr.getMethods()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             self.__method_names_inherited = set(
  */
   __pyx_cur_scope->__pyx_v_fieldlist = __pyx_v_self->thisptr.getMethods();
 
-  /* "capnp/lib/capnp.pyx":2809
+  /* "capnp/lib/capnp.pyx":2894
  * 
  *             fieldlist = self.thisptr.getMethods()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             self.__method_names_inherited = set(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  */
   __pyx_cur_scope->__pyx_v_nfields = __pyx_cur_scope->__pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2811
+  /* "capnp/lib/capnp.pyx":2896
  *             nfields = fieldlist.size()
  *             self.__method_names_inherited = set(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))             # <<<<<<<<<<<<<<
  *             for interface in self.superclasses:
  *                 self.__method_names_inherited |= interface.method_names_inherited
  */
-  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2811, __pyx_L1_error)
+  __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___genexpr(((PyObject*)__pyx_cur_scope)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2896, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":2810
+  /* "capnp/lib/capnp.pyx":2895
  *             fieldlist = self.thisptr.getMethods()
  *             nfields = fieldlist.size()
  *             self.__method_names_inherited = set(             # <<<<<<<<<<<<<<
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             for interface in self.superclasses:
  */
-  __pyx_t_4 = __Pyx_Generator_Next(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2810, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_Generator_Next(__pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2895, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_GIVEREF(__pyx_t_4);
   __Pyx_GOTREF(__pyx_v_self->__pyx___method_names_inherited);
   __Pyx_DECREF(__pyx_v_self->__pyx___method_names_inherited);
   __pyx_v_self->__pyx___method_names_inherited = __pyx_t_4;
   __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":2812
+  /* "capnp/lib/capnp.pyx":2897
  *             self.__method_names_inherited = set(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             for interface in self.superclasses:             # <<<<<<<<<<<<<<
  *                 self.__method_names_inherited |= interface.method_names_inherited
  * 
  */
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_superclasses); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2812, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_superclasses); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2897, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   if (likely(PyList_CheckExact(__pyx_t_4)) || PyTuple_CheckExact(__pyx_t_4)) {
     __pyx_t_3 = __pyx_t_4; __Pyx_INCREF(__pyx_t_3); __pyx_t_5 = 0;
     __pyx_t_6 = NULL;
   } else {
-    __pyx_t_5 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2812, __pyx_L1_error)
+    __pyx_t_5 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2897, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_6 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2812, __pyx_L1_error)
+    __pyx_t_6 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2897, __pyx_L1_error)
   }
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   for (;;) {
     if (likely(!__pyx_t_6)) {
       if (likely(PyList_CheckExact(__pyx_t_3))) {
         if (__pyx_t_5 >= PyList_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(0, 2812, __pyx_L1_error)
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(0, 2897, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2812, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2897, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       } else {
         if (__pyx_t_5 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(0, 2812, __pyx_L1_error)
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_5); __Pyx_INCREF(__pyx_t_4); __pyx_t_5++; if (unlikely(0 < 0)) __PYX_ERR(0, 2897, __pyx_L1_error)
         #else
-        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2812, __pyx_L1_error)
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_3, __pyx_t_5); __pyx_t_5++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2897, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_4);
         #endif
       }
     } else {
       __pyx_t_4 = __pyx_t_6(__pyx_t_3);
       if (unlikely(!__pyx_t_4)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 2812, __pyx_L1_error)
+          else __PYX_ERR(0, 2897, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_4);
     }
     __Pyx_XDECREF_SET(__pyx_v_interface, __pyx_t_4);
     __pyx_t_4 = 0;
 
-    /* "capnp/lib/capnp.pyx":2813
+    /* "capnp/lib/capnp.pyx":2898
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             for interface in self.superclasses:
  *                 self.__method_names_inherited |= interface.method_names_inherited             # <<<<<<<<<<<<<<
  * 
  *             return self.__method_names_inherited
  */
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_interface, __pyx_n_s_method_names_inherited); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2813, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_interface, __pyx_n_s_method_names_inherited); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 2898, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_7 = PyNumber_InPlaceOr(__pyx_v_self->__pyx___method_names_inherited, __pyx_t_4); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2813, __pyx_L1_error)
+    __pyx_t_7 = PyNumber_InPlaceOr(__pyx_v_self->__pyx___method_names_inherited, __pyx_t_4); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2898, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_GIVEREF(__pyx_t_7);
     __Pyx_GOTREF(__pyx_v_self->__pyx___method_names_inherited);
     __Pyx_DECREF(__pyx_v_self->__pyx___method_names_inherited);
     __pyx_v_self->__pyx___method_names_inherited = __pyx_t_7;
     __pyx_t_7 = 0;
 
-    /* "capnp/lib/capnp.pyx":2812
+    /* "capnp/lib/capnp.pyx":2897
  *             self.__method_names_inherited = set(
  *                 <char*>fieldlist[i].getProto().getName().cStr() for i in xrange(nfields))
  *             for interface in self.superclasses:             # <<<<<<<<<<<<<<
  *                 self.__method_names_inherited |= interface.method_names_inherited
  * 
  */
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2815
+  /* "capnp/lib/capnp.pyx":2900
  *                 self.__method_names_inherited |= interface.method_names_inherited
  * 
  *             return self.__method_names_inherited             # <<<<<<<<<<<<<<
  * 
  *     property methods:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___method_names_inherited);
   __pyx_r = __pyx_v_self->__pyx___method_names_inherited;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2804
+  /* "capnp/lib/capnp.pyx":2889
  *     property method_names_inherited:
  *         """A set of the function names in the interface, including inherited methods"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__method_names_inherited is not None:
  *                 return self.__method_names_inherited
  */
 
@@ -64828,15 +65845,15 @@
   __Pyx_XDECREF(__pyx_gb_5capnp_3lib_5capnp_16_InterfaceSchema_22method_names_inherited_7__get___2generator16);
   __Pyx_DECREF(((PyObject *)__pyx_cur_scope));
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2819
+/* "capnp/lib/capnp.pyx":2904
  *     property methods:
  *         """A mapping of method names to their respective _InterfaceMethod"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__methods is not None:
  *                 return self.__methods
  */
 
@@ -64869,133 +65886,133 @@
   PyObject *__pyx_t_8 = NULL;
   PyObject *__pyx_t_9 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2820
+  /* "capnp/lib/capnp.pyx":2905
  *         """A mapping of method names to their respective _InterfaceMethod"""
  *         def __get__(self):
  *             if self.__methods is not None:             # <<<<<<<<<<<<<<
  *                 return self.__methods
  * 
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___methods != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2821
+    /* "capnp/lib/capnp.pyx":2906
  *         def __get__(self):
  *             if self.__methods is not None:
  *                 return self.__methods             # <<<<<<<<<<<<<<
  * 
  *             fieldlist = self.thisptr.getMethods()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___methods);
     __pyx_r = __pyx_v_self->__pyx___methods;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2820
+    /* "capnp/lib/capnp.pyx":2905
  *         """A mapping of method names to their respective _InterfaceMethod"""
  *         def __get__(self):
  *             if self.__methods is not None:             # <<<<<<<<<<<<<<
  *                 return self.__methods
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2823
+  /* "capnp/lib/capnp.pyx":2908
  *                 return self.__methods
  * 
  *             fieldlist = self.thisptr.getMethods()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             # TODO(soon): make sure this is memory safe
  */
   __pyx_v_fieldlist = __pyx_v_self->thisptr.getMethods();
 
-  /* "capnp/lib/capnp.pyx":2824
+  /* "capnp/lib/capnp.pyx":2909
  * 
  *             fieldlist = self.thisptr.getMethods()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             # TODO(soon): make sure this is memory safe
  *             self.__methods = {
  */
   __pyx_v_nfields = __pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2826
+  /* "capnp/lib/capnp.pyx":2911
  *             nfields = fieldlist.size()
  *             # TODO(soon): make sure this is memory safe
  *             self.__methods = {             # <<<<<<<<<<<<<<
  *                 fieldlist[i].getProto().getName().cStr(): _InterfaceMethod()._init(fieldlist[i])
  *                 for i in xrange(nfields)
  */
   { /* enter inner scope */
-    __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2826, __pyx_L1_error)
+    __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2911, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
 
-    /* "capnp/lib/capnp.pyx":2828
+    /* "capnp/lib/capnp.pyx":2913
  *             self.__methods = {
  *                 fieldlist[i].getProto().getName().cStr(): _InterfaceMethod()._init(fieldlist[i])
  *                 for i in xrange(nfields)             # <<<<<<<<<<<<<<
  *             }
  *             return self.__methods
  */
     __pyx_t_4 = __pyx_v_nfields;
     __pyx_t_5 = __pyx_t_4;
     for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
       __pyx_8genexpr9__pyx_v_i = __pyx_t_6;
 
-      /* "capnp/lib/capnp.pyx":2827
+      /* "capnp/lib/capnp.pyx":2912
  *             # TODO(soon): make sure this is memory safe
  *             self.__methods = {
  *                 fieldlist[i].getProto().getName().cStr(): _InterfaceMethod()._init(fieldlist[i])             # <<<<<<<<<<<<<<
  *                 for i in xrange(nfields)
  *             }
  */
-      __pyx_t_7 = __Pyx_PyStr_FromString((__pyx_v_fieldlist[__pyx_8genexpr9__pyx_v_i]).getProto().getName().cStr()); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2827, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyStr_FromString((__pyx_v_fieldlist[__pyx_8genexpr9__pyx_v_i]).getProto().getName().cStr()); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2912, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_8 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceMethod)); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2827, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceMethod)); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2912, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_9 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceMethod *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *)__pyx_t_8)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *)__pyx_t_8), (__pyx_v_fieldlist[__pyx_8genexpr9__pyx_v_i])); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2827, __pyx_L1_error)
+      __pyx_t_9 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceMethod *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *)__pyx_t_8)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *)__pyx_t_8), (__pyx_v_fieldlist[__pyx_8genexpr9__pyx_v_i])); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2912, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      if (unlikely(PyDict_SetItem(__pyx_t_3, (PyObject*)__pyx_t_7, (PyObject*)__pyx_t_9))) __PYX_ERR(0, 2827, __pyx_L1_error)
+      if (unlikely(PyDict_SetItem(__pyx_t_3, (PyObject*)__pyx_t_7, (PyObject*)__pyx_t_9))) __PYX_ERR(0, 2912, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     }
   } /* exit inner scope */
 
-  /* "capnp/lib/capnp.pyx":2826
+  /* "capnp/lib/capnp.pyx":2911
  *             nfields = fieldlist.size()
  *             # TODO(soon): make sure this is memory safe
  *             self.__methods = {             # <<<<<<<<<<<<<<
  *                 fieldlist[i].getProto().getName().cStr(): _InterfaceMethod()._init(fieldlist[i])
  *                 for i in xrange(nfields)
  */
   __Pyx_GIVEREF(__pyx_t_3);
   __Pyx_GOTREF(__pyx_v_self->__pyx___methods);
   __Pyx_DECREF(__pyx_v_self->__pyx___methods);
   __pyx_v_self->__pyx___methods = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2830
+  /* "capnp/lib/capnp.pyx":2915
  *                 for i in xrange(nfields)
  *             }
  *             return self.__methods             # <<<<<<<<<<<<<<
  * 
  *     property methods_inherited:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___methods);
   __pyx_r = __pyx_v_self->__pyx___methods;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2819
+  /* "capnp/lib/capnp.pyx":2904
  *     property methods:
  *         """A mapping of method names to their respective _InterfaceMethod"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__methods is not None:
  *                 return self.__methods
  */
 
@@ -65009,15 +66026,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2834
+/* "capnp/lib/capnp.pyx":2919
  *     property methods_inherited:
  *         """A mapping of method names to their respective _InterfaceMethod, including inherited methods"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__methods_inherited is not None:
  *                 return self.__methods_inherited
  */
 
@@ -65054,224 +66071,224 @@
   PyObject *(*__pyx_t_11)(PyObject *);
   PyObject *__pyx_t_12 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2835
+  /* "capnp/lib/capnp.pyx":2920
  *         """A mapping of method names to their respective _InterfaceMethod, including inherited methods"""
  *         def __get__(self):
  *             if self.__methods_inherited is not None:             # <<<<<<<<<<<<<<
  *                 return self.__methods_inherited
  * 
  */
   __pyx_t_1 = (__pyx_v_self->__pyx___methods_inherited != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2836
+    /* "capnp/lib/capnp.pyx":2921
  *         def __get__(self):
  *             if self.__methods_inherited is not None:
  *                 return self.__methods_inherited             # <<<<<<<<<<<<<<
  * 
  *             fieldlist = self.thisptr.getMethods()
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_v_self->__pyx___methods_inherited);
     __pyx_r = __pyx_v_self->__pyx___methods_inherited;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":2835
+    /* "capnp/lib/capnp.pyx":2920
  *         """A mapping of method names to their respective _InterfaceMethod, including inherited methods"""
  *         def __get__(self):
  *             if self.__methods_inherited is not None:             # <<<<<<<<<<<<<<
  *                 return self.__methods_inherited
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2838
+  /* "capnp/lib/capnp.pyx":2923
  *                 return self.__methods_inherited
  * 
  *             fieldlist = self.thisptr.getMethods()             # <<<<<<<<<<<<<<
  *             nfields = fieldlist.size()
  *             # TODO(soon): make sure this is memory safe
  */
   __pyx_v_fieldlist = __pyx_v_self->thisptr.getMethods();
 
-  /* "capnp/lib/capnp.pyx":2839
+  /* "capnp/lib/capnp.pyx":2924
  * 
  *             fieldlist = self.thisptr.getMethods()
  *             nfields = fieldlist.size()             # <<<<<<<<<<<<<<
  *             # TODO(soon): make sure this is memory safe
  *             self.__methods_inherited = {
  */
   __pyx_v_nfields = __pyx_v_fieldlist.size();
 
-  /* "capnp/lib/capnp.pyx":2841
+  /* "capnp/lib/capnp.pyx":2926
  *             nfields = fieldlist.size()
  *             # TODO(soon): make sure this is memory safe
  *             self.__methods_inherited = {             # <<<<<<<<<<<<<<
  *                 fieldlist[i].getProto().getName().cStr(): _InterfaceMethod()._init(fieldlist[i])
  *                 for i in xrange(nfields)
  */
   { /* enter inner scope */
-    __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2841, __pyx_L1_error)
+    __pyx_t_3 = PyDict_New(); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2926, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
 
-    /* "capnp/lib/capnp.pyx":2843
+    /* "capnp/lib/capnp.pyx":2928
  *             self.__methods_inherited = {
  *                 fieldlist[i].getProto().getName().cStr(): _InterfaceMethod()._init(fieldlist[i])
  *                 for i in xrange(nfields)             # <<<<<<<<<<<<<<
  *             }
  *             for interface in self.superclasses:
  */
     __pyx_t_4 = __pyx_v_nfields;
     __pyx_t_5 = __pyx_t_4;
     for (__pyx_t_6 = 0; __pyx_t_6 < __pyx_t_5; __pyx_t_6+=1) {
       __pyx_9genexpr10__pyx_v_i = __pyx_t_6;
 
-      /* "capnp/lib/capnp.pyx":2842
+      /* "capnp/lib/capnp.pyx":2927
  *             # TODO(soon): make sure this is memory safe
  *             self.__methods_inherited = {
  *                 fieldlist[i].getProto().getName().cStr(): _InterfaceMethod()._init(fieldlist[i])             # <<<<<<<<<<<<<<
  *                 for i in xrange(nfields)
  *             }
  */
-      __pyx_t_7 = __Pyx_PyStr_FromString((__pyx_v_fieldlist[__pyx_9genexpr10__pyx_v_i]).getProto().getName().cStr()); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2842, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyStr_FromString((__pyx_v_fieldlist[__pyx_9genexpr10__pyx_v_i]).getProto().getName().cStr()); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2927, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      __pyx_t_8 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceMethod)); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2842, __pyx_L1_error)
+      __pyx_t_8 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceMethod)); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2927, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_9 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceMethod *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *)__pyx_t_8)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *)__pyx_t_8), (__pyx_v_fieldlist[__pyx_9genexpr10__pyx_v_i])); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2842, __pyx_L1_error)
+      __pyx_t_9 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceMethod *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *)__pyx_t_8)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *)__pyx_t_8), (__pyx_v_fieldlist[__pyx_9genexpr10__pyx_v_i])); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2927, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      if (unlikely(PyDict_SetItem(__pyx_t_3, (PyObject*)__pyx_t_7, (PyObject*)__pyx_t_9))) __PYX_ERR(0, 2842, __pyx_L1_error)
+      if (unlikely(PyDict_SetItem(__pyx_t_3, (PyObject*)__pyx_t_7, (PyObject*)__pyx_t_9))) __PYX_ERR(0, 2927, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     }
   } /* exit inner scope */
 
-  /* "capnp/lib/capnp.pyx":2841
+  /* "capnp/lib/capnp.pyx":2926
  *             nfields = fieldlist.size()
  *             # TODO(soon): make sure this is memory safe
  *             self.__methods_inherited = {             # <<<<<<<<<<<<<<
  *                 fieldlist[i].getProto().getName().cStr(): _InterfaceMethod()._init(fieldlist[i])
  *                 for i in xrange(nfields)
  */
   __Pyx_GIVEREF(__pyx_t_3);
   __Pyx_GOTREF(__pyx_v_self->__pyx___methods_inherited);
   __Pyx_DECREF(__pyx_v_self->__pyx___methods_inherited);
   __pyx_v_self->__pyx___methods_inherited = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2845
+  /* "capnp/lib/capnp.pyx":2930
  *                 for i in xrange(nfields)
  *             }
  *             for interface in self.superclasses:             # <<<<<<<<<<<<<<
  *                 self.__methods_inherited.update(interface.methods_inherited)
  * 
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_superclasses); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2845, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_superclasses); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2930, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   if (likely(PyList_CheckExact(__pyx_t_3)) || PyTuple_CheckExact(__pyx_t_3)) {
     __pyx_t_9 = __pyx_t_3; __Pyx_INCREF(__pyx_t_9); __pyx_t_10 = 0;
     __pyx_t_11 = NULL;
   } else {
-    __pyx_t_10 = -1; __pyx_t_9 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2845, __pyx_L1_error)
+    __pyx_t_10 = -1; __pyx_t_9 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 2930, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_9);
-    __pyx_t_11 = Py_TYPE(__pyx_t_9)->tp_iternext; if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2845, __pyx_L1_error)
+    __pyx_t_11 = Py_TYPE(__pyx_t_9)->tp_iternext; if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 2930, __pyx_L1_error)
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   for (;;) {
     if (likely(!__pyx_t_11)) {
       if (likely(PyList_CheckExact(__pyx_t_9))) {
         if (__pyx_t_10 >= PyList_GET_SIZE(__pyx_t_9)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_9, __pyx_t_10); __Pyx_INCREF(__pyx_t_3); __pyx_t_10++; if (unlikely(0 < 0)) __PYX_ERR(0, 2845, __pyx_L1_error)
+        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_9, __pyx_t_10); __Pyx_INCREF(__pyx_t_3); __pyx_t_10++; if (unlikely(0 < 0)) __PYX_ERR(0, 2930, __pyx_L1_error)
         #else
-        __pyx_t_3 = PySequence_ITEM(__pyx_t_9, __pyx_t_10); __pyx_t_10++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2845, __pyx_L1_error)
+        __pyx_t_3 = PySequence_ITEM(__pyx_t_9, __pyx_t_10); __pyx_t_10++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2930, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         #endif
       } else {
         if (__pyx_t_10 >= PyTuple_GET_SIZE(__pyx_t_9)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_9, __pyx_t_10); __Pyx_INCREF(__pyx_t_3); __pyx_t_10++; if (unlikely(0 < 0)) __PYX_ERR(0, 2845, __pyx_L1_error)
+        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_9, __pyx_t_10); __Pyx_INCREF(__pyx_t_3); __pyx_t_10++; if (unlikely(0 < 0)) __PYX_ERR(0, 2930, __pyx_L1_error)
         #else
-        __pyx_t_3 = PySequence_ITEM(__pyx_t_9, __pyx_t_10); __pyx_t_10++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2845, __pyx_L1_error)
+        __pyx_t_3 = PySequence_ITEM(__pyx_t_9, __pyx_t_10); __pyx_t_10++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2930, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         #endif
       }
     } else {
       __pyx_t_3 = __pyx_t_11(__pyx_t_9);
       if (unlikely(!__pyx_t_3)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 2845, __pyx_L1_error)
+          else __PYX_ERR(0, 2930, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_3);
     }
     __Pyx_XDECREF_SET(__pyx_v_interface, __pyx_t_3);
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":2846
+    /* "capnp/lib/capnp.pyx":2931
  *             }
  *             for interface in self.superclasses:
  *                 self.__methods_inherited.update(interface.methods_inherited)             # <<<<<<<<<<<<<<
  * 
  *             return self.__methods_inherited
  */
-    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->__pyx___methods_inherited, __pyx_n_s_update); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2846, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_self->__pyx___methods_inherited, __pyx_n_s_update); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 2931, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_interface, __pyx_n_s_methods_inherited); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2846, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_v_interface, __pyx_n_s_methods_inherited); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 2931, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __pyx_t_12 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
       __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_7);
       if (likely(__pyx_t_12)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
         __Pyx_INCREF(__pyx_t_12);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_7, function);
       }
     }
     __pyx_t_3 = (__pyx_t_12) ? __Pyx_PyObject_Call2Args(__pyx_t_7, __pyx_t_12, __pyx_t_8) : __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_8);
     __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2846, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2931, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":2845
+    /* "capnp/lib/capnp.pyx":2930
  *                 for i in xrange(nfields)
  *             }
  *             for interface in self.superclasses:             # <<<<<<<<<<<<<<
  *                 self.__methods_inherited.update(interface.methods_inherited)
  * 
  */
   }
   __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
 
-  /* "capnp/lib/capnp.pyx":2848
+  /* "capnp/lib/capnp.pyx":2933
  *                 self.__methods_inherited.update(interface.methods_inherited)
  * 
  *             return self.__methods_inherited             # <<<<<<<<<<<<<<
  * 
  *     property superclasses:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->__pyx___methods_inherited);
   __pyx_r = __pyx_v_self->__pyx___methods_inherited;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2834
+  /* "capnp/lib/capnp.pyx":2919
  *     property methods_inherited:
  *         """A mapping of method names to their respective _InterfaceMethod, including inherited methods"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             if self.__methods_inherited is not None:
  *                 return self.__methods_inherited
  */
 
@@ -65287,15 +66304,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_interface);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2852
+/* "capnp/lib/capnp.pyx":2937
  *     property superclasses:
  *         """A list of superclasses for this interface"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             cdef C_InterfaceSchema.SuperclassList classes = self.thisptr.getSuperclasses()
  *             return [_InterfaceSchema()._init(classes[i]) for i in range(classes.size())]
  */
 
@@ -65324,50 +66341,50 @@
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2853
+  /* "capnp/lib/capnp.pyx":2938
  *         """A list of superclasses for this interface"""
  *         def __get__(self):
  *             cdef C_InterfaceSchema.SuperclassList classes = self.thisptr.getSuperclasses()             # <<<<<<<<<<<<<<
  *             return [_InterfaceSchema()._init(classes[i]) for i in range(classes.size())]
  * 
  */
   __pyx_v_classes = __pyx_v_self->thisptr.getSuperclasses();
 
-  /* "capnp/lib/capnp.pyx":2854
+  /* "capnp/lib/capnp.pyx":2939
  *         def __get__(self):
  *             cdef C_InterfaceSchema.SuperclassList classes = self.thisptr.getSuperclasses()
  *             return [_InterfaceSchema()._init(classes[i]) for i in range(classes.size())]             # <<<<<<<<<<<<<<
  * 
  *     property node:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2854, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2939, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = __pyx_v_classes.size();
   __pyx_t_3 = __pyx_t_2;
   for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
     __pyx_v_i = __pyx_t_4;
-    __pyx_t_5 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2854, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2939, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_6 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_5)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_5), (__pyx_v_classes[__pyx_v_i])); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2854, __pyx_L1_error)
+    __pyx_t_6 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InterfaceSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_5)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_5), (__pyx_v_classes[__pyx_v_i])); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 2939, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_6))) __PYX_ERR(0, 2854, __pyx_L1_error)
+    if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_6))) __PYX_ERR(0, 2939, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
   }
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2852
+  /* "capnp/lib/capnp.pyx":2937
  *     property superclasses:
  *         """A list of superclasses for this interface"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             cdef C_InterfaceSchema.SuperclassList classes = self.thisptr.getSuperclasses()
  *             return [_InterfaceSchema()._init(classes[i]) for i in range(classes.size())]
  */
 
@@ -65380,15 +66397,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2858
+/* "capnp/lib/capnp.pyx":2943
  *     property node:
  *         """The raw schema node"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  */
 
@@ -65412,38 +66429,38 @@
    ::capnp::schema::Node::Reader __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2859
+  /* "capnp/lib/capnp.pyx":2944
  *         """The raw schema node"""
  *         def __get__(self):
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2859, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2944, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_2 = __pyx_v_self->thisptr.getProto();
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 2859, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 2944, __pyx_L1_error)
   }
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_t_2), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2859, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_t_2), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2944, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2858
+  /* "capnp/lib/capnp.pyx":2943
  *     property node:
  *         """The raw schema node"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  */
 
@@ -65455,15 +66472,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2861
+/* "capnp/lib/capnp.pyx":2946
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<schema for %s>' % self.node.displayName
  * 
  */
 
@@ -65486,35 +66503,35 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 0);
 
-  /* "capnp/lib/capnp.pyx":2862
+  /* "capnp/lib/capnp.pyx":2947
  * 
  *     def __repr__(self):
  *         return '<schema for %s>' % self.node.displayName             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_node); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2862, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_node); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2947, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_displayName); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2862, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_displayName); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2947, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyString_FormatSafe(__pyx_kp_s_schema_for_s, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2862, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyString_FormatSafe(__pyx_kp_s_schema_for_s, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2947, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2861
+  /* "capnp/lib/capnp.pyx":2946
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return '<schema for %s>' % self.node.displayName
  * 
  */
 
@@ -65561,15 +66578,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__81, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__83, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -65618,15 +66635,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__82, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__84, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -65641,64 +66658,64 @@
   __Pyx_AddTraceback("capnp.lib.capnp._InterfaceSchema.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2868
+/* "capnp/lib/capnp.pyx":2953
  *     cdef C_EnumSchema thisptr
  * 
  *     cdef _init(self, C_EnumSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_11_EnumSchema__init(struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *__pyx_v_self,  ::capnp::EnumSchema __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":2869
+  /* "capnp/lib/capnp.pyx":2954
  * 
  *     cdef _init(self, C_EnumSchema other):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":2870
+  /* "capnp/lib/capnp.pyx":2955
  *     cdef _init(self, C_EnumSchema other):
  *         self.thisptr = other
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     property enumerants:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2868
+  /* "capnp/lib/capnp.pyx":2953
  *     cdef C_EnumSchema thisptr
  * 
  *     cdef _init(self, C_EnumSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2874
+/* "capnp/lib/capnp.pyx":2959
  *     property enumerants:
  *         """The list of enumerants as a dictionary"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             ret = {}
  *             enumerants = self.thisptr.getEnumerants()
  */
 
@@ -65728,85 +66745,85 @@
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_4;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2875
+  /* "capnp/lib/capnp.pyx":2960
  *         """The list of enumerants as a dictionary"""
  *         def __get__(self):
  *             ret = {}             # <<<<<<<<<<<<<<
  *             enumerants = self.thisptr.getEnumerants()
  *             for i in range(enumerants.size()):
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2875, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2960, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_ret = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":2876
+  /* "capnp/lib/capnp.pyx":2961
  *         def __get__(self):
  *             ret = {}
  *             enumerants = self.thisptr.getEnumerants()             # <<<<<<<<<<<<<<
  *             for i in range(enumerants.size()):
  *                 enumerant = enumerants[i]
  */
   __pyx_v_enumerants = __pyx_v_self->thisptr.getEnumerants();
 
-  /* "capnp/lib/capnp.pyx":2877
+  /* "capnp/lib/capnp.pyx":2962
  *             ret = {}
  *             enumerants = self.thisptr.getEnumerants()
  *             for i in range(enumerants.size()):             # <<<<<<<<<<<<<<
  *                 enumerant = enumerants[i]
  *                 ret[<char *>enumerant.getProto().getName().cStr()] = enumerant.getOrdinal()
  */
   __pyx_t_2 = __pyx_v_enumerants.size();
   __pyx_t_3 = __pyx_t_2;
   for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
     __pyx_v_i = __pyx_t_4;
 
-    /* "capnp/lib/capnp.pyx":2878
+    /* "capnp/lib/capnp.pyx":2963
  *             enumerants = self.thisptr.getEnumerants()
  *             for i in range(enumerants.size()):
  *                 enumerant = enumerants[i]             # <<<<<<<<<<<<<<
  *                 ret[<char *>enumerant.getProto().getName().cStr()] = enumerant.getOrdinal()
  * 
  */
     __pyx_v_enumerant = (__pyx_v_enumerants[__pyx_v_i]);
 
-    /* "capnp/lib/capnp.pyx":2879
+    /* "capnp/lib/capnp.pyx":2964
  *             for i in range(enumerants.size()):
  *                 enumerant = enumerants[i]
  *                 ret[<char *>enumerant.getProto().getName().cStr()] = enumerant.getOrdinal()             # <<<<<<<<<<<<<<
  * 
  *             return ret
  */
-    __pyx_t_1 = __Pyx_PyInt_From_uint16_t(__pyx_v_enumerant.getOrdinal()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2879, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyInt_From_uint16_t(__pyx_v_enumerant.getOrdinal()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2964, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = __Pyx_PyStr_FromString(((char *)__pyx_v_enumerant.getProto().getName().cStr())); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2879, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyStr_FromString(((char *)__pyx_v_enumerant.getProto().getName().cStr())); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 2964, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
-    if (unlikely(PyDict_SetItem(__pyx_v_ret, __pyx_t_5, __pyx_t_1) < 0)) __PYX_ERR(0, 2879, __pyx_L1_error)
+    if (unlikely(PyDict_SetItem(__pyx_v_ret, __pyx_t_5, __pyx_t_1) < 0)) __PYX_ERR(0, 2964, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   }
 
-  /* "capnp/lib/capnp.pyx":2881
+  /* "capnp/lib/capnp.pyx":2966
  *                 ret[<char *>enumerant.getProto().getName().cStr()] = enumerant.getOrdinal()
  * 
  *             return ret             # <<<<<<<<<<<<<<
  * 
  *     property node:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_ret);
   __pyx_r = __pyx_v_ret;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2874
+  /* "capnp/lib/capnp.pyx":2959
  *     property enumerants:
  *         """The list of enumerants as a dictionary"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             ret = {}
  *             enumerants = self.thisptr.getEnumerants()
  */
 
@@ -65819,15 +66836,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_ret);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2885
+/* "capnp/lib/capnp.pyx":2970
  *     property node:
  *         """The raw schema node"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  */
 
@@ -65850,32 +66867,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":2886
+  /* "capnp/lib/capnp.pyx":2971
  *         """The raw schema node"""
  *         def __get__(self):
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2886, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2971, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_v_self->thisptr.getProto()), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2886, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_v_self->thisptr.getProto()), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2971, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":2885
+  /* "capnp/lib/capnp.pyx":2970
  *     property node:
  *         """The raw schema node"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return _DynamicStructReader()._init(self.thisptr.getProto(), self)
  * 
  */
 
@@ -65922,15 +66939,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__83, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__85, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -65979,15 +66996,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__84, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__86, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -66037,15 +67054,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__85, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__87, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -66094,15 +67111,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__86, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__88, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -66117,15 +67134,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._SchemaType.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":2974
+/* "capnp/lib/capnp.pyx":3059
  *     cdef C_ListSchema thisptr
  * 
  *     def __init__(self, schema=None):             # <<<<<<<<<<<<<<
  *         cdef _StructSchema ss
  *         cdef _EnumSchema es
  */
 
@@ -66157,29 +67174,29 @@
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema);
           if (value) { values[0] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 2974, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3059, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_schema = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 2974, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3059, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._ListSchema.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_11_ListSchema___init__(((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_v_self), __pyx_v_schema);
 
@@ -66204,337 +67221,337 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":2981
+  /* "capnp/lib/capnp.pyx":3066
  *         cdef _SchemaType st
  * 
  *         if schema is not None:             # <<<<<<<<<<<<<<
  *             if hasattr(schema, 'schema'):
  *                 s = schema.schema
  */
   __pyx_t_1 = (__pyx_v_schema != Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":2982
+    /* "capnp/lib/capnp.pyx":3067
  * 
  *         if schema is not None:
  *             if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *                 s = schema.schema
  *             else:
  */
-    __pyx_t_2 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 2982, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 3067, __pyx_L1_error)
     __pyx_t_1 = (__pyx_t_2 != 0);
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":2983
+      /* "capnp/lib/capnp.pyx":3068
  *         if schema is not None:
  *             if hasattr(schema, 'schema'):
  *                 s = schema.schema             # <<<<<<<<<<<<<<
  *             else:
  *                 s = schema
  */
-      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2983, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3068, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __pyx_v_s = __pyx_t_3;
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":2982
+      /* "capnp/lib/capnp.pyx":3067
  * 
  *         if schema is not None:
  *             if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *                 s = schema.schema
  *             else:
  */
       goto __pyx_L4;
     }
 
-    /* "capnp/lib/capnp.pyx":2985
+    /* "capnp/lib/capnp.pyx":3070
  *                 s = schema.schema
  *             else:
  *                 s = schema             # <<<<<<<<<<<<<<
  * 
  *             typeSchema = type(s)
  */
     /*else*/ {
       __Pyx_INCREF(__pyx_v_schema);
       __pyx_v_s = __pyx_v_schema;
     }
     __pyx_L4:;
 
-    /* "capnp/lib/capnp.pyx":2987
+    /* "capnp/lib/capnp.pyx":3072
  *                 s = schema
  * 
  *             typeSchema = type(s)             # <<<<<<<<<<<<<<
  *             if typeSchema is _StructSchema:
  *                 ss = s
  */
     __Pyx_INCREF(((PyObject *)Py_TYPE(__pyx_v_s)));
     __pyx_v_typeSchema = ((PyTypeObject*)((PyObject *)Py_TYPE(__pyx_v_s)));
 
-    /* "capnp/lib/capnp.pyx":2988
+    /* "capnp/lib/capnp.pyx":3073
  * 
  *             typeSchema = type(s)
  *             if typeSchema is _StructSchema:             # <<<<<<<<<<<<<<
  *                 ss = s
  *                 self.thisptr = capnp.listSchemaOfStruct(ss._thisptr())
  */
     __pyx_t_1 = (__pyx_v_typeSchema == __pyx_ptype_5capnp_3lib_5capnp__StructSchema);
     __pyx_t_2 = (__pyx_t_1 != 0);
     if (__pyx_t_2) {
 
-      /* "capnp/lib/capnp.pyx":2989
+      /* "capnp/lib/capnp.pyx":3074
  *             typeSchema = type(s)
  *             if typeSchema is _StructSchema:
  *                 ss = s             # <<<<<<<<<<<<<<
  *                 self.thisptr = capnp.listSchemaOfStruct(ss._thisptr())
  *             elif typeSchema is _EnumSchema:
  */
-      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 2989, __pyx_L1_error)
+      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3074, __pyx_L1_error)
       __pyx_t_3 = __pyx_v_s;
       __Pyx_INCREF(__pyx_t_3);
       __pyx_v_ss = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":2990
+      /* "capnp/lib/capnp.pyx":3075
  *             if typeSchema is _StructSchema:
  *                 ss = s
  *                 self.thisptr = capnp.listSchemaOfStruct(ss._thisptr())             # <<<<<<<<<<<<<<
  *             elif typeSchema is _EnumSchema:
  *                 es = s
  */
       __pyx_v_self->thisptr =  ::capnp::ListSchema::of(((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_ss->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_ss));
 
-      /* "capnp/lib/capnp.pyx":2988
+      /* "capnp/lib/capnp.pyx":3073
  * 
  *             typeSchema = type(s)
  *             if typeSchema is _StructSchema:             # <<<<<<<<<<<<<<
  *                 ss = s
  *                 self.thisptr = capnp.listSchemaOfStruct(ss._thisptr())
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":2991
+    /* "capnp/lib/capnp.pyx":3076
  *                 ss = s
  *                 self.thisptr = capnp.listSchemaOfStruct(ss._thisptr())
  *             elif typeSchema is _EnumSchema:             # <<<<<<<<<<<<<<
  *                 es = s
  *                 self.thisptr = capnp.listSchemaOfEnum(es.thisptr)
  */
     __pyx_t_2 = (__pyx_v_typeSchema == __pyx_ptype_5capnp_3lib_5capnp__EnumSchema);
     __pyx_t_1 = (__pyx_t_2 != 0);
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":2992
+      /* "capnp/lib/capnp.pyx":3077
  *                 self.thisptr = capnp.listSchemaOfStruct(ss._thisptr())
  *             elif typeSchema is _EnumSchema:
  *                 es = s             # <<<<<<<<<<<<<<
  *                 self.thisptr = capnp.listSchemaOfEnum(es.thisptr)
  *             elif typeSchema is _InterfaceSchema:
  */
-      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__EnumSchema))))) __PYX_ERR(0, 2992, __pyx_L1_error)
+      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__EnumSchema))))) __PYX_ERR(0, 3077, __pyx_L1_error)
       __pyx_t_3 = __pyx_v_s;
       __Pyx_INCREF(__pyx_t_3);
       __pyx_v_es = ((struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *)__pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":2993
+      /* "capnp/lib/capnp.pyx":3078
  *             elif typeSchema is _EnumSchema:
  *                 es = s
  *                 self.thisptr = capnp.listSchemaOfEnum(es.thisptr)             # <<<<<<<<<<<<<<
  *             elif typeSchema is _InterfaceSchema:
  *                 iis = s
  */
       __pyx_v_self->thisptr =  ::capnp::ListSchema::of(__pyx_v_es->thisptr);
 
-      /* "capnp/lib/capnp.pyx":2991
+      /* "capnp/lib/capnp.pyx":3076
  *                 ss = s
  *                 self.thisptr = capnp.listSchemaOfStruct(ss._thisptr())
  *             elif typeSchema is _EnumSchema:             # <<<<<<<<<<<<<<
  *                 es = s
  *                 self.thisptr = capnp.listSchemaOfEnum(es.thisptr)
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":2994
+    /* "capnp/lib/capnp.pyx":3079
  *                 es = s
  *                 self.thisptr = capnp.listSchemaOfEnum(es.thisptr)
  *             elif typeSchema is _InterfaceSchema:             # <<<<<<<<<<<<<<
  *                 iis = s
  *                 self.thisptr = capnp.listSchemaOfInterface(iis.thisptr)
  */
     __pyx_t_1 = (__pyx_v_typeSchema == __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema);
     __pyx_t_2 = (__pyx_t_1 != 0);
     if (__pyx_t_2) {
 
-      /* "capnp/lib/capnp.pyx":2995
+      /* "capnp/lib/capnp.pyx":3080
  *                 self.thisptr = capnp.listSchemaOfEnum(es.thisptr)
  *             elif typeSchema is _InterfaceSchema:
  *                 iis = s             # <<<<<<<<<<<<<<
  *                 self.thisptr = capnp.listSchemaOfInterface(iis.thisptr)
  *             elif typeSchema is _ListSchema:
  */
-      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 2995, __pyx_L1_error)
+      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema))))) __PYX_ERR(0, 3080, __pyx_L1_error)
       __pyx_t_3 = __pyx_v_s;
       __Pyx_INCREF(__pyx_t_3);
       __pyx_v_iis = ((struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *)__pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":2996
+      /* "capnp/lib/capnp.pyx":3081
  *             elif typeSchema is _InterfaceSchema:
  *                 iis = s
  *                 self.thisptr = capnp.listSchemaOfInterface(iis.thisptr)             # <<<<<<<<<<<<<<
  *             elif typeSchema is _ListSchema:
  *                 ls = s
  */
       __pyx_v_self->thisptr =  ::capnp::ListSchema::of(__pyx_v_iis->thisptr);
 
-      /* "capnp/lib/capnp.pyx":2994
+      /* "capnp/lib/capnp.pyx":3079
  *                 es = s
  *                 self.thisptr = capnp.listSchemaOfEnum(es.thisptr)
  *             elif typeSchema is _InterfaceSchema:             # <<<<<<<<<<<<<<
  *                 iis = s
  *                 self.thisptr = capnp.listSchemaOfInterface(iis.thisptr)
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":2997
+    /* "capnp/lib/capnp.pyx":3082
  *                 iis = s
  *                 self.thisptr = capnp.listSchemaOfInterface(iis.thisptr)
  *             elif typeSchema is _ListSchema:             # <<<<<<<<<<<<<<
  *                 ls = s
  *                 self.thisptr = capnp.listSchemaOfList(ls.thisptr)
  */
     __pyx_t_2 = (__pyx_v_typeSchema == __pyx_ptype_5capnp_3lib_5capnp__ListSchema);
     __pyx_t_1 = (__pyx_t_2 != 0);
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":2998
+      /* "capnp/lib/capnp.pyx":3083
  *                 self.thisptr = capnp.listSchemaOfInterface(iis.thisptr)
  *             elif typeSchema is _ListSchema:
  *                 ls = s             # <<<<<<<<<<<<<<
  *                 self.thisptr = capnp.listSchemaOfList(ls.thisptr)
  *             elif typeSchema is _SchemaType:
  */
-      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 2998, __pyx_L1_error)
+      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__ListSchema))))) __PYX_ERR(0, 3083, __pyx_L1_error)
       __pyx_t_3 = __pyx_v_s;
       __Pyx_INCREF(__pyx_t_3);
       __pyx_v_ls = ((struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *)__pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":2999
+      /* "capnp/lib/capnp.pyx":3084
  *             elif typeSchema is _ListSchema:
  *                 ls = s
  *                 self.thisptr = capnp.listSchemaOfList(ls.thisptr)             # <<<<<<<<<<<<<<
  *             elif typeSchema is _SchemaType:
  *                 st = s
  */
       __pyx_v_self->thisptr =  ::capnp::ListSchema::of(__pyx_v_ls->thisptr);
 
-      /* "capnp/lib/capnp.pyx":2997
+      /* "capnp/lib/capnp.pyx":3082
  *                 iis = s
  *                 self.thisptr = capnp.listSchemaOfInterface(iis.thisptr)
  *             elif typeSchema is _ListSchema:             # <<<<<<<<<<<<<<
  *                 ls = s
  *                 self.thisptr = capnp.listSchemaOfList(ls.thisptr)
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":3000
+    /* "capnp/lib/capnp.pyx":3085
  *                 ls = s
  *                 self.thisptr = capnp.listSchemaOfList(ls.thisptr)
  *             elif typeSchema is _SchemaType:             # <<<<<<<<<<<<<<
  *                 st = s
  *                 self.thisptr = capnp.listSchemaOfType(st.thisptr)
  */
     __pyx_t_1 = (__pyx_v_typeSchema == __pyx_ptype_5capnp_3lib_5capnp__SchemaType);
     __pyx_t_2 = (__pyx_t_1 != 0);
     if (likely(__pyx_t_2)) {
 
-      /* "capnp/lib/capnp.pyx":3001
+      /* "capnp/lib/capnp.pyx":3086
  *                 self.thisptr = capnp.listSchemaOfList(ls.thisptr)
  *             elif typeSchema is _SchemaType:
  *                 st = s             # <<<<<<<<<<<<<<
  *                 self.thisptr = capnp.listSchemaOfType(st.thisptr)
  *             else:
  */
-      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__SchemaType))))) __PYX_ERR(0, 3001, __pyx_L1_error)
+      if (!(likely(((__pyx_v_s) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_s, __pyx_ptype_5capnp_3lib_5capnp__SchemaType))))) __PYX_ERR(0, 3086, __pyx_L1_error)
       __pyx_t_3 = __pyx_v_s;
       __Pyx_INCREF(__pyx_t_3);
       __pyx_v_st = ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":3002
+      /* "capnp/lib/capnp.pyx":3087
  *             elif typeSchema is _SchemaType:
  *                 st = s
  *                 self.thisptr = capnp.listSchemaOfType(st.thisptr)             # <<<<<<<<<<<<<<
  *             else:
  *                 raise KjException("Unknown schema type")
  */
       __pyx_v_self->thisptr =  ::capnp::ListSchema::of(__pyx_v_st->thisptr);
 
-      /* "capnp/lib/capnp.pyx":3000
+      /* "capnp/lib/capnp.pyx":3085
  *                 ls = s
  *                 self.thisptr = capnp.listSchemaOfList(ls.thisptr)
  *             elif typeSchema is _SchemaType:             # <<<<<<<<<<<<<<
  *                 st = s
  *                 self.thisptr = capnp.listSchemaOfType(st.thisptr)
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":3004
+    /* "capnp/lib/capnp.pyx":3089
  *                 self.thisptr = capnp.listSchemaOfType(st.thisptr)
  *             else:
  *                 raise KjException("Unknown schema type")             # <<<<<<<<<<<<<<
  * 
  *     cdef _init(self, C_ListSchema other):
  */
     /*else*/ {
-      __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3004, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3089, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
       __pyx_t_5 = NULL;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
         __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
         if (likely(__pyx_t_5)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
           __Pyx_INCREF(__pyx_t_5);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_4, function);
         }
       }
       __pyx_t_3 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_5, __pyx_kp_s_Unknown_schema_type) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_kp_s_Unknown_schema_type);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3004, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3089, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __Pyx_Raise(__pyx_t_3, 0, 0, 0);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __PYX_ERR(0, 3004, __pyx_L1_error)
+      __PYX_ERR(0, 3089, __pyx_L1_error)
     }
     __pyx_L5:;
 
-    /* "capnp/lib/capnp.pyx":2981
+    /* "capnp/lib/capnp.pyx":3066
  *         cdef _SchemaType st
  * 
  *         if schema is not None:             # <<<<<<<<<<<<<<
  *             if hasattr(schema, 'schema'):
  *                 s = schema.schema
  */
   }
 
-  /* "capnp/lib/capnp.pyx":2974
+  /* "capnp/lib/capnp.pyx":3059
  *     cdef C_ListSchema thisptr
  * 
  *     def __init__(self, schema=None):             # <<<<<<<<<<<<<<
  *         cdef _StructSchema ss
  *         cdef _EnumSchema es
  */
 
@@ -66555,64 +67572,64 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_st);
   __Pyx_XDECREF(__pyx_v_s);
   __Pyx_XDECREF(__pyx_v_typeSchema);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3006
+/* "capnp/lib/capnp.pyx":3091
  *                 raise KjException("Unknown schema type")
  * 
  *     cdef _init(self, C_ListSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_11_ListSchema__init(struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *__pyx_v_self,  ::capnp::ListSchema __pyx_v_other) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":3007
+  /* "capnp/lib/capnp.pyx":3092
  * 
  *     cdef _init(self, C_ListSchema other):
  *         self.thisptr = other             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->thisptr = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":3008
+  /* "capnp/lib/capnp.pyx":3093
  *     cdef _init(self, C_ListSchema other):
  *         self.thisptr = other
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     property elementType:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3006
+  /* "capnp/lib/capnp.pyx":3091
  *                 raise KjException("Unknown schema type")
  * 
  *     cdef _init(self, C_ListSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr = other
  *         return self
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3012
+/* "capnp/lib/capnp.pyx":3097
  *     property elementType:
  *         """The schema of the element type of this list"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return typeAsSchema(self.thisptr.getElementType())
  * 
  */
 
@@ -66634,29 +67651,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 0);
 
-  /* "capnp/lib/capnp.pyx":3013
+  /* "capnp/lib/capnp.pyx":3098
  *         """The schema of the element type of this list"""
  *         def __get__(self):
  *             return typeAsSchema(self.thisptr.getElementType())             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_typeAsSchema(__pyx_v_self->thisptr.getElementType()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3013, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_typeAsSchema(__pyx_v_self->thisptr.getElementType()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3098, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3012
+  /* "capnp/lib/capnp.pyx":3097
  *     property elementType:
  *         """The schema of the element type of this list"""
  *         def __get__(self):             # <<<<<<<<<<<<<<
  *             return typeAsSchema(self.thisptr.getElementType())
  * 
  */
 
@@ -66702,15 +67719,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__87, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__89, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -66759,15 +67776,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__88, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__90, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -66782,15 +67799,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._ListSchema.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3018
+/* "capnp/lib/capnp.pyx":3103
  * cdef class _ParsedSchema(_Schema):
  *     cdef C_ParsedSchema thisptr_child
  *     cdef _init_child(self, C_ParsedSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = other
  *         self._init(other)
  */
 
@@ -66799,47 +67816,47 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_init_child", 0);
 
-  /* "capnp/lib/capnp.pyx":3019
+  /* "capnp/lib/capnp.pyx":3104
  *     cdef C_ParsedSchema thisptr_child
  *     cdef _init_child(self, C_ParsedSchema other):
  *         self.thisptr_child = other             # <<<<<<<<<<<<<<
  *         self._init(other)
  *         return self
  */
   __pyx_v_self->thisptr_child = __pyx_v_other;
 
-  /* "capnp/lib/capnp.pyx":3020
+  /* "capnp/lib/capnp.pyx":3105
  *     cdef _init_child(self, C_ParsedSchema other):
  *         self.thisptr_child = other
  *         self._init(other)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__ParsedSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_v_self), __pyx_v_other); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3020, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__ParsedSchema *)__pyx_v_self->__pyx_base.__pyx_vtab)->__pyx_base._init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_v_self), __pyx_v_other); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3105, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3021
+  /* "capnp/lib/capnp.pyx":3106
  *         self.thisptr_child = other
  *         self._init(other)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     cpdef get_nested(self, name):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3018
+  /* "capnp/lib/capnp.pyx":3103
  * cdef class _ParsedSchema(_Schema):
  *     cdef C_ParsedSchema thisptr_child
  *     cdef _init_child(self, C_ParsedSchema other):             # <<<<<<<<<<<<<<
  *         self.thisptr_child = other
  *         self._init(other)
  */
 
@@ -66850,15 +67867,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3023
+/* "capnp/lib/capnp.pyx":3108
  *         return self
  * 
  *     cpdef get_nested(self, name):             # <<<<<<<<<<<<<<
  *         return _ParsedSchema()._init_child(self.thisptr_child.getNested(name))
  * 
  */
 
@@ -66881,15 +67898,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_nested); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3023, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_nested); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3108, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_13_ParsedSchema_1get_nested)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -66898,15 +67915,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_name) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_name);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3023, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3108, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -66919,39 +67936,39 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3024
+  /* "capnp/lib/capnp.pyx":3109
  * 
  *     cpdef get_nested(self, name):
  *         return _ParsedSchema()._init_child(self.thisptr_child.getNested(name))             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__ParsedSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3024, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__ParsedSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3109, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_name); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 3024, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_AsWritableString(__pyx_v_name); if (unlikely((!__pyx_t_5) && PyErr_Occurred())) __PYX_ERR(0, 3109, __pyx_L1_error)
   try {
     __pyx_t_6 = __pyx_v_self->thisptr_child.getNested(__pyx_t_5);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3024, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3109, __pyx_L1_error)
   }
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__ParsedSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *)__pyx_t_1), __pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3024, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__ParsedSchema *)((struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init_child(((struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *)__pyx_t_1), __pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3109, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3023
+  /* "capnp/lib/capnp.pyx":3108
  *         return self
  * 
  *     cpdef get_nested(self, name):             # <<<<<<<<<<<<<<
  *         return _ParsedSchema()._init_child(self.thisptr_child.getNested(name))
  * 
  */
 
@@ -66988,15 +68005,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_nested", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_13_ParsedSchema_get_nested(__pyx_v_self, __pyx_v_name, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3023, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_13_ParsedSchema_get_nested(__pyx_v_self, __pyx_v_name, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3108, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -67040,15 +68057,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__89, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__91, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -67097,15 +68114,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__90, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__92, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -67120,15 +68137,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._ParsedSchema.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3029
+/* "capnp/lib/capnp.pyx":3114
  * class _StructABCMeta(type):
  *     """A metaclass for the Type.Reader and Type.Builder ABCs."""
  *     def __instancecheck__(cls, obj):             # <<<<<<<<<<<<<<
  *         return isinstance(obj, cls.__base__) and obj.schema == cls._schema
  * 
  */
 
@@ -67164,32 +68181,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_cls)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_obj)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__instancecheck__", 1, 2, 2, 1); __PYX_ERR(0, 3029, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__instancecheck__", 1, 2, 2, 1); __PYX_ERR(0, 3114, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__instancecheck__") < 0)) __PYX_ERR(0, 3029, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__instancecheck__") < 0)) __PYX_ERR(0, 3114, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_cls = values[0];
     __pyx_v_obj = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__instancecheck__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3029, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__instancecheck__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3114, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructABCMeta.__instancecheck__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14_StructABCMeta___instancecheck__(__pyx_self, __pyx_v_cls, __pyx_v_obj);
 
@@ -67207,50 +68224,50 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__instancecheck__", 0);
 
-  /* "capnp/lib/capnp.pyx":3030
+  /* "capnp/lib/capnp.pyx":3115
  *     """A metaclass for the Type.Reader and Type.Builder ABCs."""
  *     def __instancecheck__(cls, obj):
  *         return isinstance(obj, cls.__base__) and obj.schema == cls._schema             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_base); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3030, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_base); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3115, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyObject_IsInstance(__pyx_v_obj, __pyx_t_2); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3030, __pyx_L1_error)
+  __pyx_t_3 = PyObject_IsInstance(__pyx_v_obj, __pyx_t_2); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 3115, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (__pyx_t_3) {
   } else {
-    __pyx_t_2 = __Pyx_PyBool_FromLong(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3030, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyBool_FromLong(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3115, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_1 = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L3_bool_binop_done;
   }
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3030, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_obj, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3115, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_schema_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3030, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_cls, __pyx_n_s_schema_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3115, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_5 = PyObject_RichCompare(__pyx_t_2, __pyx_t_4, Py_EQ); __Pyx_XGOTREF(__pyx_t_5); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3030, __pyx_L1_error)
+  __pyx_t_5 = PyObject_RichCompare(__pyx_t_2, __pyx_t_4, Py_EQ); __Pyx_XGOTREF(__pyx_t_5); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3115, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_INCREF(__pyx_t_5);
   __pyx_t_1 = __pyx_t_5;
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   __pyx_L3_bool_binop_done:;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3029
+  /* "capnp/lib/capnp.pyx":3114
  * class _StructABCMeta(type):
  *     """A metaclass for the Type.Reader and Type.Builder ABCs."""
  *     def __instancecheck__(cls, obj):             # <<<<<<<<<<<<<<
  *         return isinstance(obj, cls.__base__) and obj.schema == cls._schema
  * 
  */
 
@@ -67264,15 +68281,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3033
+/* "capnp/lib/capnp.pyx":3118
  * 
  * 
  * cdef _new_message(self, kwargs, num_first_segment_words):             # <<<<<<<<<<<<<<
  *     builder = _MallocMessageBuilder(num_first_segment_words)
  *     msg = builder.init_root(self.schema)
  */
 
@@ -67287,100 +68304,100 @@
   int __pyx_t_4;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_new_message", 0);
 
-  /* "capnp/lib/capnp.pyx":3034
+  /* "capnp/lib/capnp.pyx":3119
  * 
  * cdef _new_message(self, kwargs, num_first_segment_words):
  *     builder = _MallocMessageBuilder(num_first_segment_words)             # <<<<<<<<<<<<<<
  *     msg = builder.init_root(self.schema)
  *     if kwargs is not None:
  */
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MallocMessageBuilder), __pyx_v_num_first_segment_words); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3034, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MallocMessageBuilder), __pyx_v_num_first_segment_words); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3119, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_builder = ((struct __pyx_obj_5capnp_3lib_5capnp__MallocMessageBuilder *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3035
+  /* "capnp/lib/capnp.pyx":3120
  * cdef _new_message(self, kwargs, num_first_segment_words):
  *     builder = _MallocMessageBuilder(num_first_segment_words)
  *     msg = builder.init_root(self.schema)             # <<<<<<<<<<<<<<
  *     if kwargs is not None:
  *         msg.from_dict(kwargs)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3035, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3120, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__MallocMessageBuilder *)__pyx_v_builder->__pyx_base.__pyx_vtab)->__pyx_base.init_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_v_builder), __pyx_t_1, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3035, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__MallocMessageBuilder *)__pyx_v_builder->__pyx_base.__pyx_vtab)->__pyx_base.init_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_v_builder), __pyx_t_1, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3120, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_msg = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":3036
+  /* "capnp/lib/capnp.pyx":3121
  *     builder = _MallocMessageBuilder(num_first_segment_words)
  *     msg = builder.init_root(self.schema)
  *     if kwargs is not None:             # <<<<<<<<<<<<<<
  *         msg.from_dict(kwargs)
  *     return msg
  */
   __pyx_t_3 = (__pyx_v_kwargs != Py_None);
   __pyx_t_4 = (__pyx_t_3 != 0);
   if (__pyx_t_4) {
 
-    /* "capnp/lib/capnp.pyx":3037
+    /* "capnp/lib/capnp.pyx":3122
  *     msg = builder.init_root(self.schema)
  *     if kwargs is not None:
  *         msg.from_dict(kwargs)             # <<<<<<<<<<<<<<
  *     return msg
  * 
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_msg, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3037, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_msg, __pyx_n_s_from_dict); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3122, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_5 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_5, __pyx_v_kwargs) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_kwargs);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3037, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3122, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":3036
+    /* "capnp/lib/capnp.pyx":3121
  *     builder = _MallocMessageBuilder(num_first_segment_words)
  *     msg = builder.init_root(self.schema)
  *     if kwargs is not None:             # <<<<<<<<<<<<<<
  *         msg.from_dict(kwargs)
  *     return msg
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3038
+  /* "capnp/lib/capnp.pyx":3123
  *     if kwargs is not None:
  *         msg.from_dict(kwargs)
  *     return msg             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_msg);
   __pyx_r = __pyx_v_msg;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3033
+  /* "capnp/lib/capnp.pyx":3118
  * 
  * 
  * cdef _new_message(self, kwargs, num_first_segment_words):             # <<<<<<<<<<<<<<
  *     builder = _MallocMessageBuilder(num_first_segment_words)
  *     msg = builder.init_root(self.schema)
  */
 
@@ -67395,15 +68412,15 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_builder);
   __Pyx_XDECREF(__pyx_v_msg);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3042
+/* "capnp/lib/capnp.pyx":3127
  * 
  * class _StructModuleWhich(_enum.Enum):
  *     def __eq__(self, other):             # <<<<<<<<<<<<<<
  *         if isinstance(other, int):
  *             return self.value == other
  */
 
@@ -67439,32 +68456,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_other)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__eq__", 1, 2, 2, 1); __PYX_ERR(0, 3042, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__eq__", 1, 2, 2, 1); __PYX_ERR(0, 3127, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__eq__") < 0)) __PYX_ERR(0, 3042, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__eq__") < 0)) __PYX_ERR(0, 3127, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_self = values[0];
     __pyx_v_other = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__eq__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3042, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__eq__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3127, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModuleWhich.__eq__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_18_StructModuleWhich___eq__(__pyx_self, __pyx_v_self, __pyx_v_other);
 
@@ -67481,69 +68498,69 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__eq__", 0);
 
-  /* "capnp/lib/capnp.pyx":3043
+  /* "capnp/lib/capnp.pyx":3128
  * class _StructModuleWhich(_enum.Enum):
  *     def __eq__(self, other):
  *         if isinstance(other, int):             # <<<<<<<<<<<<<<
  *             return self.value == other
  *         else:
  */
   __pyx_t_1 = PyInt_Check(__pyx_v_other); 
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":3044
+    /* "capnp/lib/capnp.pyx":3129
  *     def __eq__(self, other):
  *         if isinstance(other, int):
  *             return self.value == other             # <<<<<<<<<<<<<<
  *         else:
  *             return self.name == other
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_value); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3044, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_value); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3129, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = PyObject_RichCompare(__pyx_t_3, __pyx_v_other, Py_EQ); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3044, __pyx_L1_error)
+    __pyx_t_4 = PyObject_RichCompare(__pyx_t_3, __pyx_v_other, Py_EQ); __Pyx_XGOTREF(__pyx_t_4); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3129, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_r = __pyx_t_4;
     __pyx_t_4 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":3043
+    /* "capnp/lib/capnp.pyx":3128
  * class _StructModuleWhich(_enum.Enum):
  *     def __eq__(self, other):
  *         if isinstance(other, int):             # <<<<<<<<<<<<<<
  *             return self.value == other
  *         else:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3046
+  /* "capnp/lib/capnp.pyx":3131
  *             return self.value == other
  *         else:
  *             return self.name == other             # <<<<<<<<<<<<<<
  * 
  * 
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_name); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3046, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_name); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3131, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_3 = PyObject_RichCompare(__pyx_t_4, __pyx_v_other, Py_EQ); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3046, __pyx_L1_error)
+    __pyx_t_3 = PyObject_RichCompare(__pyx_t_4, __pyx_v_other, Py_EQ); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3131, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":3042
+  /* "capnp/lib/capnp.pyx":3127
  * 
  * class _StructModuleWhich(_enum.Enum):
  *     def __eq__(self, other):             # <<<<<<<<<<<<<<
  *         if isinstance(other, int):
  *             return self.value == other
  */
 
@@ -67555,15 +68572,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3050
+/* "capnp/lib/capnp.pyx":3135
  * 
  * class _StructModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  * 
  */
 
@@ -67602,40 +68619,40 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 3050, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 3135, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_name)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 3050, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 3135, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3050, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3135, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_self = values[0];
     __pyx_v_schema = values[1];
     __pyx_v_name = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3050, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3135, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule___init__(__pyx_self, __pyx_v_self, __pyx_v_schema, __pyx_v_name);
 
@@ -67671,263 +68688,263 @@
   int __pyx_t_15;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
   __Pyx_INCREF(__pyx_v_name);
 
-  /* "capnp/lib/capnp.pyx":3051
+  /* "capnp/lib/capnp.pyx":3136
  * class _StructModule(object):
  *     def __init__(self, schema, name):
  *         self.schema = schema             # <<<<<<<<<<<<<<
  * 
  *         # Add enums for union fields
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_schema, __pyx_v_schema) < 0) __PYX_ERR(0, 3051, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_schema, __pyx_v_schema) < 0) __PYX_ERR(0, 3136, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3054
+  /* "capnp/lib/capnp.pyx":3139
  * 
  *         # Add enums for union fields
  *         for field, raw_field in zip(schema.node.struct.fields, schema.fields_list):             # <<<<<<<<<<<<<<
  *             if field.which() == 'group':
  *                 name = field.name[0].upper() + field.name[1:]
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_node); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3054, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_node); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3139, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_struct); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3054, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_struct); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3139, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_fields); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3054, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_fields); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3139, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_fields_list); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3054, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_fields_list); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3139, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3054, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3139, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_2);
   __pyx_t_1 = 0;
   __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_zip, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3054, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_zip, __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3139, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (likely(PyList_CheckExact(__pyx_t_2)) || PyTuple_CheckExact(__pyx_t_2)) {
     __pyx_t_3 = __pyx_t_2; __Pyx_INCREF(__pyx_t_3); __pyx_t_4 = 0;
     __pyx_t_5 = NULL;
   } else {
-    __pyx_t_4 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3054, __pyx_L1_error)
+    __pyx_t_4 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3139, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_5 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3054, __pyx_L1_error)
+    __pyx_t_5 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3139, __pyx_L1_error)
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   for (;;) {
     if (likely(!__pyx_t_5)) {
       if (likely(PyList_CheckExact(__pyx_t_3))) {
         if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_2); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3054, __pyx_L1_error)
+        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_2); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3139, __pyx_L1_error)
         #else
-        __pyx_t_2 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3054, __pyx_L1_error)
+        __pyx_t_2 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3139, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         #endif
       } else {
         if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_2); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3054, __pyx_L1_error)
+        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_2); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3139, __pyx_L1_error)
         #else
-        __pyx_t_2 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3054, __pyx_L1_error)
+        __pyx_t_2 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3139, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         #endif
       }
     } else {
       __pyx_t_2 = __pyx_t_5(__pyx_t_3);
       if (unlikely(!__pyx_t_2)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 3054, __pyx_L1_error)
+          else __PYX_ERR(0, 3139, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_2);
     }
     if ((likely(PyTuple_CheckExact(__pyx_t_2))) || (PyList_CheckExact(__pyx_t_2))) {
       PyObject* sequence = __pyx_t_2;
       Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
       if (unlikely(size != 2)) {
         if (size > 2) __Pyx_RaiseTooManyValuesError(2);
         else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-        __PYX_ERR(0, 3054, __pyx_L1_error)
+        __PYX_ERR(0, 3139, __pyx_L1_error)
       }
       #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
       if (likely(PyTuple_CheckExact(sequence))) {
         __pyx_t_1 = PyTuple_GET_ITEM(sequence, 0); 
         __pyx_t_6 = PyTuple_GET_ITEM(sequence, 1); 
       } else {
         __pyx_t_1 = PyList_GET_ITEM(sequence, 0); 
         __pyx_t_6 = PyList_GET_ITEM(sequence, 1); 
       }
       __Pyx_INCREF(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_6);
       #else
-      __pyx_t_1 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3054, __pyx_L1_error)
+      __pyx_t_1 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3139, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      __pyx_t_6 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3054, __pyx_L1_error)
+      __pyx_t_6 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3139, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       #endif
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     } else {
       Py_ssize_t index = -1;
-      __pyx_t_7 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3054, __pyx_L1_error)
+      __pyx_t_7 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3139, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __pyx_t_8 = Py_TYPE(__pyx_t_7)->tp_iternext;
       index = 0; __pyx_t_1 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_1)) goto __pyx_L5_unpacking_failed;
       __Pyx_GOTREF(__pyx_t_1);
       index = 1; __pyx_t_6 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_6)) goto __pyx_L5_unpacking_failed;
       __Pyx_GOTREF(__pyx_t_6);
-      if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_7), 2) < 0) __PYX_ERR(0, 3054, __pyx_L1_error)
+      if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_7), 2) < 0) __PYX_ERR(0, 3139, __pyx_L1_error)
       __pyx_t_8 = NULL;
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       goto __pyx_L6_unpacking_done;
       __pyx_L5_unpacking_failed:;
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __pyx_t_8 = NULL;
       if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-      __PYX_ERR(0, 3054, __pyx_L1_error)
+      __PYX_ERR(0, 3139, __pyx_L1_error)
       __pyx_L6_unpacking_done:;
     }
     __Pyx_XDECREF_SET(__pyx_v_field, __pyx_t_1);
     __pyx_t_1 = 0;
     __Pyx_XDECREF_SET(__pyx_v_raw_field, __pyx_t_6);
     __pyx_t_6 = 0;
 
-    /* "capnp/lib/capnp.pyx":3055
+    /* "capnp/lib/capnp.pyx":3140
  *         # Add enums for union fields
  *         for field, raw_field in zip(schema.node.struct.fields, schema.fields_list):
  *             if field.which() == 'group':             # <<<<<<<<<<<<<<
  *                 name = field.name[0].upper() + field.name[1:]
  *                 raw_schema = raw_field.schema
  */
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_which); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3055, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_which); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3140, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __pyx_t_1 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
       __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_6);
       if (likely(__pyx_t_1)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
         __Pyx_INCREF(__pyx_t_1);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_6, function);
       }
     }
     __pyx_t_2 = (__pyx_t_1) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_1) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
     __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3055, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3140, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    __pyx_t_9 = (__Pyx_PyString_Equals(__pyx_t_2, __pyx_n_s_group, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 3055, __pyx_L1_error)
+    __pyx_t_9 = (__Pyx_PyString_Equals(__pyx_t_2, __pyx_n_s_group, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 3140, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     if (__pyx_t_9) {
 
-      /* "capnp/lib/capnp.pyx":3056
+      /* "capnp/lib/capnp.pyx":3141
  *         for field, raw_field in zip(schema.node.struct.fields, schema.fields_list):
  *             if field.which() == 'group':
  *                 name = field.name[0].upper() + field.name[1:]             # <<<<<<<<<<<<<<
  *                 raw_schema = raw_field.schema
  *                 field_schema = raw_schema.node.struct
  */
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3056, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
-      __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_6, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3056, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_6, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_upper); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3056, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_upper); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __pyx_t_1 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
         __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_6);
         if (likely(__pyx_t_1)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
           __Pyx_INCREF(__pyx_t_1);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_6, function);
         }
       }
       __pyx_t_2 = (__pyx_t_1) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_1) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3056, __pyx_L1_error)
+      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3056, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_field, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
-      __pyx_t_1 = __Pyx_PyObject_GetSlice(__pyx_t_6, 1, 0, NULL, NULL, &__pyx_slice__24, 1, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3056, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetSlice(__pyx_t_6, 1, 0, NULL, NULL, &__pyx_slice__24, 1, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __pyx_t_6 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3056, __pyx_L1_error)
+      __pyx_t_6 = PyNumber_Add(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __Pyx_DECREF_SET(__pyx_v_name, __pyx_t_6);
       __pyx_t_6 = 0;
 
-      /* "capnp/lib/capnp.pyx":3057
+      /* "capnp/lib/capnp.pyx":3142
  *             if field.which() == 'group':
  *                 name = field.name[0].upper() + field.name[1:]
  *                 raw_schema = raw_field.schema             # <<<<<<<<<<<<<<
  *                 field_schema = raw_schema.node.struct
  * 
  */
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_raw_field, __pyx_n_s_schema); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3057, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_raw_field, __pyx_n_s_schema); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3142, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_XDECREF_SET(__pyx_v_raw_schema, __pyx_t_6);
       __pyx_t_6 = 0;
 
-      /* "capnp/lib/capnp.pyx":3058
+      /* "capnp/lib/capnp.pyx":3143
  *                 name = field.name[0].upper() + field.name[1:]
  *                 raw_schema = raw_field.schema
  *                 field_schema = raw_schema.node.struct             # <<<<<<<<<<<<<<
  * 
  *                 if field_schema.discriminantCount == 0:
  */
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_raw_schema, __pyx_n_s_node); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3058, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_raw_schema, __pyx_n_s_node); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3143, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3058, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3143, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __Pyx_XDECREF_SET(__pyx_v_field_schema, __pyx_t_1);
       __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":3060
+      /* "capnp/lib/capnp.pyx":3145
  *                 field_schema = raw_schema.node.struct
  * 
  *                 if field_schema.discriminantCount == 0:             # <<<<<<<<<<<<<<
  *                     sub_module = _StructModule(raw_schema, name)
  *                 else:
  */
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_field_schema, __pyx_n_s_discriminantCount); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3060, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_field_schema, __pyx_n_s_discriminantCount); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3145, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      __pyx_t_6 = __Pyx_PyInt_EqObjC(__pyx_t_1, __pyx_int_0, 0, 0); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3060, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyInt_EqObjC(__pyx_t_1, __pyx_int_0, 0, 0); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3145, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 3060, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_6); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 3145, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       if (__pyx_t_9) {
 
-        /* "capnp/lib/capnp.pyx":3061
+        /* "capnp/lib/capnp.pyx":3146
  * 
  *                 if field_schema.discriminantCount == 0:
  *                     sub_module = _StructModule(raw_schema, name)             # <<<<<<<<<<<<<<
  *                 else:
  *                     mapping = []
  */
-        __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_StructModule); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3061, __pyx_L1_error)
+        __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_StructModule); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3146, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         __pyx_t_2 = NULL;
         __pyx_t_10 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
           __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
           if (likely(__pyx_t_2)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
@@ -67936,162 +68953,162 @@
             __Pyx_DECREF_SET(__pyx_t_1, function);
             __pyx_t_10 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_1)) {
           PyObject *__pyx_temp[3] = {__pyx_t_2, __pyx_v_raw_schema, __pyx_v_name};
-          __pyx_t_6 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3061, __pyx_L1_error)
+          __pyx_t_6 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3146, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
           __Pyx_GOTREF(__pyx_t_6);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_1)) {
           PyObject *__pyx_temp[3] = {__pyx_t_2, __pyx_v_raw_schema, __pyx_v_name};
-          __pyx_t_6 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3061, __pyx_L1_error)
+          __pyx_t_6 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3146, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
           __Pyx_GOTREF(__pyx_t_6);
         } else
         #endif
         {
-          __pyx_t_7 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3061, __pyx_L1_error)
+          __pyx_t_7 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3146, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
           if (__pyx_t_2) {
             __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_2); __pyx_t_2 = NULL;
           }
           __Pyx_INCREF(__pyx_v_raw_schema);
           __Pyx_GIVEREF(__pyx_v_raw_schema);
           PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_10, __pyx_v_raw_schema);
           __Pyx_INCREF(__pyx_v_name);
           __Pyx_GIVEREF(__pyx_v_name);
           PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_10, __pyx_v_name);
-          __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3061, __pyx_L1_error)
+          __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3146, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
         }
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_XDECREF_SET(__pyx_v_sub_module, __pyx_t_6);
         __pyx_t_6 = 0;
 
-        /* "capnp/lib/capnp.pyx":3060
+        /* "capnp/lib/capnp.pyx":3145
  *                 field_schema = raw_schema.node.struct
  * 
  *                 if field_schema.discriminantCount == 0:             # <<<<<<<<<<<<<<
  *                     sub_module = _StructModule(raw_schema, name)
  *                 else:
  */
         goto __pyx_L8;
       }
 
-      /* "capnp/lib/capnp.pyx":3063
+      /* "capnp/lib/capnp.pyx":3148
  *                     sub_module = _StructModule(raw_schema, name)
  *                 else:
  *                     mapping = []             # <<<<<<<<<<<<<<
  *                     for union_field in field_schema.fields:
  *                         mapping.append((union_field.name, union_field.discriminantValue))
  */
       /*else*/ {
-        __pyx_t_6 = PyList_New(0); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3063, __pyx_L1_error)
+        __pyx_t_6 = PyList_New(0); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3148, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_6);
         __Pyx_XDECREF_SET(__pyx_v_mapping, ((PyObject*)__pyx_t_6));
         __pyx_t_6 = 0;
 
-        /* "capnp/lib/capnp.pyx":3064
+        /* "capnp/lib/capnp.pyx":3149
  *                 else:
  *                     mapping = []
  *                     for union_field in field_schema.fields:             # <<<<<<<<<<<<<<
  *                         mapping.append((union_field.name, union_field.discriminantValue))
  *                     sub_module = _StructModuleWhich("StructModuleWhich", mapping)
  */
-        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_field_schema, __pyx_n_s_fields); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3064, __pyx_L1_error)
+        __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_field_schema, __pyx_n_s_fields); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3149, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_6);
         if (likely(PyList_CheckExact(__pyx_t_6)) || PyTuple_CheckExact(__pyx_t_6)) {
           __pyx_t_1 = __pyx_t_6; __Pyx_INCREF(__pyx_t_1); __pyx_t_11 = 0;
           __pyx_t_12 = NULL;
         } else {
-          __pyx_t_11 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3064, __pyx_L1_error)
+          __pyx_t_11 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3149, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_1);
-          __pyx_t_12 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3064, __pyx_L1_error)
+          __pyx_t_12 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 3149, __pyx_L1_error)
         }
         __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         for (;;) {
           if (likely(!__pyx_t_12)) {
             if (likely(PyList_CheckExact(__pyx_t_1))) {
               if (__pyx_t_11 >= PyList_GET_SIZE(__pyx_t_1)) break;
               #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-              __pyx_t_6 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_11); __Pyx_INCREF(__pyx_t_6); __pyx_t_11++; if (unlikely(0 < 0)) __PYX_ERR(0, 3064, __pyx_L1_error)
+              __pyx_t_6 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_11); __Pyx_INCREF(__pyx_t_6); __pyx_t_11++; if (unlikely(0 < 0)) __PYX_ERR(0, 3149, __pyx_L1_error)
               #else
-              __pyx_t_6 = PySequence_ITEM(__pyx_t_1, __pyx_t_11); __pyx_t_11++; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3064, __pyx_L1_error)
+              __pyx_t_6 = PySequence_ITEM(__pyx_t_1, __pyx_t_11); __pyx_t_11++; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3149, __pyx_L1_error)
               __Pyx_GOTREF(__pyx_t_6);
               #endif
             } else {
               if (__pyx_t_11 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
               #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-              __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_11); __Pyx_INCREF(__pyx_t_6); __pyx_t_11++; if (unlikely(0 < 0)) __PYX_ERR(0, 3064, __pyx_L1_error)
+              __pyx_t_6 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_11); __Pyx_INCREF(__pyx_t_6); __pyx_t_11++; if (unlikely(0 < 0)) __PYX_ERR(0, 3149, __pyx_L1_error)
               #else
-              __pyx_t_6 = PySequence_ITEM(__pyx_t_1, __pyx_t_11); __pyx_t_11++; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3064, __pyx_L1_error)
+              __pyx_t_6 = PySequence_ITEM(__pyx_t_1, __pyx_t_11); __pyx_t_11++; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3149, __pyx_L1_error)
               __Pyx_GOTREF(__pyx_t_6);
               #endif
             }
           } else {
             __pyx_t_6 = __pyx_t_12(__pyx_t_1);
             if (unlikely(!__pyx_t_6)) {
               PyObject* exc_type = PyErr_Occurred();
               if (exc_type) {
                 if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-                else __PYX_ERR(0, 3064, __pyx_L1_error)
+                else __PYX_ERR(0, 3149, __pyx_L1_error)
               }
               break;
             }
             __Pyx_GOTREF(__pyx_t_6);
           }
           __Pyx_XDECREF_SET(__pyx_v_union_field, __pyx_t_6);
           __pyx_t_6 = 0;
 
-          /* "capnp/lib/capnp.pyx":3065
+          /* "capnp/lib/capnp.pyx":3150
  *                     mapping = []
  *                     for union_field in field_schema.fields:
  *                         mapping.append((union_field.name, union_field.discriminantValue))             # <<<<<<<<<<<<<<
  *                     sub_module = _StructModuleWhich("StructModuleWhich", mapping)
  *                     setattr(sub_module, 'schema', raw_schema)
  */
-          __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_union_field, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3065, __pyx_L1_error)
+          __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_union_field, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3150, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
-          __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_union_field, __pyx_n_s_discriminantValue); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3065, __pyx_L1_error)
+          __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_union_field, __pyx_n_s_discriminantValue); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3150, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_7);
-          __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3065, __pyx_L1_error)
+          __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3150, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_GIVEREF(__pyx_t_6);
           PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_6);
           __Pyx_GIVEREF(__pyx_t_7);
           PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_7);
           __pyx_t_6 = 0;
           __pyx_t_7 = 0;
-          __pyx_t_13 = __Pyx_PyList_Append(__pyx_v_mapping, __pyx_t_2); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3065, __pyx_L1_error)
+          __pyx_t_13 = __Pyx_PyList_Append(__pyx_v_mapping, __pyx_t_2); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3150, __pyx_L1_error)
           __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-          /* "capnp/lib/capnp.pyx":3064
+          /* "capnp/lib/capnp.pyx":3149
  *                 else:
  *                     mapping = []
  *                     for union_field in field_schema.fields:             # <<<<<<<<<<<<<<
  *                         mapping.append((union_field.name, union_field.discriminantValue))
  *                     sub_module = _StructModuleWhich("StructModuleWhich", mapping)
  */
         }
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-        /* "capnp/lib/capnp.pyx":3066
+        /* "capnp/lib/capnp.pyx":3151
  *                     for union_field in field_schema.fields:
  *                         mapping.append((union_field.name, union_field.discriminantValue))
  *                     sub_module = _StructModuleWhich("StructModuleWhich", mapping)             # <<<<<<<<<<<<<<
  *                     setattr(sub_module, 'schema', raw_schema)
  *                 setattr(self, name, sub_module)
  */
-        __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_StructModuleWhich); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3066, __pyx_L1_error)
+        __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_StructModuleWhich); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3151, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __pyx_t_7 = NULL;
         __pyx_t_10 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
           __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_2);
           if (likely(__pyx_t_7)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
@@ -68100,267 +69117,267 @@
             __Pyx_DECREF_SET(__pyx_t_2, function);
             __pyx_t_10 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_2)) {
           PyObject *__pyx_temp[3] = {__pyx_t_7, __pyx_n_s_StructModuleWhich_2, __pyx_v_mapping};
-          __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3066, __pyx_L1_error)
+          __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3151, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
           __Pyx_GOTREF(__pyx_t_1);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_2)) {
           PyObject *__pyx_temp[3] = {__pyx_t_7, __pyx_n_s_StructModuleWhich_2, __pyx_v_mapping};
-          __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3066, __pyx_L1_error)
+          __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3151, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
           __Pyx_GOTREF(__pyx_t_1);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3066, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3151, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_7) {
             __Pyx_GIVEREF(__pyx_t_7); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_7); __pyx_t_7 = NULL;
           }
           __Pyx_INCREF(__pyx_n_s_StructModuleWhich_2);
           __Pyx_GIVEREF(__pyx_n_s_StructModuleWhich_2);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_10, __pyx_n_s_StructModuleWhich_2);
           __Pyx_INCREF(__pyx_v_mapping);
           __Pyx_GIVEREF(__pyx_v_mapping);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_10, __pyx_v_mapping);
-          __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_6, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3066, __pyx_L1_error)
+          __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_6, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3151, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_1);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_XDECREF_SET(__pyx_v_sub_module, __pyx_t_1);
         __pyx_t_1 = 0;
 
-        /* "capnp/lib/capnp.pyx":3067
+        /* "capnp/lib/capnp.pyx":3152
  *                         mapping.append((union_field.name, union_field.discriminantValue))
  *                     sub_module = _StructModuleWhich("StructModuleWhich", mapping)
  *                     setattr(sub_module, 'schema', raw_schema)             # <<<<<<<<<<<<<<
  *                 setattr(self, name, sub_module)
  *         if schema.union_fields and not schema.non_union_fields:
  */
-        __pyx_t_13 = PyObject_SetAttr(__pyx_v_sub_module, __pyx_n_s_schema, __pyx_v_raw_schema); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3067, __pyx_L1_error)
+        __pyx_t_13 = PyObject_SetAttr(__pyx_v_sub_module, __pyx_n_s_schema, __pyx_v_raw_schema); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3152, __pyx_L1_error)
       }
       __pyx_L8:;
 
-      /* "capnp/lib/capnp.pyx":3068
+      /* "capnp/lib/capnp.pyx":3153
  *                     sub_module = _StructModuleWhich("StructModuleWhich", mapping)
  *                     setattr(sub_module, 'schema', raw_schema)
  *                 setattr(self, name, sub_module)             # <<<<<<<<<<<<<<
  *         if schema.union_fields and not schema.non_union_fields:
  *             mapping = []
  */
-      __pyx_t_13 = PyObject_SetAttr(__pyx_v_self, __pyx_v_name, __pyx_v_sub_module); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3068, __pyx_L1_error)
+      __pyx_t_13 = PyObject_SetAttr(__pyx_v_self, __pyx_v_name, __pyx_v_sub_module); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3153, __pyx_L1_error)
 
-      /* "capnp/lib/capnp.pyx":3055
+      /* "capnp/lib/capnp.pyx":3140
  *         # Add enums for union fields
  *         for field, raw_field in zip(schema.node.struct.fields, schema.fields_list):
  *             if field.which() == 'group':             # <<<<<<<<<<<<<<
  *                 name = field.name[0].upper() + field.name[1:]
  *                 raw_schema = raw_field.schema
  */
     }
 
-    /* "capnp/lib/capnp.pyx":3054
+    /* "capnp/lib/capnp.pyx":3139
  * 
  *         # Add enums for union fields
  *         for field, raw_field in zip(schema.node.struct.fields, schema.fields_list):             # <<<<<<<<<<<<<<
  *             if field.which() == 'group':
  *                 name = field.name[0].upper() + field.name[1:]
  */
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3069
+  /* "capnp/lib/capnp.pyx":3154
  *                     setattr(sub_module, 'schema', raw_schema)
  *                 setattr(self, name, sub_module)
  *         if schema.union_fields and not schema.non_union_fields:             # <<<<<<<<<<<<<<
  *             mapping = []
  *             for union_field in schema.node.struct.fields:
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_union_fields); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3069, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_union_fields); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3154, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_14 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_14 < 0)) __PYX_ERR(0, 3069, __pyx_L1_error)
+  __pyx_t_14 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_14 < 0)) __PYX_ERR(0, 3154, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (__pyx_t_14) {
   } else {
     __pyx_t_9 = __pyx_t_14;
     goto __pyx_L12_bool_binop_done;
   }
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_non_union_fields); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3069, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_non_union_fields); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3154, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_14 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_14 < 0)) __PYX_ERR(0, 3069, __pyx_L1_error)
+  __pyx_t_14 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_14 < 0)) __PYX_ERR(0, 3154, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_15 = ((!__pyx_t_14) != 0);
   __pyx_t_9 = __pyx_t_15;
   __pyx_L12_bool_binop_done:;
   if (__pyx_t_9) {
 
-    /* "capnp/lib/capnp.pyx":3070
+    /* "capnp/lib/capnp.pyx":3155
  *                 setattr(self, name, sub_module)
  *         if schema.union_fields and not schema.non_union_fields:
  *             mapping = []             # <<<<<<<<<<<<<<
  *             for union_field in schema.node.struct.fields:
  *                 name = union_field.name
  */
-    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3070, __pyx_L1_error)
+    __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3155, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_XDECREF_SET(__pyx_v_mapping, ((PyObject*)__pyx_t_3));
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":3071
+    /* "capnp/lib/capnp.pyx":3156
  *         if schema.union_fields and not schema.non_union_fields:
  *             mapping = []
  *             for union_field in schema.node.struct.fields:             # <<<<<<<<<<<<<<
  *                 name = union_field.name
  *                 name = name[0].upper() + name[1:]
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_node); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3071, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_node); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3156, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3071, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_struct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3156, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fields); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3071, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_fields); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3156, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     if (likely(PyList_CheckExact(__pyx_t_3)) || PyTuple_CheckExact(__pyx_t_3)) {
       __pyx_t_1 = __pyx_t_3; __Pyx_INCREF(__pyx_t_1); __pyx_t_4 = 0;
       __pyx_t_5 = NULL;
     } else {
-      __pyx_t_4 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3071, __pyx_L1_error)
+      __pyx_t_4 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3156, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      __pyx_t_5 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3071, __pyx_L1_error)
+      __pyx_t_5 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3156, __pyx_L1_error)
     }
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     for (;;) {
       if (likely(!__pyx_t_5)) {
         if (likely(PyList_CheckExact(__pyx_t_1))) {
           if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_1)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_3 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3071, __pyx_L1_error)
+          __pyx_t_3 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3156, __pyx_L1_error)
           #else
-          __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3071, __pyx_L1_error)
+          __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3156, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_3);
           #endif
         } else {
           if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3071, __pyx_L1_error)
+          __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_4); __Pyx_INCREF(__pyx_t_3); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3156, __pyx_L1_error)
           #else
-          __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3071, __pyx_L1_error)
+          __pyx_t_3 = PySequence_ITEM(__pyx_t_1, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3156, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_3);
           #endif
         }
       } else {
         __pyx_t_3 = __pyx_t_5(__pyx_t_1);
         if (unlikely(!__pyx_t_3)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(0, 3071, __pyx_L1_error)
+            else __PYX_ERR(0, 3156, __pyx_L1_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_3);
       }
       __Pyx_XDECREF_SET(__pyx_v_union_field, __pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":3072
+      /* "capnp/lib/capnp.pyx":3157
  *             mapping = []
  *             for union_field in schema.node.struct.fields:
  *                 name = union_field.name             # <<<<<<<<<<<<<<
  *                 name = name[0].upper() + name[1:]
  *                 mapping.append((name, union_field.discriminantValue))
  */
-      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_union_field, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3072, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_union_field, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3157, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF_SET(__pyx_v_name, __pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":3073
+      /* "capnp/lib/capnp.pyx":3158
  *             for union_field in schema.node.struct.fields:
  *                 name = union_field.name
  *                 name = name[0].upper() + name[1:]             # <<<<<<<<<<<<<<
  *                 mapping.append((name, union_field.discriminantValue))
  *             sub_module = _StructModuleWhich("StructModuleWhich", mapping)
  */
-      __pyx_t_2 = __Pyx_GetItemInt(__pyx_v_name, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3073, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_GetItemInt(__pyx_v_name, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3158, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_upper); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3073, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_upper); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3158, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __pyx_t_2 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
         __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
         if (likely(__pyx_t_2)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
           __Pyx_INCREF(__pyx_t_2);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_6, function);
         }
       }
       __pyx_t_3 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3073, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3158, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-      __pyx_t_6 = __Pyx_PyObject_GetSlice(__pyx_v_name, 1, 0, NULL, NULL, &__pyx_slice__24, 1, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3073, __pyx_L1_error)
+      __pyx_t_6 = __Pyx_PyObject_GetSlice(__pyx_v_name, 1, 0, NULL, NULL, &__pyx_slice__24, 1, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3158, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
-      __pyx_t_2 = PyNumber_Add(__pyx_t_3, __pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3073, __pyx_L1_error)
+      __pyx_t_2 = PyNumber_Add(__pyx_t_3, __pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3158, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __Pyx_DECREF_SET(__pyx_v_name, __pyx_t_2);
       __pyx_t_2 = 0;
 
-      /* "capnp/lib/capnp.pyx":3074
+      /* "capnp/lib/capnp.pyx":3159
  *                 name = union_field.name
  *                 name = name[0].upper() + name[1:]
  *                 mapping.append((name, union_field.discriminantValue))             # <<<<<<<<<<<<<<
  *             sub_module = _StructModuleWhich("StructModuleWhich", mapping)
  *             setattr(self, 'Union', sub_module)
  */
-      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_union_field, __pyx_n_s_discriminantValue); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3074, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_union_field, __pyx_n_s_discriminantValue); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3159, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3074, __pyx_L1_error)
+      __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3159, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_INCREF(__pyx_v_name);
       __Pyx_GIVEREF(__pyx_v_name);
       PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_v_name);
       __Pyx_GIVEREF(__pyx_t_2);
       PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_t_2);
       __pyx_t_2 = 0;
-      __pyx_t_13 = __Pyx_PyList_Append(__pyx_v_mapping, __pyx_t_6); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3074, __pyx_L1_error)
+      __pyx_t_13 = __Pyx_PyList_Append(__pyx_v_mapping, __pyx_t_6); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3159, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-      /* "capnp/lib/capnp.pyx":3071
+      /* "capnp/lib/capnp.pyx":3156
  *         if schema.union_fields and not schema.non_union_fields:
  *             mapping = []
  *             for union_field in schema.node.struct.fields:             # <<<<<<<<<<<<<<
  *                 name = union_field.name
  *                 name = name[0].upper() + name[1:]
  */
     }
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3075
+    /* "capnp/lib/capnp.pyx":3160
  *                 name = name[0].upper() + name[1:]
  *                 mapping.append((name, union_field.discriminantValue))
  *             sub_module = _StructModuleWhich("StructModuleWhich", mapping)             # <<<<<<<<<<<<<<
  *             setattr(self, 'Union', sub_module)
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_StructModuleWhich); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3075, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_StructModuleWhich); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3160, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __pyx_t_2 = NULL;
     __pyx_t_10 = 0;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_6))) {
       __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_6);
       if (likely(__pyx_t_2)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
@@ -68369,66 +69386,66 @@
         __Pyx_DECREF_SET(__pyx_t_6, function);
         __pyx_t_10 = 1;
       }
     }
     #if CYTHON_FAST_PYCALL
     if (PyFunction_Check(__pyx_t_6)) {
       PyObject *__pyx_temp[3] = {__pyx_t_2, __pyx_n_s_StructModuleWhich_2, __pyx_v_mapping};
-      __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_6, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3075, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_6, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3160, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
       __Pyx_GOTREF(__pyx_t_1);
     } else
     #endif
     #if CYTHON_FAST_PYCCALL
     if (__Pyx_PyFastCFunction_Check(__pyx_t_6)) {
       PyObject *__pyx_temp[3] = {__pyx_t_2, __pyx_n_s_StructModuleWhich_2, __pyx_v_mapping};
-      __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_6, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3075, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_6, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3160, __pyx_L1_error)
       __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
       __Pyx_GOTREF(__pyx_t_1);
     } else
     #endif
     {
-      __pyx_t_3 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3075, __pyx_L1_error)
+      __pyx_t_3 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3160, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       if (__pyx_t_2) {
         __Pyx_GIVEREF(__pyx_t_2); PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_2); __pyx_t_2 = NULL;
       }
       __Pyx_INCREF(__pyx_n_s_StructModuleWhich_2);
       __Pyx_GIVEREF(__pyx_n_s_StructModuleWhich_2);
       PyTuple_SET_ITEM(__pyx_t_3, 0+__pyx_t_10, __pyx_n_s_StructModuleWhich_2);
       __Pyx_INCREF(__pyx_v_mapping);
       __Pyx_GIVEREF(__pyx_v_mapping);
       PyTuple_SET_ITEM(__pyx_t_3, 1+__pyx_t_10, __pyx_v_mapping);
-      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3075, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_6, __pyx_t_3, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3160, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     }
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_XDECREF_SET(__pyx_v_sub_module, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3076
+    /* "capnp/lib/capnp.pyx":3161
  *                 mapping.append((name, union_field.discriminantValue))
  *             sub_module = _StructModuleWhich("StructModuleWhich", mapping)
  *             setattr(self, 'Union', sub_module)             # <<<<<<<<<<<<<<
  * 
  *     def read(self, file, traversal_limit_in_words=None, nesting_limit=None):
  */
-    __pyx_t_13 = PyObject_SetAttr(__pyx_v_self, __pyx_n_s_Union, __pyx_v_sub_module); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3076, __pyx_L1_error)
+    __pyx_t_13 = PyObject_SetAttr(__pyx_v_self, __pyx_n_s_Union, __pyx_v_sub_module); if (unlikely(__pyx_t_13 == ((int)-1))) __PYX_ERR(0, 3161, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":3069
+    /* "capnp/lib/capnp.pyx":3154
  *                     setattr(sub_module, 'schema', raw_schema)
  *                 setattr(self, name, sub_module)
  *         if schema.union_fields and not schema.non_union_fields:             # <<<<<<<<<<<<<<
  *             mapping = []
  *             for union_field in schema.node.struct.fields:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3050
+  /* "capnp/lib/capnp.pyx":3135
  * 
  * class _StructModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  * 
  */
 
@@ -68453,15 +69470,15 @@
   __Pyx_XDECREF(__pyx_v_union_field);
   __Pyx_XDECREF(__pyx_v_name);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3078
+/* "capnp/lib/capnp.pyx":3163
  *             setattr(self, 'Union', sub_module)
  * 
  *     def read(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object read from file.
  * 
  */
 
@@ -68505,15 +69522,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_file)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("read", 0, 2, 4, 1); __PYX_ERR(0, 3078, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("read", 0, 2, 4, 1); __PYX_ERR(0, 3163, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -68521,15 +69538,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read") < 0)) __PYX_ERR(0, 3078, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read") < 0)) __PYX_ERR(0, 3163, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -68542,15 +69559,15 @@
     __pyx_v_self = values[0];
     __pyx_v_file = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("read", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3078, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("read", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3163, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.read", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_2read(__pyx_self, __pyx_v_self, __pyx_v_file, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -68566,62 +69583,62 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("read", 0);
 
-  /* "capnp/lib/capnp.pyx":3092
+  /* "capnp/lib/capnp.pyx":3177
  * 
  *         :rtype: :class:`_DynamicStructReader`"""
  *         reader = _StreamFdMessageReader(file, traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         return reader.get_root(self.schema)
  * 
  */
-  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3092, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3177, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(__pyx_v_file);
   __Pyx_GIVEREF(__pyx_v_file);
   PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_file);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_traversal_limit_in_words);
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_nesting_limit);
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StreamFdMessageReader), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3092, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StreamFdMessageReader), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3177, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__StreamFdMessageReader *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":3093
+  /* "capnp/lib/capnp.pyx":3178
  *         :rtype: :class:`_DynamicStructReader`"""
  *         reader = _StreamFdMessageReader(file, traversal_limit_in_words, nesting_limit)
  *         return reader.get_root(self.schema)             # <<<<<<<<<<<<<<
  * 
  *     async def read_async(self, _AsyncIoStream stream, traversal_limit_in_words=None, nesting_limit=None):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3093, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3178, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StreamFdMessageReader *)__pyx_v_reader->__pyx_base.__pyx_vtab)->__pyx_base.get_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *)__pyx_v_reader), __pyx_t_2, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3093, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3178, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3093, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3178, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3078
+  /* "capnp/lib/capnp.pyx":3163
  *             setattr(self, 'Union', sub_module)
  * 
  *     def read(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object read from file.
  * 
  */
 
@@ -68635,15 +69652,15 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_reader);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructModule_6generator8(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":3095
+/* "capnp/lib/capnp.pyx":3180
  *         return reader.get_root(self.schema)
  * 
  *     async def read_async(self, _AsyncIoStream stream, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Async version of read(). Returns either a message, or None in case of EOF.
  * 
  */
 
@@ -68687,15 +69704,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_stream)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("read_async", 0, 2, 4, 1); __PYX_ERR(0, 3095, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("read_async", 0, 2, 4, 1); __PYX_ERR(0, 3180, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -68703,15 +69720,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_async") < 0)) __PYX_ERR(0, 3095, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_async") < 0)) __PYX_ERR(0, 3180, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -68724,45 +69741,45 @@
     __pyx_v_self = values[0];
     __pyx_v_stream = ((struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *)values[1]);
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("read_async", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3095, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("read_async", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3180, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.read_async", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_stream), __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, 1, "stream", 0))) __PYX_ERR(0, 3095, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_stream), __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, 1, "stream", 0))) __PYX_ERR(0, 3180, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_4read_async(__pyx_self, __pyx_v_self, __pyx_v_stream, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_13_StructModule_4read_async(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *__pyx_v_stream, PyObject *__pyx_v_traversal_limit_in_words, PyObject *__pyx_v_nesting_limit) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("read_async", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 3095, __pyx_L1_error)
+    __PYX_ERR(0, 3180, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_self);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_self);
   __pyx_cur_scope->__pyx_v_stream = __pyx_v_stream;
@@ -68771,15 +69788,15 @@
   __pyx_cur_scope->__pyx_v_traversal_limit_in_words = __pyx_v_traversal_limit_in_words;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_traversal_limit_in_words);
   __pyx_cur_scope->__pyx_v_nesting_limit = __pyx_v_nesting_limit;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_nesting_limit);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructModule_6generator8, __pyx_codeobj__91, (PyObject *) __pyx_cur_scope, __pyx_n_s_read_async, __pyx_n_s_StructModule_read_async, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 3095, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Coroutine_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructModule_6generator8, __pyx_codeobj__93, (PyObject *) __pyx_cur_scope, __pyx_n_s_read_async, __pyx_n_s_StructModule_read_async, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 3180, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -68789,15 +69806,15 @@
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructModule_6generator8(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *)__pyx_generator->closure);
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   PyObject *__pyx_t_1 = NULL;
   int __pyx_t_2;
   int __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
@@ -68810,132 +69827,132 @@
     case 0: goto __pyx_L3_first_run;
     case 1: goto __pyx_L4_resume_from_await;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3095, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3180, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3109
+  /* "capnp/lib/capnp.pyx":3194
  * 
  *         :rtype: :class:`_DynamicStructReader`"""
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         reader = await _promise_to_asyncio(tryReadMessage(deref(stream.thisptr), opts))
  */
-  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3109, __pyx_L1_error)
+  __pyx_t_1 = ((PyObject *)__pyx_f_5capnp_3lib_5capnp_C_DEFAULT_EVENT_LOOP_GETTER()); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3194, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3110
+  /* "capnp/lib/capnp.pyx":3195
  *         :rtype: :class:`_DynamicStructReader`"""
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         reader = await _promise_to_asyncio(tryReadMessage(deref(stream.thisptr), opts))
  *         if reader is None:
  */
   __pyx_cur_scope->__pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_cur_scope->__pyx_v_traversal_limit_in_words, __pyx_cur_scope->__pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":3111
+  /* "capnp/lib/capnp.pyx":3196
  *         C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         reader = await _promise_to_asyncio(tryReadMessage(deref(stream.thisptr), opts))             # <<<<<<<<<<<<<<
  *         if reader is None:
  *             return
  */
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__promise_to_asyncio(tryReadMessage((*__pyx_cur_scope->__pyx_v_stream->thisptr), __pyx_cur_scope->__pyx_v_opts)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3111, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__promise_to_asyncio(tryReadMessage((*__pyx_cur_scope->__pyx_v_stream->thisptr), __pyx_cur_scope->__pyx_v_opts)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3196, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __Pyx_Coroutine_Yield_From(__pyx_generator, __pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_XGOTREF(__pyx_r);
   if (likely(__pyx_r)) {
     __Pyx_XGIVEREF(__pyx_r);
     __Pyx_RefNannyFinishContext();
     __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
     /* return from generator, awaiting value */
     __pyx_generator->resume_label = 1;
     return __pyx_r;
     __pyx_L4_resume_from_await:;
-    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3111, __pyx_L1_error)
+    if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3196, __pyx_L1_error)
     __pyx_t_1 = __pyx_sent_value; __Pyx_INCREF(__pyx_t_1);
   } else {
     __pyx_t_1 = NULL;
-    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_1) < 0) __PYX_ERR(0, 3111, __pyx_L1_error)
+    if (__Pyx_PyGen_FetchStopIterationValue(&__pyx_t_1) < 0) __PYX_ERR(0, 3196, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
   }
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v_reader = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3112
+  /* "capnp/lib/capnp.pyx":3197
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         reader = await _promise_to_asyncio(tryReadMessage(deref(stream.thisptr), opts))
  *         if reader is None:             # <<<<<<<<<<<<<<
  *             return
  *         return reader.get_root(self.schema)
  */
   __pyx_t_2 = (__pyx_cur_scope->__pyx_v_reader == Py_None);
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":3113
+    /* "capnp/lib/capnp.pyx":3198
  *         reader = await _promise_to_asyncio(tryReadMessage(deref(stream.thisptr), opts))
  *         if reader is None:
  *             return             # <<<<<<<<<<<<<<
  *         return reader.get_root(self.schema)
  * 
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = NULL;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":3112
+    /* "capnp/lib/capnp.pyx":3197
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         reader = await _promise_to_asyncio(tryReadMessage(deref(stream.thisptr), opts))
  *         if reader is None:             # <<<<<<<<<<<<<<
  *             return
  *         return reader.get_root(self.schema)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3114
+  /* "capnp/lib/capnp.pyx":3199
  *         if reader is None:
  *             return
  *         return reader.get_root(self.schema)             # <<<<<<<<<<<<<<
  * 
  *     def read_multiple(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_reader, __pyx_n_s_get_root); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3114, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_reader, __pyx_n_s_get_root); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3199, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3114, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3199, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __pyx_t_6 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_6)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_6);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_4, function);
     }
   }
   __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_6, __pyx_t_5) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5);
   __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3114, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3199, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_r = NULL; __Pyx_ReturnWithStopIteration(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   goto __pyx_L0;
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":3095
+  /* "capnp/lib/capnp.pyx":3180
  *         return reader.get_root(self.schema)
  * 
  *     async def read_async(self, _AsyncIoStream stream, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Async version of read(). Returns either a message, or None in case of EOF.
  * 
  */
 
@@ -68953,15 +69970,15 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3116
+/* "capnp/lib/capnp.pyx":3201
  *         return reader.get_root(self.schema)
  * 
  *     def read_multiple(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
 
@@ -69009,15 +70026,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_file)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("read_multiple", 0, 2, 5, 1); __PYX_ERR(0, 3116, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("read_multiple", 0, 2, 5, 1); __PYX_ERR(0, 3201, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -69031,15 +70048,15 @@
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_skip_copy);
           if (value) { values[4] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_multiple") < 0)) __PYX_ERR(0, 3116, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_multiple") < 0)) __PYX_ERR(0, 3201, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
         CYTHON_FALLTHROUGH;
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
@@ -69055,15 +70072,15 @@
     __pyx_v_file = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
     __pyx_v_skip_copy = values[4];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("read_multiple", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3116, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("read_multiple", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3201, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.read_multiple", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_7read_multiple(__pyx_self, __pyx_v_self, __pyx_v_file, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit, __pyx_v_skip_copy);
 
@@ -69079,24 +70096,24 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("read_multiple", 0);
 
-  /* "capnp/lib/capnp.pyx":3134
+  /* "capnp/lib/capnp.pyx":3219
  * 
  *         :rtype: Iterable with elements of :class:`_DynamicStructReader`"""
  *         reader = _MultipleMessageReader(file, self.schema, traversal_limit_in_words, nesting_limit, skip_copy)             # <<<<<<<<<<<<<<
  *         return reader
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3134, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3219, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyTuple_New(5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3134, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3219, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_v_file);
   __Pyx_GIVEREF(__pyx_v_file);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_file);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_1);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
@@ -69105,33 +70122,33 @@
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_v_nesting_limit);
   __Pyx_INCREF(__pyx_v_skip_copy);
   __Pyx_GIVEREF(__pyx_v_skip_copy);
   PyTuple_SET_ITEM(__pyx_t_2, 4, __pyx_v_skip_copy);
   __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MultipleMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3134, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MultipleMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3219, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__MultipleMessageReader *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3135
+  /* "capnp/lib/capnp.pyx":3220
  *         :rtype: Iterable with elements of :class:`_DynamicStructReader`"""
  *         reader = _MultipleMessageReader(file, self.schema, traversal_limit_in_words, nesting_limit, skip_copy)
  *         return reader             # <<<<<<<<<<<<<<
  * 
  *     def read_packed(self, file, traversal_limit_in_words=None, nesting_limit=None):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_reader));
   __pyx_r = ((PyObject *)__pyx_v_reader);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3116
+  /* "capnp/lib/capnp.pyx":3201
  *         return reader.get_root(self.schema)
  * 
  *     def read_multiple(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
 
@@ -69144,15 +70161,15 @@
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_reader);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3137
+/* "capnp/lib/capnp.pyx":3222
  *         return reader
  * 
  *     def read_packed(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the packed object read from file.
  * 
  */
 
@@ -69196,15 +70213,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_file)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("read_packed", 0, 2, 4, 1); __PYX_ERR(0, 3137, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("read_packed", 0, 2, 4, 1); __PYX_ERR(0, 3222, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -69212,15 +70229,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_packed") < 0)) __PYX_ERR(0, 3137, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_packed") < 0)) __PYX_ERR(0, 3222, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -69233,15 +70250,15 @@
     __pyx_v_self = values[0];
     __pyx_v_file = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("read_packed", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3137, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("read_packed", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3222, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.read_packed", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_9read_packed(__pyx_self, __pyx_v_self, __pyx_v_file, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -69257,62 +70274,62 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("read_packed", 0);
 
-  /* "capnp/lib/capnp.pyx":3151
+  /* "capnp/lib/capnp.pyx":3236
  * 
  *         :rtype: :class:`_DynamicStructReader`"""
  *         reader = _PackedFdMessageReader(file, traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         return reader.get_root(self.schema)
  * 
  */
-  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3151, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3236, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(__pyx_v_file);
   __Pyx_GIVEREF(__pyx_v_file);
   PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_file);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_traversal_limit_in_words);
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_nesting_limit);
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PackedFdMessageReader), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3151, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PackedFdMessageReader), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3236, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__PackedFdMessageReader *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":3152
+  /* "capnp/lib/capnp.pyx":3237
  *         :rtype: :class:`_DynamicStructReader`"""
  *         reader = _PackedFdMessageReader(file, traversal_limit_in_words, nesting_limit)
  *         return reader.get_root(self.schema)             # <<<<<<<<<<<<<<
  * 
  *     def read_multiple_packed(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3152, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3237, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedFdMessageReader *)__pyx_v_reader->__pyx_base.__pyx_vtab)->__pyx_base.get_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *)__pyx_v_reader), __pyx_t_2, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3152, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3237, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3152, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3237, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3137
+  /* "capnp/lib/capnp.pyx":3222
  *         return reader
  * 
  *     def read_packed(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the packed object read from file.
  * 
  */
 
@@ -69325,15 +70342,15 @@
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_reader);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3154
+/* "capnp/lib/capnp.pyx":3239
  *         return reader.get_root(self.schema)
  * 
  *     def read_multiple_packed(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
 
@@ -69381,15 +70398,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_file)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("read_multiple_packed", 0, 2, 5, 1); __PYX_ERR(0, 3154, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("read_multiple_packed", 0, 2, 5, 1); __PYX_ERR(0, 3239, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -69403,15 +70420,15 @@
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_skip_copy);
           if (value) { values[4] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_multiple_packed") < 0)) __PYX_ERR(0, 3154, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_multiple_packed") < 0)) __PYX_ERR(0, 3239, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
         CYTHON_FALLTHROUGH;
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
@@ -69427,15 +70444,15 @@
     __pyx_v_file = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
     __pyx_v_skip_copy = values[4];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("read_multiple_packed", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3154, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("read_multiple_packed", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3239, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.read_multiple_packed", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_11read_multiple_packed(__pyx_self, __pyx_v_self, __pyx_v_file, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit, __pyx_v_skip_copy);
 
@@ -69451,24 +70468,24 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("read_multiple_packed", 0);
 
-  /* "capnp/lib/capnp.pyx":3172
+  /* "capnp/lib/capnp.pyx":3257
  * 
  *         :rtype: Iterable with elements of :class:`_DynamicStructReader`"""
  *         reader = _MultiplePackedMessageReader(file, self.schema, traversal_limit_in_words, nesting_limit, skip_copy)             # <<<<<<<<<<<<<<
  *         return reader
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3172, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3257, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyTuple_New(5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3172, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3257, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_v_file);
   __Pyx_GIVEREF(__pyx_v_file);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_file);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_1);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
@@ -69477,33 +70494,33 @@
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_v_nesting_limit);
   __Pyx_INCREF(__pyx_v_skip_copy);
   __Pyx_GIVEREF(__pyx_v_skip_copy);
   PyTuple_SET_ITEM(__pyx_t_2, 4, __pyx_v_skip_copy);
   __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MultiplePackedMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3172, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MultiplePackedMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3257, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__MultiplePackedMessageReader *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3173
+  /* "capnp/lib/capnp.pyx":3258
  *         :rtype: Iterable with elements of :class:`_DynamicStructReader`"""
  *         reader = _MultiplePackedMessageReader(file, self.schema, traversal_limit_in_words, nesting_limit, skip_copy)
  *         return reader             # <<<<<<<<<<<<<<
  * 
  *     def read_multiple_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_reader));
   __pyx_r = ((PyObject *)__pyx_v_reader);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3154
+  /* "capnp/lib/capnp.pyx":3239
  *         return reader.get_root(self.schema)
  * 
  *     def read_multiple_packed(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
 
@@ -69516,15 +70533,15 @@
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_reader);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3175
+/* "capnp/lib/capnp.pyx":3260
  *         return reader
  * 
  *     def read_multiple_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
 
@@ -69568,15 +70585,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_buf)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("read_multiple_bytes", 0, 2, 4, 1); __PYX_ERR(0, 3175, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("read_multiple_bytes", 0, 2, 4, 1); __PYX_ERR(0, 3260, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -69584,15 +70601,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_multiple_bytes") < 0)) __PYX_ERR(0, 3175, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_multiple_bytes") < 0)) __PYX_ERR(0, 3260, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -69605,15 +70622,15 @@
     __pyx_v_self = values[0];
     __pyx_v_buf = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("read_multiple_bytes", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3175, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("read_multiple_bytes", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3260, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.read_multiple_bytes", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_13read_multiple_bytes(__pyx_self, __pyx_v_self, __pyx_v_buf, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -69629,56 +70646,56 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("read_multiple_bytes", 0);
 
-  /* "capnp/lib/capnp.pyx":3189
+  /* "capnp/lib/capnp.pyx":3274
  * 
  *         :rtype: Iterable with elements of :class:`_DynamicStructReader`"""
  *         reader = _MultipleBytesMessageReader(buf, self.schema, traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         return reader
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3189, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3274, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3189, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3274, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_v_buf);
   __Pyx_GIVEREF(__pyx_v_buf);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_buf);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_1);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_v_traversal_limit_in_words);
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_v_nesting_limit);
   __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MultipleBytesMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3189, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MultipleBytesMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3274, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesMessageReader *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3190
+  /* "capnp/lib/capnp.pyx":3275
  *         :rtype: Iterable with elements of :class:`_DynamicStructReader`"""
  *         reader = _MultipleBytesMessageReader(buf, self.schema, traversal_limit_in_words, nesting_limit)
  *         return reader             # <<<<<<<<<<<<<<
  * 
  *     def read_multiple_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_reader));
   __pyx_r = ((PyObject *)__pyx_v_reader);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3175
+  /* "capnp/lib/capnp.pyx":3260
  *         return reader
  * 
  *     def read_multiple_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
 
@@ -69691,15 +70708,15 @@
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_reader);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3192
+/* "capnp/lib/capnp.pyx":3277
  *         return reader
  * 
  *     def read_multiple_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
 
@@ -69743,15 +70760,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_buf)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("read_multiple_bytes_packed", 0, 2, 4, 1); __PYX_ERR(0, 3192, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("read_multiple_bytes_packed", 0, 2, 4, 1); __PYX_ERR(0, 3277, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -69759,15 +70776,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_multiple_bytes_packed") < 0)) __PYX_ERR(0, 3192, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "read_multiple_bytes_packed") < 0)) __PYX_ERR(0, 3277, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -69780,15 +70797,15 @@
     __pyx_v_self = values[0];
     __pyx_v_buf = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("read_multiple_bytes_packed", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3192, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("read_multiple_bytes_packed", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3277, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.read_multiple_bytes_packed", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_15read_multiple_bytes_packed(__pyx_self, __pyx_v_self, __pyx_v_buf, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -69804,56 +70821,56 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("read_multiple_bytes_packed", 0);
 
-  /* "capnp/lib/capnp.pyx":3206
+  /* "capnp/lib/capnp.pyx":3291
  * 
  *         :rtype: Iterable with elements of :class:`_DynamicStructReader`"""
  *         reader = _MultipleBytesPackedMessageReader(buf, self.schema, traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         return reader
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3206, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3291, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3206, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3291, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_v_buf);
   __Pyx_GIVEREF(__pyx_v_buf);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_v_buf);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_1);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_v_traversal_limit_in_words);
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   PyTuple_SET_ITEM(__pyx_t_2, 3, __pyx_v_nesting_limit);
   __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3206, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3291, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3207
+  /* "capnp/lib/capnp.pyx":3292
  *         :rtype: Iterable with elements of :class:`_DynamicStructReader`"""
  *         reader = _MultipleBytesPackedMessageReader(buf, self.schema, traversal_limit_in_words, nesting_limit)
  *         return reader             # <<<<<<<<<<<<<<
  * 
  *     @contextlib.contextmanager
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_reader));
   __pyx_r = ((PyObject *)__pyx_v_reader);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3192
+  /* "capnp/lib/capnp.pyx":3277
  *         return reader
  * 
  *     def read_multiple_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
 
@@ -69867,15 +70884,15 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_reader);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructModule_19generator9(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value); /* proto */
 
-/* "capnp/lib/capnp.pyx":3210
+/* "capnp/lib/capnp.pyx":3295
  * 
  *     @contextlib.contextmanager
  *     def from_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None, builder=False):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object in buf.
  * 
  */
 
@@ -69923,15 +70940,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_buf)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("from_bytes", 0, 2, 5, 1); __PYX_ERR(0, 3210, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("from_bytes", 0, 2, 5, 1); __PYX_ERR(0, 3295, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -69945,15 +70962,15 @@
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_builder);
           if (value) { values[4] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "from_bytes") < 0)) __PYX_ERR(0, 3210, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "from_bytes") < 0)) __PYX_ERR(0, 3295, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
         CYTHON_FALLTHROUGH;
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
@@ -69969,40 +70986,40 @@
     __pyx_v_buf = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
     __pyx_v_builder = values[4];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("from_bytes", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3210, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("from_bytes", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3295, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.from_bytes", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_17from_bytes(__pyx_self, __pyx_v_self, __pyx_v_buf, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit, __pyx_v_builder);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_13_StructModule_17from_bytes(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_buf, PyObject *__pyx_v_traversal_limit_in_words, PyObject *__pyx_v_nesting_limit, PyObject *__pyx_v_builder) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *__pyx_cur_scope;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("from_bytes", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 3210, __pyx_L1_error)
+    __PYX_ERR(0, 3295, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_self);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_self);
   __pyx_cur_scope->__pyx_v_buf = __pyx_v_buf;
@@ -70014,15 +71031,15 @@
   __pyx_cur_scope->__pyx_v_nesting_limit = __pyx_v_nesting_limit;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_nesting_limit);
   __pyx_cur_scope->__pyx_v_builder = __pyx_v_builder;
   __Pyx_INCREF(__pyx_cur_scope->__pyx_v_builder);
   __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_builder);
   {
-    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructModule_19generator9, __pyx_codeobj__92, (PyObject *) __pyx_cur_scope, __pyx_n_s_from_bytes, __pyx_n_s_StructModule_from_bytes, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 3210, __pyx_L1_error)
+    __pyx_CoroutineObject *gen = __Pyx_Generator_New((__pyx_coroutine_body_t) __pyx_gb_5capnp_3lib_5capnp_13_StructModule_19generator9, __pyx_codeobj__94, (PyObject *) __pyx_cur_scope, __pyx_n_s_from_bytes, __pyx_n_s_StructModule_from_bytes, __pyx_n_s_capnp_lib_capnp); if (unlikely(!gen)) __PYX_ERR(0, 3295, __pyx_L1_error)
     __Pyx_DECREF(__pyx_cur_scope);
     __Pyx_RefNannyFinishContext();
     return (PyObject *) gen;
   }
 
   /* function exit code */
   __pyx_L1_error:;
@@ -70032,15 +71049,15 @@
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_gb_5capnp_3lib_5capnp_13_StructModule_19generator9(__pyx_CoroutineObject *__pyx_generator, CYTHON_UNUSED PyThreadState *__pyx_tstate, PyObject *__pyx_sent_value) /* generator body */
 {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *)__pyx_generator->closure);
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *__pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *)__pyx_generator->closure);
   PyObject *__pyx_r = NULL;
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_t_5;
   int __pyx_t_6;
@@ -70061,227 +71078,227 @@
     case 1: goto __pyx_L8_resume_from_yield;
     case 2: goto __pyx_L9_resume_from_yield;
     default: /* CPython raises the right error here */
     __Pyx_RefNannyFinishContext();
     return NULL;
   }
   __pyx_L3_first_run:;
-  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3210, __pyx_L1_error)
+  if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3295, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3230
+  /* "capnp/lib/capnp.pyx":3315
  *         :rtype: :class:`_DynamicStructReader` or :class:`_DynamicStructBuilder`
  *         """
  *         message = None             # <<<<<<<<<<<<<<
  *         try:
  *             if builder:
  */
   __Pyx_INCREF(Py_None);
   __Pyx_GIVEREF(Py_None);
   __pyx_cur_scope->__pyx_v_message = ((struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReader *)Py_None);
 
-  /* "capnp/lib/capnp.pyx":3231
+  /* "capnp/lib/capnp.pyx":3316
  *         """
  *         message = None
  *         try:             # <<<<<<<<<<<<<<
  *             if builder:
  *                 # message = _FlatMessageBuilder(buf)
  */
   /*try:*/ {
 
-    /* "capnp/lib/capnp.pyx":3232
+    /* "capnp/lib/capnp.pyx":3317
  *         message = None
  *         try:
  *             if builder:             # <<<<<<<<<<<<<<
  *                 # message = _FlatMessageBuilder(buf)
  *                 message = _FlatArrayMessageReader(buf, traversal_limit_in_words, nesting_limit)
  */
-    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_cur_scope->__pyx_v_builder); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 3232, __pyx_L5_error)
+    __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_cur_scope->__pyx_v_builder); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 3317, __pyx_L5_error)
     if (__pyx_t_1) {
 
-      /* "capnp/lib/capnp.pyx":3234
+      /* "capnp/lib/capnp.pyx":3319
  *             if builder:
  *                 # message = _FlatMessageBuilder(buf)
  *                 message = _FlatArrayMessageReader(buf, traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *                 yield message.get_root(self.schema).as_builder()
  *             else:
  */
-      __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3234, __pyx_L5_error)
+      __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3319, __pyx_L5_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_INCREF(__pyx_cur_scope->__pyx_v_buf);
       __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_buf);
       PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_cur_scope->__pyx_v_buf);
       __Pyx_INCREF(__pyx_cur_scope->__pyx_v_traversal_limit_in_words);
       __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_traversal_limit_in_words);
       PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_cur_scope->__pyx_v_traversal_limit_in_words);
       __Pyx_INCREF(__pyx_cur_scope->__pyx_v_nesting_limit);
       __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_nesting_limit);
       PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_cur_scope->__pyx_v_nesting_limit);
-      __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__FlatArrayMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3234, __pyx_L5_error)
+      __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__FlatArrayMessageReader), __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3319, __pyx_L5_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __Pyx_GOTREF(((PyObject *)__pyx_cur_scope->__pyx_v_message));
       __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_message, ((struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReader *)__pyx_t_3));
       __Pyx_GIVEREF(__pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":3235
+      /* "capnp/lib/capnp.pyx":3320
  *                 # message = _FlatMessageBuilder(buf)
  *                 message = _FlatArrayMessageReader(buf, traversal_limit_in_words, nesting_limit)
  *                 yield message.get_root(self.schema).as_builder()             # <<<<<<<<<<<<<<
  *             else:
  *                 message = _FlatArrayMessageReader(buf, traversal_limit_in_words, nesting_limit)
  */
-      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3235, __pyx_L5_error)
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3320, __pyx_L5_error)
       __Pyx_GOTREF(__pyx_t_2);
       try {
         __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReader *)__pyx_cur_scope->__pyx_v_message->__pyx_base.__pyx_vtab)->__pyx_base.get_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *)__pyx_cur_scope->__pyx_v_message), __pyx_t_2, 0);
-        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3235, __pyx_L5_error)
+        if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3320, __pyx_L5_error)
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 3235, __pyx_L5_error)
+        __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 3320, __pyx_L5_error)
       }
       __Pyx_GOTREF(__pyx_t_4);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_as_builder); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3235, __pyx_L5_error)
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_as_builder); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3320, __pyx_L5_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __pyx_t_4 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
         __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
         if (likely(__pyx_t_4)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
           __Pyx_INCREF(__pyx_t_4);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_2, function);
         }
       }
       __pyx_t_3 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
       __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3235, __pyx_L5_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3320, __pyx_L5_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __pyx_r = __pyx_t_3;
       __pyx_t_3 = 0;
       __Pyx_XGIVEREF(__pyx_r);
       __Pyx_RefNannyFinishContext();
       __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
       /* return from generator, yielding value */
       __pyx_generator->resume_label = 1;
       return __pyx_r;
       __pyx_L8_resume_from_yield:;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3235, __pyx_L5_error)
+      if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3320, __pyx_L5_error)
 
-      /* "capnp/lib/capnp.pyx":3232
+      /* "capnp/lib/capnp.pyx":3317
  *         message = None
  *         try:
  *             if builder:             # <<<<<<<<<<<<<<
  *                 # message = _FlatMessageBuilder(buf)
  *                 message = _FlatArrayMessageReader(buf, traversal_limit_in_words, nesting_limit)
  */
       goto __pyx_L7;
     }
 
-    /* "capnp/lib/capnp.pyx":3237
+    /* "capnp/lib/capnp.pyx":3322
  *                 yield message.get_root(self.schema).as_builder()
  *             else:
  *                 message = _FlatArrayMessageReader(buf, traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *                 yield message.get_root(self.schema)
  *         finally:
  */
     /*else*/ {
-      __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3237, __pyx_L5_error)
+      __pyx_t_3 = PyTuple_New(3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3322, __pyx_L5_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_INCREF(__pyx_cur_scope->__pyx_v_buf);
       __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_buf);
       PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_cur_scope->__pyx_v_buf);
       __Pyx_INCREF(__pyx_cur_scope->__pyx_v_traversal_limit_in_words);
       __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_traversal_limit_in_words);
       PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_cur_scope->__pyx_v_traversal_limit_in_words);
       __Pyx_INCREF(__pyx_cur_scope->__pyx_v_nesting_limit);
       __Pyx_GIVEREF(__pyx_cur_scope->__pyx_v_nesting_limit);
       PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_cur_scope->__pyx_v_nesting_limit);
-      __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__FlatArrayMessageReader), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3237, __pyx_L5_error)
+      __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__FlatArrayMessageReader), __pyx_t_3, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3322, __pyx_L5_error)
       __Pyx_GOTREF(__pyx_t_2);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_GOTREF(((PyObject *)__pyx_cur_scope->__pyx_v_message));
       __Pyx_DECREF_SET(__pyx_cur_scope->__pyx_v_message, ((struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReader *)__pyx_t_2));
       __Pyx_GIVEREF(__pyx_t_2);
       __pyx_t_2 = 0;
 
-      /* "capnp/lib/capnp.pyx":3238
+      /* "capnp/lib/capnp.pyx":3323
  *             else:
  *                 message = _FlatArrayMessageReader(buf, traversal_limit_in_words, nesting_limit)
  *                 yield message.get_root(self.schema)             # <<<<<<<<<<<<<<
  *         finally:
  *             if message:
  */
-      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3238, __pyx_L5_error)
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_cur_scope->__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3323, __pyx_L5_error)
       __Pyx_GOTREF(__pyx_t_2);
       try {
         __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReader *)__pyx_cur_scope->__pyx_v_message->__pyx_base.__pyx_vtab)->__pyx_base.get_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *)__pyx_cur_scope->__pyx_v_message), __pyx_t_2, 0);
-        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3238, __pyx_L5_error)
+        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3323, __pyx_L5_error)
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 3238, __pyx_L5_error)
+        __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 3323, __pyx_L5_error)
       }
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       __pyx_r = __pyx_t_3;
       __pyx_t_3 = 0;
       __Pyx_XGIVEREF(__pyx_r);
       __Pyx_RefNannyFinishContext();
       __Pyx_Coroutine_ResetAndClearException(__pyx_generator);
       /* return from generator, yielding value */
       __pyx_generator->resume_label = 2;
       return __pyx_r;
       __pyx_L9_resume_from_yield:;
-      if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3238, __pyx_L5_error)
+      if (unlikely(!__pyx_sent_value)) __PYX_ERR(0, 3323, __pyx_L5_error)
     }
     __pyx_L7:;
   }
 
-  /* "capnp/lib/capnp.pyx":3240
+  /* "capnp/lib/capnp.pyx":3325
  *                 yield message.get_root(self.schema)
  *         finally:
  *             if message:             # <<<<<<<<<<<<<<
  *                 message.close()
  * 
  */
   /*finally:*/ {
     /*normal exit:*/{
-      __pyx_t_1 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_cur_scope->__pyx_v_message)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 3240, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_cur_scope->__pyx_v_message)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 3325, __pyx_L1_error)
       if (__pyx_t_1) {
 
-        /* "capnp/lib/capnp.pyx":3241
+        /* "capnp/lib/capnp.pyx":3326
  *         finally:
  *             if message:
  *                 message.close()             # <<<<<<<<<<<<<<
  * 
  *     def from_segments(self, segments, traversal_limit_in_words=None, nesting_limit=None):
  */
-        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_cur_scope->__pyx_v_message), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3241, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_cur_scope->__pyx_v_message), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3326, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
           if (likely(__pyx_t_4)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_2, function);
           }
         }
         __pyx_t_3 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3241, __pyx_L1_error)
+        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3326, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-        /* "capnp/lib/capnp.pyx":3240
+        /* "capnp/lib/capnp.pyx":3325
  *                 yield message.get_root(self.schema)
  *         finally:
  *             if message:             # <<<<<<<<<<<<<<
  *                 message.close()
  * 
  */
       }
@@ -70300,44 +71317,44 @@
       __Pyx_XGOTREF(__pyx_t_9);
       __Pyx_XGOTREF(__pyx_t_10);
       __Pyx_XGOTREF(__pyx_t_11);
       __Pyx_XGOTREF(__pyx_t_12);
       __Pyx_XGOTREF(__pyx_t_13);
       __pyx_t_5 = __pyx_lineno; __pyx_t_6 = __pyx_clineno; __pyx_t_7 = __pyx_filename;
       {
-        __pyx_t_1 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_cur_scope->__pyx_v_message)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 3240, __pyx_L12_error)
+        __pyx_t_1 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_cur_scope->__pyx_v_message)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 3325, __pyx_L12_error)
         if (__pyx_t_1) {
 
-          /* "capnp/lib/capnp.pyx":3241
+          /* "capnp/lib/capnp.pyx":3326
  *         finally:
  *             if message:
  *                 message.close()             # <<<<<<<<<<<<<<
  * 
  *     def from_segments(self, segments, traversal_limit_in_words=None, nesting_limit=None):
  */
-          __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_cur_scope->__pyx_v_message), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3241, __pyx_L12_error)
+          __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_cur_scope->__pyx_v_message), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3326, __pyx_L12_error)
           __Pyx_GOTREF(__pyx_t_2);
           __pyx_t_4 = NULL;
           if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
             __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
             if (likely(__pyx_t_4)) {
               PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
               __Pyx_INCREF(__pyx_t_4);
               __Pyx_INCREF(function);
               __Pyx_DECREF_SET(__pyx_t_2, function);
             }
           }
           __pyx_t_3 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3241, __pyx_L12_error)
+          if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3326, __pyx_L12_error)
           __Pyx_GOTREF(__pyx_t_3);
           __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
           __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-          /* "capnp/lib/capnp.pyx":3240
+          /* "capnp/lib/capnp.pyx":3325
  *                 yield message.get_root(self.schema)
  *         finally:
  *             if message:             # <<<<<<<<<<<<<<
  *                 message.close()
  * 
  */
         }
@@ -70368,15 +71385,15 @@
       __pyx_t_11 = 0; __pyx_t_12 = 0; __pyx_t_13 = 0;
       goto __pyx_L1_error;
     }
     __pyx_L6:;
   }
   CYTHON_MAYBE_UNUSED_VAR(__pyx_cur_scope);
 
-  /* "capnp/lib/capnp.pyx":3210
+  /* "capnp/lib/capnp.pyx":3295
  * 
  *     @contextlib.contextmanager
  *     def from_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None, builder=False):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object in buf.
  * 
  */
 
@@ -70395,15 +71412,15 @@
   #endif
   __pyx_generator->resume_label = -1;
   __Pyx_Coroutine_clear((PyObject*)__pyx_generator);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3243
+/* "capnp/lib/capnp.pyx":3328
  *                 message.close()
  * 
  *     def from_segments(self, segments, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for a list of segment bytes.
  * 
  */
 
@@ -70447,15 +71464,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_segments)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("from_segments", 0, 2, 4, 1); __PYX_ERR(0, 3243, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("from_segments", 0, 2, 4, 1); __PYX_ERR(0, 3328, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -70463,15 +71480,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "from_segments") < 0)) __PYX_ERR(0, 3243, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "from_segments") < 0)) __PYX_ERR(0, 3328, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -70484,15 +71501,15 @@
     __pyx_v_self = values[0];
     __pyx_v_segments = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("from_segments", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3243, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("from_segments", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3328, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.from_segments", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_20from_segments(__pyx_self, __pyx_v_self, __pyx_v_segments, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -70508,62 +71525,62 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("from_segments", 0);
 
-  /* "capnp/lib/capnp.pyx":3252
+  /* "capnp/lib/capnp.pyx":3337
  *         :rtype: list
  *         """
  *         message = _SegmentArrayMessageReader(segments, traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         return message.get_root(self.schema)
  * 
  */
-  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3252, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3337, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(__pyx_v_segments);
   __Pyx_GIVEREF(__pyx_v_segments);
   PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_segments);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_traversal_limit_in_words);
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_nesting_limit);
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SegmentArrayMessageReader), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3252, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SegmentArrayMessageReader), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3337, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_message = ((struct __pyx_obj_5capnp_3lib_5capnp__SegmentArrayMessageReader *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":3253
+  /* "capnp/lib/capnp.pyx":3338
  *         """
  *         message = _SegmentArrayMessageReader(segments, traversal_limit_in_words, nesting_limit)
  *         return message.get_root(self.schema)             # <<<<<<<<<<<<<<
  * 
  *     def from_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3253, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3338, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__SegmentArrayMessageReader *)__pyx_v_message->__pyx_base.__pyx_vtab)->__pyx_base.get_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *)__pyx_v_message), __pyx_t_2, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3253, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3338, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3253, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3338, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3243
+  /* "capnp/lib/capnp.pyx":3328
  *                 message.close()
  * 
  *     def from_segments(self, segments, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for a list of segment bytes.
  * 
  */
 
@@ -70576,15 +71593,15 @@
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_message);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3255
+/* "capnp/lib/capnp.pyx":3340
  *         return message.get_root(self.schema)
  * 
  *     def from_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the packed object in buf.
  * 
  */
 
@@ -70628,15 +71645,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_buf)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("from_bytes_packed", 0, 2, 4, 1); __PYX_ERR(0, 3255, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("from_bytes_packed", 0, 2, 4, 1); __PYX_ERR(0, 3340, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -70644,15 +71661,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "from_bytes_packed") < 0)) __PYX_ERR(0, 3255, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "from_bytes_packed") < 0)) __PYX_ERR(0, 3340, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -70665,15 +71682,15 @@
     __pyx_v_self = values[0];
     __pyx_v_buf = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("from_bytes_packed", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3255, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("from_bytes_packed", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3340, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.from_bytes_packed", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_22from_bytes_packed(__pyx_self, __pyx_v_self, __pyx_v_buf, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -70689,53 +71706,53 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("from_bytes_packed", 0);
 
-  /* "capnp/lib/capnp.pyx":3270
+  /* "capnp/lib/capnp.pyx":3355
  *         :rtype: :class:`_DynamicStructReader`
  *         """
  *         return _PackedMessageReaderBytes(buf, traversal_limit_in_words, nesting_limit).get_root(self.schema)             # <<<<<<<<<<<<<<
  * 
  *     def __call__(self, num_first_segment_words=None, **kwargs):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3270, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3355, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(__pyx_v_buf);
   __Pyx_GIVEREF(__pyx_v_buf);
   PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_v_buf);
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_traversal_limit_in_words);
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_nesting_limit);
-  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PackedMessageReaderBytes), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3270, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PackedMessageReaderBytes), __pyx_t_1, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3355, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3270, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3355, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReaderBytes *)((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReaderBytes *)__pyx_t_2)->__pyx_base.__pyx_vtab)->__pyx_base.get_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *)__pyx_t_2), __pyx_t_1, 0);
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3270, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3355, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3270, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3355, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3255
+  /* "capnp/lib/capnp.pyx":3340
  *         return message.get_root(self.schema)
  * 
  *     def from_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the packed object in buf.
  * 
  */
 
@@ -70748,15 +71765,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3272
+/* "capnp/lib/capnp.pyx":3357
  *         return _PackedMessageReaderBytes(buf, traversal_limit_in_words, nesting_limit).get_root(self.schema)
  * 
  *     def __call__(self, num_first_segment_words=None, **kwargs):             # <<<<<<<<<<<<<<
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)
  * 
  */
 
@@ -70800,15 +71817,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_num_first_segment_words);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "__call__") < 0)) __PYX_ERR(0, 3272, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "__call__") < 0)) __PYX_ERR(0, 3357, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
@@ -70816,15 +71833,15 @@
       }
     }
     __pyx_v_self = values[0];
     __pyx_v_num_first_segment_words = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__call__", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3272, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__call__", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3357, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.__call__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_24__call__(__pyx_self, __pyx_v_self, __pyx_v_num_first_segment_words, __pyx_v_kwargs);
@@ -70842,39 +71859,39 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__call__", 0);
 
-  /* "capnp/lib/capnp.pyx":3273
+  /* "capnp/lib/capnp.pyx":3358
  * 
  *     def __call__(self, num_first_segment_words=None, **kwargs):
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)             # <<<<<<<<<<<<<<
  * 
  *     def new_message(self, num_first_segment_words=None, **kwargs):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_new_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3273, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_new_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3358, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3273, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3358, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_num_first_segment_words, __pyx_v_num_first_segment_words) < 0) __PYX_ERR(0, 3273, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_num_first_segment_words, __pyx_v_num_first_segment_words) < 0) __PYX_ERR(0, 3358, __pyx_L1_error)
   __pyx_t_2 = __pyx_t_3;
   __pyx_t_3 = 0;
-  if (__Pyx_MergeKeywords(__pyx_t_2, __pyx_v_kwargs) < 0) __PYX_ERR(0, 3273, __pyx_L1_error)
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3273, __pyx_L1_error)
+  if (__Pyx_MergeKeywords(__pyx_t_2, __pyx_v_kwargs) < 0) __PYX_ERR(0, 3358, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_empty_tuple, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3358, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3272
+  /* "capnp/lib/capnp.pyx":3357
  *         return _PackedMessageReaderBytes(buf, traversal_limit_in_words, nesting_limit).get_root(self.schema)
  * 
  *     def __call__(self, num_first_segment_words=None, **kwargs):             # <<<<<<<<<<<<<<
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)
  * 
  */
 
@@ -70887,15 +71904,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3275
+/* "capnp/lib/capnp.pyx":3360
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)
  * 
  *     def new_message(self, num_first_segment_words=None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Returns a newly allocated builder message.
  * 
  */
 
@@ -70939,15 +71956,15 @@
         case  1:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_num_first_segment_words);
           if (value) { values[1] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "new_message") < 0)) __PYX_ERR(0, 3275, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, __pyx_v_kwargs, values, pos_args, "new_message") < 0)) __PYX_ERR(0, 3360, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         break;
@@ -70955,15 +71972,15 @@
       }
     }
     __pyx_v_self = values[0];
     __pyx_v_num_first_segment_words = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("new_message", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3275, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("new_message", 0, 1, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3360, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_DECREF(__pyx_v_kwargs); __pyx_v_kwargs = 0;
   __Pyx_AddTraceback("capnp.lib.capnp._StructModule.new_message", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_13_StructModule_26new_message(__pyx_self, __pyx_v_self, __pyx_v_num_first_segment_words, __pyx_v_kwargs);
@@ -70979,29 +71996,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("new_message", 0);
 
-  /* "capnp/lib/capnp.pyx":3289
+  /* "capnp/lib/capnp.pyx":3374
  *         :rtype: :class:`_DynamicStructBuilder`
  *         """
  *         return _new_message(self, kwargs, num_first_segment_words)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__new_message(__pyx_v_self, __pyx_v_kwargs, __pyx_v_num_first_segment_words); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3289, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp__new_message(__pyx_v_self, __pyx_v_kwargs, __pyx_v_num_first_segment_words); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3374, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3275
+  /* "capnp/lib/capnp.pyx":3360
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)
  * 
  *     def new_message(self, num_first_segment_words=None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Returns a newly allocated builder message.
  * 
  */
 
@@ -71012,15 +72029,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3293
+/* "capnp/lib/capnp.pyx":3378
  * 
  * class _InterfaceModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         def server_init(server_self):
  *             pass
  */
 
@@ -71059,53 +72076,53 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 3293, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 3378, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_name)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 3293, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 3378, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3293, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3378, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_self = values[0];
     __pyx_v_schema = values[1];
     __pyx_v_name = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3293, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3378, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._InterfaceModule.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_16_InterfaceModule___init__(__pyx_self, __pyx_v_self, __pyx_v_schema, __pyx_v_name);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3294
+/* "capnp/lib/capnp.pyx":3379
  * class _InterfaceModule(object):
  *     def __init__(self, schema, name):
  *         def server_init(server_self):             # <<<<<<<<<<<<<<
  *             pass
  *         self.schema = schema
  */
 
@@ -71131,15 +72148,15 @@
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3293
+/* "capnp/lib/capnp.pyx":3378
  * 
  * class _InterfaceModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         def server_init(server_self):
  *             pass
  */
 
@@ -71152,71 +72169,71 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3294
+  /* "capnp/lib/capnp.pyx":3379
  * class _InterfaceModule(object):
  *     def __init__(self, schema, name):
  *         def server_init(server_self):             # <<<<<<<<<<<<<<
  *             pass
  *         self.schema = schema
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_16_InterfaceModule_8__init___1server_init, 0, __pyx_n_s_InterfaceModule___init___locals, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__94)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3294, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_16_InterfaceModule_8__init___1server_init, 0, __pyx_n_s_InterfaceModule___init___locals, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__96)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3379, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_server_init = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3296
+  /* "capnp/lib/capnp.pyx":3381
  *         def server_init(server_self):
  *             pass
  *         self.schema = schema             # <<<<<<<<<<<<<<
  *         self.Server = type(name + '.Server', (_DynamicCapabilityServer,), {'__init__': server_init, 'schema':schema})
  * 
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_schema, __pyx_v_schema) < 0) __PYX_ERR(0, 3296, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_schema, __pyx_v_schema) < 0) __PYX_ERR(0, 3381, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3297
+  /* "capnp/lib/capnp.pyx":3382
  *             pass
  *         self.schema = schema
  *         self.Server = type(name + '.Server', (_DynamicCapabilityServer,), {'__init__': server_init, 'schema':schema})             # <<<<<<<<<<<<<<
  * 
  *     def _new_client(self, server):
  */
-  __pyx_t_1 = PyNumber_Add(__pyx_v_name, __pyx_kp_s_Server); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3297, __pyx_L1_error)
+  __pyx_t_1 = PyNumber_Add(__pyx_v_name, __pyx_kp_s_Server); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3297, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityServer));
   __Pyx_GIVEREF(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityServer));
   PyTuple_SET_ITEM(__pyx_t_2, 0, ((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityServer));
-  __pyx_t_3 = __Pyx_PyDict_NewPresized(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3297, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyDict_NewPresized(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_init_2, __pyx_v_server_init) < 0) __PYX_ERR(0, 3297, __pyx_L1_error)
-  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_schema, __pyx_v_schema) < 0) __PYX_ERR(0, 3297, __pyx_L1_error)
-  __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3297, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_init_2, __pyx_v_server_init) < 0) __PYX_ERR(0, 3382, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_schema, __pyx_v_schema) < 0) __PYX_ERR(0, 3382, __pyx_L1_error)
+  __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_t_3);
   __pyx_t_1 = 0;
   __pyx_t_2 = 0;
   __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)(&PyType_Type)), __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3297, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)(&PyType_Type)), __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_Server_2, __pyx_t_3) < 0) __PYX_ERR(0, 3297, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_Server_2, __pyx_t_3) < 0) __PYX_ERR(0, 3382, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3293
+  /* "capnp/lib/capnp.pyx":3378
  * 
  * class _InterfaceModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         def server_init(server_self):
  *             pass
  */
 
@@ -71233,15 +72250,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_server_init);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3299
+/* "capnp/lib/capnp.pyx":3384
  *         self.Server = type(name + '.Server', (_DynamicCapabilityServer,), {'__init__': server_init, 'schema':schema})
  * 
  *     def _new_client(self, server):             # <<<<<<<<<<<<<<
  *         return _DynamicCapabilityClient()._init_vals(self.schema, server)
  * 
  */
 
@@ -71277,32 +72294,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_server)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_new_client", 1, 2, 2, 1); __PYX_ERR(0, 3299, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_new_client", 1, 2, 2, 1); __PYX_ERR(0, 3384, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_new_client") < 0)) __PYX_ERR(0, 3299, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_new_client") < 0)) __PYX_ERR(0, 3384, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_self = values[0];
     __pyx_v_server = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_new_client", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3299, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_new_client", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3384, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._InterfaceModule._new_client", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_16_InterfaceModule_2_new_client(__pyx_self, __pyx_v_self, __pyx_v_server);
 
@@ -71318,35 +72335,35 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_new_client", 0);
 
-  /* "capnp/lib/capnp.pyx":3300
+  /* "capnp/lib/capnp.pyx":3385
  * 
  *     def _new_client(self, server):
  *         return _DynamicCapabilityClient()._init_vals(self.schema, server)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3300, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3385, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3300, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3385, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init_vals(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_t_2, __pyx_v_server); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3300, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicCapabilityClient *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1)->__pyx_vtab)->_init_vals(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *)__pyx_t_1), __pyx_t_2, __pyx_v_server); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3385, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3299
+  /* "capnp/lib/capnp.pyx":3384
  *         self.Server = type(name + '.Server', (_DynamicCapabilityServer,), {'__init__': server_init, 'schema':schema})
  * 
  *     def _new_client(self, server):             # <<<<<<<<<<<<<<
  *         return _DynamicCapabilityClient()._init_vals(self.schema, server)
  * 
  */
 
@@ -71359,15 +72376,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3304
+/* "capnp/lib/capnp.pyx":3389
  * 
  * class _EnumModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         for name, val in schema.enumerants.items():
  */
 
@@ -71406,40 +72423,40 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 3304, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 3389, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_name)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 3304, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 3389, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3304, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3389, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_self = values[0];
     __pyx_v_schema = values[1];
     __pyx_v_name = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3304, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3389, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._EnumModule.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_11_EnumModule___init__(__pyx_self, __pyx_v_self, __pyx_v_schema, __pyx_v_name);
 
@@ -71463,161 +72480,161 @@
   int __pyx_t_9;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
   __Pyx_INCREF(__pyx_v_name);
 
-  /* "capnp/lib/capnp.pyx":3305
+  /* "capnp/lib/capnp.pyx":3390
  * class _EnumModule(object):
  *     def __init__(self, schema, name):
  *         self.schema = schema             # <<<<<<<<<<<<<<
  *         for name, val in schema.enumerants.items():
  *             setattr(self, name, val)
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_schema, __pyx_v_schema) < 0) __PYX_ERR(0, 3305, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_schema, __pyx_v_schema) < 0) __PYX_ERR(0, 3390, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3306
+  /* "capnp/lib/capnp.pyx":3391
  *     def __init__(self, schema, name):
  *         self.schema = schema
  *         for name, val in schema.enumerants.items():             # <<<<<<<<<<<<<<
  *             setattr(self, name, val)
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_enumerants); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3306, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_enumerants); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3391, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_items); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3306, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_items); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3391, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3306, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3391, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (likely(PyList_CheckExact(__pyx_t_1)) || PyTuple_CheckExact(__pyx_t_1)) {
     __pyx_t_3 = __pyx_t_1; __Pyx_INCREF(__pyx_t_3); __pyx_t_4 = 0;
     __pyx_t_5 = NULL;
   } else {
-    __pyx_t_4 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3306, __pyx_L1_error)
+    __pyx_t_4 = -1; __pyx_t_3 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3391, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_5 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3306, __pyx_L1_error)
+    __pyx_t_5 = Py_TYPE(__pyx_t_3)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3391, __pyx_L1_error)
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   for (;;) {
     if (likely(!__pyx_t_5)) {
       if (likely(PyList_CheckExact(__pyx_t_3))) {
         if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3306, __pyx_L1_error)
+        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3391, __pyx_L1_error)
         #else
-        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3306, __pyx_L1_error)
+        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3391, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         #endif
       } else {
         if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_3)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3306, __pyx_L1_error)
+        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_3, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3391, __pyx_L1_error)
         #else
-        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3306, __pyx_L1_error)
+        __pyx_t_1 = PySequence_ITEM(__pyx_t_3, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3391, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         #endif
       }
     } else {
       __pyx_t_1 = __pyx_t_5(__pyx_t_3);
       if (unlikely(!__pyx_t_1)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 3306, __pyx_L1_error)
+          else __PYX_ERR(0, 3391, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_1);
     }
     if ((likely(PyTuple_CheckExact(__pyx_t_1))) || (PyList_CheckExact(__pyx_t_1))) {
       PyObject* sequence = __pyx_t_1;
       Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
       if (unlikely(size != 2)) {
         if (size > 2) __Pyx_RaiseTooManyValuesError(2);
         else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-        __PYX_ERR(0, 3306, __pyx_L1_error)
+        __PYX_ERR(0, 3391, __pyx_L1_error)
       }
       #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
       if (likely(PyTuple_CheckExact(sequence))) {
         __pyx_t_2 = PyTuple_GET_ITEM(sequence, 0); 
         __pyx_t_6 = PyTuple_GET_ITEM(sequence, 1); 
       } else {
         __pyx_t_2 = PyList_GET_ITEM(sequence, 0); 
         __pyx_t_6 = PyList_GET_ITEM(sequence, 1); 
       }
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_6);
       #else
-      __pyx_t_2 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3306, __pyx_L1_error)
+      __pyx_t_2 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3391, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __pyx_t_6 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3306, __pyx_L1_error)
+      __pyx_t_6 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3391, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     } else {
       Py_ssize_t index = -1;
-      __pyx_t_7 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3306, __pyx_L1_error)
+      __pyx_t_7 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3391, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __pyx_t_8 = Py_TYPE(__pyx_t_7)->tp_iternext;
       index = 0; __pyx_t_2 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_2)) goto __pyx_L5_unpacking_failed;
       __Pyx_GOTREF(__pyx_t_2);
       index = 1; __pyx_t_6 = __pyx_t_8(__pyx_t_7); if (unlikely(!__pyx_t_6)) goto __pyx_L5_unpacking_failed;
       __Pyx_GOTREF(__pyx_t_6);
-      if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_7), 2) < 0) __PYX_ERR(0, 3306, __pyx_L1_error)
+      if (__Pyx_IternextUnpackEndCheck(__pyx_t_8(__pyx_t_7), 2) < 0) __PYX_ERR(0, 3391, __pyx_L1_error)
       __pyx_t_8 = NULL;
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       goto __pyx_L6_unpacking_done;
       __pyx_L5_unpacking_failed:;
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __pyx_t_8 = NULL;
       if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-      __PYX_ERR(0, 3306, __pyx_L1_error)
+      __PYX_ERR(0, 3391, __pyx_L1_error)
       __pyx_L6_unpacking_done:;
     }
     __Pyx_DECREF_SET(__pyx_v_name, __pyx_t_2);
     __pyx_t_2 = 0;
     __Pyx_XDECREF_SET(__pyx_v_val, __pyx_t_6);
     __pyx_t_6 = 0;
 
-    /* "capnp/lib/capnp.pyx":3307
+    /* "capnp/lib/capnp.pyx":3392
  *         self.schema = schema
  *         for name, val in schema.enumerants.items():
  *             setattr(self, name, val)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_9 = PyObject_SetAttr(__pyx_v_self, __pyx_v_name, __pyx_v_val); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 3307, __pyx_L1_error)
+    __pyx_t_9 = PyObject_SetAttr(__pyx_v_self, __pyx_v_name, __pyx_v_val); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 3392, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":3306
+    /* "capnp/lib/capnp.pyx":3391
  *     def __init__(self, schema, name):
  *         self.schema = schema
  *         for name, val in schema.enumerants.items():             # <<<<<<<<<<<<<<
  *             setattr(self, name, val)
  * 
  */
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3304
+  /* "capnp/lib/capnp.pyx":3389
  * 
  * class _EnumModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         for name, val in schema.enumerants.items():
  */
 
@@ -71636,15 +72653,15 @@
   __Pyx_XDECREF(__pyx_v_val);
   __Pyx_XDECREF(__pyx_v_name);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3311
+/* "capnp/lib/capnp.pyx":3396
  * 
  * cdef class _StringArrayPtr:
  *     def __cinit__(self, size_t size, parent):             # <<<<<<<<<<<<<<
  *         self.size = size
  *         self.thisptr = <StringPtr *>malloc(sizeof(StringPtr) * size)
  */
 
@@ -71678,32 +72695,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_size)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_parent)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, 1); __PYX_ERR(0, 3311, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, 1); __PYX_ERR(0, 3396, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(0, 3311, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__cinit__") < 0)) __PYX_ERR(0, 3396, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
-    __pyx_v_size = __Pyx_PyInt_As_size_t(values[0]); if (unlikely((__pyx_v_size == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 3311, __pyx_L3_error)
+    __pyx_v_size = __Pyx_PyInt_As_size_t(values[0]); if (unlikely((__pyx_v_size == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 3396, __pyx_L3_error)
     __pyx_v_parent = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3311, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__cinit__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3396, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StringArrayPtr.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_15_StringArrayPtr___cinit__(((struct __pyx_obj_5capnp_3lib_5capnp__StringArrayPtr *)__pyx_v_self), __pyx_v_size, __pyx_v_parent);
 
@@ -71713,60 +72730,60 @@
 }
 
 static int __pyx_pf_5capnp_3lib_5capnp_15_StringArrayPtr___cinit__(struct __pyx_obj_5capnp_3lib_5capnp__StringArrayPtr *__pyx_v_self, size_t __pyx_v_size, PyObject *__pyx_v_parent) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__", 0);
 
-  /* "capnp/lib/capnp.pyx":3312
+  /* "capnp/lib/capnp.pyx":3397
  * cdef class _StringArrayPtr:
  *     def __cinit__(self, size_t size, parent):
  *         self.size = size             # <<<<<<<<<<<<<<
  *         self.thisptr = <StringPtr *>malloc(sizeof(StringPtr) * size)
  *         self.parent = parent
  */
   __pyx_v_self->size = __pyx_v_size;
 
-  /* "capnp/lib/capnp.pyx":3313
+  /* "capnp/lib/capnp.pyx":3398
  *     def __cinit__(self, size_t size, parent):
  *         self.size = size
  *         self.thisptr = <StringPtr *>malloc(sizeof(StringPtr) * size)             # <<<<<<<<<<<<<<
  *         self.parent = parent
  * 
  */
   __pyx_v_self->thisptr = (( ::kj::StringPtr *)malloc(((sizeof( ::kj::StringPtr)) * __pyx_v_size)));
 
-  /* "capnp/lib/capnp.pyx":3314
+  /* "capnp/lib/capnp.pyx":3399
  *         self.size = size
  *         self.thisptr = <StringPtr *>malloc(sizeof(StringPtr) * size)
  *         self.parent = parent             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->parent);
   __Pyx_DECREF(__pyx_v_self->parent);
   __pyx_v_self->parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":3311
+  /* "capnp/lib/capnp.pyx":3396
  * 
  * cdef class _StringArrayPtr:
  *     def __cinit__(self, size_t size, parent):             # <<<<<<<<<<<<<<
  *         self.size = size
  *         self.thisptr = <StringPtr *>malloc(sizeof(StringPtr) * size)
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3316
+/* "capnp/lib/capnp.pyx":3401
  *         self.parent = parent
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         free(self.thisptr)
  * 
  */
 
@@ -71781,59 +72798,59 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_15_StringArrayPtr_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__StringArrayPtr *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3317
+  /* "capnp/lib/capnp.pyx":3402
  * 
  *     def __dealloc__(self):
  *         free(self.thisptr)             # <<<<<<<<<<<<<<
  * 
  *     cdef ArrayPtr[StringPtr] asArrayPtr(self) except +reraise_kj_exception:
  */
   free(__pyx_v_self->thisptr);
 
-  /* "capnp/lib/capnp.pyx":3316
+  /* "capnp/lib/capnp.pyx":3401
  *         self.parent = parent
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         free(self.thisptr)
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":3319
+/* "capnp/lib/capnp.pyx":3404
  *         free(self.thisptr)
  * 
  *     cdef ArrayPtr[StringPtr] asArrayPtr(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return ArrayPtr[StringPtr](self.thisptr, self.size)
  * 
  */
 
 static  ::kj::ArrayPtr< ::kj::StringPtr>  __pyx_f_5capnp_3lib_5capnp_15_StringArrayPtr_asArrayPtr(struct __pyx_obj_5capnp_3lib_5capnp__StringArrayPtr *__pyx_v_self) {
    ::kj::ArrayPtr< ::kj::StringPtr>  __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("asArrayPtr", 0);
 
-  /* "capnp/lib/capnp.pyx":3320
+  /* "capnp/lib/capnp.pyx":3405
  * 
  *     cdef ArrayPtr[StringPtr] asArrayPtr(self) except +reraise_kj_exception:
  *         return ArrayPtr[StringPtr](self.thisptr, self.size)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_r =  ::kj::ArrayPtr< ::kj::StringPtr> (__pyx_v_self->thisptr, __pyx_v_self->size);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3319
+  /* "capnp/lib/capnp.pyx":3404
  *         free(self.thisptr)
  * 
  *     cdef ArrayPtr[StringPtr] asArrayPtr(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         return ArrayPtr[StringPtr](self.thisptr, self.size)
  * 
  */
 
@@ -71874,15 +72891,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__95, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__97, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -71931,15 +72948,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__96, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__98, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -71954,15 +72971,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._StringArrayPtr.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3328
+/* "capnp/lib/capnp.pyx":3413
  * 
  *     This class wraps capnproto/c++/src/capnp/schema-loader.h directly."""
  *     def __cinit__(self):             # <<<<<<<<<<<<<<
  *         self.thisptr = new C_SchemaLoader()
  * 
  */
 
@@ -71983,38 +73000,38 @@
 }
 
 static int __pyx_pf_5capnp_3lib_5capnp_12SchemaLoader___cinit__(struct __pyx_obj_5capnp_3lib_5capnp_SchemaLoader *__pyx_v_self) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__cinit__", 0);
 
-  /* "capnp/lib/capnp.pyx":3329
+  /* "capnp/lib/capnp.pyx":3414
  *     This class wraps capnproto/c++/src/capnp/schema-loader.h directly."""
  *     def __cinit__(self):
  *         self.thisptr = new C_SchemaLoader()             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __pyx_v_self->thisptr = new  ::capnp::SchemaLoader();
 
-  /* "capnp/lib/capnp.pyx":3328
+  /* "capnp/lib/capnp.pyx":3413
  * 
  *     This class wraps capnproto/c++/src/capnp/schema-loader.h directly."""
  *     def __cinit__(self):             # <<<<<<<<<<<<<<
  *         self.thisptr = new C_SchemaLoader()
  * 
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3331
+/* "capnp/lib/capnp.pyx":3416
  *         self.thisptr = new C_SchemaLoader()
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -72029,36 +73046,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_12SchemaLoader_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp_SchemaLoader *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3332
+  /* "capnp/lib/capnp.pyx":3417
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  *     def load(self, _NodeReader reader):
  */
   delete __pyx_v_self->thisptr;
 
-  /* "capnp/lib/capnp.pyx":3331
+  /* "capnp/lib/capnp.pyx":3416
  *         self.thisptr = new C_SchemaLoader()
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":3334
+/* "capnp/lib/capnp.pyx":3419
  *         del self.thisptr
  * 
  *     def load(self, _NodeReader reader):             # <<<<<<<<<<<<<<
  *         """Loads the given schema node.  Validates the node and throws an exception if invalid.  This
  *         makes a copy of the schema, so the object passed in can be destroyed after this returns.
  */
 
@@ -72068,15 +73085,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_12SchemaLoader_5load(PyObject *__pyx_v_self, PyObject *__pyx_v_reader) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("load (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_reader), __pyx_ptype_5capnp_3lib_5capnp__NodeReader, 1, "reader", 0))) __PYX_ERR(0, 3334, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_reader), __pyx_ptype_5capnp_3lib_5capnp__NodeReader, 1, "reader", 0))) __PYX_ERR(0, 3419, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12SchemaLoader_4load(((struct __pyx_obj_5capnp_3lib_5capnp_SchemaLoader *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__NodeReader *)__pyx_v_reader));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -72091,38 +73108,38 @@
    ::capnp::Schema __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("load", 0);
 
-  /* "capnp/lib/capnp.pyx":3339
+  /* "capnp/lib/capnp.pyx":3424
  * 
  *         """
  *         return _Schema()._init(self.thisptr.load(reader.thisptr))             # <<<<<<<<<<<<<<
  * 
  *     def load_dynamic(self, _DynamicStructReader reader):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Schema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3339, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Schema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3424, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_2 = __pyx_v_self->thisptr->load(__pyx_v_reader->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3339, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3424, __pyx_L1_error)
   }
-  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema *)((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3339, __pyx_L1_error)
+  __pyx_t_3 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema *)((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1), __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3424, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_3;
   __pyx_t_3 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3334
+  /* "capnp/lib/capnp.pyx":3419
  *         del self.thisptr
  * 
  *     def load(self, _NodeReader reader):             # <<<<<<<<<<<<<<
  *         """Loads the given schema node.  Validates the node and throws an exception if invalid.  This
  *         makes a copy of the schema, so the object passed in can be destroyed after this returns.
  */
 
@@ -72134,15 +73151,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3341
+/* "capnp/lib/capnp.pyx":3426
  *         return _Schema()._init(self.thisptr.load(reader.thisptr))
  * 
  *     def load_dynamic(self, _DynamicStructReader reader):             # <<<<<<<<<<<<<<
  *         """Loads the given schema node with self.load, but converts from a _DynamicStructReader
  *         first."""
  */
 
@@ -72152,15 +73169,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_12SchemaLoader_7load_dynamic(PyObject *__pyx_v_self, PyObject *__pyx_v_reader) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("load_dynamic (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_reader), __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader, 1, "reader", 0))) __PYX_ERR(0, 3341, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_reader), __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader, 1, "reader", 0))) __PYX_ERR(0, 3426, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12SchemaLoader_6load_dynamic(((struct __pyx_obj_5capnp_3lib_5capnp_SchemaLoader *)__pyx_v_self), ((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_reader));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -72176,44 +73193,44 @@
    ::capnp::Schema __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("load_dynamic", 0);
 
-  /* "capnp/lib/capnp.pyx":3344
+  /* "capnp/lib/capnp.pyx":3429
  *         """Loads the given schema node with self.load, but converts from a _DynamicStructReader
  *         first."""
  *         return _Schema()._init(self.thisptr.load(helpers.toReader(reader.thisptr)))             # <<<<<<<<<<<<<<
  * 
  *     def get(self, id_):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Schema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3344, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Schema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3429, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   try {
     __pyx_t_2 = toReader(__pyx_v_reader->thisptr);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3344, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3429, __pyx_L1_error)
   }
   try {
     __pyx_t_3 = __pyx_v_self->thisptr->load(__pyx_t_2);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3344, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3429, __pyx_L1_error)
   }
-  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema *)((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1), __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3344, __pyx_L1_error)
+  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema *)((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1), __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3429, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_4;
   __pyx_t_4 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3341
+  /* "capnp/lib/capnp.pyx":3426
  *         return _Schema()._init(self.thisptr.load(reader.thisptr))
  * 
  *     def load_dynamic(self, _DynamicStructReader reader):             # <<<<<<<<<<<<<<
  *         """Loads the given schema node with self.load, but converts from a _DynamicStructReader
  *         first."""
  */
 
@@ -72225,15 +73242,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3346
+/* "capnp/lib/capnp.pyx":3431
  *         return _Schema()._init(self.thisptr.load(helpers.toReader(reader.thisptr)))
  * 
  *     def get(self, id_):             # <<<<<<<<<<<<<<
  *         """Gets the schema for the given ID, throwing an exception if it isn't present."""
  *         return _Schema()._init(self.thisptr.get(<uint64_t>id_))
  */
 
@@ -72259,39 +73276,39 @@
    ::capnp::Schema __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get", 0);
 
-  /* "capnp/lib/capnp.pyx":3348
+  /* "capnp/lib/capnp.pyx":3433
  *     def get(self, id_):
  *         """Gets the schema for the given ID, throwing an exception if it isn't present."""
  *         return _Schema()._init(self.thisptr.get(<uint64_t>id_))             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Schema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3348, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__Schema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3433, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyInt_As_uint64_t(__pyx_v_id_); if (unlikely((__pyx_t_2 == ((uint64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 3348, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_As_uint64_t(__pyx_v_id_); if (unlikely((__pyx_t_2 == ((uint64_t)-1)) && PyErr_Occurred())) __PYX_ERR(0, 3433, __pyx_L1_error)
   try {
     __pyx_t_3 = __pyx_v_self->thisptr->get(((uint64_t)__pyx_t_2));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3348, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3433, __pyx_L1_error)
   }
-  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema *)((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1), __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3348, __pyx_L1_error)
+  __pyx_t_4 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__Schema *)((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__Schema *)__pyx_t_1), __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3433, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_4;
   __pyx_t_4 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3346
+  /* "capnp/lib/capnp.pyx":3431
  *         return _Schema()._init(self.thisptr.load(helpers.toReader(reader.thisptr)))
  * 
  *     def get(self, id_):             # <<<<<<<<<<<<<<
  *         """Gets the schema for the given ID, throwing an exception if it isn't present."""
  *         return _Schema()._init(self.thisptr.get(<uint64_t>id_))
  */
 
@@ -72338,15 +73355,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__97, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__99, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -72395,15 +73412,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__98, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__100, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -72418,15 +73435,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp.SchemaLoader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3358
+/* "capnp/lib/capnp.pyx":3443
  *     """
  * 
  *     def __cinit__(self):             # <<<<<<<<<<<<<<
  *         self.thisptr = new C_SchemaParser()
  *         self.modules_by_id = {}
  */
 
@@ -72451,54 +73468,54 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__cinit__", 0);
 
-  /* "capnp/lib/capnp.pyx":3359
+  /* "capnp/lib/capnp.pyx":3444
  * 
  *     def __cinit__(self):
  *         self.thisptr = new C_SchemaParser()             # <<<<<<<<<<<<<<
  *         self.modules_by_id = {}
  *         self._all_imports = []
  */
   __pyx_v_self->thisptr = new  ::capnp::SchemaParser();
 
-  /* "capnp/lib/capnp.pyx":3360
+  /* "capnp/lib/capnp.pyx":3445
  *     def __cinit__(self):
  *         self.thisptr = new C_SchemaParser()
  *         self.modules_by_id = {}             # <<<<<<<<<<<<<<
  *         self._all_imports = []
  * 
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3360, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3445, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->modules_by_id);
   __Pyx_DECREF(__pyx_v_self->modules_by_id);
   __pyx_v_self->modules_by_id = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3361
+  /* "capnp/lib/capnp.pyx":3446
  *         self.thisptr = new C_SchemaParser()
  *         self.modules_by_id = {}
  *         self._all_imports = []             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3361, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3446, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->_all_imports);
   __Pyx_DECREF(__pyx_v_self->_all_imports);
   __pyx_v_self->_all_imports = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3358
+  /* "capnp/lib/capnp.pyx":3443
  *     """
  * 
  *     def __cinit__(self):             # <<<<<<<<<<<<<<
  *         self.thisptr = new C_SchemaParser()
  *         self.modules_by_id = {}
  */
 
@@ -72510,15 +73527,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp.SchemaParser.__cinit__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3363
+/* "capnp/lib/capnp.pyx":3448
  *         self._all_imports = []
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -72533,36 +73550,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_12SchemaParser_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3364
+  /* "capnp/lib/capnp.pyx":3449
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  *     cpdef _parse_disk_file(self, displayName, diskPath, imports) except +reraise_kj_exception:
  */
   delete __pyx_v_self->thisptr;
 
-  /* "capnp/lib/capnp.pyx":3363
+  /* "capnp/lib/capnp.pyx":3448
  *         self._all_imports = []
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":3366
+/* "capnp/lib/capnp.pyx":3451
  *         del self.thisptr
  * 
  *     cpdef _parse_disk_file(self, displayName, diskPath, imports) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _StringArrayPtr importArray
  * 
  */
 
@@ -72599,15 +73616,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_parse_disk_file); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3366, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_parse_disk_file); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3451, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_12SchemaParser_5_parse_disk_file)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
@@ -72619,43 +73636,43 @@
             __Pyx_DECREF_SET(__pyx_t_3, function);
             __pyx_t_5 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
         if (PyFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[4] = {__pyx_t_4, __pyx_v_displayName, __pyx_v_diskPath, __pyx_v_imports};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 3+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3366, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 3+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3451, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
         if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
           PyObject *__pyx_temp[4] = {__pyx_t_4, __pyx_v_displayName, __pyx_v_diskPath, __pyx_v_imports};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 3+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3366, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_5, 3+__pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3451, __pyx_L1_error)
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_GOTREF(__pyx_t_2);
         } else
         #endif
         {
-          __pyx_t_6 = PyTuple_New(3+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3366, __pyx_L1_error)
+          __pyx_t_6 = PyTuple_New(3+__pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3451, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_6);
           if (__pyx_t_4) {
             __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_4); __pyx_t_4 = NULL;
           }
           __Pyx_INCREF(__pyx_v_displayName);
           __Pyx_GIVEREF(__pyx_v_displayName);
           PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_5, __pyx_v_displayName);
           __Pyx_INCREF(__pyx_v_diskPath);
           __Pyx_GIVEREF(__pyx_v_diskPath);
           PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_5, __pyx_v_diskPath);
           __Pyx_INCREF(__pyx_v_imports);
           __Pyx_GIVEREF(__pyx_v_imports);
           PyTuple_SET_ITEM(__pyx_t_6, 2+__pyx_t_5, __pyx_v_imports);
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3366, __pyx_L1_error)
+          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3451, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         }
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
@@ -72670,189 +73687,189 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3369
+  /* "capnp/lib/capnp.pyx":3454
  *         cdef _StringArrayPtr importArray
  * 
  *         if self._last_import_array and self._last_import_array.parent == imports:             # <<<<<<<<<<<<<<
  *             importArray = self._last_import_array
  *         else:
  */
-  __pyx_t_8 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_v_self->_last_import_array)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3369, __pyx_L1_error)
+  __pyx_t_8 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_v_self->_last_import_array)); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3454, __pyx_L1_error)
   if (__pyx_t_8) {
   } else {
     __pyx_t_7 = __pyx_t_8;
     goto __pyx_L4_bool_binop_done;
   }
-  __pyx_t_1 = PyObject_RichCompare(__pyx_v_self->_last_import_array->parent, __pyx_v_imports, Py_EQ); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3369, __pyx_L1_error)
-  __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3369, __pyx_L1_error)
+  __pyx_t_1 = PyObject_RichCompare(__pyx_v_self->_last_import_array->parent, __pyx_v_imports, Py_EQ); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3454, __pyx_L1_error)
+  __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3454, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_7 = __pyx_t_8;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_7) {
 
-    /* "capnp/lib/capnp.pyx":3370
+    /* "capnp/lib/capnp.pyx":3455
  * 
  *         if self._last_import_array and self._last_import_array.parent == imports:
  *             importArray = self._last_import_array             # <<<<<<<<<<<<<<
  *         else:
  *             importArray = _StringArrayPtr(len(imports), imports)
  */
     __pyx_t_1 = ((PyObject *)__pyx_v_self->_last_import_array);
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_importArray = ((struct __pyx_obj_5capnp_3lib_5capnp__StringArrayPtr *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3369
+    /* "capnp/lib/capnp.pyx":3454
  *         cdef _StringArrayPtr importArray
  * 
  *         if self._last_import_array and self._last_import_array.parent == imports:             # <<<<<<<<<<<<<<
  *             importArray = self._last_import_array
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":3372
+  /* "capnp/lib/capnp.pyx":3457
  *             importArray = self._last_import_array
  *         else:
  *             importArray = _StringArrayPtr(len(imports), imports)             # <<<<<<<<<<<<<<
  * 
  *             for i in range(len(imports)):
  */
   /*else*/ {
-    __pyx_t_9 = PyObject_Length(__pyx_v_imports); if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3372, __pyx_L1_error)
-    __pyx_t_1 = PyInt_FromSsize_t(__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3372, __pyx_L1_error)
+    __pyx_t_9 = PyObject_Length(__pyx_v_imports); if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3457, __pyx_L1_error)
+    __pyx_t_1 = PyInt_FromSsize_t(__pyx_t_9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3457, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3372, __pyx_L1_error)
+    __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3457, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_GIVEREF(__pyx_t_1);
     PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
     __Pyx_INCREF(__pyx_v_imports);
     __Pyx_GIVEREF(__pyx_v_imports);
     PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_imports);
     __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StringArrayPtr), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3372, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__StringArrayPtr), __pyx_t_2, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3457, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_v_importArray = ((struct __pyx_obj_5capnp_3lib_5capnp__StringArrayPtr *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3374
+    /* "capnp/lib/capnp.pyx":3459
  *             importArray = _StringArrayPtr(len(imports), imports)
  * 
  *             for i in range(len(imports)):             # <<<<<<<<<<<<<<
  *                 curr_import = imports[i]
  *                 importArray.thisptr[i] = StringPtr(curr_import, <size_t>len(curr_import))
  */
-    __pyx_t_9 = PyObject_Length(__pyx_v_imports); if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3374, __pyx_L1_error)
+    __pyx_t_9 = PyObject_Length(__pyx_v_imports); if (unlikely(__pyx_t_9 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3459, __pyx_L1_error)
     __pyx_t_10 = __pyx_t_9;
     for (__pyx_t_11 = 0; __pyx_t_11 < __pyx_t_10; __pyx_t_11+=1) {
       __pyx_v_i = __pyx_t_11;
 
-      /* "capnp/lib/capnp.pyx":3375
+      /* "capnp/lib/capnp.pyx":3460
  * 
  *             for i in range(len(imports)):
  *                 curr_import = imports[i]             # <<<<<<<<<<<<<<
  *                 importArray.thisptr[i] = StringPtr(curr_import, <size_t>len(curr_import))
  * 
  */
-      __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_imports, __pyx_v_i, Py_ssize_t, 1, PyInt_FromSsize_t, 0, 1, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3375, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_imports, __pyx_v_i, Py_ssize_t, 1, PyInt_FromSsize_t, 0, 1, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3460, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_XDECREF_SET(__pyx_v_curr_import, __pyx_t_1);
       __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":3376
+      /* "capnp/lib/capnp.pyx":3461
  *             for i in range(len(imports)):
  *                 curr_import = imports[i]
  *                 importArray.thisptr[i] = StringPtr(curr_import, <size_t>len(curr_import))             # <<<<<<<<<<<<<<
  * 
  *             self._all_imports.append(importArray)
  */
-      __pyx_t_12 = __Pyx_PyObject_AsWritableString(__pyx_v_curr_import); if (unlikely((!__pyx_t_12) && PyErr_Occurred())) __PYX_ERR(0, 3376, __pyx_L1_error)
-      __pyx_t_13 = PyObject_Length(__pyx_v_curr_import); if (unlikely(__pyx_t_13 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3376, __pyx_L1_error)
+      __pyx_t_12 = __Pyx_PyObject_AsWritableString(__pyx_v_curr_import); if (unlikely((!__pyx_t_12) && PyErr_Occurred())) __PYX_ERR(0, 3461, __pyx_L1_error)
+      __pyx_t_13 = PyObject_Length(__pyx_v_curr_import); if (unlikely(__pyx_t_13 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3461, __pyx_L1_error)
       (__pyx_v_importArray->thisptr[__pyx_v_i]) =  ::kj::StringPtr(__pyx_t_12, ((size_t)__pyx_t_13));
     }
 
-    /* "capnp/lib/capnp.pyx":3378
+    /* "capnp/lib/capnp.pyx":3463
  *                 importArray.thisptr[i] = StringPtr(curr_import, <size_t>len(curr_import))
  * 
  *             self._all_imports.append(importArray)             # <<<<<<<<<<<<<<
  *             self._last_import_array = importArray
  * 
  */
     if (unlikely(__pyx_v_self->_all_imports == Py_None)) {
       PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "append");
-      __PYX_ERR(0, 3378, __pyx_L1_error)
+      __PYX_ERR(0, 3463, __pyx_L1_error)
     }
-    __pyx_t_14 = __Pyx_PyList_Append(__pyx_v_self->_all_imports, ((PyObject *)__pyx_v_importArray)); if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 3378, __pyx_L1_error)
+    __pyx_t_14 = __Pyx_PyList_Append(__pyx_v_self->_all_imports, ((PyObject *)__pyx_v_importArray)); if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 3463, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":3379
+    /* "capnp/lib/capnp.pyx":3464
  * 
  *             self._all_imports.append(importArray)
  *             self._last_import_array = importArray             # <<<<<<<<<<<<<<
  * 
  *         ret = _ParsedSchema()
  */
     __Pyx_INCREF(((PyObject *)__pyx_v_importArray));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_importArray));
     __Pyx_GOTREF(__pyx_v_self->_last_import_array);
     __Pyx_DECREF(((PyObject *)__pyx_v_self->_last_import_array));
     __pyx_v_self->_last_import_array = __pyx_v_importArray;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":3381
+  /* "capnp/lib/capnp.pyx":3466
  *             self._last_import_array = importArray
  * 
  *         ret = _ParsedSchema()             # <<<<<<<<<<<<<<
  *         # TODO (HaaTa): Convert to parseFromDirectory() as per deprecation note
  *         ret._init_child(self.thisptr.parseDiskFile(displayName, diskPath, importArray.asArrayPtr()))
  */
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__ParsedSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3381, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__ParsedSchema)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3466, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_ret = ((struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3383
+  /* "capnp/lib/capnp.pyx":3468
  *         ret = _ParsedSchema()
  *         # TODO (HaaTa): Convert to parseFromDirectory() as per deprecation note
  *         ret._init_child(self.thisptr.parseDiskFile(displayName, diskPath, importArray.asArrayPtr()))             # <<<<<<<<<<<<<<
  * 
  *         return ret
  */
-  __pyx_t_12 = __Pyx_PyObject_AsWritableString(__pyx_v_displayName); if (unlikely((!__pyx_t_12) && PyErr_Occurred())) __PYX_ERR(0, 3383, __pyx_L1_error)
-  __pyx_t_15 = __Pyx_PyObject_AsWritableString(__pyx_v_diskPath); if (unlikely((!__pyx_t_15) && PyErr_Occurred())) __PYX_ERR(0, 3383, __pyx_L1_error)
+  __pyx_t_12 = __Pyx_PyObject_AsWritableString(__pyx_v_displayName); if (unlikely((!__pyx_t_12) && PyErr_Occurred())) __PYX_ERR(0, 3468, __pyx_L1_error)
+  __pyx_t_15 = __Pyx_PyObject_AsWritableString(__pyx_v_diskPath); if (unlikely((!__pyx_t_15) && PyErr_Occurred())) __PYX_ERR(0, 3468, __pyx_L1_error)
   try {
     __pyx_t_16 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StringArrayPtr *)__pyx_v_importArray->__pyx_vtab)->asArrayPtr(__pyx_v_importArray);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3383, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3468, __pyx_L1_error)
   }
-  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__ParsedSchema *)__pyx_v_ret->__pyx_base.__pyx_vtab)->_init_child(__pyx_v_ret, __pyx_v_self->thisptr->parseDiskFile(__pyx_t_12, __pyx_t_15, __pyx_t_16)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3383, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__ParsedSchema *)__pyx_v_ret->__pyx_base.__pyx_vtab)->_init_child(__pyx_v_ret, __pyx_v_self->thisptr->parseDiskFile(__pyx_t_12, __pyx_t_15, __pyx_t_16)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3468, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3385
+  /* "capnp/lib/capnp.pyx":3470
  *         ret._init_child(self.thisptr.parseDiskFile(displayName, diskPath, importArray.asArrayPtr()))
  * 
  *         return ret             # <<<<<<<<<<<<<<
  * 
  *     def load(self, file_name, display_name=None, imports=[]):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_ret));
   __pyx_r = ((PyObject *)__pyx_v_ret);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3366
+  /* "capnp/lib/capnp.pyx":3451
  *         del self.thisptr
  * 
  *     cpdef _parse_disk_file(self, displayName, diskPath, imports) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         cdef _StringArrayPtr importArray
  * 
  */
 
@@ -72908,40 +73925,40 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_displayName)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_diskPath)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_parse_disk_file", 1, 3, 3, 1); __PYX_ERR(0, 3366, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_parse_disk_file", 1, 3, 3, 1); __PYX_ERR(0, 3451, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_imports)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_parse_disk_file", 1, 3, 3, 2); __PYX_ERR(0, 3366, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_parse_disk_file", 1, 3, 3, 2); __PYX_ERR(0, 3451, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_disk_file") < 0)) __PYX_ERR(0, 3366, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_parse_disk_file") < 0)) __PYX_ERR(0, 3451, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
     }
     __pyx_v_displayName = values[0];
     __pyx_v_diskPath = values[1];
     __pyx_v_imports = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_parse_disk_file", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3366, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_parse_disk_file", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3451, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp.SchemaParser._parse_disk_file", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12SchemaParser_4_parse_disk_file(((struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *)__pyx_v_self), __pyx_v_displayName, __pyx_v_diskPath, __pyx_v_imports);
 
@@ -72957,18 +73974,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_parse_disk_file", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_12SchemaParser__parse_disk_file(__pyx_v_self, __pyx_v_displayName, __pyx_v_diskPath, __pyx_v_imports, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3366, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3451, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3366, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3451, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -72978,15 +73995,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3387
+/* "capnp/lib/capnp.pyx":3472
  *         return ret
  * 
  *     def load(self, file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *         """Load a Cap'n Proto schema from a file
  * 
  */
 
@@ -73003,15 +74020,15 @@
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("load (wrapper)", 0);
   {
     static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_file_name,&__pyx_n_s_display_name,&__pyx_n_s_imports,0};
     PyObject* values[3] = {0,0,0};
     values[1] = ((PyObject *)Py_None);
-    values[2] = __pyx_k__99;
+    values[2] = __pyx_k__101;
     if (unlikely(__pyx_kwds)) {
       Py_ssize_t kw_args;
       const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
       switch (pos_args) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
@@ -73036,15 +74053,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_imports);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "load") < 0)) __PYX_ERR(0, 3387, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "load") < 0)) __PYX_ERR(0, 3472, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -73055,28 +74072,28 @@
     }
     __pyx_v_file_name = values[0];
     __pyx_v_display_name = values[1];
     __pyx_v_imports = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("load", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3387, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("load", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3472, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp.SchemaParser.load", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12SchemaParser_6load(((struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *)__pyx_v_self), __pyx_v_file_name, __pyx_v_display_name, __pyx_v_imports);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3420
+/* "capnp/lib/capnp.pyx":3505
  * 
  *         """
  *         def _load(nodeSchema, module):             # <<<<<<<<<<<<<<
  *             module._nodeSchema = nodeSchema
  *             nodeProto = nodeSchema.get_proto()
  */
 
@@ -73111,45 +74128,45 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nodeSchema)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_module)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_load", 1, 2, 2, 1); __PYX_ERR(0, 3420, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_load", 1, 2, 2, 1); __PYX_ERR(0, 3505, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_load") < 0)) __PYX_ERR(0, 3420, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_load") < 0)) __PYX_ERR(0, 3505, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_nodeSchema = values[0];
     __pyx_v_module = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_load", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3420, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_load", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3505, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp.SchemaParser.load._load", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_12SchemaParser_4load__load(__pyx_self, __pyx_v_nodeSchema, __pyx_v_module);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3441
+/* "capnp/lib/capnp.pyx":3526
  *                         _schema = local_module.schema
  * 
  *                         def __new__(self):             # <<<<<<<<<<<<<<
  *                             raise TypeError('This is an abstract base class')
  * 
  */
 
@@ -73172,28 +74189,28 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__new__", 0);
 
-  /* "capnp/lib/capnp.pyx":3442
+  /* "capnp/lib/capnp.pyx":3527
  * 
  *                         def __new__(self):
  *                             raise TypeError('This is an abstract base class')             # <<<<<<<<<<<<<<
  * 
  *                     class Builder(_DynamicStructBuilder):
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__100, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3442, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__102, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3527, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(0, 3442, __pyx_L1_error)
+  __PYX_ERR(0, 3527, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3441
+  /* "capnp/lib/capnp.pyx":3526
  *                         _schema = local_module.schema
  * 
  *                         def __new__(self):             # <<<<<<<<<<<<<<
  *                             raise TypeError('This is an abstract base class')
  * 
  */
 
@@ -73203,15 +74220,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp.SchemaParser.load._load.Reader.__new__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3450
+/* "capnp/lib/capnp.pyx":3535
  *                         _schema = local_module.schema
  * 
  *                         def __new__(self):             # <<<<<<<<<<<<<<
  *                             raise TypeError('This is an abstract base class')
  * 
  */
 
@@ -73234,28 +74251,28 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__new__", 0);
 
-  /* "capnp/lib/capnp.pyx":3451
+  /* "capnp/lib/capnp.pyx":3536
  * 
  *                         def __new__(self):
  *                             raise TypeError('This is an abstract base class')             # <<<<<<<<<<<<<<
  * 
  *                     local_module.Reader = Reader
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__100, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3451, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__102, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3536, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(0, 3451, __pyx_L1_error)
+  __PYX_ERR(0, 3536, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3450
+  /* "capnp/lib/capnp.pyx":3535
  *                         _schema = local_module.schema
  * 
  *                         def __new__(self):             # <<<<<<<<<<<<<<
  *                             raise TypeError('This is an abstract base class')
  * 
  */
 
@@ -73265,25 +74282,25 @@
   __Pyx_AddTraceback("capnp.lib.capnp.SchemaParser.load._load.Builder.__new__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3420
+/* "capnp/lib/capnp.pyx":3505
  * 
  *         """
  *         def _load(nodeSchema, module):             # <<<<<<<<<<<<<<
  *             module._nodeSchema = nodeSchema
  *             nodeProto = nodeSchema.get_proto()
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_12SchemaParser_4load__load(PyObject *__pyx_self, PyObject *__pyx_v_nodeSchema, PyObject *__pyx_v_module) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *__pyx_cur_scope;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *__pyx_outer_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *__pyx_outer_scope;
   PyObject *__pyx_v_nodeProto = NULL;
   PyObject *__pyx_v_node = NULL;
   PyObject *__pyx_v_local_module = NULL;
   PyObject *__pyx_v_schema = NULL;
   PyObject *__pyx_v_proto = NULL;
   PyObject *__pyx_v_Reader = NULL;
   PyObject *__pyx_v_Builder = NULL;
@@ -73300,258 +74317,258 @@
   PyObject *__pyx_t_9 = NULL;
   int __pyx_t_10;
   PyObject *__pyx_t_11 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_load", 0);
-  __pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *) __Pyx_CyFunction_GetClosure(__pyx_self);
+  __pyx_outer_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *) __Pyx_CyFunction_GetClosure(__pyx_self);
   __pyx_cur_scope = __pyx_outer_scope;
 
-  /* "capnp/lib/capnp.pyx":3421
+  /* "capnp/lib/capnp.pyx":3506
  *         """
  *         def _load(nodeSchema, module):
  *             module._nodeSchema = nodeSchema             # <<<<<<<<<<<<<<
  *             nodeProto = nodeSchema.get_proto()
  *             module._nodeProto = nodeProto
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_nodeSchema_2, __pyx_v_nodeSchema) < 0) __PYX_ERR(0, 3421, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_nodeSchema_2, __pyx_v_nodeSchema) < 0) __PYX_ERR(0, 3506, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3422
+  /* "capnp/lib/capnp.pyx":3507
  *         def _load(nodeSchema, module):
  *             module._nodeSchema = nodeSchema
  *             nodeProto = nodeSchema.get_proto()             # <<<<<<<<<<<<<<
  *             module._nodeProto = nodeProto
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_nodeSchema, __pyx_n_s_get_proto); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3422, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_nodeSchema, __pyx_n_s_get_proto); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3507, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3422, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3507, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_nodeProto = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3423
+  /* "capnp/lib/capnp.pyx":3508
  *             module._nodeSchema = nodeSchema
  *             nodeProto = nodeSchema.get_proto()
  *             module._nodeProto = nodeProto             # <<<<<<<<<<<<<<
  * 
  *             self.modules_by_id[nodeProto.id] = module
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_nodeProto, __pyx_v_nodeProto) < 0) __PYX_ERR(0, 3423, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_nodeProto, __pyx_v_nodeProto) < 0) __PYX_ERR(0, 3508, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3425
+  /* "capnp/lib/capnp.pyx":3510
  *             module._nodeProto = nodeProto
  * 
  *             self.modules_by_id[nodeProto.id] = module             # <<<<<<<<<<<<<<
  * 
  *             for node in nodeProto.nestedNodes:
  */
-  if (unlikely(!__pyx_cur_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 3425, __pyx_L1_error) }
+  if (unlikely(!__pyx_cur_scope->__pyx_v_self)) { __Pyx_RaiseClosureNameError("self"); __PYX_ERR(0, 3510, __pyx_L1_error) }
   if (unlikely(__pyx_cur_scope->__pyx_v_self->modules_by_id == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-    __PYX_ERR(0, 3425, __pyx_L1_error)
+    __PYX_ERR(0, 3510, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_nodeProto, __pyx_n_s_id); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3425, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_nodeProto, __pyx_n_s_id); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3510, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (unlikely(PyDict_SetItem(__pyx_cur_scope->__pyx_v_self->modules_by_id, __pyx_t_1, __pyx_v_module) < 0)) __PYX_ERR(0, 3425, __pyx_L1_error)
+  if (unlikely(PyDict_SetItem(__pyx_cur_scope->__pyx_v_self->modules_by_id, __pyx_t_1, __pyx_v_module) < 0)) __PYX_ERR(0, 3510, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3427
+  /* "capnp/lib/capnp.pyx":3512
  *             self.modules_by_id[nodeProto.id] = module
  * 
  *             for node in nodeProto.nestedNodes:             # <<<<<<<<<<<<<<
  *                 local_module = _ModuleType(node.name)
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_nodeProto, __pyx_n_s_nestedNodes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3427, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_nodeProto, __pyx_n_s_nestedNodes); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3512, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   if (likely(PyList_CheckExact(__pyx_t_1)) || PyTuple_CheckExact(__pyx_t_1)) {
     __pyx_t_2 = __pyx_t_1; __Pyx_INCREF(__pyx_t_2); __pyx_t_4 = 0;
     __pyx_t_5 = NULL;
   } else {
-    __pyx_t_4 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3427, __pyx_L1_error)
+    __pyx_t_4 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3512, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_5 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3427, __pyx_L1_error)
+    __pyx_t_5 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3512, __pyx_L1_error)
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   for (;;) {
     if (likely(!__pyx_t_5)) {
       if (likely(PyList_CheckExact(__pyx_t_2))) {
         if (__pyx_t_4 >= PyList_GET_SIZE(__pyx_t_2)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3427, __pyx_L1_error)
+        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3512, __pyx_L1_error)
         #else
-        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3427, __pyx_L1_error)
+        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3512, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         #endif
       } else {
         if (__pyx_t_4 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3427, __pyx_L1_error)
+        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_4); __Pyx_INCREF(__pyx_t_1); __pyx_t_4++; if (unlikely(0 < 0)) __PYX_ERR(0, 3512, __pyx_L1_error)
         #else
-        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3427, __pyx_L1_error)
+        __pyx_t_1 = PySequence_ITEM(__pyx_t_2, __pyx_t_4); __pyx_t_4++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3512, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         #endif
       }
     } else {
       __pyx_t_1 = __pyx_t_5(__pyx_t_2);
       if (unlikely(!__pyx_t_1)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 3427, __pyx_L1_error)
+          else __PYX_ERR(0, 3512, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_1);
     }
     __Pyx_XDECREF_SET(__pyx_v_node, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3428
+    /* "capnp/lib/capnp.pyx":3513
  * 
  *             for node in nodeProto.nestedNodes:
  *                 local_module = _ModuleType(node.name)             # <<<<<<<<<<<<<<
  * 
  *                 schema = nodeSchema.get_nested(node.name)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_ModuleType); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3428, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_ModuleType); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3513, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3428, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3513, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __pyx_t_7 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_7)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_7);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_1 = (__pyx_t_7) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_7, __pyx_t_6) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_6);
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3428, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3513, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_XDECREF_SET(__pyx_v_local_module, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3430
+    /* "capnp/lib/capnp.pyx":3515
  *                 local_module = _ModuleType(node.name)
  * 
  *                 schema = nodeSchema.get_nested(node.name)             # <<<<<<<<<<<<<<
  *                 proto = schema.get_proto()
  *                 if proto.isStruct:
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_nodeSchema, __pyx_n_s_get_nested); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3430, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_nodeSchema, __pyx_n_s_get_nested); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3515, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3430, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3515, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __pyx_t_7 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_7)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_7);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_1 = (__pyx_t_7) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_7, __pyx_t_6) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_6);
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3430, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3515, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_XDECREF_SET(__pyx_v_schema, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3431
+    /* "capnp/lib/capnp.pyx":3516
  * 
  *                 schema = nodeSchema.get_nested(node.name)
  *                 proto = schema.get_proto()             # <<<<<<<<<<<<<<
  *                 if proto.isStruct:
  *                     local_module = _StructModule(schema.as_struct(), node.name)
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_get_proto); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3431, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_get_proto); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3516, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_6 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_6)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_6);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3431, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3516, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_XDECREF_SET(__pyx_v_proto, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3432
+    /* "capnp/lib/capnp.pyx":3517
  *                 schema = nodeSchema.get_nested(node.name)
  *                 proto = schema.get_proto()
  *                 if proto.isStruct:             # <<<<<<<<<<<<<<
  *                     local_module = _StructModule(schema.as_struct(), node.name)
  * 
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_proto, __pyx_n_s_isStruct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3432, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_proto, __pyx_n_s_isStruct); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3517, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3432, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3517, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     if (__pyx_t_8) {
 
-      /* "capnp/lib/capnp.pyx":3433
+      /* "capnp/lib/capnp.pyx":3518
  *                 proto = schema.get_proto()
  *                 if proto.isStruct:
  *                     local_module = _StructModule(schema.as_struct(), node.name)             # <<<<<<<<<<<<<<
  * 
  *                     class Reader(_DynamicStructReader):
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_StructModule); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3433, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_StructModule); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3518, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_as_struct); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3433, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_as_struct); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3518, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __pyx_t_9 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
         __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_7);
         if (likely(__pyx_t_9)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
           __Pyx_INCREF(__pyx_t_9);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_7, function);
         }
       }
       __pyx_t_6 = (__pyx_t_9) ? __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_9) : __Pyx_PyObject_CallNoArg(__pyx_t_7);
       __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-      if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3433, __pyx_L1_error)
+      if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3518, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3433, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3518, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __pyx_t_9 = NULL;
       __pyx_t_10 = 0;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
         __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_3);
         if (likely(__pyx_t_9)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
@@ -73560,350 +74577,350 @@
           __Pyx_DECREF_SET(__pyx_t_3, function);
           __pyx_t_10 = 1;
         }
       }
       #if CYTHON_FAST_PYCALL
       if (PyFunction_Check(__pyx_t_3)) {
         PyObject *__pyx_temp[3] = {__pyx_t_9, __pyx_t_6, __pyx_t_7};
-        __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3433, __pyx_L1_error)
+        __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3518, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
         __Pyx_GOTREF(__pyx_t_1);
         __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       } else
       #endif
       #if CYTHON_FAST_PYCCALL
       if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
         PyObject *__pyx_temp[3] = {__pyx_t_9, __pyx_t_6, __pyx_t_7};
-        __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3433, __pyx_L1_error)
+        __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3518, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
         __Pyx_GOTREF(__pyx_t_1);
         __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       } else
       #endif
       {
-        __pyx_t_11 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3433, __pyx_L1_error)
+        __pyx_t_11 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3518, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_11);
         if (__pyx_t_9) {
           __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_11, 0, __pyx_t_9); __pyx_t_9 = NULL;
         }
         __Pyx_GIVEREF(__pyx_t_6);
         PyTuple_SET_ITEM(__pyx_t_11, 0+__pyx_t_10, __pyx_t_6);
         __Pyx_GIVEREF(__pyx_t_7);
         PyTuple_SET_ITEM(__pyx_t_11, 1+__pyx_t_10, __pyx_t_7);
         __pyx_t_6 = 0;
         __pyx_t_7 = 0;
-        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_11, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3433, __pyx_L1_error)
+        __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_11, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3518, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_1);
         __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       }
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_DECREF_SET(__pyx_v_local_module, __pyx_t_1);
       __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":3435
+      /* "capnp/lib/capnp.pyx":3520
  *                     local_module = _StructModule(schema.as_struct(), node.name)
  * 
  *                     class Reader(_DynamicStructReader):             # <<<<<<<<<<<<<<
  *                         """An abstract base class.  Readers are 'instances' of this class."""
  *                         __metaclass__ = _StructABCMeta
  */
-      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3435, __pyx_L1_error)
+      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3520, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_INCREF(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader));
       __Pyx_GIVEREF(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader));
       PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader));
-      __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3435, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3520, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_11 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_t_1, __pyx_n_s_Reader, __pyx_n_s_load_locals__load_locals_Reader, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, __pyx_kp_s_An_abstract_base_class_Readers_a); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3435, __pyx_L1_error)
+      __pyx_t_11 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_t_1, __pyx_n_s_Reader, __pyx_n_s_load_locals__load_locals_Reader, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, __pyx_kp_s_An_abstract_base_class_Readers_a); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3520, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_11);
 
-      /* "capnp/lib/capnp.pyx":3437
+      /* "capnp/lib/capnp.pyx":3522
  *                     class Reader(_DynamicStructReader):
  *                         """An abstract base class.  Readers are 'instances' of this class."""
  *                         __metaclass__ = _StructABCMeta             # <<<<<<<<<<<<<<
  *                         __slots__ = []
  *                         _schema = local_module.schema
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_StructABCMeta); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3437, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_StructABCMeta); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3522, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_metaclass, __pyx_t_7) < 0) __PYX_ERR(0, 3437, __pyx_L1_error)
+      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_metaclass, __pyx_t_7) < 0) __PYX_ERR(0, 3522, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3438
+      /* "capnp/lib/capnp.pyx":3523
  *                         """An abstract base class.  Readers are 'instances' of this class."""
  *                         __metaclass__ = _StructABCMeta
  *                         __slots__ = []             # <<<<<<<<<<<<<<
  *                         _schema = local_module.schema
  * 
  */
-      __pyx_t_7 = PyList_New(0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3438, __pyx_L1_error)
+      __pyx_t_7 = PyList_New(0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3523, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_slots, __pyx_t_7) < 0) __PYX_ERR(0, 3438, __pyx_L1_error)
+      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_slots, __pyx_t_7) < 0) __PYX_ERR(0, 3523, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3439
+      /* "capnp/lib/capnp.pyx":3524
  *                         __metaclass__ = _StructABCMeta
  *                         __slots__ = []
  *                         _schema = local_module.schema             # <<<<<<<<<<<<<<
  * 
  *                         def __new__(self):
  */
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_local_module, __pyx_n_s_schema); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3439, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_local_module, __pyx_n_s_schema); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3524, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_schema_2, __pyx_t_7) < 0) __PYX_ERR(0, 3439, __pyx_L1_error)
+      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_schema_2, __pyx_t_7) < 0) __PYX_ERR(0, 3524, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3441
+      /* "capnp/lib/capnp.pyx":3526
  *                         _schema = local_module.schema
  * 
  *                         def __new__(self):             # <<<<<<<<<<<<<<
  *                             raise TypeError('This is an abstract base class')
  * 
  */
-      __pyx_t_7 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_12SchemaParser_4load_5_load_6Reader_1__new__, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_load_locals__load_locals_Reader_2, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__102)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3441, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_12SchemaParser_4load_5_load_6Reader_1__new__, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_load_locals__load_locals_Reader_2, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__104)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3526, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_new, __pyx_t_7) < 0) __PYX_ERR(0, 3441, __pyx_L1_error)
+      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_new, __pyx_t_7) < 0) __PYX_ERR(0, 3526, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3435
+      /* "capnp/lib/capnp.pyx":3520
  *                     local_module = _StructModule(schema.as_struct(), node.name)
  * 
  *                     class Reader(_DynamicStructReader):             # <<<<<<<<<<<<<<
  *                         """An abstract base class.  Readers are 'instances' of this class."""
  *                         __metaclass__ = _StructABCMeta
  */
-      __pyx_t_7 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_Reader, __pyx_t_1, __pyx_t_11, NULL, 0, 1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3435, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_Reader, __pyx_t_1, __pyx_t_11, NULL, 0, 1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3520, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_XDECREF_SET(__pyx_v_Reader, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":3444
+      /* "capnp/lib/capnp.pyx":3529
  *                             raise TypeError('This is an abstract base class')
  * 
  *                     class Builder(_DynamicStructBuilder):             # <<<<<<<<<<<<<<
  *                         """An abstract base class.  Builders are 'instances' of this class."""
  *                         __metaclass__ = _StructABCMeta
  */
-      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3444, __pyx_L1_error)
+      __pyx_t_1 = PyTuple_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3529, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_INCREF(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder));
       __Pyx_GIVEREF(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder));
       PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder));
-      __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3444, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3529, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_11 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_t_1, __pyx_n_s_Builder, __pyx_n_s_load_locals__load_locals_Builder, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, __pyx_kp_s_An_abstract_base_class_Builders); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3444, __pyx_L1_error)
+      __pyx_t_11 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_t_1, __pyx_n_s_Builder, __pyx_n_s_load_locals__load_locals_Builder, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, __pyx_kp_s_An_abstract_base_class_Builders); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3529, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_11);
 
-      /* "capnp/lib/capnp.pyx":3446
+      /* "capnp/lib/capnp.pyx":3531
  *                     class Builder(_DynamicStructBuilder):
  *                         """An abstract base class.  Builders are 'instances' of this class."""
  *                         __metaclass__ = _StructABCMeta             # <<<<<<<<<<<<<<
  *                         __slots__ = []
  *                         _schema = local_module.schema
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_StructABCMeta); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3446, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_StructABCMeta); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3531, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_metaclass, __pyx_t_7) < 0) __PYX_ERR(0, 3446, __pyx_L1_error)
+      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_metaclass, __pyx_t_7) < 0) __PYX_ERR(0, 3531, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3447
+      /* "capnp/lib/capnp.pyx":3532
  *                         """An abstract base class.  Builders are 'instances' of this class."""
  *                         __metaclass__ = _StructABCMeta
  *                         __slots__ = []             # <<<<<<<<<<<<<<
  *                         _schema = local_module.schema
  * 
  */
-      __pyx_t_7 = PyList_New(0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3447, __pyx_L1_error)
+      __pyx_t_7 = PyList_New(0); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3532, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_slots, __pyx_t_7) < 0) __PYX_ERR(0, 3447, __pyx_L1_error)
+      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_slots, __pyx_t_7) < 0) __PYX_ERR(0, 3532, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3448
+      /* "capnp/lib/capnp.pyx":3533
  *                         __metaclass__ = _StructABCMeta
  *                         __slots__ = []
  *                         _schema = local_module.schema             # <<<<<<<<<<<<<<
  * 
  *                         def __new__(self):
  */
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_local_module, __pyx_n_s_schema); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3448, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_local_module, __pyx_n_s_schema); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3533, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_schema_2, __pyx_t_7) < 0) __PYX_ERR(0, 3448, __pyx_L1_error)
+      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_schema_2, __pyx_t_7) < 0) __PYX_ERR(0, 3533, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3450
+      /* "capnp/lib/capnp.pyx":3535
  *                         _schema = local_module.schema
  * 
  *                         def __new__(self):             # <<<<<<<<<<<<<<
  *                             raise TypeError('This is an abstract base class')
  * 
  */
-      __pyx_t_7 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_12SchemaParser_4load_5_load_7Builder_1__new__, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_load_locals__load_locals_Builder_2, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__104)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3450, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_12SchemaParser_4load_5_load_7Builder_1__new__, __Pyx_CYFUNCTION_STATICMETHOD, __pyx_n_s_load_locals__load_locals_Builder_2, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__106)); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3535, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
-      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_new, __pyx_t_7) < 0) __PYX_ERR(0, 3450, __pyx_L1_error)
+      if (__Pyx_SetNameInClass(__pyx_t_11, __pyx_n_s_new, __pyx_t_7) < 0) __PYX_ERR(0, 3535, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3444
+      /* "capnp/lib/capnp.pyx":3529
  *                             raise TypeError('This is an abstract base class')
  * 
  *                     class Builder(_DynamicStructBuilder):             # <<<<<<<<<<<<<<
  *                         """An abstract base class.  Builders are 'instances' of this class."""
  *                         __metaclass__ = _StructABCMeta
  */
-      __pyx_t_7 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_Builder, __pyx_t_1, __pyx_t_11, NULL, 0, 1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3444, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_Builder, __pyx_t_1, __pyx_t_11, NULL, 0, 1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3529, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_XDECREF_SET(__pyx_v_Builder, __pyx_t_7);
       __pyx_t_7 = 0;
       __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":3453
+      /* "capnp/lib/capnp.pyx":3538
  *                             raise TypeError('This is an abstract base class')
  * 
  *                     local_module.Reader = Reader             # <<<<<<<<<<<<<<
  *                     local_module.Builder = Builder
  * 
  */
-      if (__Pyx_PyObject_SetAttrStr(__pyx_v_local_module, __pyx_n_s_Reader, __pyx_v_Reader) < 0) __PYX_ERR(0, 3453, __pyx_L1_error)
+      if (__Pyx_PyObject_SetAttrStr(__pyx_v_local_module, __pyx_n_s_Reader, __pyx_v_Reader) < 0) __PYX_ERR(0, 3538, __pyx_L1_error)
 
-      /* "capnp/lib/capnp.pyx":3454
+      /* "capnp/lib/capnp.pyx":3539
  * 
  *                     local_module.Reader = Reader
  *                     local_module.Builder = Builder             # <<<<<<<<<<<<<<
  * 
  *                     module.__dict__[node.name] = local_module
  */
-      if (__Pyx_PyObject_SetAttrStr(__pyx_v_local_module, __pyx_n_s_Builder, __pyx_v_Builder) < 0) __PYX_ERR(0, 3454, __pyx_L1_error)
+      if (__Pyx_PyObject_SetAttrStr(__pyx_v_local_module, __pyx_n_s_Builder, __pyx_v_Builder) < 0) __PYX_ERR(0, 3539, __pyx_L1_error)
 
-      /* "capnp/lib/capnp.pyx":3456
+      /* "capnp/lib/capnp.pyx":3541
  *                     local_module.Builder = Builder
  * 
  *                     module.__dict__[node.name] = local_module             # <<<<<<<<<<<<<<
  *                 elif proto.isConst:
  *                     module.__dict__[node.name] = schema.as_const_value()
  */
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_module, __pyx_n_s_dict); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3456, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_module, __pyx_n_s_dict); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3541, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3456, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3541, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      if (unlikely(PyObject_SetItem(__pyx_t_1, __pyx_t_3, __pyx_v_local_module) < 0)) __PYX_ERR(0, 3456, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(__pyx_t_1, __pyx_t_3, __pyx_v_local_module) < 0)) __PYX_ERR(0, 3541, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":3432
+      /* "capnp/lib/capnp.pyx":3517
  *                 schema = nodeSchema.get_nested(node.name)
  *                 proto = schema.get_proto()
  *                 if proto.isStruct:             # <<<<<<<<<<<<<<
  *                     local_module = _StructModule(schema.as_struct(), node.name)
  * 
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":3457
+    /* "capnp/lib/capnp.pyx":3542
  * 
  *                     module.__dict__[node.name] = local_module
  *                 elif proto.isConst:             # <<<<<<<<<<<<<<
  *                     module.__dict__[node.name] = schema.as_const_value()
  *                 elif proto.isInterface:
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_proto, __pyx_n_s_isConst); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3457, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_proto, __pyx_n_s_isConst); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3542, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3457, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3542, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     if (__pyx_t_8) {
 
-      /* "capnp/lib/capnp.pyx":3458
+      /* "capnp/lib/capnp.pyx":3543
  *                     module.__dict__[node.name] = local_module
  *                 elif proto.isConst:
  *                     module.__dict__[node.name] = schema.as_const_value()             # <<<<<<<<<<<<<<
  *                 elif proto.isInterface:
  *                     local_module = _InterfaceModule(schema.as_interface(), node.name)
  */
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_as_const_value); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3458, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_as_const_value); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3543, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __pyx_t_11 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
         __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_1);
         if (likely(__pyx_t_11)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
           __Pyx_INCREF(__pyx_t_11);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_1, function);
         }
       }
       __pyx_t_3 = (__pyx_t_11) ? __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_t_11) : __Pyx_PyObject_CallNoArg(__pyx_t_1);
       __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3458, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3543, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_module, __pyx_n_s_dict); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3458, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_module, __pyx_n_s_dict); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3543, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3458, __pyx_L1_error)
+      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3543, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_11);
-      if (unlikely(PyObject_SetItem(__pyx_t_1, __pyx_t_11, __pyx_t_3) < 0)) __PYX_ERR(0, 3458, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(__pyx_t_1, __pyx_t_11, __pyx_t_3) < 0)) __PYX_ERR(0, 3543, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":3457
+      /* "capnp/lib/capnp.pyx":3542
  * 
  *                     module.__dict__[node.name] = local_module
  *                 elif proto.isConst:             # <<<<<<<<<<<<<<
  *                     module.__dict__[node.name] = schema.as_const_value()
  *                 elif proto.isInterface:
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":3459
+    /* "capnp/lib/capnp.pyx":3544
  *                 elif proto.isConst:
  *                     module.__dict__[node.name] = schema.as_const_value()
  *                 elif proto.isInterface:             # <<<<<<<<<<<<<<
  *                     local_module = _InterfaceModule(schema.as_interface(), node.name)
  * 
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_proto, __pyx_n_s_isInterface); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3459, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_proto, __pyx_n_s_isInterface); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3544, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3459, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3544, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     if (__pyx_t_8) {
 
-      /* "capnp/lib/capnp.pyx":3460
+      /* "capnp/lib/capnp.pyx":3545
  *                     module.__dict__[node.name] = schema.as_const_value()
  *                 elif proto.isInterface:
  *                     local_module = _InterfaceModule(schema.as_interface(), node.name)             # <<<<<<<<<<<<<<
  * 
  *                     module.__dict__[node.name] = local_module
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_InterfaceModule); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3460, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_InterfaceModule); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3545, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_11);
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_as_interface); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3460, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_as_interface); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3545, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __pyx_t_6 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
         __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_7);
         if (likely(__pyx_t_6)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
           __Pyx_INCREF(__pyx_t_6);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_7, function);
         }
       }
       __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_7);
       __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3460, __pyx_L1_error)
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3545, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3460, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3545, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __pyx_t_6 = NULL;
       __pyx_t_10 = 0;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_11))) {
         __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_11);
         if (likely(__pyx_t_6)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
@@ -73912,116 +74929,116 @@
           __Pyx_DECREF_SET(__pyx_t_11, function);
           __pyx_t_10 = 1;
         }
       }
       #if CYTHON_FAST_PYCALL
       if (PyFunction_Check(__pyx_t_11)) {
         PyObject *__pyx_temp[3] = {__pyx_t_6, __pyx_t_1, __pyx_t_7};
-        __pyx_t_3 = __Pyx_PyFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3460, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3545, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       } else
       #endif
       #if CYTHON_FAST_PYCCALL
       if (__Pyx_PyFastCFunction_Check(__pyx_t_11)) {
         PyObject *__pyx_temp[3] = {__pyx_t_6, __pyx_t_1, __pyx_t_7};
-        __pyx_t_3 = __Pyx_PyCFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3460, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyCFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3545, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       } else
       #endif
       {
-        __pyx_t_9 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3460, __pyx_L1_error)
+        __pyx_t_9 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3545, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_9);
         if (__pyx_t_6) {
           __Pyx_GIVEREF(__pyx_t_6); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_6); __pyx_t_6 = NULL;
         }
         __Pyx_GIVEREF(__pyx_t_1);
         PyTuple_SET_ITEM(__pyx_t_9, 0+__pyx_t_10, __pyx_t_1);
         __Pyx_GIVEREF(__pyx_t_7);
         PyTuple_SET_ITEM(__pyx_t_9, 1+__pyx_t_10, __pyx_t_7);
         __pyx_t_1 = 0;
         __pyx_t_7 = 0;
-        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_t_9, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3460, __pyx_L1_error)
+        __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_t_9, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3545, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       }
       __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       __Pyx_DECREF_SET(__pyx_v_local_module, __pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":3462
+      /* "capnp/lib/capnp.pyx":3547
  *                     local_module = _InterfaceModule(schema.as_interface(), node.name)
  * 
  *                     module.__dict__[node.name] = local_module             # <<<<<<<<<<<<<<
  *                 elif proto.isEnum:
  *                     local_module = _EnumModule(schema.as_enum(), node.name)
  */
-      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_module, __pyx_n_s_dict); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3462, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_module, __pyx_n_s_dict); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3547, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3462, __pyx_L1_error)
+      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3547, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_11);
-      if (unlikely(PyObject_SetItem(__pyx_t_3, __pyx_t_11, __pyx_v_local_module) < 0)) __PYX_ERR(0, 3462, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(__pyx_t_3, __pyx_t_11, __pyx_v_local_module) < 0)) __PYX_ERR(0, 3547, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
 
-      /* "capnp/lib/capnp.pyx":3459
+      /* "capnp/lib/capnp.pyx":3544
  *                 elif proto.isConst:
  *                     module.__dict__[node.name] = schema.as_const_value()
  *                 elif proto.isInterface:             # <<<<<<<<<<<<<<
  *                     local_module = _InterfaceModule(schema.as_interface(), node.name)
  * 
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":3463
+    /* "capnp/lib/capnp.pyx":3548
  * 
  *                     module.__dict__[node.name] = local_module
  *                 elif proto.isEnum:             # <<<<<<<<<<<<<<
  *                     local_module = _EnumModule(schema.as_enum(), node.name)
  * 
  */
-    __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_proto, __pyx_n_s_isEnum); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3463, __pyx_L1_error)
+    __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_proto, __pyx_n_s_isEnum); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3548, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_11);
-    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_11); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3463, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_IsTrue(__pyx_t_11); if (unlikely(__pyx_t_8 < 0)) __PYX_ERR(0, 3548, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
     if (__pyx_t_8) {
 
-      /* "capnp/lib/capnp.pyx":3464
+      /* "capnp/lib/capnp.pyx":3549
  *                     module.__dict__[node.name] = local_module
  *                 elif proto.isEnum:
  *                     local_module = _EnumModule(schema.as_enum(), node.name)             # <<<<<<<<<<<<<<
  * 
  *                     module.__dict__[node.name] = local_module
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_EnumModule); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3464, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_EnumModule); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3549, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_as_enum); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3464, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_as_enum); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3549, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __pyx_t_1 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_7))) {
         __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_7);
         if (likely(__pyx_t_1)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_7);
           __Pyx_INCREF(__pyx_t_1);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_7, function);
         }
       }
       __pyx_t_9 = (__pyx_t_1) ? __Pyx_PyObject_CallOneArg(__pyx_t_7, __pyx_t_1) : __Pyx_PyObject_CallNoArg(__pyx_t_7);
       __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-      if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3464, __pyx_L1_error)
+      if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 3549, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3464, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3549, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_7);
       __pyx_t_1 = NULL;
       __pyx_t_10 = 0;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
         __pyx_t_1 = PyMethod_GET_SELF(__pyx_t_3);
         if (likely(__pyx_t_1)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
@@ -74030,99 +75047,99 @@
           __Pyx_DECREF_SET(__pyx_t_3, function);
           __pyx_t_10 = 1;
         }
       }
       #if CYTHON_FAST_PYCALL
       if (PyFunction_Check(__pyx_t_3)) {
         PyObject *__pyx_temp[3] = {__pyx_t_1, __pyx_t_9, __pyx_t_7};
-        __pyx_t_11 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3464, __pyx_L1_error)
+        __pyx_t_11 = __Pyx_PyFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3549, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_GOTREF(__pyx_t_11);
         __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       } else
       #endif
       #if CYTHON_FAST_PYCCALL
       if (__Pyx_PyFastCFunction_Check(__pyx_t_3)) {
         PyObject *__pyx_temp[3] = {__pyx_t_1, __pyx_t_9, __pyx_t_7};
-        __pyx_t_11 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3464, __pyx_L1_error)
+        __pyx_t_11 = __Pyx_PyCFunction_FastCall(__pyx_t_3, __pyx_temp+1-__pyx_t_10, 2+__pyx_t_10); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3549, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_GOTREF(__pyx_t_11);
         __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       } else
       #endif
       {
-        __pyx_t_6 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3464, __pyx_L1_error)
+        __pyx_t_6 = PyTuple_New(2+__pyx_t_10); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3549, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_6);
         if (__pyx_t_1) {
           __Pyx_GIVEREF(__pyx_t_1); PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_1); __pyx_t_1 = NULL;
         }
         __Pyx_GIVEREF(__pyx_t_9);
         PyTuple_SET_ITEM(__pyx_t_6, 0+__pyx_t_10, __pyx_t_9);
         __Pyx_GIVEREF(__pyx_t_7);
         PyTuple_SET_ITEM(__pyx_t_6, 1+__pyx_t_10, __pyx_t_7);
         __pyx_t_9 = 0;
         __pyx_t_7 = 0;
-        __pyx_t_11 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3464, __pyx_L1_error)
+        __pyx_t_11 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_t_6, NULL); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3549, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_11);
         __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       }
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_DECREF_SET(__pyx_v_local_module, __pyx_t_11);
       __pyx_t_11 = 0;
 
-      /* "capnp/lib/capnp.pyx":3466
+      /* "capnp/lib/capnp.pyx":3551
  *                     local_module = _EnumModule(schema.as_enum(), node.name)
  * 
  *                     module.__dict__[node.name] = local_module             # <<<<<<<<<<<<<<
  * 
  *                 _load(schema, local_module)
  */
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_module, __pyx_n_s_dict); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3466, __pyx_L1_error)
+      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_module, __pyx_n_s_dict); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 3551, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_11);
-      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3466, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_node, __pyx_n_s_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3551, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      if (unlikely(PyObject_SetItem(__pyx_t_11, __pyx_t_3, __pyx_v_local_module) < 0)) __PYX_ERR(0, 3466, __pyx_L1_error)
+      if (unlikely(PyObject_SetItem(__pyx_t_11, __pyx_t_3, __pyx_v_local_module) < 0)) __PYX_ERR(0, 3551, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":3463
+      /* "capnp/lib/capnp.pyx":3548
  * 
  *                     module.__dict__[node.name] = local_module
  *                 elif proto.isEnum:             # <<<<<<<<<<<<<<
  *                     local_module = _EnumModule(schema.as_enum(), node.name)
  * 
  */
     }
     __pyx_L5:;
 
-    /* "capnp/lib/capnp.pyx":3468
+    /* "capnp/lib/capnp.pyx":3553
  *                     module.__dict__[node.name] = local_module
  * 
  *                 _load(schema, local_module)             # <<<<<<<<<<<<<<
  *         if not _os.path.isfile(file_name):
  *             raise IOError("File not found: " + file_name)
  */
-    if (unlikely(!__pyx_cur_scope->__pyx_v__load)) { __Pyx_RaiseClosureNameError("_load"); __PYX_ERR(0, 3468, __pyx_L1_error) }
-    __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_12SchemaParser_4load__load(__pyx_cur_scope->__pyx_v__load, __pyx_v_schema, __pyx_v_local_module); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3468, __pyx_L1_error)
+    if (unlikely(!__pyx_cur_scope->__pyx_v__load)) { __Pyx_RaiseClosureNameError("_load"); __PYX_ERR(0, 3553, __pyx_L1_error) }
+    __pyx_t_3 = __pyx_pf_5capnp_3lib_5capnp_12SchemaParser_4load__load(__pyx_cur_scope->__pyx_v__load, __pyx_v_schema, __pyx_v_local_module); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3553, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":3427
+    /* "capnp/lib/capnp.pyx":3512
  *             self.modules_by_id[nodeProto.id] = module
  * 
  *             for node in nodeProto.nestedNodes:             # <<<<<<<<<<<<<<
  *                 local_module = _ModuleType(node.name)
  * 
  */
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":3420
+  /* "capnp/lib/capnp.pyx":3505
  * 
  *         """
  *         def _load(nodeSchema, module):             # <<<<<<<<<<<<<<
  *             module._nodeSchema = nodeSchema
  *             nodeProto = nodeSchema.get_proto()
  */
 
@@ -74148,24 +75165,24 @@
   __Pyx_XDECREF(__pyx_v_Reader);
   __Pyx_XDECREF(__pyx_v_Builder);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3387
+/* "capnp/lib/capnp.pyx":3472
  *         return ret
  * 
  *     def load(self, file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *         """Load a Cap'n Proto schema from a file
  * 
  */
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_12SchemaParser_6load(struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *__pyx_v_self, PyObject *__pyx_v_file_name, PyObject *__pyx_v_display_name, PyObject *__pyx_v_imports) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *__pyx_cur_scope;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *__pyx_cur_scope;
   PyObject *__pyx_v_module = NULL;
   struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *__pyx_v_parser = NULL;
   PyObject *__pyx_v_filtered_imports = NULL;
   PyObject *__pyx_v_imp = NULL;
   PyObject *__pyx_v_fileSchema = NULL;
   PyObject *__pyx_v_abs_path = NULL;
   PyObject *__pyx_r = NULL;
@@ -74179,522 +75196,522 @@
   PyObject *(*__pyx_t_7)(PyObject *);
   PyObject *__pyx_t_8 = NULL;
   int __pyx_t_9;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("load", 0);
-  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_26_load(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_26_load, __pyx_empty_tuple, NULL);
+  __pyx_cur_scope = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *)__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_27_load(__pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_27_load, __pyx_empty_tuple, NULL);
   if (unlikely(!__pyx_cur_scope)) {
-    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *)Py_None);
+    __pyx_cur_scope = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *)Py_None);
     __Pyx_INCREF(Py_None);
-    __PYX_ERR(0, 3387, __pyx_L1_error)
+    __PYX_ERR(0, 3472, __pyx_L1_error)
   } else {
     __Pyx_GOTREF(__pyx_cur_scope);
   }
   __pyx_cur_scope->__pyx_v_self = __pyx_v_self;
   __Pyx_INCREF((PyObject *)__pyx_cur_scope->__pyx_v_self);
   __Pyx_GIVEREF((PyObject *)__pyx_cur_scope->__pyx_v_self);
   __Pyx_INCREF(__pyx_v_display_name);
 
-  /* "capnp/lib/capnp.pyx":3420
+  /* "capnp/lib/capnp.pyx":3505
  * 
  *         """
  *         def _load(nodeSchema, module):             # <<<<<<<<<<<<<<
  *             module._nodeSchema = nodeSchema
  *             nodeProto = nodeSchema.get_proto()
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_12SchemaParser_4load_1_load, 0, __pyx_n_s_load_locals__load, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__106)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3420, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_12SchemaParser_4load_1_load, 0, __pyx_n_s_load_locals__load, ((PyObject*)__pyx_cur_scope), __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__108)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3505, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __pyx_cur_scope->__pyx_v__load = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3469
+  /* "capnp/lib/capnp.pyx":3554
  * 
  *                 _load(schema, local_module)
  *         if not _os.path.isfile(file_name):             # <<<<<<<<<<<<<<
  *             raise IOError("File not found: " + file_name)
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3469, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3554, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3469, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3554, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_isfile); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3469, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_isfile); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3554, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_file_name) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_file_name);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3469, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3554, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 3469, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 3554, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_5 = ((!__pyx_t_4) != 0);
   if (unlikely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":3470
+    /* "capnp/lib/capnp.pyx":3555
  *                 _load(schema, local_module)
  *         if not _os.path.isfile(file_name):
  *             raise IOError("File not found: " + file_name)             # <<<<<<<<<<<<<<
  * 
  *         if not file_name.endswith('.capnp'):
  */
-    __pyx_t_1 = PyNumber_Add(__pyx_kp_s_File_not_found, __pyx_v_file_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3470, __pyx_L1_error)
+    __pyx_t_1 = PyNumber_Add(__pyx_kp_s_File_not_found, __pyx_v_file_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3555, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_IOError, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3470, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_builtin_IOError, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3555, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 3470, __pyx_L1_error)
+    __PYX_ERR(0, 3555, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":3469
+    /* "capnp/lib/capnp.pyx":3554
  * 
  *                 _load(schema, local_module)
  *         if not _os.path.isfile(file_name):             # <<<<<<<<<<<<<<
  *             raise IOError("File not found: " + file_name)
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3472
+  /* "capnp/lib/capnp.pyx":3557
  *             raise IOError("File not found: " + file_name)
  * 
  *         if not file_name.endswith('.capnp'):             # <<<<<<<<<<<<<<
  *             raise ValueError("File does not end with .capnp, {}".format(file_name))
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_file_name, __pyx_n_s_endswith); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3472, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_file_name, __pyx_n_s_endswith); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3557, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_1, function);
     }
   }
   __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_3, __pyx_kp_s_capnp) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_kp_s_capnp);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3472, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3557, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 3472, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 3557, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_4 = ((!__pyx_t_5) != 0);
   if (unlikely(__pyx_t_4)) {
 
-    /* "capnp/lib/capnp.pyx":3473
+    /* "capnp/lib/capnp.pyx":3558
  * 
  *         if not file_name.endswith('.capnp'):
  *             raise ValueError("File does not end with .capnp, {}".format(file_name))             # <<<<<<<<<<<<<<
  * 
  *         if display_name is None:
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_File_does_not_end_with_capnp, __pyx_n_s_format); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3473, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_File_does_not_end_with_capnp, __pyx_n_s_format); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3558, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
     __pyx_t_2 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_3, __pyx_v_file_name) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_file_name);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3473, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3558, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3473, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_ValueError, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3558, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_Raise(__pyx_t_1, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __PYX_ERR(0, 3473, __pyx_L1_error)
+    __PYX_ERR(0, 3558, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":3472
+    /* "capnp/lib/capnp.pyx":3557
  *             raise IOError("File not found: " + file_name)
  * 
  *         if not file_name.endswith('.capnp'):             # <<<<<<<<<<<<<<
  *             raise ValueError("File does not end with .capnp, {}".format(file_name))
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3475
+  /* "capnp/lib/capnp.pyx":3560
  *             raise ValueError("File does not end with .capnp, {}".format(file_name))
  * 
  *         if display_name is None:             # <<<<<<<<<<<<<<
  *             display_name = _os.path.basename(file_name)
  * 
  */
   __pyx_t_4 = (__pyx_v_display_name == Py_None);
   __pyx_t_5 = (__pyx_t_4 != 0);
   if (__pyx_t_5) {
 
-    /* "capnp/lib/capnp.pyx":3476
+    /* "capnp/lib/capnp.pyx":3561
  * 
  *         if display_name is None:
  *             display_name = _os.path.basename(file_name)             # <<<<<<<<<<<<<<
  * 
  *         module = _ModuleType(display_name)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3476, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3561, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3476, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3561, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_basename); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3476, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_basename); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3561, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_file_name) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_file_name);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3476, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3561, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __Pyx_DECREF_SET(__pyx_v_display_name, __pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3475
+    /* "capnp/lib/capnp.pyx":3560
  *             raise ValueError("File does not end with .capnp, {}".format(file_name))
  * 
  *         if display_name is None:             # <<<<<<<<<<<<<<
  *             display_name = _os.path.basename(file_name)
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3478
+  /* "capnp/lib/capnp.pyx":3563
  *             display_name = _os.path.basename(file_name)
  * 
  *         module = _ModuleType(display_name)             # <<<<<<<<<<<<<<
  *         parser = self
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_ModuleType); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3478, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_ModuleType); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3563, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_display_name) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_display_name);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3478, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3563, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_module = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3479
+  /* "capnp/lib/capnp.pyx":3564
  * 
  *         module = _ModuleType(display_name)
  *         parser = self             # <<<<<<<<<<<<<<
  * 
  *         module._parser = parser
  */
   __Pyx_INCREF(((PyObject *)__pyx_cur_scope->__pyx_v_self));
   __pyx_v_parser = __pyx_cur_scope->__pyx_v_self;
 
-  /* "capnp/lib/capnp.pyx":3481
+  /* "capnp/lib/capnp.pyx":3566
  *         parser = self
  * 
  *         module._parser = parser             # <<<<<<<<<<<<<<
  * 
  *         # Some systems (Windows running pytest) add non-directories to the sys.path used for imports
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_parser, ((PyObject *)__pyx_v_parser)) < 0) __PYX_ERR(0, 3481, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_parser, ((PyObject *)__pyx_v_parser)) < 0) __PYX_ERR(0, 3566, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3485
+  /* "capnp/lib/capnp.pyx":3570
  *         # Some systems (Windows running pytest) add non-directories to the sys.path used for imports
  *         # Filter these out so kj doesn't implode when searching paths
  *         filtered_imports = []             # <<<<<<<<<<<<<<
  *         for imp in imports:
  *             if _os.path.isdir(imp):
  */
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3485, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3570, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_filtered_imports = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3486
+  /* "capnp/lib/capnp.pyx":3571
  *         # Filter these out so kj doesn't implode when searching paths
  *         filtered_imports = []
  *         for imp in imports:             # <<<<<<<<<<<<<<
  *             if _os.path.isdir(imp):
  *                 filtered_imports.append(imp)
  */
   if (likely(PyList_CheckExact(__pyx_v_imports)) || PyTuple_CheckExact(__pyx_v_imports)) {
     __pyx_t_1 = __pyx_v_imports; __Pyx_INCREF(__pyx_t_1); __pyx_t_6 = 0;
     __pyx_t_7 = NULL;
   } else {
-    __pyx_t_6 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_imports); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3486, __pyx_L1_error)
+    __pyx_t_6 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_imports); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3571, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_7 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3486, __pyx_L1_error)
+    __pyx_t_7 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3571, __pyx_L1_error)
   }
   for (;;) {
     if (likely(!__pyx_t_7)) {
       if (likely(PyList_CheckExact(__pyx_t_1))) {
         if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 3486, __pyx_L1_error)
+        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 3571, __pyx_L1_error)
         #else
-        __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3486, __pyx_L1_error)
+        __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3571, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         #endif
       } else {
         if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 3486, __pyx_L1_error)
+        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 3571, __pyx_L1_error)
         #else
-        __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3486, __pyx_L1_error)
+        __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3571, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         #endif
       }
     } else {
       __pyx_t_2 = __pyx_t_7(__pyx_t_1);
       if (unlikely(!__pyx_t_2)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 3486, __pyx_L1_error)
+          else __PYX_ERR(0, 3571, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_2);
     }
     __Pyx_XDECREF_SET(__pyx_v_imp, __pyx_t_2);
     __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":3487
+    /* "capnp/lib/capnp.pyx":3572
  *         filtered_imports = []
  *         for imp in imports:
  *             if _os.path.isdir(imp):             # <<<<<<<<<<<<<<
  *                 filtered_imports.append(imp)
  *         fileSchema = parser._parse_disk_file(display_name, file_name, filtered_imports)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_os); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3487, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_os); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3572, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_path); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3487, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_path); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3572, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_isdir); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3487, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_isdir); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3572, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     __pyx_t_8 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_8 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_8)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_8);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_8) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_8, __pyx_v_imp) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_imp);
     __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3487, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3572, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 3487, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_5 < 0)) __PYX_ERR(0, 3572, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     if (__pyx_t_5) {
 
-      /* "capnp/lib/capnp.pyx":3488
+      /* "capnp/lib/capnp.pyx":3573
  *         for imp in imports:
  *             if _os.path.isdir(imp):
  *                 filtered_imports.append(imp)             # <<<<<<<<<<<<<<
  *         fileSchema = parser._parse_disk_file(display_name, file_name, filtered_imports)
  *         _load(fileSchema, module)
  */
-      __pyx_t_9 = __Pyx_PyList_Append(__pyx_v_filtered_imports, __pyx_v_imp); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 3488, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyList_Append(__pyx_v_filtered_imports, __pyx_v_imp); if (unlikely(__pyx_t_9 == ((int)-1))) __PYX_ERR(0, 3573, __pyx_L1_error)
 
-      /* "capnp/lib/capnp.pyx":3487
+      /* "capnp/lib/capnp.pyx":3572
  *         filtered_imports = []
  *         for imp in imports:
  *             if _os.path.isdir(imp):             # <<<<<<<<<<<<<<
  *                 filtered_imports.append(imp)
  *         fileSchema = parser._parse_disk_file(display_name, file_name, filtered_imports)
  */
     }
 
-    /* "capnp/lib/capnp.pyx":3486
+    /* "capnp/lib/capnp.pyx":3571
  *         # Filter these out so kj doesn't implode when searching paths
  *         filtered_imports = []
  *         for imp in imports:             # <<<<<<<<<<<<<<
  *             if _os.path.isdir(imp):
  *                 filtered_imports.append(imp)
  */
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3489
+  /* "capnp/lib/capnp.pyx":3574
  *             if _os.path.isdir(imp):
  *                 filtered_imports.append(imp)
  *         fileSchema = parser._parse_disk_file(display_name, file_name, filtered_imports)             # <<<<<<<<<<<<<<
  *         _load(fileSchema, module)
  * 
  */
   try {
     __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp_SchemaParser *)__pyx_v_parser->__pyx_vtab)->_parse_disk_file(__pyx_v_parser, __pyx_v_display_name, __pyx_v_file_name, __pyx_v_filtered_imports, 0);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3489, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3574, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3489, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3574, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_fileSchema = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3490
+  /* "capnp/lib/capnp.pyx":3575
  *                 filtered_imports.append(imp)
  *         fileSchema = parser._parse_disk_file(display_name, file_name, filtered_imports)
  *         _load(fileSchema, module)             # <<<<<<<<<<<<<<
  * 
  *         abs_path = _os.path.abspath(file_name)
  */
-  __pyx_t_1 = __pyx_pf_5capnp_3lib_5capnp_12SchemaParser_4load__load(__pyx_cur_scope->__pyx_v__load, __pyx_v_fileSchema, __pyx_v_module); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3490, __pyx_L1_error)
+  __pyx_t_1 = __pyx_pf_5capnp_3lib_5capnp_12SchemaParser_4load__load(__pyx_cur_scope->__pyx_v__load, __pyx_v_fileSchema, __pyx_v_module); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3575, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3492
+  /* "capnp/lib/capnp.pyx":3577
  *         _load(fileSchema, module)
  * 
  *         abs_path = _os.path.abspath(file_name)             # <<<<<<<<<<<<<<
  *         module.__path__ = [_os.path.dirname(abs_path)]
  *         module.__file__ = abs_path
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3492, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3577, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3492, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3577, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_abspath); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3492, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_abspath); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3577, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_file_name) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_file_name);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3492, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3577, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_abs_path = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3493
+  /* "capnp/lib/capnp.pyx":3578
  * 
  *         abs_path = _os.path.abspath(file_name)
  *         module.__path__ = [_os.path.dirname(abs_path)]             # <<<<<<<<<<<<<<
  *         module.__file__ = abs_path
  *         module.schema = fileSchema
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3493, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3578, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3493, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3578, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_dirname); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3493, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_dirname); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3578, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_abs_path) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_abs_path);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3493, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3578, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3493, __pyx_L1_error)
+  __pyx_t_2 = PyList_New(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3578, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_1);
   PyList_SET_ITEM(__pyx_t_2, 0, __pyx_t_1);
   __pyx_t_1 = 0;
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_path_2, __pyx_t_2) < 0) __PYX_ERR(0, 3493, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_path_2, __pyx_t_2) < 0) __PYX_ERR(0, 3578, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":3494
+  /* "capnp/lib/capnp.pyx":3579
  *         abs_path = _os.path.abspath(file_name)
  *         module.__path__ = [_os.path.dirname(abs_path)]
  *         module.__file__ = abs_path             # <<<<<<<<<<<<<<
  *         module.schema = fileSchema
  * 
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_file_2, __pyx_v_abs_path) < 0) __PYX_ERR(0, 3494, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_file_2, __pyx_v_abs_path) < 0) __PYX_ERR(0, 3579, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3495
+  /* "capnp/lib/capnp.pyx":3580
  *         module.__path__ = [_os.path.dirname(abs_path)]
  *         module.__file__ = abs_path
  *         module.schema = fileSchema             # <<<<<<<<<<<<<<
  * 
  *         return module
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_schema, __pyx_v_fileSchema) < 0) __PYX_ERR(0, 3495, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_module, __pyx_n_s_schema, __pyx_v_fileSchema) < 0) __PYX_ERR(0, 3580, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3497
+  /* "capnp/lib/capnp.pyx":3582
  *         module.schema = fileSchema
  * 
  *         return module             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_module);
   __pyx_r = __pyx_v_module;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3387
+  /* "capnp/lib/capnp.pyx":3472
  *         return ret
  * 
  *     def load(self, file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *         """Load a Cap'n Proto schema from a file
  * 
  */
 
@@ -74859,15 +75876,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__107, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__109, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -74916,15 +75933,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__108, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__110, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -74939,15 +75956,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp.SchemaParser.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3505
+/* "capnp/lib/capnp.pyx":3590
  *     .. warning:: Don't ever instantiate this class directly. It is only used for inheritance.
  *     """
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -74962,36 +75979,36 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_15_MessageBuilder___dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3506
+  /* "capnp/lib/capnp.pyx":3591
  *     """
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self):
  */
   delete __pyx_v_self->thisptr;
 
-  /* "capnp/lib/capnp.pyx":3505
+  /* "capnp/lib/capnp.pyx":3590
  *     .. warning:: Don't ever instantiate this class directly. It is only used for inheritance.
  *     """
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":3508
+/* "capnp/lib/capnp.pyx":3593
  *         del self.thisptr
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         raise NotImplementedError("This is an abstract base class. You should use MallocMessageBuilder instead")
  * 
  */
 
@@ -75016,28 +76033,28 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3509
+  /* "capnp/lib/capnp.pyx":3594
  * 
  *     def __init__(self):
  *         raise NotImplementedError("This is an abstract base class. You should use MallocMessageBuilder instead")             # <<<<<<<<<<<<<<
  * 
  *     cpdef init_root(self, schema):
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__109, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3509, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__111, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3594, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(0, 3509, __pyx_L1_error)
+  __PYX_ERR(0, 3594, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3508
+  /* "capnp/lib/capnp.pyx":3593
  *         del self.thisptr
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         raise NotImplementedError("This is an abstract base class. You should use MallocMessageBuilder instead")
  * 
  */
 
@@ -75046,15 +76063,15 @@
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_AddTraceback("capnp.lib.capnp._MessageBuilder.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3511
+/* "capnp/lib/capnp.pyx":3596
  *         raise NotImplementedError("This is an abstract base class. You should use MallocMessageBuilder instead")
  * 
  *     cpdef init_root(self, schema):             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto structs
  * 
  */
 
@@ -75079,15 +76096,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init_root); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3511, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_init_root); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3596, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_15_MessageBuilder_5init_root)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -75096,15 +76113,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3511, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3596, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -75117,84 +76134,84 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3528
+  /* "capnp/lib/capnp.pyx":3613
  *         """
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 3528, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 3613, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":3529
+    /* "capnp/lib/capnp.pyx":3614
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3529, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3614, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3529, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3614, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3528
+    /* "capnp/lib/capnp.pyx":3613
  *         """
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":3531
+  /* "capnp/lib/capnp.pyx":3616
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  *         return _DynamicStructBuilder()._init(self.thisptr.initRootDynamicStruct(s._thisptr()), self, True)
  * 
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3531, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3616, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":3532
+  /* "capnp/lib/capnp.pyx":3617
  *         else:
  *             s = schema
  *         return _DynamicStructBuilder()._init(self.thisptr.initRootDynamicStruct(s._thisptr()), self, True)             # <<<<<<<<<<<<<<
  * 
  *     cpdef get_root(self, schema) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3532, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3617, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_7.__pyx_n = 1;
   __pyx_t_7.isRoot = 1;
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1), (( ::capnp::DynamicStruct::Builder)__pyx_v_self->thisptr->initRoot< ::capnp::DynamicStruct>((( ::capnp::StructSchema)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s)))), ((PyObject *)__pyx_v_self), &__pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3532, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1), (( ::capnp::DynamicStruct::Builder)__pyx_v_self->thisptr->initRoot< ::capnp::DynamicStruct>((( ::capnp::StructSchema)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s)))), ((PyObject *)__pyx_v_self), &__pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3617, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3511
+  /* "capnp/lib/capnp.pyx":3596
  *         raise NotImplementedError("This is an abstract base class. You should use MallocMessageBuilder instead")
  * 
  *     cpdef init_root(self, schema):             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto structs
  * 
  */
 
@@ -75232,15 +76249,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("init_root", 0);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_init_root(__pyx_v_self, __pyx_v_schema, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3511, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_init_root(__pyx_v_self, __pyx_v_schema, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3596, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -75249,15 +76266,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3534
+/* "capnp/lib/capnp.pyx":3619
  *         return _DynamicStructBuilder()._init(self.thisptr.initRootDynamicStruct(s._thisptr()), self, True)
  * 
  *     cpdef get_root(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto structs, from an already pre-written buffer
  * 
  */
 
@@ -75282,15 +76299,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_root); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3534, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_root); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3619, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_15_MessageBuilder_7get_root)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -75299,15 +76316,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3534, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3619, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -75320,84 +76337,84 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3553
+  /* "capnp/lib/capnp.pyx":3638
  *         """
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 3553, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 3638, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":3554
+    /* "capnp/lib/capnp.pyx":3639
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3554, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3639, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3554, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3639, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3553
+    /* "capnp/lib/capnp.pyx":3638
  *         """
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":3556
+  /* "capnp/lib/capnp.pyx":3641
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  *         return _DynamicStructBuilder()._init(self.thisptr.getRootDynamicStruct(s._thisptr()), self, True)
  * 
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3556, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3641, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":3557
+  /* "capnp/lib/capnp.pyx":3642
  *         else:
  *             s = schema
  *         return _DynamicStructBuilder()._init(self.thisptr.getRootDynamicStruct(s._thisptr()), self, True)             # <<<<<<<<<<<<<<
  * 
  *     cpdef get_root_as_any(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3557, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3642, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_7.__pyx_n = 1;
   __pyx_t_7.isRoot = 1;
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1), (( ::capnp::DynamicStruct::Builder)__pyx_v_self->thisptr->getRoot< ::capnp::DynamicStruct>((( ::capnp::StructSchema)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s)))), ((PyObject *)__pyx_v_self), &__pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3557, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *)__pyx_t_1), (( ::capnp::DynamicStruct::Builder)__pyx_v_self->thisptr->getRoot< ::capnp::DynamicStruct>((( ::capnp::StructSchema)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s)))), ((PyObject *)__pyx_v_self), &__pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3642, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3534
+  /* "capnp/lib/capnp.pyx":3619
  *         return _DynamicStructBuilder()._init(self.thisptr.initRootDynamicStruct(s._thisptr()), self, True)
  * 
  *     cpdef get_root(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto structs, from an already pre-written buffer
  * 
  */
 
@@ -75437,18 +76454,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_root", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_get_root(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3534, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3619, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3534, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3619, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -75458,15 +76475,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3559
+/* "capnp/lib/capnp.pyx":3644
  *         return _DynamicStructBuilder()._init(self.thisptr.getRootDynamicStruct(s._thisptr()), self, True)
  * 
  *     cpdef get_root_as_any(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for getting a Cap'n Proto AnyPointer, from an already pre-written buffer
  * 
  */
 
@@ -75487,15 +76504,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_root_as_any); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3559, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_root_as_any); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3644, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_15_MessageBuilder_9get_root_as_any)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -75504,15 +76521,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3559, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3644, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -75525,32 +76542,32 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3567
+  /* "capnp/lib/capnp.pyx":3652
  *         :return: An AnyPointer that you can set fields in
  *         """
  *         return _DynamicObjectBuilder()._init(self.thisptr.getRootAnyPointer(), self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef set_root(self, value) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3567, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3652, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_t_1), (( ::capnp::AnyPointer::Builder)__pyx_v_self->thisptr->getRoot< ::capnp::AnyPointer>()), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3567, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectBuilder *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *)__pyx_t_1), (( ::capnp::AnyPointer::Builder)__pyx_v_self->thisptr->getRoot< ::capnp::AnyPointer>()), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3652, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3559
+  /* "capnp/lib/capnp.pyx":3644
  *         return _DynamicStructBuilder()._init(self.thisptr.getRootDynamicStruct(s._thisptr()), self, True)
  * 
  *     cpdef get_root_as_any(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for getting a Cap'n Proto AnyPointer, from an already pre-written buffer
  * 
  */
 
@@ -75589,18 +76606,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_root_as_any", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_get_root_as_any(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3559, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3644, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3559, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3644, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -75610,15 +76627,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3569
+/* "capnp/lib/capnp.pyx":3654
  *         return _DynamicObjectBuilder()._init(self.thisptr.getRootAnyPointer(), self)
  * 
  *     cpdef set_root(self, value) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto structs by copying from an existing struct
  * 
  */
 
@@ -75642,15 +76659,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set_root); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3569, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_set_root); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3654, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_15_MessageBuilder_11set_root)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -75659,15 +76676,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_value) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_value);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3569, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3654, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -75680,147 +76697,147 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3577
+  /* "capnp/lib/capnp.pyx":3662
  *         :rtype: void
  *         """
  *         value_type = type(value)             # <<<<<<<<<<<<<<
  *         if value_type is _DynamicStructBuilder:
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value.as_reader()).thisptr)
  */
   __Pyx_INCREF(((PyObject *)Py_TYPE(__pyx_v_value)));
   __pyx_v_value_type = ((PyTypeObject*)((PyObject *)Py_TYPE(__pyx_v_value)));
 
-  /* "capnp/lib/capnp.pyx":3578
+  /* "capnp/lib/capnp.pyx":3663
  *         """
  *         value_type = type(value)
  *         if value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value.as_reader()).thisptr)
  *             return self.get_root(value.schema)
  */
   __pyx_t_5 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder);
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":3579
+    /* "capnp/lib/capnp.pyx":3664
  *         value_type = type(value)
  *         if value_type is _DynamicStructBuilder:
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value.as_reader()).thisptr)             # <<<<<<<<<<<<<<
  *             return self.get_root(value.schema)
  *         elif value_type is _DynamicStructReader:
  */
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_as_reader); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3579, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_as_reader); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3664, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_3)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
         __Pyx_INCREF(__pyx_t_3);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_2, function);
       }
     }
     __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3579, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3664, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_v_self->thisptr->setRoot< ::capnp::DynamicStruct::Reader>((( ::capnp::DynamicStruct::Reader)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->thisptr));
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3580
+    /* "capnp/lib/capnp.pyx":3665
  *         if value_type is _DynamicStructBuilder:
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value.as_reader()).thisptr)
  *             return self.get_root(value.schema)             # <<<<<<<<<<<<<<
  *         elif value_type is _DynamicStructReader:
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value).thisptr)
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3580, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3665, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     try {
       __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageBuilder *)__pyx_v_self->__pyx_vtab)->get_root(__pyx_v_self, __pyx_t_1, 0);
-      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3580, __pyx_L1_error)
+      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3665, __pyx_L1_error)
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 3580, __pyx_L1_error)
+      __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 3665, __pyx_L1_error)
     }
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":3578
+    /* "capnp/lib/capnp.pyx":3663
  *         """
  *         value_type = type(value)
  *         if value_type is _DynamicStructBuilder:             # <<<<<<<<<<<<<<
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value.as_reader()).thisptr)
  *             return self.get_root(value.schema)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3581
+  /* "capnp/lib/capnp.pyx":3666
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value.as_reader()).thisptr)
  *             return self.get_root(value.schema)
  *         elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value).thisptr)
  *             return self.get_root(value.schema)
  */
   __pyx_t_6 = (__pyx_v_value_type == __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader);
   __pyx_t_5 = (__pyx_t_6 != 0);
   if (__pyx_t_5) {
 
-    /* "capnp/lib/capnp.pyx":3582
+    /* "capnp/lib/capnp.pyx":3667
  *             return self.get_root(value.schema)
  *         elif value_type is _DynamicStructReader:
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value).thisptr)             # <<<<<<<<<<<<<<
  *             return self.get_root(value.schema)
  * 
  */
     __pyx_v_self->thisptr->setRoot< ::capnp::DynamicStruct::Reader>((( ::capnp::DynamicStruct::Reader)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_v_value)->thisptr));
 
-    /* "capnp/lib/capnp.pyx":3583
+    /* "capnp/lib/capnp.pyx":3668
  *         elif value_type is _DynamicStructReader:
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value).thisptr)
  *             return self.get_root(value.schema)             # <<<<<<<<<<<<<<
  * 
  *     cpdef get_segments_for_output(self) except +reraise_kj_exception:
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3583, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_schema); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3668, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     try {
       __pyx_t_1 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__MessageBuilder *)__pyx_v_self->__pyx_vtab)->get_root(__pyx_v_self, __pyx_t_2, 0);
-      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3583, __pyx_L1_error)
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3668, __pyx_L1_error)
     } catch(...) {
-      reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-      __PYX_ERR(0, 3583, __pyx_L1_error)
+      __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+      __PYX_ERR(0, 3668, __pyx_L1_error)
     }
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     __pyx_r = __pyx_t_1;
     __pyx_t_1 = 0;
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":3581
+    /* "capnp/lib/capnp.pyx":3666
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value.as_reader()).thisptr)
  *             return self.get_root(value.schema)
  *         elif value_type is _DynamicStructReader:             # <<<<<<<<<<<<<<
  *             self.thisptr.setRootDynamicStruct((<_DynamicStructReader>value).thisptr)
  *             return self.get_root(value.schema)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3569
+  /* "capnp/lib/capnp.pyx":3654
  *         return _DynamicObjectBuilder()._init(self.thisptr.getRootAnyPointer(), self)
  * 
  *     cpdef set_root(self, value) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto structs by copying from an existing struct
  * 
  */
 
@@ -75862,18 +76879,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("set_root", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_set_root(__pyx_v_self, __pyx_v_value, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3569, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3654, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3569, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3654, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -75883,15 +76900,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3585
+/* "capnp/lib/capnp.pyx":3670
  *             return self.get_root(value.schema)
  * 
  *     cpdef get_segments_for_output(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         segments = self.thisptr.getSegmentsForOutput()
  *         res = []
  */
 
@@ -75922,15 +76939,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_segments_for_output); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3585, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_segments_for_output); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3670, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_15_MessageBuilder_13get_segments_for_output)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -75939,15 +76956,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3585, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3670, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -75960,100 +76977,100 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3586
+  /* "capnp/lib/capnp.pyx":3671
  * 
  *     cpdef get_segments_for_output(self) except +reraise_kj_exception:
  *         segments = self.thisptr.getSegmentsForOutput()             # <<<<<<<<<<<<<<
  *         res = []
  *         cdef const char* ptr
  */
   __pyx_v_segments = __pyx_v_self->thisptr->getSegmentsForOutput();
 
-  /* "capnp/lib/capnp.pyx":3587
+  /* "capnp/lib/capnp.pyx":3672
  *     cpdef get_segments_for_output(self) except +reraise_kj_exception:
  *         segments = self.thisptr.getSegmentsForOutput()
  *         res = []             # <<<<<<<<<<<<<<
  *         cdef const char* ptr
  *         cdef bytes segment_bytes
  */
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3587, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3672, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_res = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3590
+  /* "capnp/lib/capnp.pyx":3675
  *         cdef const char* ptr
  *         cdef bytes segment_bytes
  *         for i in range(0, segments.size()):             # <<<<<<<<<<<<<<
  *             segment = segments[i]
  *             ptr = <const char *> segment.begin()
  */
   __pyx_t_5 = __pyx_v_segments.size();
   __pyx_t_6 = __pyx_t_5;
   for (__pyx_t_7 = 0; __pyx_t_7 < __pyx_t_6; __pyx_t_7+=1) {
     __pyx_v_i = __pyx_t_7;
 
-    /* "capnp/lib/capnp.pyx":3591
+    /* "capnp/lib/capnp.pyx":3676
  *         cdef bytes segment_bytes
  *         for i in range(0, segments.size()):
  *             segment = segments[i]             # <<<<<<<<<<<<<<
  *             ptr = <const char *> segment.begin()
  *             segment_bytes = ptr[:8*segment.size()]
  */
     __pyx_v_segment = (__pyx_v_segments[__pyx_v_i]);
 
-    /* "capnp/lib/capnp.pyx":3592
+    /* "capnp/lib/capnp.pyx":3677
  *         for i in range(0, segments.size()):
  *             segment = segments[i]
  *             ptr = <const char *> segment.begin()             # <<<<<<<<<<<<<<
  *             segment_bytes = ptr[:8*segment.size()]
  *             res.append(segment_bytes)
  */
     __pyx_v_ptr = ((char const *)__pyx_v_segment.begin());
 
-    /* "capnp/lib/capnp.pyx":3593
+    /* "capnp/lib/capnp.pyx":3678
  *             segment = segments[i]
  *             ptr = <const char *> segment.begin()
  *             segment_bytes = ptr[:8*segment.size()]             # <<<<<<<<<<<<<<
  *             res.append(segment_bytes)
  *         return res
  */
-    __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(__pyx_v_ptr + 0, (8 * __pyx_v_segment.size()) - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3593, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyBytes_FromStringAndSize(__pyx_v_ptr + 0, (8 * __pyx_v_segment.size()) - 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3678, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_XDECREF_SET(__pyx_v_segment_bytes, ((PyObject*)__pyx_t_1));
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3594
+    /* "capnp/lib/capnp.pyx":3679
  *             ptr = <const char *> segment.begin()
  *             segment_bytes = ptr[:8*segment.size()]
  *             res.append(segment_bytes)             # <<<<<<<<<<<<<<
  *         return res
  * 
  */
-    __pyx_t_8 = __Pyx_PyList_Append(__pyx_v_res, __pyx_v_segment_bytes); if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 3594, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyList_Append(__pyx_v_res, __pyx_v_segment_bytes); if (unlikely(__pyx_t_8 == ((int)-1))) __PYX_ERR(0, 3679, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":3595
+  /* "capnp/lib/capnp.pyx":3680
  *             segment_bytes = ptr[:8*segment.size()]
  *             res.append(segment_bytes)
  *         return res             # <<<<<<<<<<<<<<
  * 
  *     cpdef new_orphan(self, schema) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_res);
   __pyx_r = __pyx_v_res;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3585
+  /* "capnp/lib/capnp.pyx":3670
  *             return self.get_root(value.schema)
  * 
  *     cpdef get_segments_for_output(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         segments = self.thisptr.getSegmentsForOutput()
  *         res = []
  */
 
@@ -76094,18 +77111,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_segments_for_output", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_get_segments_for_output(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3585, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3670, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3585, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3670, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -76115,15 +77132,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3597
+/* "capnp/lib/capnp.pyx":3682
  *         return res
  * 
  *     cpdef new_orphan(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto orphans
  * 
  */
 
@@ -76147,15 +77164,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_new_orphan); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3597, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_new_orphan); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3682, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_15_MessageBuilder_15new_orphan)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -76164,15 +77181,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3597, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3682, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -76185,82 +77202,82 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3614
+  /* "capnp/lib/capnp.pyx":3699
  *         """
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 3614, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 3699, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":3615
+    /* "capnp/lib/capnp.pyx":3700
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3615, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3700, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3615, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3700, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3614
+    /* "capnp/lib/capnp.pyx":3699
  *         """
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":3617
+  /* "capnp/lib/capnp.pyx":3702
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  * 
  *         return _DynamicOrphan()._init(self.thisptr.newOrphan(s._thisptr()), self)
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3617, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3702, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":3619
+  /* "capnp/lib/capnp.pyx":3704
  *             s = schema
  * 
  *         return _DynamicOrphan()._init(self.thisptr.newOrphan(s._thisptr()), self)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3619, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3704, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1), (( ::capnp::Orphan< ::capnp::DynamicValue>)__pyx_v_self->thisptr->getOrphanage().newOrphan((( ::capnp::StructSchema)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s)))), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3619, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicOrphan *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *)__pyx_t_1), (( ::capnp::Orphan< ::capnp::DynamicValue>)__pyx_v_self->thisptr->getOrphanage().newOrphan((( ::capnp::StructSchema)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s)))), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3704, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3597
+  /* "capnp/lib/capnp.pyx":3682
  *         return res
  * 
  *     cpdef new_orphan(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto orphans
  * 
  */
 
@@ -76300,18 +77317,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("new_orphan", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_new_orphan(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3597, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3682, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3597, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3682, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -76356,15 +77373,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__110, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__112, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -76413,15 +77430,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__111, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__113, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -76436,15 +77453,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MessageBuilder.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3637
+/* "capnp/lib/capnp.pyx":3722
  *         _write_message_to_fd(f.fileno(), message)
  *     """
  *     def __init__(self, size=None):             # <<<<<<<<<<<<<<
  *         if size is None:
  *             self.thisptr = new schema_cpp.MallocMessageBuilder()
  */
 
@@ -76476,29 +77493,29 @@
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_size);
           if (value) { values[0] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3637, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3722, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_size = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3637, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3722, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._MallocMessageBuilder.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_21_MallocMessageBuilder___init__(((struct __pyx_obj_5capnp_3lib_5capnp__MallocMessageBuilder *)__pyx_v_self), __pyx_v_size);
 
@@ -76514,58 +77531,58 @@
   int __pyx_t_2;
   int __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3638
+  /* "capnp/lib/capnp.pyx":3723
  *     """
  *     def __init__(self, size=None):
  *         if size is None:             # <<<<<<<<<<<<<<
  *             self.thisptr = new schema_cpp.MallocMessageBuilder()
  *         else:
  */
   __pyx_t_1 = (__pyx_v_size == Py_None);
   __pyx_t_2 = (__pyx_t_1 != 0);
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":3639
+    /* "capnp/lib/capnp.pyx":3724
  *     def __init__(self, size=None):
  *         if size is None:
  *             self.thisptr = new schema_cpp.MallocMessageBuilder()             # <<<<<<<<<<<<<<
  *         else:
  *             self.thisptr = new schema_cpp.MallocMessageBuilder(size)
  */
     __pyx_v_self->__pyx_base.thisptr = new  ::capnp::MallocMessageBuilder();
 
-    /* "capnp/lib/capnp.pyx":3638
+    /* "capnp/lib/capnp.pyx":3723
  *     """
  *     def __init__(self, size=None):
  *         if size is None:             # <<<<<<<<<<<<<<
  *             self.thisptr = new schema_cpp.MallocMessageBuilder()
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":3641
+  /* "capnp/lib/capnp.pyx":3726
  *             self.thisptr = new schema_cpp.MallocMessageBuilder()
  *         else:
  *             self.thisptr = new schema_cpp.MallocMessageBuilder(size)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   /*else*/ {
-    __pyx_t_3 = __Pyx_PyInt_As_int(__pyx_v_size); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3641, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_As_int(__pyx_v_size); if (unlikely((__pyx_t_3 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3726, __pyx_L1_error)
     __pyx_v_self->__pyx_base.thisptr = new  ::capnp::MallocMessageBuilder(__pyx_t_3);
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":3637
+  /* "capnp/lib/capnp.pyx":3722
  *         _write_message_to_fd(f.fileno(), message)
  *     """
  *     def __init__(self, size=None):             # <<<<<<<<<<<<<<
  *         if size is None:
  *             self.thisptr = new schema_cpp.MallocMessageBuilder()
  */
 
@@ -76611,15 +77628,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__112, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__114, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -76668,15 +77685,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__113, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__115, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -76691,15 +77708,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MallocMessageBuilder.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3652
+/* "capnp/lib/capnp.pyx":3737
  *     cdef schema_cpp.MessageReader * thisptr
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         raise NotImplementedError("This is an abstract base class")
  * 
  */
 
@@ -76724,28 +77741,28 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3653
+  /* "capnp/lib/capnp.pyx":3738
  * 
  *     def __init__(self):
  *         raise NotImplementedError("This is an abstract base class")             # <<<<<<<<<<<<<<
  * 
  *     cpdef get_root(self, schema) except +reraise_kj_exception:
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__100, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3653, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_NotImplementedError, __pyx_tuple__102, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3738, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __PYX_ERR(0, 3653, __pyx_L1_error)
+  __PYX_ERR(0, 3738, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3652
+  /* "capnp/lib/capnp.pyx":3737
  *     cdef schema_cpp.MessageReader * thisptr
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         raise NotImplementedError("This is an abstract base class")
  * 
  */
 
@@ -76754,15 +77771,15 @@
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_AddTraceback("capnp.lib.capnp._MessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3655
+/* "capnp/lib/capnp.pyx":3740
  *         raise NotImplementedError("This is an abstract base class")
  * 
  *     cpdef get_root(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto structs
  * 
  */
 
@@ -76786,15 +77803,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_root); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3655, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_root); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3740, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14_MessageReader_3get_root)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -76803,15 +77820,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_v_schema) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_schema);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3655, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3740, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -76824,82 +77841,82 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3673
+  /* "capnp/lib/capnp.pyx":3758
  *         """
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
-  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 3673, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_HasAttr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 3758, __pyx_L1_error)
   __pyx_t_6 = (__pyx_t_5 != 0);
   if (__pyx_t_6) {
 
-    /* "capnp/lib/capnp.pyx":3674
+    /* "capnp/lib/capnp.pyx":3759
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):
  *             s = schema.schema             # <<<<<<<<<<<<<<
  *         else:
  *             s = schema
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3674, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_schema, __pyx_n_s_schema); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3759, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3674, __pyx_L1_error)
+    if (!(likely(((__pyx_t_1) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_1, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3759, __pyx_L1_error)
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":3673
+    /* "capnp/lib/capnp.pyx":3758
  *         """
  *         cdef _StructSchema s
  *         if hasattr(schema, 'schema'):             # <<<<<<<<<<<<<<
  *             s = schema.schema
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":3676
+  /* "capnp/lib/capnp.pyx":3761
  *             s = schema.schema
  *         else:
  *             s = schema             # <<<<<<<<<<<<<<
  *         return _DynamicStructReader()._init(self.thisptr.getRootDynamicStruct(s._thisptr()), self)
  * 
  */
   /*else*/ {
-    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3676, __pyx_L1_error)
+    if (!(likely(((__pyx_v_schema) == Py_None) || likely(__Pyx_TypeTest(__pyx_v_schema, __pyx_ptype_5capnp_3lib_5capnp__StructSchema))))) __PYX_ERR(0, 3761, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_schema;
     __Pyx_INCREF(__pyx_t_1);
     __pyx_v_s = ((struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":3677
+  /* "capnp/lib/capnp.pyx":3762
  *         else:
  *             s = schema
  *         return _DynamicStructReader()._init(self.thisptr.getRootDynamicStruct(s._thisptr()), self)             # <<<<<<<<<<<<<<
  * 
  *     cpdef get_root_as_any(self) except +reraise_kj_exception:
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3677, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3762, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_v_self->thisptr->getRoot< ::capnp::DynamicStruct>((( ::capnp::StructSchema)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s)))), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3677, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicStructReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *)__pyx_t_1), (( ::capnp::DynamicStruct::Reader)__pyx_v_self->thisptr->getRoot< ::capnp::DynamicStruct>((( ::capnp::StructSchema)((struct __pyx_vtabstruct_5capnp_3lib_5capnp__StructSchema *)__pyx_v_s->__pyx_base.__pyx_vtab)->_thisptr(__pyx_v_s)))), ((PyObject *)__pyx_v_self), NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3762, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3655
+  /* "capnp/lib/capnp.pyx":3740
  *         raise NotImplementedError("This is an abstract base class")
  * 
  *     cpdef get_root(self, schema) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for instantiating Cap'n Proto structs
  * 
  */
 
@@ -76939,18 +77956,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_root", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14_MessageReader_get_root(__pyx_v_self, __pyx_v_schema, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3655, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3740, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3655, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3740, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -76960,15 +77977,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3679
+/* "capnp/lib/capnp.pyx":3764
  *         return _DynamicStructReader()._init(self.thisptr.getRootDynamicStruct(s._thisptr()), self)
  * 
  *     cpdef get_root_as_any(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for getting a Cap'n Proto AnyPointer, from an already pre-written buffer
  * 
  */
 
@@ -76989,15 +78006,15 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || (Py_TYPE(((PyObject *)__pyx_v_self))->tp_flags & (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_type_dict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_root_as_any); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3679, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_get_root_as_any); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3764, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       if (!PyCFunction_Check(__pyx_t_1) || (PyCFunction_GET_FUNCTION(__pyx_t_1) != (PyCFunction)(void*)__pyx_pw_5capnp_3lib_5capnp_14_MessageReader_5get_root_as_any)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -77006,15 +78023,15 @@
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_3, function);
           }
         }
         __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3679, __pyx_L1_error)
+        if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3764, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
       }
@@ -77027,32 +78044,32 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "capnp/lib/capnp.pyx":3687
+  /* "capnp/lib/capnp.pyx":3772
  *         :return: An AnyPointer that you can read from
  *         """
  *         return _DynamicObjectReader()._init(self.thisptr.getRootAnyPointer(), self)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3687, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3772, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1), (( ::capnp::AnyPointer::Reader)__pyx_v_self->thisptr->getRoot< ::capnp::AnyPointer>()), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3687, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__DynamicObjectReader *)((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1)->__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *)__pyx_t_1), (( ::capnp::AnyPointer::Reader)__pyx_v_self->thisptr->getRoot< ::capnp::AnyPointer>()), ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3772, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3679
+  /* "capnp/lib/capnp.pyx":3764
  *         return _DynamicStructReader()._init(self.thisptr.getRootDynamicStruct(s._thisptr()), self)
  * 
  *     cpdef get_root_as_any(self) except +reraise_kj_exception:             # <<<<<<<<<<<<<<
  *         """A method for getting a Cap'n Proto AnyPointer, from an already pre-written buffer
  * 
  */
 
@@ -77091,18 +78108,18 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_root_as_any", 0);
   __Pyx_XDECREF(__pyx_r);
   try {
     __pyx_t_1 = __pyx_f_5capnp_3lib_5capnp_14_MessageReader_get_root_as_any(__pyx_v_self, 1);
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3679, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3764, __pyx_L1_error)
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3679, __pyx_L1_error)
+    __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3764, __pyx_L1_error)
   }
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
@@ -77112,15 +78129,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3649
+/* "capnp/lib/capnp.pyx":3734
  *     .. warning:: Don't ever instantiate this class. It is only used for inheritance.
  *     """
  *     cdef public object _parent             # <<<<<<<<<<<<<<
  *     cdef schema_cpp.MessageReader * thisptr
  * 
  */
 
@@ -77242,15 +78259,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__114, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__116, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -77299,15 +78316,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__115, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__117, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -77322,15 +78339,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3703
+/* "capnp/lib/capnp.pyx":3788
  *     :Parameters: - fd (`int`) - A file descriptor
  *     """
  *     def __init__(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
 
@@ -77379,15 +78396,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3703, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3788, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -77398,98 +78415,156 @@
     }
     __pyx_v_file = values[0];
     __pyx_v_traversal_limit_in_words = values[1];
     __pyx_v_nesting_limit = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3703, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3788, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._StreamFdMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_22_StreamFdMessageReader___init__(((struct __pyx_obj_5capnp_3lib_5capnp__StreamFdMessageReader *)__pyx_v_self), __pyx_v_file, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static int __pyx_pf_5capnp_3lib_5capnp_22_StreamFdMessageReader___init__(struct __pyx_obj_5capnp_3lib_5capnp__StreamFdMessageReader *__pyx_v_self, PyObject *__pyx_v_file, PyObject *__pyx_v_traversal_limit_in_words, PyObject *__pyx_v_nesting_limit) {
    ::capnp::ReaderOptions __pyx_v_opts;
+  int __pyx_v_fd;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_t_4;
    ::capnp::StreamFdMessageReader *__pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3704
+  /* "capnp/lib/capnp.pyx":3789
  *     """
  *     def __init__(self, file, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  * 
  *         self._parent = file
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":3706
+  /* "capnp/lib/capnp.pyx":3791
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  *         self._parent = file             # <<<<<<<<<<<<<<
- *         self.thisptr = new schema_cpp.StreamFdMessageReader(file.fileno(), opts)
- * 
+ *         cdef int fd = file.fileno()
+ *         with nogil:
  */
   __Pyx_INCREF(__pyx_v_file);
   __Pyx_GIVEREF(__pyx_v_file);
   __Pyx_GOTREF(__pyx_v_self->__pyx_base._parent);
   __Pyx_DECREF(__pyx_v_self->__pyx_base._parent);
   __pyx_v_self->__pyx_base._parent = __pyx_v_file;
 
-  /* "capnp/lib/capnp.pyx":3707
+  /* "capnp/lib/capnp.pyx":3792
  * 
  *         self._parent = file
- *         self.thisptr = new schema_cpp.StreamFdMessageReader(file.fileno(), opts)             # <<<<<<<<<<<<<<
- * 
- *     def __dealloc__(self):
+ *         cdef int fd = file.fileno()             # <<<<<<<<<<<<<<
+ *         with nogil:
+ *             self.thisptr = new schema_cpp.StreamFdMessageReader(fd, opts)
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3707, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3792, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3707, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3792, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_4 = __Pyx_PyInt_As_int(__pyx_t_1); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3707, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_As_int(__pyx_t_1); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3792, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  try {
-    __pyx_t_5 = new  ::capnp::StreamFdMessageReader(__pyx_t_4, __pyx_v_opts);
-  } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3707, __pyx_L1_error)
+  __pyx_v_fd = __pyx_t_4;
+
+  /* "capnp/lib/capnp.pyx":3793
+ *         self._parent = file
+ *         cdef int fd = file.fileno()
+ *         with nogil:             # <<<<<<<<<<<<<<
+ *             self.thisptr = new schema_cpp.StreamFdMessageReader(fd, opts)
+ * 
+ */
+  {
+      #ifdef WITH_THREAD
+      PyThreadState *_save;
+      Py_UNBLOCK_THREADS
+      __Pyx_FastGIL_Remember();
+      #endif
+      /*try:*/ {
+
+        /* "capnp/lib/capnp.pyx":3794
+ *         cdef int fd = file.fileno()
+ *         with nogil:
+ *             self.thisptr = new schema_cpp.StreamFdMessageReader(fd, opts)             # <<<<<<<<<<<<<<
+ * 
+ *     def __dealloc__(self):
+ */
+        try {
+          __pyx_t_5 = new  ::capnp::StreamFdMessageReader(__pyx_v_fd, __pyx_v_opts);
+        } catch(...) {
+          #ifdef WITH_THREAD
+          PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
+          #endif
+          c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          __PYX_ERR(0, 3794, __pyx_L4_error)
+        }
+        __pyx_v_self->__pyx_base.thisptr = __pyx_t_5;
+      }
+
+      /* "capnp/lib/capnp.pyx":3793
+ *         self._parent = file
+ *         cdef int fd = file.fileno()
+ *         with nogil:             # <<<<<<<<<<<<<<
+ *             self.thisptr = new schema_cpp.StreamFdMessageReader(fd, opts)
+ * 
+ */
+      /*finally:*/ {
+        /*normal exit:*/{
+          #ifdef WITH_THREAD
+          __Pyx_FastGIL_Forget();
+          Py_BLOCK_THREADS
+          #endif
+          goto __pyx_L5;
+        }
+        __pyx_L4_error: {
+          #ifdef WITH_THREAD
+          __Pyx_FastGIL_Forget();
+          Py_BLOCK_THREADS
+          #endif
+          goto __pyx_L1_error;
+        }
+        __pyx_L5:;
+      }
   }
-  __pyx_v_self->__pyx_base.thisptr = __pyx_t_5;
 
-  /* "capnp/lib/capnp.pyx":3703
+  /* "capnp/lib/capnp.pyx":3788
  *     :Parameters: - fd (`int`) - A file descriptor
  *     """
  *     def __init__(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
 
@@ -77503,16 +78578,16 @@
   __Pyx_AddTraceback("capnp.lib.capnp._StreamFdMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3709
- *         self.thisptr = new schema_cpp.StreamFdMessageReader(file.fileno(), opts)
+/* "capnp/lib/capnp.pyx":3796
+ *             self.thisptr = new schema_cpp.StreamFdMessageReader(fd, opts)
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
 /* Python wrapper */
@@ -77526,25 +78601,25 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_22_StreamFdMessageReader_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__StreamFdMessageReader *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3710
+  /* "capnp/lib/capnp.pyx":3797
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  * 
  */
   delete __pyx_v_self->__pyx_base.thisptr;
 
-  /* "capnp/lib/capnp.pyx":3709
- *         self.thisptr = new schema_cpp.StreamFdMessageReader(file.fileno(), opts)
+  /* "capnp/lib/capnp.pyx":3796
+ *             self.thisptr = new schema_cpp.StreamFdMessageReader(fd, opts)
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
@@ -77582,15 +78657,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__116, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__118, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -77639,15 +78714,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__117, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__119, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -77662,15 +78737,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._StreamFdMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3726
+/* "capnp/lib/capnp.pyx":3813
  *     :Parameters: - fd (`int`) - A file descriptor
  *     """
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         pass
  * 
  */
 
@@ -77697,25 +78772,25 @@
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3729
+/* "capnp/lib/capnp.pyx":3816
  *         pass
  * 
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,             # <<<<<<<<<<<<<<
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_20_PackedMessageReader__init(struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *__pyx_v_self,  ::kj::BufferedInputStream &__pyx_v_stream, struct __pyx_opt_args_5capnp_3lib_5capnp_20_PackedMessageReader__init *__pyx_optional_args) {
 
-  /* "capnp/lib/capnp.pyx":3730
+  /* "capnp/lib/capnp.pyx":3817
  * 
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
   PyObject *__pyx_v_traversal_limit_in_words = ((PyObject *)Py_None);
@@ -77737,74 +78812,74 @@
         if (__pyx_optional_args->__pyx_n > 2) {
           __pyx_v_parent = __pyx_optional_args->parent;
         }
       }
     }
   }
 
-  /* "capnp/lib/capnp.pyx":3731
+  /* "capnp/lib/capnp.pyx":3818
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  * 
  *         self._parent = parent
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":3733
+  /* "capnp/lib/capnp.pyx":3820
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         with nogil:
  *             self.thisptr = new schema_cpp.PackedMessageReader(stream, opts)
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->__pyx_base._parent);
   __Pyx_DECREF(__pyx_v_self->__pyx_base._parent);
   __pyx_v_self->__pyx_base._parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":3734
+  /* "capnp/lib/capnp.pyx":3821
  * 
  *         self._parent = parent
  *         with nogil:             # <<<<<<<<<<<<<<
  *             self.thisptr = new schema_cpp.PackedMessageReader(stream, opts)
  *         return self
  */
   {
       #ifdef WITH_THREAD
       PyThreadState *_save;
       Py_UNBLOCK_THREADS
       __Pyx_FastGIL_Remember();
       #endif
       /*try:*/ {
 
-        /* "capnp/lib/capnp.pyx":3735
+        /* "capnp/lib/capnp.pyx":3822
  *         self._parent = parent
  *         with nogil:
  *             self.thisptr = new schema_cpp.PackedMessageReader(stream, opts)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
         try {
           __pyx_t_1 = new  ::capnp::PackedMessageReader(__pyx_v_stream, __pyx_v_opts);
         } catch(...) {
           #ifdef WITH_THREAD
           PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
           #endif
-          reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+          c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
           #ifdef WITH_THREAD
           __Pyx_PyGILState_Release(__pyx_gilstate_save);
           #endif
-          __PYX_ERR(0, 3735, __pyx_L4_error)
+          __PYX_ERR(0, 3822, __pyx_L4_error)
         }
         __pyx_v_self->__pyx_base.thisptr = __pyx_t_1;
       }
 
-      /* "capnp/lib/capnp.pyx":3734
+      /* "capnp/lib/capnp.pyx":3821
  * 
  *         self._parent = parent
  *         with nogil:             # <<<<<<<<<<<<<<
  *             self.thisptr = new schema_cpp.PackedMessageReader(stream, opts)
  *         return self
  */
       /*finally:*/ {
@@ -77822,27 +78897,27 @@
           #endif
           goto __pyx_L1_error;
         }
         __pyx_L5:;
       }
   }
 
-  /* "capnp/lib/capnp.pyx":3736
+  /* "capnp/lib/capnp.pyx":3823
  *         with nogil:
  *             self.thisptr = new schema_cpp.PackedMessageReader(stream, opts)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3729
+  /* "capnp/lib/capnp.pyx":3816
  *         pass
  * 
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,             # <<<<<<<<<<<<<<
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  */
 
@@ -77852,15 +78927,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3738
+/* "capnp/lib/capnp.pyx":3825
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -77875,24 +78950,24 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_20_PackedMessageReader_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3739
+  /* "capnp/lib/capnp.pyx":3826
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  * 
  */
   delete __pyx_v_self->__pyx_base.thisptr;
 
-  /* "capnp/lib/capnp.pyx":3738
+  /* "capnp/lib/capnp.pyx":3825
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -77931,15 +79006,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__118, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__120, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -77988,15 +79063,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__119, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__121, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -78011,15 +79086,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._PackedMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3746
+/* "capnp/lib/capnp.pyx":3833
  *     cdef Py_buffer view
  * 
  *     def __init__(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
 
@@ -78068,15 +79143,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3746, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3833, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -78087,15 +79162,15 @@
     }
     __pyx_v_buf = values[0];
     __pyx_v_traversal_limit_in_words = values[1];
     __pyx_v_nesting_limit = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3746, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3833, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._PackedMessageReaderBytes.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_25_PackedMessageReaderBytes___init__(((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReaderBytes *)__pyx_v_self), __pyx_v_buf, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -78114,108 +79189,108 @@
   PyObject *__pyx_t_4 = NULL;
    ::capnp::PackedMessageReader *__pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3747
+  /* "capnp/lib/capnp.pyx":3834
  * 
  *     def __init__(self, buf, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  * 
  *         self._parent = buf
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":3749
+  /* "capnp/lib/capnp.pyx":3836
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  *         self._parent = buf             # <<<<<<<<<<<<<<
  * 
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_SIMPLE) != 0:
  */
   __Pyx_INCREF(__pyx_v_buf);
   __Pyx_GIVEREF(__pyx_v_buf);
   __Pyx_GOTREF(__pyx_v_self->__pyx_base._parent);
   __Pyx_DECREF(__pyx_v_self->__pyx_base._parent);
   __pyx_v_self->__pyx_base._parent = __pyx_v_buf;
 
-  /* "capnp/lib/capnp.pyx":3751
+  /* "capnp/lib/capnp.pyx":3838
  *         self._parent = buf
  * 
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_SIMPLE) != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("could not get read buffer")
  * 
  */
   __pyx_t_1 = ((PyObject_GetBuffer(__pyx_v_buf, (&__pyx_v_self->view), PyBUF_SIMPLE) != 0) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":3752
+    /* "capnp/lib/capnp.pyx":3839
  * 
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_SIMPLE) != 0:
  *             raise KjException("could not get read buffer")             # <<<<<<<<<<<<<<
  * 
  *         self.stream = new schema_cpp.ArrayInputStream(schema_cpp.ByteArrayPtr(<byte *>self.view.buf, self.view.len))
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3752, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3839, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_kp_s_could_not_get_read_buffer) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_kp_s_could_not_get_read_buffer);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3752, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3839, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 3752, __pyx_L1_error)
+    __PYX_ERR(0, 3839, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":3751
+    /* "capnp/lib/capnp.pyx":3838
  *         self._parent = buf
  * 
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_SIMPLE) != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("could not get read buffer")
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3754
+  /* "capnp/lib/capnp.pyx":3841
  *             raise KjException("could not get read buffer")
  * 
  *         self.stream = new schema_cpp.ArrayInputStream(schema_cpp.ByteArrayPtr(<byte *>self.view.buf, self.view.len))             # <<<<<<<<<<<<<<
  * 
  *         self.thisptr = new schema_cpp.PackedMessageReader(deref(self.stream), opts)
  */
   __pyx_v_self->stream = new  ::kj::ArrayInputStream( ::kj::ArrayPtr< ::capnp::byte>(((__pyx_t_5capnp_8includes_5types_byte *)__pyx_v_self->view.buf), __pyx_v_self->view.len));
 
-  /* "capnp/lib/capnp.pyx":3756
+  /* "capnp/lib/capnp.pyx":3843
  *         self.stream = new schema_cpp.ArrayInputStream(schema_cpp.ByteArrayPtr(<byte *>self.view.buf, self.view.len))
  * 
  *         self.thisptr = new schema_cpp.PackedMessageReader(deref(self.stream), opts)             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   try {
     __pyx_t_5 = new  ::capnp::PackedMessageReader((*__pyx_v_self->stream), __pyx_v_opts);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3756, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 3843, __pyx_L1_error)
   }
   __pyx_v_self->__pyx_base.thisptr = __pyx_t_5;
 
-  /* "capnp/lib/capnp.pyx":3746
+  /* "capnp/lib/capnp.pyx":3833
  *     cdef Py_buffer view
  * 
  *     def __init__(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
 
@@ -78229,15 +79304,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._PackedMessageReaderBytes.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3758
+/* "capnp/lib/capnp.pyx":3845
  *         self.thisptr = new schema_cpp.PackedMessageReader(deref(self.stream), opts)
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  *         del self.stream
  */
 
@@ -78252,42 +79327,42 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_25_PackedMessageReaderBytes_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReaderBytes *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3759
+  /* "capnp/lib/capnp.pyx":3846
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  *         del self.stream
  *         PyBuffer_Release(&self.view)
  */
   delete __pyx_v_self->__pyx_base.thisptr;
 
-  /* "capnp/lib/capnp.pyx":3760
+  /* "capnp/lib/capnp.pyx":3847
  *     def __dealloc__(self):
  *         del self.thisptr
  *         del self.stream             # <<<<<<<<<<<<<<
  *         PyBuffer_Release(&self.view)
  * 
  */
   delete __pyx_v_self->stream;
 
-  /* "capnp/lib/capnp.pyx":3761
+  /* "capnp/lib/capnp.pyx":3848
  *         del self.thisptr
  *         del self.stream
  *         PyBuffer_Release(&self.view)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   PyBuffer_Release((&__pyx_v_self->view));
 
-  /* "capnp/lib/capnp.pyx":3758
+  /* "capnp/lib/capnp.pyx":3845
  *         self.thisptr = new schema_cpp.PackedMessageReader(deref(self.stream), opts)
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  *         del self.stream
  */
 
@@ -78326,15 +79401,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__120, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__122, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -78383,15 +79458,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__121, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__123, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -78406,15 +79481,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._PackedMessageReaderBytes.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3777
+/* "capnp/lib/capnp.pyx":3864
  *     :Parameters: - fd (`int`) - A file descriptor
  *     """
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         pass
  * 
  */
 
@@ -78441,25 +79516,25 @@
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3780
+/* "capnp/lib/capnp.pyx":3867
  *         pass
  * 
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,             # <<<<<<<<<<<<<<
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_19_InputMessageReader__init(struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader *__pyx_v_self,  ::kj::BufferedInputStream &__pyx_v_stream, struct __pyx_opt_args_5capnp_3lib_5capnp_19_InputMessageReader__init *__pyx_optional_args) {
 
-  /* "capnp/lib/capnp.pyx":3781
+  /* "capnp/lib/capnp.pyx":3868
  * 
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
   PyObject *__pyx_v_traversal_limit_in_words = ((PyObject *)Py_None);
@@ -78481,74 +79556,74 @@
         if (__pyx_optional_args->__pyx_n > 2) {
           __pyx_v_parent = __pyx_optional_args->parent;
         }
       }
     }
   }
 
-  /* "capnp/lib/capnp.pyx":3782
+  /* "capnp/lib/capnp.pyx":3869
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  * 
  *         self._parent = parent
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":3784
+  /* "capnp/lib/capnp.pyx":3871
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  *         self._parent = parent             # <<<<<<<<<<<<<<
  *         with nogil:
  *             self.thisptr = new schema_cpp.InputStreamMessageReader(stream, opts)
  */
   __Pyx_INCREF(__pyx_v_parent);
   __Pyx_GIVEREF(__pyx_v_parent);
   __Pyx_GOTREF(__pyx_v_self->__pyx_base._parent);
   __Pyx_DECREF(__pyx_v_self->__pyx_base._parent);
   __pyx_v_self->__pyx_base._parent = __pyx_v_parent;
 
-  /* "capnp/lib/capnp.pyx":3785
+  /* "capnp/lib/capnp.pyx":3872
  * 
  *         self._parent = parent
  *         with nogil:             # <<<<<<<<<<<<<<
  *             self.thisptr = new schema_cpp.InputStreamMessageReader(stream, opts)
  *         return self
  */
   {
       #ifdef WITH_THREAD
       PyThreadState *_save;
       Py_UNBLOCK_THREADS
       __Pyx_FastGIL_Remember();
       #endif
       /*try:*/ {
 
-        /* "capnp/lib/capnp.pyx":3786
+        /* "capnp/lib/capnp.pyx":3873
  *         self._parent = parent
  *         with nogil:
  *             self.thisptr = new schema_cpp.InputStreamMessageReader(stream, opts)             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
         try {
           __pyx_t_1 = new  ::capnp::InputStreamMessageReader(__pyx_v_stream, __pyx_v_opts);
         } catch(...) {
           #ifdef WITH_THREAD
           PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
           #endif
-          reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+          c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
           #ifdef WITH_THREAD
           __Pyx_PyGILState_Release(__pyx_gilstate_save);
           #endif
-          __PYX_ERR(0, 3786, __pyx_L4_error)
+          __PYX_ERR(0, 3873, __pyx_L4_error)
         }
         __pyx_v_self->__pyx_base.thisptr = __pyx_t_1;
       }
 
-      /* "capnp/lib/capnp.pyx":3785
+      /* "capnp/lib/capnp.pyx":3872
  * 
  *         self._parent = parent
  *         with nogil:             # <<<<<<<<<<<<<<
  *             self.thisptr = new schema_cpp.InputStreamMessageReader(stream, opts)
  *         return self
  */
       /*finally:*/ {
@@ -78566,27 +79641,27 @@
           #endif
           goto __pyx_L1_error;
         }
         __pyx_L5:;
       }
   }
 
-  /* "capnp/lib/capnp.pyx":3787
+  /* "capnp/lib/capnp.pyx":3874
  *         with nogil:
  *             self.thisptr = new schema_cpp.InputStreamMessageReader(stream, opts)
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3780
+  /* "capnp/lib/capnp.pyx":3867
  *         pass
  * 
  *     cdef _init(self, schema_cpp.BufferedInputStream & stream,             # <<<<<<<<<<<<<<
  *                traversal_limit_in_words=None, nesting_limit=None, parent=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  */
 
@@ -78596,15 +79671,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3789
+/* "capnp/lib/capnp.pyx":3876
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -78619,24 +79694,24 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_19_InputMessageReader_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3790
+  /* "capnp/lib/capnp.pyx":3877
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  * 
  */
   delete __pyx_v_self->__pyx_base.thisptr;
 
-  /* "capnp/lib/capnp.pyx":3789
+  /* "capnp/lib/capnp.pyx":3876
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -78675,15 +79750,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__122, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__124, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -78732,15 +79807,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__123, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__125, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -78755,15 +79830,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._InputMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3806
+/* "capnp/lib/capnp.pyx":3893
  *     :Parameters: - fd (`int`) - A file descriptor
  *     """
  *     def __init__(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
 
@@ -78812,15 +79887,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3806, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3893, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -78831,98 +79906,156 @@
     }
     __pyx_v_file = values[0];
     __pyx_v_traversal_limit_in_words = values[1];
     __pyx_v_nesting_limit = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3806, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3893, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._PackedFdMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_22_PackedFdMessageReader___init__(((struct __pyx_obj_5capnp_3lib_5capnp__PackedFdMessageReader *)__pyx_v_self), __pyx_v_file, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static int __pyx_pf_5capnp_3lib_5capnp_22_PackedFdMessageReader___init__(struct __pyx_obj_5capnp_3lib_5capnp__PackedFdMessageReader *__pyx_v_self, PyObject *__pyx_v_file, PyObject *__pyx_v_traversal_limit_in_words, PyObject *__pyx_v_nesting_limit) {
    ::capnp::ReaderOptions __pyx_v_opts;
+  int __pyx_v_fd;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_t_4;
    ::capnp::PackedFdMessageReader *__pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3807
+  /* "capnp/lib/capnp.pyx":3894
  *     """
  *     def __init__(self, file, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  * 
  *         self._parent = file
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":3809
+  /* "capnp/lib/capnp.pyx":3896
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  *         self._parent = file             # <<<<<<<<<<<<<<
- *         self.thisptr = new schema_cpp.PackedFdMessageReader(file.fileno(), opts)
- * 
+ *         cdef int fd = file.fileno()
+ *         with nogil:
  */
   __Pyx_INCREF(__pyx_v_file);
   __Pyx_GIVEREF(__pyx_v_file);
   __Pyx_GOTREF(__pyx_v_self->__pyx_base._parent);
   __Pyx_DECREF(__pyx_v_self->__pyx_base._parent);
   __pyx_v_self->__pyx_base._parent = __pyx_v_file;
 
-  /* "capnp/lib/capnp.pyx":3810
+  /* "capnp/lib/capnp.pyx":3897
  * 
  *         self._parent = file
- *         self.thisptr = new schema_cpp.PackedFdMessageReader(file.fileno(), opts)             # <<<<<<<<<<<<<<
- * 
- *     def __dealloc__(self):
+ *         cdef int fd = file.fileno()             # <<<<<<<<<<<<<<
+ *         with nogil:
+ *             self.thisptr = new schema_cpp.PackedFdMessageReader(fd, opts)
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3810, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3897, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3810, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3897, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_4 = __Pyx_PyInt_As_int(__pyx_t_1); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3810, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_As_int(__pyx_t_1); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3897, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  try {
-    __pyx_t_5 = new  ::capnp::PackedFdMessageReader(__pyx_t_4, __pyx_v_opts);
-  } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 3810, __pyx_L1_error)
+  __pyx_v_fd = __pyx_t_4;
+
+  /* "capnp/lib/capnp.pyx":3898
+ *         self._parent = file
+ *         cdef int fd = file.fileno()
+ *         with nogil:             # <<<<<<<<<<<<<<
+ *             self.thisptr = new schema_cpp.PackedFdMessageReader(fd, opts)
+ * 
+ */
+  {
+      #ifdef WITH_THREAD
+      PyThreadState *_save;
+      Py_UNBLOCK_THREADS
+      __Pyx_FastGIL_Remember();
+      #endif
+      /*try:*/ {
+
+        /* "capnp/lib/capnp.pyx":3899
+ *         cdef int fd = file.fileno()
+ *         with nogil:
+ *             self.thisptr = new schema_cpp.PackedFdMessageReader(fd, opts)             # <<<<<<<<<<<<<<
+ * 
+ *     def __dealloc__(self):
+ */
+        try {
+          __pyx_t_5 = new  ::capnp::PackedFdMessageReader(__pyx_v_fd, __pyx_v_opts);
+        } catch(...) {
+          #ifdef WITH_THREAD
+          PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
+          #endif
+          c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          __PYX_ERR(0, 3899, __pyx_L4_error)
+        }
+        __pyx_v_self->__pyx_base.thisptr = __pyx_t_5;
+      }
+
+      /* "capnp/lib/capnp.pyx":3898
+ *         self._parent = file
+ *         cdef int fd = file.fileno()
+ *         with nogil:             # <<<<<<<<<<<<<<
+ *             self.thisptr = new schema_cpp.PackedFdMessageReader(fd, opts)
+ * 
+ */
+      /*finally:*/ {
+        /*normal exit:*/{
+          #ifdef WITH_THREAD
+          __Pyx_FastGIL_Forget();
+          Py_BLOCK_THREADS
+          #endif
+          goto __pyx_L5;
+        }
+        __pyx_L4_error: {
+          #ifdef WITH_THREAD
+          __Pyx_FastGIL_Forget();
+          Py_BLOCK_THREADS
+          #endif
+          goto __pyx_L1_error;
+        }
+        __pyx_L5:;
+      }
   }
-  __pyx_v_self->__pyx_base.thisptr = __pyx_t_5;
 
-  /* "capnp/lib/capnp.pyx":3806
+  /* "capnp/lib/capnp.pyx":3893
  *     :Parameters: - fd (`int`) - A file descriptor
  *     """
  *     def __init__(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  * 
  */
 
@@ -78936,16 +80069,16 @@
   __Pyx_AddTraceback("capnp.lib.capnp._PackedFdMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3812
- *         self.thisptr = new schema_cpp.PackedFdMessageReader(file.fileno(), opts)
+/* "capnp/lib/capnp.pyx":3901
+ *             self.thisptr = new schema_cpp.PackedFdMessageReader(fd, opts)
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
 /* Python wrapper */
@@ -78959,25 +80092,25 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_22_PackedFdMessageReader_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__PackedFdMessageReader *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3813
+  /* "capnp/lib/capnp.pyx":3902
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  * cdef class _AsyncMessageReader(_MessageReader):
  */
   delete __pyx_v_self->__pyx_base.thisptr;
 
-  /* "capnp/lib/capnp.pyx":3812
- *         self.thisptr = new schema_cpp.PackedFdMessageReader(file.fileno(), opts)
+  /* "capnp/lib/capnp.pyx":3901
+ *             self.thisptr = new schema_cpp.PackedFdMessageReader(fd, opts)
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
   /* function exit code */
@@ -79015,15 +80148,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__124, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__126, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -79072,15 +80205,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__125, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__127, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -79095,15 +80228,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._PackedFdMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3821
+/* "capnp/lib/capnp.pyx":3910
  *     """
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         pass
  * 
  */
 
@@ -79130,58 +80263,58 @@
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3825
+/* "capnp/lib/capnp.pyx":3914
  * 
  *     cdef Own[MessageReader] reader
  *     cdef _init(self, Own[MessageReader] reader):             # <<<<<<<<<<<<<<
  *         self.reader = move(reader)
  *         self.thisptr = self.reader.get()
  */
 
 static PyObject *__pyx_f_5capnp_3lib_5capnp_19_AsyncMessageReader__init(struct __pyx_obj_5capnp_3lib_5capnp__AsyncMessageReader *__pyx_v_self,  ::kj::Own< ::capnp::MessageReader>  __pyx_v_reader) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init", 0);
 
-  /* "capnp/lib/capnp.pyx":3826
+  /* "capnp/lib/capnp.pyx":3915
  *     cdef Own[MessageReader] reader
  *     cdef _init(self, Own[MessageReader] reader):
  *         self.reader = move(reader)             # <<<<<<<<<<<<<<
  *         self.thisptr = self.reader.get()
  *         return self
  */
   __pyx_v_self->reader = cython_std::move< ::kj::Own< ::capnp::MessageReader> >(__pyx_v_reader);
 
-  /* "capnp/lib/capnp.pyx":3827
+  /* "capnp/lib/capnp.pyx":3916
  *     cdef _init(self, Own[MessageReader] reader):
  *         self.reader = move(reader)
  *         self.thisptr = self.reader.get()             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->__pyx_base.thisptr = __pyx_v_self->reader.get();
 
-  /* "capnp/lib/capnp.pyx":3828
+  /* "capnp/lib/capnp.pyx":3917
  *         self.reader = move(reader)
  *         self.thisptr = self.reader.get()
  *         return self             # <<<<<<<<<<<<<<
  * 
  * cdef api object make_async_message_reader(Own[MessageReader] reader):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3825
+  /* "capnp/lib/capnp.pyx":3914
  * 
  *     cdef Own[MessageReader] reader
  *     cdef _init(self, Own[MessageReader] reader):             # <<<<<<<<<<<<<<
  *         self.reader = move(reader)
  *         self.thisptr = self.reader.get()
  */
 
@@ -79223,15 +80356,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__126, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__128, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -79280,15 +80413,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__127, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__129, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -79303,15 +80436,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._AsyncMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3830
+/* "capnp/lib/capnp.pyx":3919
  *         return self
  * 
  * cdef api object make_async_message_reader(Own[MessageReader] reader):             # <<<<<<<<<<<<<<
  *     return _AsyncMessageReader()._init(move(reader))
  * 
  */
 
@@ -79321,32 +80454,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("make_async_message_reader", 0);
 
-  /* "capnp/lib/capnp.pyx":3831
+  /* "capnp/lib/capnp.pyx":3920
  * 
  * cdef api object make_async_message_reader(Own[MessageReader] reader):
  *     return _AsyncMessageReader()._init(move(reader))             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncMessageReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3831, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncMessageReader)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3920, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__AsyncMessageReader *)((struct __pyx_obj_5capnp_3lib_5capnp__AsyncMessageReader *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__AsyncMessageReader *)__pyx_t_1), cython_std::move< ::kj::Own< ::capnp::MessageReader> >(__pyx_v_reader)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3831, __pyx_L1_error)
+  __pyx_t_2 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__AsyncMessageReader *)((struct __pyx_obj_5capnp_3lib_5capnp__AsyncMessageReader *)__pyx_t_1)->__pyx_base.__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__AsyncMessageReader *)__pyx_t_1), cython_std::move< ::kj::Own< ::capnp::MessageReader> >(__pyx_v_reader)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3920, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3830
+  /* "capnp/lib/capnp.pyx":3919
  *         return self
  * 
  * cdef api object make_async_message_reader(Own[MessageReader] reader):             # <<<<<<<<<<<<<<
  *     return _AsyncMessageReader()._init(move(reader))
  * 
  */
 
@@ -79358,15 +80491,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3841
+/* "capnp/lib/capnp.pyx":3930
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, file
  * 
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         self.file = file
  *         self.schema = schema
  */
 
@@ -79412,15 +80545,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_file)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 5, 1); __PYX_ERR(0, 3841, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 5, 1); __PYX_ERR(0, 3930, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -79434,15 +80567,15 @@
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_skip_copy);
           if (value) { values[4] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3841, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3930, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
         CYTHON_FALLTHROUGH;
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
@@ -79458,15 +80591,15 @@
     __pyx_v_schema = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
     __pyx_v_skip_copy = values[4];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3841, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3930, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._MultipleMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_22_MultipleMessageReader___init__(((struct __pyx_obj_5capnp_3lib_5capnp__MultipleMessageReader *)__pyx_v_self), __pyx_v_file, __pyx_v_schema, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit, __pyx_v_skip_copy);
 
@@ -79484,114 +80617,114 @@
   PyObject *__pyx_t_4 = NULL;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3842
+  /* "capnp/lib/capnp.pyx":3931
  * 
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):
  *         self.file = file             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  */
   __Pyx_INCREF(__pyx_v_file);
   __Pyx_GIVEREF(__pyx_v_file);
   __Pyx_GOTREF(__pyx_v_self->file);
   __Pyx_DECREF(__pyx_v_self->file);
   __pyx_v_self->file = __pyx_v_file;
 
-  /* "capnp/lib/capnp.pyx":3843
+  /* "capnp/lib/capnp.pyx":3932
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):
  *         self.file = file
  *         self.schema = schema             # <<<<<<<<<<<<<<
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit
  */
   __Pyx_INCREF(__pyx_v_schema);
   __Pyx_GIVEREF(__pyx_v_schema);
   __Pyx_GOTREF(__pyx_v_self->schema);
   __Pyx_DECREF(__pyx_v_self->schema);
   __pyx_v_self->schema = __pyx_v_schema;
 
-  /* "capnp/lib/capnp.pyx":3844
+  /* "capnp/lib/capnp.pyx":3933
  *         self.file = file
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words             # <<<<<<<<<<<<<<
  *         self.nesting_limit = nesting_limit
  *         self.skip_copy = skip_copy
  */
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GOTREF(__pyx_v_self->traversal_limit_in_words);
   __Pyx_DECREF(__pyx_v_self->traversal_limit_in_words);
   __pyx_v_self->traversal_limit_in_words = __pyx_v_traversal_limit_in_words;
 
-  /* "capnp/lib/capnp.pyx":3845
+  /* "capnp/lib/capnp.pyx":3934
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit             # <<<<<<<<<<<<<<
  *         self.skip_copy = skip_copy
  * 
  */
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   __Pyx_GOTREF(__pyx_v_self->nesting_limit);
   __Pyx_DECREF(__pyx_v_self->nesting_limit);
   __pyx_v_self->nesting_limit = __pyx_v_nesting_limit;
 
-  /* "capnp/lib/capnp.pyx":3846
+  /* "capnp/lib/capnp.pyx":3935
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit
  *         self.skip_copy = skip_copy             # <<<<<<<<<<<<<<
  * 
  *         self.stream = new schema_cpp.FdInputStream(file.fileno())
  */
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_skip_copy); if (unlikely((__pyx_t_1 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 3846, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_skip_copy); if (unlikely((__pyx_t_1 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 3935, __pyx_L1_error)
   __pyx_v_self->skip_copy = __pyx_t_1;
 
-  /* "capnp/lib/capnp.pyx":3848
+  /* "capnp/lib/capnp.pyx":3937
  *         self.skip_copy = skip_copy
  * 
  *         self.stream = new schema_cpp.FdInputStream(file.fileno())             # <<<<<<<<<<<<<<
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3848, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3937, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3848, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3937, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_5 = __Pyx_PyInt_As_int(__pyx_t_2); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3848, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyInt_As_int(__pyx_t_2); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3937, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_self->stream = new  ::kj::FdInputStream(__pyx_t_5);
 
-  /* "capnp/lib/capnp.pyx":3849
+  /* "capnp/lib/capnp.pyx":3938
  * 
  *         self.stream = new schema_cpp.FdInputStream(file.fileno())
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __pyx_v_self->buffered_stream = new  ::kj::BufferedInputStreamWrapper((*__pyx_v_self->stream));
 
-  /* "capnp/lib/capnp.pyx":3841
+  /* "capnp/lib/capnp.pyx":3930
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, file
  * 
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         self.file = file
  *         self.schema = schema
  */
 
@@ -79605,15 +80738,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MultipleMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3851
+/* "capnp/lib/capnp.pyx":3940
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.stream
  *         del self.buffered_stream
  */
 
@@ -79628,45 +80761,45 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_22_MultipleMessageReader_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__MultipleMessageReader *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3852
+  /* "capnp/lib/capnp.pyx":3941
  * 
  *     def __dealloc__(self):
  *         del self.stream             # <<<<<<<<<<<<<<
  *         del self.buffered_stream
  * 
  */
   delete __pyx_v_self->stream;
 
-  /* "capnp/lib/capnp.pyx":3853
+  /* "capnp/lib/capnp.pyx":3942
  *     def __dealloc__(self):
  *         del self.stream
  *         del self.buffered_stream             # <<<<<<<<<<<<<<
  * 
  *     def __next__(self):
  */
   delete __pyx_v_self->buffered_stream;
 
-  /* "capnp/lib/capnp.pyx":3851
+  /* "capnp/lib/capnp.pyx":3940
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.stream
  *         del self.buffered_stream
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":3855
+/* "capnp/lib/capnp.pyx":3944
  *         del self.buffered_stream
  * 
  *     def __next__(self):             # <<<<<<<<<<<<<<
  *         try:
  *             reader = _InputMessageReader()._init(
  */
 
@@ -79701,15 +80834,15 @@
   int __pyx_t_10;
   int __pyx_t_11;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__next__", 0);
 
-  /* "capnp/lib/capnp.pyx":3856
+  /* "capnp/lib/capnp.pyx":3945
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _InputMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
   {
@@ -79717,248 +80850,248 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":3857
+      /* "capnp/lib/capnp.pyx":3946
  *     def __next__(self):
  *         try:
  *             reader = _InputMessageReader()._init(             # <<<<<<<<<<<<<<
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)
  */
-      __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InputMessageReader)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3857, __pyx_L3_error)
+      __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__InputMessageReader)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3946, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
 
-      /* "capnp/lib/capnp.pyx":3858
+      /* "capnp/lib/capnp.pyx":3947
  *         try:
  *             reader = _InputMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)             # <<<<<<<<<<<<<<
  *             ret = reader.get_root(self.schema)
  *             if not self.skip_copy:
  */
       __pyx_t_5 = __pyx_v_self->traversal_limit_in_words;
       __Pyx_INCREF(__pyx_t_5);
       __pyx_t_6 = __pyx_v_self->nesting_limit;
       __Pyx_INCREF(__pyx_t_6);
 
-      /* "capnp/lib/capnp.pyx":3857
+      /* "capnp/lib/capnp.pyx":3946
  *     def __next__(self):
  *         try:
  *             reader = _InputMessageReader()._init(             # <<<<<<<<<<<<<<
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)
  */
       __pyx_t_8.__pyx_n = 3;
       __pyx_t_8.traversal_limit_in_words = __pyx_t_5;
       __pyx_t_8.nesting_limit = __pyx_t_6;
       __pyx_t_8.parent = ((PyObject *)__pyx_v_self);
-      __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InputMessageReader *)((struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader *)__pyx_t_4)->__pyx_base.__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader *)__pyx_t_4), (*__pyx_v_self->buffered_stream), &__pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3857, __pyx_L3_error)
+      __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__InputMessageReader *)((struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader *)__pyx_t_4)->__pyx_base.__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader *)__pyx_t_4), (*__pyx_v_self->buffered_stream), &__pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3946, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __pyx_v_reader = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3859
+      /* "capnp/lib/capnp.pyx":3948
  *             reader = _InputMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)             # <<<<<<<<<<<<<<
  *             if not self.skip_copy:
  *                 ret = ret.as_builder().as_reader()
  */
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_get_root); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3859, __pyx_L3_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_get_root); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3948, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_6);
       __pyx_t_5 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
         __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_6);
         if (likely(__pyx_t_5)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
           __Pyx_INCREF(__pyx_t_5);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_6, function);
         }
       }
       __pyx_t_7 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_5, __pyx_v_self->schema) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_self->schema);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3859, __pyx_L3_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3948, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __pyx_v_ret = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3860
+      /* "capnp/lib/capnp.pyx":3949
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)
  *             if not self.skip_copy:             # <<<<<<<<<<<<<<
  *                 ret = ret.as_builder().as_reader()
  *             return ret
  */
       __pyx_t_9 = ((!(__pyx_v_self->skip_copy != 0)) != 0);
       if (__pyx_t_9) {
 
-        /* "capnp/lib/capnp.pyx":3861
+        /* "capnp/lib/capnp.pyx":3950
  *             ret = reader.get_root(self.schema)
  *             if not self.skip_copy:
  *                 ret = ret.as_builder().as_reader()             # <<<<<<<<<<<<<<
  *             return ret
  *         except KjException as e:
  */
-        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_ret, __pyx_n_s_as_builder); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3861, __pyx_L3_error)
+        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_ret, __pyx_n_s_as_builder); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3950, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_5);
         __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_5);
           if (likely(__pyx_t_4)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_5, function);
           }
         }
         __pyx_t_6 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3861, __pyx_L3_error)
+        if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3950, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_6);
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_as_reader); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3861, __pyx_L3_error)
+        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_as_reader); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3950, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_5);
         __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         __pyx_t_6 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
           __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
           if (likely(__pyx_t_6)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
             __Pyx_INCREF(__pyx_t_6);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_5, function);
           }
         }
         __pyx_t_7 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-        if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3861, __pyx_L3_error)
+        if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3950, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_7);
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_DECREF_SET(__pyx_v_ret, __pyx_t_7);
         __pyx_t_7 = 0;
 
-        /* "capnp/lib/capnp.pyx":3860
+        /* "capnp/lib/capnp.pyx":3949
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)
  *             if not self.skip_copy:             # <<<<<<<<<<<<<<
  *                 ret = ret.as_builder().as_reader()
  *             return ret
  */
       }
 
-      /* "capnp/lib/capnp.pyx":3862
+      /* "capnp/lib/capnp.pyx":3951
  *             if not self.skip_copy:
  *                 ret = ret.as_builder().as_reader()
  *             return ret             # <<<<<<<<<<<<<<
  *         except KjException as e:
  *             if 'EOF' in str(e):
  */
       __Pyx_XDECREF(__pyx_r);
       __Pyx_INCREF(__pyx_v_ret);
       __pyx_r = __pyx_v_ret;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":3856
+      /* "capnp/lib/capnp.pyx":3945
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _InputMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-    /* "capnp/lib/capnp.pyx":3863
+    /* "capnp/lib/capnp.pyx":3952
  *                 ret = ret.as_builder().as_reader()
  *             return ret
  *         except KjException as e:             # <<<<<<<<<<<<<<
  *             if 'EOF' in str(e):
  *                 raise StopIteration
  */
     __Pyx_ErrFetch(&__pyx_t_7, &__pyx_t_5, &__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3863, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3952, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_10 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_7, __pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_ErrRestore(__pyx_t_7, __pyx_t_5, __pyx_t_6);
     __pyx_t_7 = 0; __pyx_t_5 = 0; __pyx_t_6 = 0;
     if (__pyx_t_10) {
       __Pyx_AddTraceback("capnp.lib.capnp._MultipleMessageReader.__next__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_7) < 0) __PYX_ERR(0, 3863, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_7) < 0) __PYX_ERR(0, 3952, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_INCREF(__pyx_t_5);
       __pyx_v_e = __pyx_t_5;
 
-      /* "capnp/lib/capnp.pyx":3864
+      /* "capnp/lib/capnp.pyx":3953
  *             return ret
  *         except KjException as e:
  *             if 'EOF' in str(e):             # <<<<<<<<<<<<<<
  *                 raise StopIteration
  *             else:
  */
-      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3864, __pyx_L5_except_error)
+      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3953, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_9 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_EOF, __pyx_t_4, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 3864, __pyx_L5_except_error)
+      __pyx_t_9 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_EOF, __pyx_t_4, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 3953, __pyx_L5_except_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __pyx_t_11 = (__pyx_t_9 != 0);
       if (unlikely(__pyx_t_11)) {
 
-        /* "capnp/lib/capnp.pyx":3865
+        /* "capnp/lib/capnp.pyx":3954
  *         except KjException as e:
  *             if 'EOF' in str(e):
  *                 raise StopIteration             # <<<<<<<<<<<<<<
  *             else:
  *                 raise
  */
         __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0, 0);
-        __PYX_ERR(0, 3865, __pyx_L5_except_error)
+        __PYX_ERR(0, 3954, __pyx_L5_except_error)
 
-        /* "capnp/lib/capnp.pyx":3864
+        /* "capnp/lib/capnp.pyx":3953
  *             return ret
  *         except KjException as e:
  *             if 'EOF' in str(e):             # <<<<<<<<<<<<<<
  *                 raise StopIteration
  *             else:
  */
       }
 
-      /* "capnp/lib/capnp.pyx":3867
+      /* "capnp/lib/capnp.pyx":3956
  *                 raise StopIteration
  *             else:
  *                 raise             # <<<<<<<<<<<<<<
  * 
  *     def __iter__(self):
  */
       /*else*/ {
         __Pyx_GIVEREF(__pyx_t_6);
         __Pyx_GIVEREF(__pyx_t_5);
         __Pyx_XGIVEREF(__pyx_t_7);
         __Pyx_ErrRestoreWithState(__pyx_t_6, __pyx_t_5, __pyx_t_7);
         __pyx_t_6 = 0; __pyx_t_5 = 0; __pyx_t_7 = 0; 
-        __PYX_ERR(0, 3867, __pyx_L5_except_error)
+        __PYX_ERR(0, 3956, __pyx_L5_except_error)
       }
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":3856
+    /* "capnp/lib/capnp.pyx":3945
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _InputMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -79970,15 +81103,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":3855
+  /* "capnp/lib/capnp.pyx":3944
  *         del self.buffered_stream
  * 
  *     def __next__(self):             # <<<<<<<<<<<<<<
  *         try:
  *             reader = _InputMessageReader()._init(
  */
 
@@ -79995,15 +81128,15 @@
   __Pyx_XDECREF(__pyx_v_ret);
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3869
+/* "capnp/lib/capnp.pyx":3958
  *                 raise
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
 
@@ -80021,42 +81154,42 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_22_MultipleMessageReader_6__iter__(struct __pyx_obj_5capnp_3lib_5capnp__MultipleMessageReader *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__iter__", 0);
 
-  /* "capnp/lib/capnp.pyx":3870
+  /* "capnp/lib/capnp.pyx":3959
  * 
  *     def __iter__(self):
  *         return self             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3869
+  /* "capnp/lib/capnp.pyx":3958
  *                 raise
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3839
+/* "capnp/lib/capnp.pyx":3928
  *     cdef cbool skip_copy
  * 
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, file             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):
  */
 
@@ -80439,15 +81572,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__128, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__130, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -80496,15 +81629,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__129, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__131, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -80519,15 +81652,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MultipleMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3880
+/* "capnp/lib/capnp.pyx":3969
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, file
  * 
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         self.file = file
  *         self.schema = schema
  */
 
@@ -80573,15 +81706,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_file)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 5, 1); __PYX_ERR(0, 3880, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 5, 1); __PYX_ERR(0, 3969, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -80595,15 +81728,15 @@
         case  4:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_skip_copy);
           if (value) { values[4] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3880, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3969, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  5: values[4] = PyTuple_GET_ITEM(__pyx_args, 4);
         CYTHON_FALLTHROUGH;
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
@@ -80619,15 +81752,15 @@
     __pyx_v_schema = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
     __pyx_v_skip_copy = values[4];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3880, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 5, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3969, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._MultiplePackedMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_28_MultiplePackedMessageReader___init__(((struct __pyx_obj_5capnp_3lib_5capnp__MultiplePackedMessageReader *)__pyx_v_self), __pyx_v_file, __pyx_v_schema, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit, __pyx_v_skip_copy);
 
@@ -80645,114 +81778,114 @@
   PyObject *__pyx_t_4 = NULL;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3881
+  /* "capnp/lib/capnp.pyx":3970
  * 
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):
  *         self.file = file             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  */
   __Pyx_INCREF(__pyx_v_file);
   __Pyx_GIVEREF(__pyx_v_file);
   __Pyx_GOTREF(__pyx_v_self->file);
   __Pyx_DECREF(__pyx_v_self->file);
   __pyx_v_self->file = __pyx_v_file;
 
-  /* "capnp/lib/capnp.pyx":3882
+  /* "capnp/lib/capnp.pyx":3971
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):
  *         self.file = file
  *         self.schema = schema             # <<<<<<<<<<<<<<
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit
  */
   __Pyx_INCREF(__pyx_v_schema);
   __Pyx_GIVEREF(__pyx_v_schema);
   __Pyx_GOTREF(__pyx_v_self->schema);
   __Pyx_DECREF(__pyx_v_self->schema);
   __pyx_v_self->schema = __pyx_v_schema;
 
-  /* "capnp/lib/capnp.pyx":3883
+  /* "capnp/lib/capnp.pyx":3972
  *         self.file = file
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words             # <<<<<<<<<<<<<<
  *         self.nesting_limit = nesting_limit
  *         self.skip_copy = skip_copy
  */
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GOTREF(__pyx_v_self->traversal_limit_in_words);
   __Pyx_DECREF(__pyx_v_self->traversal_limit_in_words);
   __pyx_v_self->traversal_limit_in_words = __pyx_v_traversal_limit_in_words;
 
-  /* "capnp/lib/capnp.pyx":3884
+  /* "capnp/lib/capnp.pyx":3973
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit             # <<<<<<<<<<<<<<
  *         self.skip_copy = skip_copy
  * 
  */
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   __Pyx_GOTREF(__pyx_v_self->nesting_limit);
   __Pyx_DECREF(__pyx_v_self->nesting_limit);
   __pyx_v_self->nesting_limit = __pyx_v_nesting_limit;
 
-  /* "capnp/lib/capnp.pyx":3885
+  /* "capnp/lib/capnp.pyx":3974
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit
  *         self.skip_copy = skip_copy             # <<<<<<<<<<<<<<
  * 
  *         self.stream = new schema_cpp.FdInputStream(file.fileno())
  */
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_skip_copy); if (unlikely((__pyx_t_1 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 3885, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_skip_copy); if (unlikely((__pyx_t_1 == ((bool)-1)) && PyErr_Occurred())) __PYX_ERR(0, 3974, __pyx_L1_error)
   __pyx_v_self->skip_copy = __pyx_t_1;
 
-  /* "capnp/lib/capnp.pyx":3887
+  /* "capnp/lib/capnp.pyx":3976
  *         self.skip_copy = skip_copy
  * 
  *         self.stream = new schema_cpp.FdInputStream(file.fileno())             # <<<<<<<<<<<<<<
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  */
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3887, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_v_file, __pyx_n_s_fileno); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3976, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3887, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3976, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_5 = __Pyx_PyInt_As_int(__pyx_t_2); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3887, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyInt_As_int(__pyx_t_2); if (unlikely((__pyx_t_5 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 3976, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_self->stream = new  ::kj::FdInputStream(__pyx_t_5);
 
-  /* "capnp/lib/capnp.pyx":3888
+  /* "capnp/lib/capnp.pyx":3977
  * 
  *         self.stream = new schema_cpp.FdInputStream(file.fileno())
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __pyx_v_self->buffered_stream = new  ::kj::BufferedInputStreamWrapper((*__pyx_v_self->stream));
 
-  /* "capnp/lib/capnp.pyx":3880
+  /* "capnp/lib/capnp.pyx":3969
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, file
  * 
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         self.file = file
  *         self.schema = schema
  */
 
@@ -80766,15 +81899,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MultiplePackedMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3890
+/* "capnp/lib/capnp.pyx":3979
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.stream
  *         del self.buffered_stream
  */
 
@@ -80789,45 +81922,45 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_28_MultiplePackedMessageReader_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__MultiplePackedMessageReader *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3891
+  /* "capnp/lib/capnp.pyx":3980
  * 
  *     def __dealloc__(self):
  *         del self.stream             # <<<<<<<<<<<<<<
  *         del self.buffered_stream
  * 
  */
   delete __pyx_v_self->stream;
 
-  /* "capnp/lib/capnp.pyx":3892
+  /* "capnp/lib/capnp.pyx":3981
  *     def __dealloc__(self):
  *         del self.stream
  *         del self.buffered_stream             # <<<<<<<<<<<<<<
  * 
  *     def __next__(self):
  */
   delete __pyx_v_self->buffered_stream;
 
-  /* "capnp/lib/capnp.pyx":3890
+  /* "capnp/lib/capnp.pyx":3979
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.stream
  *         del self.buffered_stream
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":3894
+/* "capnp/lib/capnp.pyx":3983
  *         del self.buffered_stream
  * 
  *     def __next__(self):             # <<<<<<<<<<<<<<
  *         try:
  *             reader = _PackedMessageReader()._init(
  */
 
@@ -80862,15 +81995,15 @@
   int __pyx_t_10;
   int __pyx_t_11;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__next__", 0);
 
-  /* "capnp/lib/capnp.pyx":3895
+  /* "capnp/lib/capnp.pyx":3984
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
   {
@@ -80878,248 +82011,248 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":3896
+      /* "capnp/lib/capnp.pyx":3985
  *     def __next__(self):
  *         try:
  *             reader = _PackedMessageReader()._init(             # <<<<<<<<<<<<<<
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)
  */
-      __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PackedMessageReader)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3896, __pyx_L3_error)
+      __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PackedMessageReader)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3985, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
 
-      /* "capnp/lib/capnp.pyx":3897
+      /* "capnp/lib/capnp.pyx":3986
  *         try:
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)             # <<<<<<<<<<<<<<
  *             ret = reader.get_root(self.schema)
  *             if not self.skip_copy:
  */
       __pyx_t_5 = __pyx_v_self->traversal_limit_in_words;
       __Pyx_INCREF(__pyx_t_5);
       __pyx_t_6 = __pyx_v_self->nesting_limit;
       __Pyx_INCREF(__pyx_t_6);
 
-      /* "capnp/lib/capnp.pyx":3896
+      /* "capnp/lib/capnp.pyx":3985
  *     def __next__(self):
  *         try:
  *             reader = _PackedMessageReader()._init(             # <<<<<<<<<<<<<<
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)
  */
       __pyx_t_8.__pyx_n = 3;
       __pyx_t_8.traversal_limit_in_words = __pyx_t_5;
       __pyx_t_8.nesting_limit = __pyx_t_6;
       __pyx_t_8.parent = ((PyObject *)__pyx_v_self);
-      __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReader *)((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *)__pyx_t_4)->__pyx_base.__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *)__pyx_t_4), (*__pyx_v_self->buffered_stream), &__pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3896, __pyx_L3_error)
+      __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReader *)((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *)__pyx_t_4)->__pyx_base.__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *)__pyx_t_4), (*__pyx_v_self->buffered_stream), &__pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3985, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __pyx_v_reader = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3898
+      /* "capnp/lib/capnp.pyx":3987
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)             # <<<<<<<<<<<<<<
  *             if not self.skip_copy:
  *                 ret = ret.as_builder().as_reader()
  */
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_get_root); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3898, __pyx_L3_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_get_root); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3987, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_6);
       __pyx_t_5 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
         __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_6);
         if (likely(__pyx_t_5)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
           __Pyx_INCREF(__pyx_t_5);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_6, function);
         }
       }
       __pyx_t_7 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_5, __pyx_v_self->schema) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_self->schema);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3898, __pyx_L3_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3987, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __pyx_v_ret = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3899
+      /* "capnp/lib/capnp.pyx":3988
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)
  *             if not self.skip_copy:             # <<<<<<<<<<<<<<
  *                 ret = ret.as_builder().as_reader()
  *             return ret
  */
       __pyx_t_9 = ((!(__pyx_v_self->skip_copy != 0)) != 0);
       if (__pyx_t_9) {
 
-        /* "capnp/lib/capnp.pyx":3900
+        /* "capnp/lib/capnp.pyx":3989
  *             ret = reader.get_root(self.schema)
  *             if not self.skip_copy:
  *                 ret = ret.as_builder().as_reader()             # <<<<<<<<<<<<<<
  *             return ret
  *         except KjException as e:
  */
-        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_ret, __pyx_n_s_as_builder); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3900, __pyx_L3_error)
+        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_ret, __pyx_n_s_as_builder); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3989, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_5);
         __pyx_t_4 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_5);
           if (likely(__pyx_t_4)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
             __Pyx_INCREF(__pyx_t_4);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_5, function);
           }
         }
         __pyx_t_6 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
         __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-        if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3900, __pyx_L3_error)
+        if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3989, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_6);
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_as_reader); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3900, __pyx_L3_error)
+        __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_as_reader); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3989, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_5);
         __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
         __pyx_t_6 = NULL;
         if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
           __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_5);
           if (likely(__pyx_t_6)) {
             PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
             __Pyx_INCREF(__pyx_t_6);
             __Pyx_INCREF(function);
             __Pyx_DECREF_SET(__pyx_t_5, function);
           }
         }
         __pyx_t_7 = (__pyx_t_6) ? __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6) : __Pyx_PyObject_CallNoArg(__pyx_t_5);
         __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-        if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3900, __pyx_L3_error)
+        if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3989, __pyx_L3_error)
         __Pyx_GOTREF(__pyx_t_7);
         __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_DECREF_SET(__pyx_v_ret, __pyx_t_7);
         __pyx_t_7 = 0;
 
-        /* "capnp/lib/capnp.pyx":3899
+        /* "capnp/lib/capnp.pyx":3988
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             ret = reader.get_root(self.schema)
  *             if not self.skip_copy:             # <<<<<<<<<<<<<<
  *                 ret = ret.as_builder().as_reader()
  *             return ret
  */
       }
 
-      /* "capnp/lib/capnp.pyx":3901
+      /* "capnp/lib/capnp.pyx":3990
  *             if not self.skip_copy:
  *                 ret = ret.as_builder().as_reader()
  *             return ret             # <<<<<<<<<<<<<<
  *         except KjException as e:
  *             if 'EOF' in str(e):
  */
       __Pyx_XDECREF(__pyx_r);
       __Pyx_INCREF(__pyx_v_ret);
       __pyx_r = __pyx_v_ret;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":3895
+      /* "capnp/lib/capnp.pyx":3984
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-    /* "capnp/lib/capnp.pyx":3902
+    /* "capnp/lib/capnp.pyx":3991
  *                 ret = ret.as_builder().as_reader()
  *             return ret
  *         except KjException as e:             # <<<<<<<<<<<<<<
  *             if 'EOF' in str(e):
  *                 raise StopIteration
  */
     __Pyx_ErrFetch(&__pyx_t_7, &__pyx_t_5, &__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3902, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3991, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_10 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_7, __pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_ErrRestore(__pyx_t_7, __pyx_t_5, __pyx_t_6);
     __pyx_t_7 = 0; __pyx_t_5 = 0; __pyx_t_6 = 0;
     if (__pyx_t_10) {
       __Pyx_AddTraceback("capnp.lib.capnp._MultiplePackedMessageReader.__next__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_7) < 0) __PYX_ERR(0, 3902, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_5, &__pyx_t_7) < 0) __PYX_ERR(0, 3991, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_INCREF(__pyx_t_5);
       __pyx_v_e = __pyx_t_5;
 
-      /* "capnp/lib/capnp.pyx":3903
+      /* "capnp/lib/capnp.pyx":3992
  *             return ret
  *         except KjException as e:
  *             if 'EOF' in str(e):             # <<<<<<<<<<<<<<
  *                 raise StopIteration
  *             else:
  */
-      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3903, __pyx_L5_except_error)
+      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3992, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_9 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_EOF, __pyx_t_4, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 3903, __pyx_L5_except_error)
+      __pyx_t_9 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_EOF, __pyx_t_4, Py_EQ)); if (unlikely(__pyx_t_9 < 0)) __PYX_ERR(0, 3992, __pyx_L5_except_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __pyx_t_11 = (__pyx_t_9 != 0);
       if (unlikely(__pyx_t_11)) {
 
-        /* "capnp/lib/capnp.pyx":3904
+        /* "capnp/lib/capnp.pyx":3993
  *         except KjException as e:
  *             if 'EOF' in str(e):
  *                 raise StopIteration             # <<<<<<<<<<<<<<
  *             else:
  *                 raise
  */
         __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0, 0);
-        __PYX_ERR(0, 3904, __pyx_L5_except_error)
+        __PYX_ERR(0, 3993, __pyx_L5_except_error)
 
-        /* "capnp/lib/capnp.pyx":3903
+        /* "capnp/lib/capnp.pyx":3992
  *             return ret
  *         except KjException as e:
  *             if 'EOF' in str(e):             # <<<<<<<<<<<<<<
  *                 raise StopIteration
  *             else:
  */
       }
 
-      /* "capnp/lib/capnp.pyx":3906
+      /* "capnp/lib/capnp.pyx":3995
  *                 raise StopIteration
  *             else:
  *                 raise             # <<<<<<<<<<<<<<
  * 
  *     def __iter__(self):
  */
       /*else*/ {
         __Pyx_GIVEREF(__pyx_t_6);
         __Pyx_GIVEREF(__pyx_t_5);
         __Pyx_XGIVEREF(__pyx_t_7);
         __Pyx_ErrRestoreWithState(__pyx_t_6, __pyx_t_5, __pyx_t_7);
         __pyx_t_6 = 0; __pyx_t_5 = 0; __pyx_t_7 = 0; 
-        __PYX_ERR(0, 3906, __pyx_L5_except_error)
+        __PYX_ERR(0, 3995, __pyx_L5_except_error)
       }
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":3895
+    /* "capnp/lib/capnp.pyx":3984
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -81131,15 +82264,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":3894
+  /* "capnp/lib/capnp.pyx":3983
  *         del self.buffered_stream
  * 
  *     def __next__(self):             # <<<<<<<<<<<<<<
  *         try:
  *             reader = _PackedMessageReader()._init(
  */
 
@@ -81156,15 +82289,15 @@
   __Pyx_XDECREF(__pyx_v_ret);
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3908
+/* "capnp/lib/capnp.pyx":3997
  *                 raise
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
 
@@ -81182,42 +82315,42 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_28_MultiplePackedMessageReader_6__iter__(struct __pyx_obj_5capnp_3lib_5capnp__MultiplePackedMessageReader *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__iter__", 0);
 
-  /* "capnp/lib/capnp.pyx":3909
+  /* "capnp/lib/capnp.pyx":3998
  * 
  *     def __iter__(self):
  *         return self             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3908
+  /* "capnp/lib/capnp.pyx":3997
  *                 raise
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3878
+/* "capnp/lib/capnp.pyx":3967
  *     cdef cbool skip_copy
  * 
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, file             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, file, schema, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):
  */
 
@@ -81600,15 +82733,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__130, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__132, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -81657,15 +82790,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__131, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__133, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -81680,15 +82813,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MultiplePackedMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3918
+/* "capnp/lib/capnp.pyx":4007
  *     cdef public object traversal_limit_in_words, nesting_limit, schema
  * 
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         self.offset = 0
  *         self.schema = schema
  */
 
@@ -81730,15 +82863,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_buf)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, 1); __PYX_ERR(0, 3918, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, 1); __PYX_ERR(0, 4007, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -81746,15 +82879,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3918, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4007, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -81767,15 +82900,15 @@
     __pyx_v_buf = values[0];
     __pyx_v_schema = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3918, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4007, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._MultipleBytesMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_27_MultipleBytesMessageReader___init__(((struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesMessageReader *)__pyx_v_self), __pyx_v_buf, __pyx_v_schema, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -81796,256 +82929,256 @@
   PyObject *__pyx_t_5 = NULL;
   char *__pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3919
+  /* "capnp/lib/capnp.pyx":4008
  * 
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):
  *         self.offset = 0             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  */
   __pyx_v_self->offset = 0;
 
-  /* "capnp/lib/capnp.pyx":3920
+  /* "capnp/lib/capnp.pyx":4009
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):
  *         self.offset = 0
  *         self.schema = schema             # <<<<<<<<<<<<<<
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit
  */
   __Pyx_INCREF(__pyx_v_schema);
   __Pyx_GIVEREF(__pyx_v_schema);
   __Pyx_GOTREF(__pyx_v_self->schema);
   __Pyx_DECREF(__pyx_v_self->schema);
   __pyx_v_self->schema = __pyx_v_schema;
 
-  /* "capnp/lib/capnp.pyx":3921
+  /* "capnp/lib/capnp.pyx":4010
  *         self.offset = 0
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words             # <<<<<<<<<<<<<<
  *         self.nesting_limit = nesting_limit
  * 
  */
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GOTREF(__pyx_v_self->traversal_limit_in_words);
   __Pyx_DECREF(__pyx_v_self->traversal_limit_in_words);
   __pyx_v_self->traversal_limit_in_words = __pyx_v_traversal_limit_in_words;
 
-  /* "capnp/lib/capnp.pyx":3922
+  /* "capnp/lib/capnp.pyx":4011
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit             # <<<<<<<<<<<<<<
  * 
  *         self.sz = len(buf)
  */
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   __Pyx_GOTREF(__pyx_v_self->nesting_limit);
   __Pyx_DECREF(__pyx_v_self->nesting_limit);
   __pyx_v_self->nesting_limit = __pyx_v_nesting_limit;
 
-  /* "capnp/lib/capnp.pyx":3924
+  /* "capnp/lib/capnp.pyx":4013
  *         self.nesting_limit = nesting_limit
  * 
  *         self.sz = len(buf)             # <<<<<<<<<<<<<<
  *         if isinstance(buf, bytes):
  *             self.ptr = buf
  */
-  __pyx_t_1 = PyObject_Length(__pyx_v_buf); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(0, 3924, __pyx_L1_error)
+  __pyx_t_1 = PyObject_Length(__pyx_v_buf); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4013, __pyx_L1_error)
   __pyx_v_self->sz = __pyx_t_1;
 
-  /* "capnp/lib/capnp.pyx":3925
+  /* "capnp/lib/capnp.pyx":4014
  * 
  *         self.sz = len(buf)
  *         if isinstance(buf, bytes):             # <<<<<<<<<<<<<<
  *             self.ptr = buf
  *             if (<uintptr_t>self.ptr) % 8 != 0:
  */
   __pyx_t_2 = PyBytes_Check(__pyx_v_buf); 
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":3926
+    /* "capnp/lib/capnp.pyx":4015
  *         self.sz = len(buf)
  *         if isinstance(buf, bytes):
  *             self.ptr = buf             # <<<<<<<<<<<<<<
  *             if (<uintptr_t>self.ptr) % 8 != 0:
  *                 aligned = _AlignedBuffer(buf)
  */
-    __pyx_t_4 = __Pyx_PyObject_AsString(__pyx_v_buf); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 3926, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_AsString(__pyx_v_buf); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 4015, __pyx_L1_error)
     __pyx_v_self->ptr = __pyx_t_4;
 
-    /* "capnp/lib/capnp.pyx":3927
+    /* "capnp/lib/capnp.pyx":4016
  *         if isinstance(buf, bytes):
  *             self.ptr = buf
  *             if (<uintptr_t>self.ptr) % 8 != 0:             # <<<<<<<<<<<<<<
  *                 aligned = _AlignedBuffer(buf)
  *                 self.ptr = aligned.buf
  */
     __pyx_t_3 = (((((uintptr_t)__pyx_v_self->ptr) % 8) != 0) != 0);
     if (__pyx_t_3) {
 
-      /* "capnp/lib/capnp.pyx":3928
+      /* "capnp/lib/capnp.pyx":4017
  *             self.ptr = buf
  *             if (<uintptr_t>self.ptr) % 8 != 0:
  *                 aligned = _AlignedBuffer(buf)             # <<<<<<<<<<<<<<
  *                 self.ptr = aligned.buf
  *                 self._object_to_pin = aligned
  */
-      __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AlignedBuffer), __pyx_v_buf); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3928, __pyx_L1_error)
+      __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AlignedBuffer), __pyx_v_buf); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4017, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_5);
       __pyx_v_aligned = ((struct __pyx_obj_5capnp_3lib_5capnp__AlignedBuffer *)__pyx_t_5);
       __pyx_t_5 = 0;
 
-      /* "capnp/lib/capnp.pyx":3929
+      /* "capnp/lib/capnp.pyx":4018
  *             if (<uintptr_t>self.ptr) % 8 != 0:
  *                 aligned = _AlignedBuffer(buf)
  *                 self.ptr = aligned.buf             # <<<<<<<<<<<<<<
  *                 self._object_to_pin = aligned
  *             else:
  */
       __pyx_t_6 = __pyx_v_aligned->buf;
       __pyx_v_self->ptr = __pyx_t_6;
 
-      /* "capnp/lib/capnp.pyx":3930
+      /* "capnp/lib/capnp.pyx":4019
  *                 aligned = _AlignedBuffer(buf)
  *                 self.ptr = aligned.buf
  *                 self._object_to_pin = aligned             # <<<<<<<<<<<<<<
  *             else:
  *                 self._object_to_pin = buf
  */
       __Pyx_INCREF(((PyObject *)__pyx_v_aligned));
       __Pyx_GIVEREF(((PyObject *)__pyx_v_aligned));
       __Pyx_GOTREF(__pyx_v_self->_object_to_pin);
       __Pyx_DECREF(__pyx_v_self->_object_to_pin);
       __pyx_v_self->_object_to_pin = ((PyObject *)__pyx_v_aligned);
 
-      /* "capnp/lib/capnp.pyx":3927
+      /* "capnp/lib/capnp.pyx":4016
  *         if isinstance(buf, bytes):
  *             self.ptr = buf
  *             if (<uintptr_t>self.ptr) % 8 != 0:             # <<<<<<<<<<<<<<
  *                 aligned = _AlignedBuffer(buf)
  *                 self.ptr = aligned.buf
  */
       goto __pyx_L4;
     }
 
-    /* "capnp/lib/capnp.pyx":3932
+    /* "capnp/lib/capnp.pyx":4021
  *                 self._object_to_pin = aligned
  *             else:
  *                 self._object_to_pin = buf             # <<<<<<<<<<<<<<
  *                 self.ptr = buf
  *         elif PyObject_CheckBuffer(buf):
  */
     /*else*/ {
       __Pyx_INCREF(__pyx_v_buf);
       __Pyx_GIVEREF(__pyx_v_buf);
       __Pyx_GOTREF(__pyx_v_self->_object_to_pin);
       __Pyx_DECREF(__pyx_v_self->_object_to_pin);
       __pyx_v_self->_object_to_pin = __pyx_v_buf;
 
-      /* "capnp/lib/capnp.pyx":3933
+      /* "capnp/lib/capnp.pyx":4022
  *             else:
  *                 self._object_to_pin = buf
  *                 self.ptr = buf             # <<<<<<<<<<<<<<
  *         elif PyObject_CheckBuffer(buf):
  *             view = _BufferView(buf)
  */
-      __pyx_t_4 = __Pyx_PyObject_AsString(__pyx_v_buf); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 3933, __pyx_L1_error)
+      __pyx_t_4 = __Pyx_PyObject_AsString(__pyx_v_buf); if (unlikely((!__pyx_t_4) && PyErr_Occurred())) __PYX_ERR(0, 4022, __pyx_L1_error)
       __pyx_v_self->ptr = __pyx_t_4;
     }
     __pyx_L4:;
 
-    /* "capnp/lib/capnp.pyx":3925
+    /* "capnp/lib/capnp.pyx":4014
  * 
  *         self.sz = len(buf)
  *         if isinstance(buf, bytes):             # <<<<<<<<<<<<<<
  *             self.ptr = buf
  *             if (<uintptr_t>self.ptr) % 8 != 0:
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":3934
+  /* "capnp/lib/capnp.pyx":4023
  *                 self._object_to_pin = buf
  *                 self.ptr = buf
  *         elif PyObject_CheckBuffer(buf):             # <<<<<<<<<<<<<<
  *             view = _BufferView(buf)
  *             self.ptr = view.buf
  */
   __pyx_t_3 = (PyObject_CheckBuffer(__pyx_v_buf) != 0);
   if (likely(__pyx_t_3)) {
 
-    /* "capnp/lib/capnp.pyx":3935
+    /* "capnp/lib/capnp.pyx":4024
  *                 self.ptr = buf
  *         elif PyObject_CheckBuffer(buf):
  *             view = _BufferView(buf)             # <<<<<<<<<<<<<<
  *             self.ptr = view.buf
  *             self._object_to_pin = view
  */
-    __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__BufferView), __pyx_v_buf); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3935, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__BufferView), __pyx_v_buf); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4024, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __pyx_v_view = ((struct __pyx_obj_5capnp_3lib_5capnp__BufferView *)__pyx_t_5);
     __pyx_t_5 = 0;
 
-    /* "capnp/lib/capnp.pyx":3936
+    /* "capnp/lib/capnp.pyx":4025
  *         elif PyObject_CheckBuffer(buf):
  *             view = _BufferView(buf)
  *             self.ptr = view.buf             # <<<<<<<<<<<<<<
  *             self._object_to_pin = view
  *         else:
  */
     __pyx_t_6 = __pyx_v_view->buf;
     __pyx_v_self->ptr = __pyx_t_6;
 
-    /* "capnp/lib/capnp.pyx":3937
+    /* "capnp/lib/capnp.pyx":4026
  *             view = _BufferView(buf)
  *             self.ptr = view.buf
  *             self._object_to_pin = view             # <<<<<<<<<<<<<<
  *         else:
  *             raise TypeError('expected buffer-like object in FlatArrayMessageReader')
  */
     __Pyx_INCREF(((PyObject *)__pyx_v_view));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_view));
     __Pyx_GOTREF(__pyx_v_self->_object_to_pin);
     __Pyx_DECREF(__pyx_v_self->_object_to_pin);
     __pyx_v_self->_object_to_pin = ((PyObject *)__pyx_v_view);
 
-    /* "capnp/lib/capnp.pyx":3934
+    /* "capnp/lib/capnp.pyx":4023
  *                 self._object_to_pin = buf
  *                 self.ptr = buf
  *         elif PyObject_CheckBuffer(buf):             # <<<<<<<<<<<<<<
  *             view = _BufferView(buf)
  *             self.ptr = view.buf
  */
     goto __pyx_L3;
   }
 
-  /* "capnp/lib/capnp.pyx":3939
+  /* "capnp/lib/capnp.pyx":4028
  *             self._object_to_pin = view
  *         else:
  *             raise TypeError('expected buffer-like object in FlatArrayMessageReader')             # <<<<<<<<<<<<<<
  * 
  *     def __next__(self):
  */
   /*else*/ {
-    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__132, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3939, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__134, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4028, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_Raise(__pyx_t_5, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __PYX_ERR(0, 3939, __pyx_L1_error)
+    __PYX_ERR(0, 4028, __pyx_L1_error)
   }
   __pyx_L3:;
 
-  /* "capnp/lib/capnp.pyx":3918
+  /* "capnp/lib/capnp.pyx":4007
  *     cdef public object traversal_limit_in_words, nesting_limit, schema
  * 
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         self.offset = 0
  *         self.schema = schema
  */
 
@@ -82059,15 +83192,15 @@
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_aligned);
   __Pyx_XDECREF((PyObject *)__pyx_v_view);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3941
+/* "capnp/lib/capnp.pyx":4030
  *             raise TypeError('expected buffer-like object in FlatArrayMessageReader')
  * 
  *     def __next__(self):             # <<<<<<<<<<<<<<
  *         cdef _FlatArrayMessageReaderAligned reader
  *         if self.offset == self.sz:
  */
 
@@ -82101,44 +83234,44 @@
   int __pyx_t_10;
   int __pyx_t_11;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__next__", 0);
 
-  /* "capnp/lib/capnp.pyx":3943
+  /* "capnp/lib/capnp.pyx":4032
  *     def __next__(self):
  *         cdef _FlatArrayMessageReaderAligned reader
  *         if self.offset == self.sz:             # <<<<<<<<<<<<<<
  *             raise StopIteration
  *         try:
  */
   __pyx_t_1 = ((__pyx_v_self->offset == __pyx_v_self->sz) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":3944
+    /* "capnp/lib/capnp.pyx":4033
  *         cdef _FlatArrayMessageReaderAligned reader
  *         if self.offset == self.sz:
  *             raise StopIteration             # <<<<<<<<<<<<<<
  *         try:
  *             reader = _FlatArrayMessageReaderAligned()
  */
     __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0, 0);
-    __PYX_ERR(0, 3944, __pyx_L1_error)
+    __PYX_ERR(0, 4033, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":3943
+    /* "capnp/lib/capnp.pyx":4032
  *     def __next__(self):
  *         cdef _FlatArrayMessageReaderAligned reader
  *         if self.offset == self.sz:             # <<<<<<<<<<<<<<
  *             raise StopIteration
  *         try:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3945
+  /* "capnp/lib/capnp.pyx":4034
  *         if self.offset == self.sz:
  *             raise StopIteration
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _FlatArrayMessageReaderAligned()
  *             reader._init(self._object_to_pin, self.ptr + self.offset, self.sz - self.offset,
  */
   {
@@ -82146,187 +83279,187 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_2, &__pyx_t_3, &__pyx_t_4);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_4);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":3946
+      /* "capnp/lib/capnp.pyx":4035
  *             raise StopIteration
  *         try:
  *             reader = _FlatArrayMessageReaderAligned()             # <<<<<<<<<<<<<<
  *             reader._init(self._object_to_pin, self.ptr + self.offset, self.sz - self.offset,
  *                          self.traversal_limit_in_words, self.nesting_limit)
  */
-      __pyx_t_5 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3946, __pyx_L4_error)
+      __pyx_t_5 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4035, __pyx_L4_error)
       __Pyx_GOTREF(__pyx_t_5);
       __pyx_v_reader = ((struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *)__pyx_t_5);
       __pyx_t_5 = 0;
 
-      /* "capnp/lib/capnp.pyx":3947
+      /* "capnp/lib/capnp.pyx":4036
  *         try:
  *             reader = _FlatArrayMessageReaderAligned()
  *             reader._init(self._object_to_pin, self.ptr + self.offset, self.sz - self.offset,             # <<<<<<<<<<<<<<
  *                          self.traversal_limit_in_words, self.nesting_limit)
  *             self.offset += reader.msg_size
  */
       __pyx_t_5 = __pyx_v_self->_object_to_pin;
       __Pyx_INCREF(__pyx_t_5);
 
-      /* "capnp/lib/capnp.pyx":3948
+      /* "capnp/lib/capnp.pyx":4037
  *             reader = _FlatArrayMessageReaderAligned()
  *             reader._init(self._object_to_pin, self.ptr + self.offset, self.sz - self.offset,
  *                          self.traversal_limit_in_words, self.nesting_limit)             # <<<<<<<<<<<<<<
  *             self.offset += reader.msg_size
  *             return reader.get_root(self.schema)
  */
       __pyx_t_6 = __pyx_v_self->traversal_limit_in_words;
       __Pyx_INCREF(__pyx_t_6);
       __pyx_t_7 = __pyx_v_self->nesting_limit;
       __Pyx_INCREF(__pyx_t_7);
 
-      /* "capnp/lib/capnp.pyx":3947
+      /* "capnp/lib/capnp.pyx":4036
  *         try:
  *             reader = _FlatArrayMessageReaderAligned()
  *             reader._init(self._object_to_pin, self.ptr + self.offset, self.sz - self.offset,             # <<<<<<<<<<<<<<
  *                          self.traversal_limit_in_words, self.nesting_limit)
  *             self.offset += reader.msg_size
  */
       __pyx_t_9.__pyx_n = 2;
       __pyx_t_9.traversal_limit_in_words = __pyx_t_6;
       __pyx_t_9.nesting_limit = __pyx_t_7;
-      __pyx_t_8 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *)__pyx_v_reader->__pyx_base.__pyx_vtab)->_init(__pyx_v_reader, __pyx_t_5, (__pyx_v_self->ptr + __pyx_v_self->offset), (__pyx_v_self->sz - __pyx_v_self->offset), &__pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 3947, __pyx_L4_error)
+      __pyx_t_8 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *)__pyx_v_reader->__pyx_base.__pyx_vtab)->_init(__pyx_v_reader, __pyx_t_5, (__pyx_v_self->ptr + __pyx_v_self->offset), (__pyx_v_self->sz - __pyx_v_self->offset), &__pyx_t_9); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4036, __pyx_L4_error)
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-      /* "capnp/lib/capnp.pyx":3949
+      /* "capnp/lib/capnp.pyx":4038
  *             reader._init(self._object_to_pin, self.ptr + self.offset, self.sz - self.offset,
  *                          self.traversal_limit_in_words, self.nesting_limit)
  *             self.offset += reader.msg_size             # <<<<<<<<<<<<<<
  *             return reader.get_root(self.schema)
  *         except KjException as e:
  */
       __pyx_v_self->offset = (__pyx_v_self->offset + __pyx_v_reader->msg_size);
 
-      /* "capnp/lib/capnp.pyx":3950
+      /* "capnp/lib/capnp.pyx":4039
  *                          self.traversal_limit_in_words, self.nesting_limit)
  *             self.offset += reader.msg_size
  *             return reader.get_root(self.schema)             # <<<<<<<<<<<<<<
  *         except KjException as e:
  *             if 'EOF' in str(e):
  */
       __Pyx_XDECREF(__pyx_r);
       __pyx_t_8 = __pyx_v_self->schema;
       __Pyx_INCREF(__pyx_t_8);
       try {
         __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *)__pyx_v_reader->__pyx_base.__pyx_vtab)->__pyx_base.get_root(((struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *)__pyx_v_reader), __pyx_t_8, 0);
-        if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3950, __pyx_L4_error)
+        if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4039, __pyx_L4_error)
       } catch(...) {
-        reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-        __PYX_ERR(0, 3950, __pyx_L4_error)
+        __pyx_f_5capnp_3lib_5capnp_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+        __PYX_ERR(0, 4039, __pyx_L4_error)
       }
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
       __pyx_r = __pyx_t_7;
       __pyx_t_7 = 0;
       goto __pyx_L8_try_return;
 
-      /* "capnp/lib/capnp.pyx":3945
+      /* "capnp/lib/capnp.pyx":4034
  *         if self.offset == self.sz:
  *             raise StopIteration
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _FlatArrayMessageReaderAligned()
  *             reader._init(self._object_to_pin, self.ptr + self.offset, self.sz - self.offset,
  */
     }
     __pyx_L4_error:;
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
     __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
 
-    /* "capnp/lib/capnp.pyx":3951
+    /* "capnp/lib/capnp.pyx":4040
  *             self.offset += reader.msg_size
  *             return reader.get_root(self.schema)
  *         except KjException as e:             # <<<<<<<<<<<<<<
  *             if 'EOF' in str(e):
  *                 raise StopIteration
  */
     __Pyx_ErrFetch(&__pyx_t_7, &__pyx_t_8, &__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_KjException); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3951, __pyx_L6_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_KjException); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4040, __pyx_L6_except_error)
     __Pyx_GOTREF(__pyx_t_5);
     __pyx_t_10 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_7, __pyx_t_5);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_ErrRestore(__pyx_t_7, __pyx_t_8, __pyx_t_6);
     __pyx_t_7 = 0; __pyx_t_8 = 0; __pyx_t_6 = 0;
     if (__pyx_t_10) {
       __Pyx_AddTraceback("capnp.lib.capnp._MultipleBytesMessageReader.__next__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_8, &__pyx_t_7) < 0) __PYX_ERR(0, 3951, __pyx_L6_except_error)
+      if (__Pyx_GetException(&__pyx_t_6, &__pyx_t_8, &__pyx_t_7) < 0) __PYX_ERR(0, 4040, __pyx_L6_except_error)
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_8);
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_INCREF(__pyx_t_8);
       __pyx_v_e = __pyx_t_8;
 
-      /* "capnp/lib/capnp.pyx":3952
+      /* "capnp/lib/capnp.pyx":4041
  *             return reader.get_root(self.schema)
  *         except KjException as e:
  *             if 'EOF' in str(e):             # <<<<<<<<<<<<<<
  *                 raise StopIteration
  *             else:
  */
-      __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3952, __pyx_L6_except_error)
+      __pyx_t_5 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4041, __pyx_L6_except_error)
       __Pyx_GOTREF(__pyx_t_5);
-      __pyx_t_1 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_EOF, __pyx_t_5, Py_EQ)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 3952, __pyx_L6_except_error)
+      __pyx_t_1 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_EOF, __pyx_t_5, Py_EQ)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 4041, __pyx_L6_except_error)
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __pyx_t_11 = (__pyx_t_1 != 0);
       if (unlikely(__pyx_t_11)) {
 
-        /* "capnp/lib/capnp.pyx":3953
+        /* "capnp/lib/capnp.pyx":4042
  *         except KjException as e:
  *             if 'EOF' in str(e):
  *                 raise StopIteration             # <<<<<<<<<<<<<<
  *             else:
  *                 raise
  */
         __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0, 0);
-        __PYX_ERR(0, 3953, __pyx_L6_except_error)
+        __PYX_ERR(0, 4042, __pyx_L6_except_error)
 
-        /* "capnp/lib/capnp.pyx":3952
+        /* "capnp/lib/capnp.pyx":4041
  *             return reader.get_root(self.schema)
  *         except KjException as e:
  *             if 'EOF' in str(e):             # <<<<<<<<<<<<<<
  *                 raise StopIteration
  *             else:
  */
       }
 
-      /* "capnp/lib/capnp.pyx":3955
+      /* "capnp/lib/capnp.pyx":4044
  *                 raise StopIteration
  *             else:
  *                 raise             # <<<<<<<<<<<<<<
  * 
  *     def __iter__(self):
  */
       /*else*/ {
         __Pyx_GIVEREF(__pyx_t_6);
         __Pyx_GIVEREF(__pyx_t_8);
         __Pyx_XGIVEREF(__pyx_t_7);
         __Pyx_ErrRestoreWithState(__pyx_t_6, __pyx_t_8, __pyx_t_7);
         __pyx_t_6 = 0; __pyx_t_8 = 0; __pyx_t_7 = 0; 
-        __PYX_ERR(0, 3955, __pyx_L6_except_error)
+        __PYX_ERR(0, 4044, __pyx_L6_except_error)
       }
     }
     goto __pyx_L6_except_error;
     __pyx_L6_except_error:;
 
-    /* "capnp/lib/capnp.pyx":3945
+    /* "capnp/lib/capnp.pyx":4034
  *         if self.offset == self.sz:
  *             raise StopIteration
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _FlatArrayMessageReaderAligned()
  *             reader._init(self._object_to_pin, self.ptr + self.offset, self.sz - self.offset,
  */
     __Pyx_XGIVEREF(__pyx_t_2);
@@ -82338,15 +83471,15 @@
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_XGIVEREF(__pyx_t_4);
     __Pyx_ExceptionReset(__pyx_t_2, __pyx_t_3, __pyx_t_4);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":3941
+  /* "capnp/lib/capnp.pyx":4030
  *             raise TypeError('expected buffer-like object in FlatArrayMessageReader')
  * 
  *     def __next__(self):             # <<<<<<<<<<<<<<
  *         cdef _FlatArrayMessageReaderAligned reader
  *         if self.offset == self.sz:
  */
 
@@ -82362,15 +83495,15 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_reader);
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3957
+/* "capnp/lib/capnp.pyx":4046
  *                 raise
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
 
@@ -82388,42 +83521,42 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_27_MultipleBytesMessageReader_4__iter__(struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesMessageReader *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__iter__", 0);
 
-  /* "capnp/lib/capnp.pyx":3958
+  /* "capnp/lib/capnp.pyx":4047
  * 
  *     def __iter__(self):
  *         return self             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3957
+  /* "capnp/lib/capnp.pyx":4046
  *                 raise
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3916
+/* "capnp/lib/capnp.pyx":4005
  *     cdef const char *ptr
  *     cdef object _object_to_pin
  *     cdef public object traversal_limit_in_words, nesting_limit, schema             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):
  */
 
@@ -83030,15 +84163,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3968
+/* "capnp/lib/capnp.pyx":4057
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, buf
  * 
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  */
 
@@ -83080,15 +84213,15 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_buf)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_schema)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, 1); __PYX_ERR(0, 3968, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, 1); __PYX_ERR(0, 4057, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_traversal_limit_in_words);
           if (value) { values[2] = value; kw_args--; }
         }
@@ -83096,15 +84229,15 @@
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 3968, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4057, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
@@ -83117,15 +84250,15 @@
     __pyx_v_buf = values[0];
     __pyx_v_schema = values[1];
     __pyx_v_traversal_limit_in_words = values[2];
     __pyx_v_nesting_limit = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 3968, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 2, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4057, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._MultipleBytesPackedMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_33_MultipleBytesPackedMessageReader___init__(((struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader *)__pyx_v_self), __pyx_v_buf, __pyx_v_schema, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -83142,132 +84275,132 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":3969
+  /* "capnp/lib/capnp.pyx":4058
  * 
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):
  *         self.schema = schema             # <<<<<<<<<<<<<<
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit
  */
   __Pyx_INCREF(__pyx_v_schema);
   __Pyx_GIVEREF(__pyx_v_schema);
   __Pyx_GOTREF(__pyx_v_self->schema);
   __Pyx_DECREF(__pyx_v_self->schema);
   __pyx_v_self->schema = __pyx_v_schema;
 
-  /* "capnp/lib/capnp.pyx":3970
+  /* "capnp/lib/capnp.pyx":4059
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words             # <<<<<<<<<<<<<<
  *         self.nesting_limit = nesting_limit
  * 
  */
   __Pyx_INCREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GIVEREF(__pyx_v_traversal_limit_in_words);
   __Pyx_GOTREF(__pyx_v_self->traversal_limit_in_words);
   __Pyx_DECREF(__pyx_v_self->traversal_limit_in_words);
   __pyx_v_self->traversal_limit_in_words = __pyx_v_traversal_limit_in_words;
 
-  /* "capnp/lib/capnp.pyx":3971
+  /* "capnp/lib/capnp.pyx":4060
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  *         self.nesting_limit = nesting_limit             # <<<<<<<<<<<<<<
  * 
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_SIMPLE) != 0:
  */
   __Pyx_INCREF(__pyx_v_nesting_limit);
   __Pyx_GIVEREF(__pyx_v_nesting_limit);
   __Pyx_GOTREF(__pyx_v_self->nesting_limit);
   __Pyx_DECREF(__pyx_v_self->nesting_limit);
   __pyx_v_self->nesting_limit = __pyx_v_nesting_limit;
 
-  /* "capnp/lib/capnp.pyx":3973
+  /* "capnp/lib/capnp.pyx":4062
  *         self.nesting_limit = nesting_limit
  * 
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_SIMPLE) != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("could not get read buffer")
  * 
  */
   __pyx_t_1 = ((PyObject_GetBuffer(__pyx_v_buf, (&__pyx_v_self->view), PyBUF_SIMPLE) != 0) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":3974
+    /* "capnp/lib/capnp.pyx":4063
  * 
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_SIMPLE) != 0:
  *             raise KjException("could not get read buffer")             # <<<<<<<<<<<<<<
  * 
  *         self.buf = buf
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3974, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4063, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_kp_s_could_not_get_read_buffer) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_kp_s_could_not_get_read_buffer);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3974, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4063, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 3974, __pyx_L1_error)
+    __PYX_ERR(0, 4063, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":3973
+    /* "capnp/lib/capnp.pyx":4062
  *         self.nesting_limit = nesting_limit
  * 
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_SIMPLE) != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("could not get read buffer")
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":3976
+  /* "capnp/lib/capnp.pyx":4065
  *             raise KjException("could not get read buffer")
  * 
  *         self.buf = buf             # <<<<<<<<<<<<<<
  *         self.stream = new schema_cpp.ArrayInputStream(schema_cpp.ByteArrayPtr(<byte *>self.view.buf, self.view.len))
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  */
   __Pyx_INCREF(__pyx_v_buf);
   __Pyx_GIVEREF(__pyx_v_buf);
   __Pyx_GOTREF(__pyx_v_self->buf);
   __Pyx_DECREF(__pyx_v_self->buf);
   __pyx_v_self->buf = __pyx_v_buf;
 
-  /* "capnp/lib/capnp.pyx":3977
+  /* "capnp/lib/capnp.pyx":4066
  * 
  *         self.buf = buf
  *         self.stream = new schema_cpp.ArrayInputStream(schema_cpp.ByteArrayPtr(<byte *>self.view.buf, self.view.len))             # <<<<<<<<<<<<<<
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  */
   __pyx_v_self->stream = new  ::kj::ArrayInputStream( ::kj::ArrayPtr< ::capnp::byte>(((__pyx_t_5capnp_8includes_5types_byte *)__pyx_v_self->view.buf), __pyx_v_self->view.len));
 
-  /* "capnp/lib/capnp.pyx":3978
+  /* "capnp/lib/capnp.pyx":4067
  *         self.buf = buf
  *         self.stream = new schema_cpp.ArrayInputStream(schema_cpp.ByteArrayPtr(<byte *>self.view.buf, self.view.len))
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __pyx_v_self->buffered_stream = new  ::kj::BufferedInputStreamWrapper((*__pyx_v_self->stream));
 
-  /* "capnp/lib/capnp.pyx":3968
+  /* "capnp/lib/capnp.pyx":4057
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, buf
  * 
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         self.traversal_limit_in_words = traversal_limit_in_words
  */
 
@@ -83281,15 +84414,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MultipleBytesPackedMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3980
+/* "capnp/lib/capnp.pyx":4069
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         PyBuffer_Release(&self.view)
  *         del self.buffered_stream
  */
 
@@ -83304,54 +84437,54 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_33_MultipleBytesPackedMessageReader_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":3981
+  /* "capnp/lib/capnp.pyx":4070
  * 
  *     def __dealloc__(self):
  *         PyBuffer_Release(&self.view)             # <<<<<<<<<<<<<<
  *         del self.buffered_stream
  *         del self.stream
  */
   PyBuffer_Release((&__pyx_v_self->view));
 
-  /* "capnp/lib/capnp.pyx":3982
+  /* "capnp/lib/capnp.pyx":4071
  *     def __dealloc__(self):
  *         PyBuffer_Release(&self.view)
  *         del self.buffered_stream             # <<<<<<<<<<<<<<
  *         del self.stream
  * 
  */
   delete __pyx_v_self->buffered_stream;
 
-  /* "capnp/lib/capnp.pyx":3983
+  /* "capnp/lib/capnp.pyx":4072
  *         PyBuffer_Release(&self.view)
  *         del self.buffered_stream
  *         del self.stream             # <<<<<<<<<<<<<<
  * 
  *     def __next__(self):
  */
   delete __pyx_v_self->stream;
 
-  /* "capnp/lib/capnp.pyx":3980
+  /* "capnp/lib/capnp.pyx":4069
  *         self.buffered_stream = new schema_cpp.BufferedInputStreamWrapper(deref(self.stream))
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         PyBuffer_Release(&self.view)
  *         del self.buffered_stream
  */
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
 }
 
-/* "capnp/lib/capnp.pyx":3985
+/* "capnp/lib/capnp.pyx":4074
  *         del self.stream
  * 
  *     def __next__(self):             # <<<<<<<<<<<<<<
  *         try:
  *             reader = _PackedMessageReader()._init(
  */
 
@@ -83385,15 +84518,15 @@
   int __pyx_t_10;
   int __pyx_t_11;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__next__", 0);
 
-  /* "capnp/lib/capnp.pyx":3986
+  /* "capnp/lib/capnp.pyx":4075
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
   {
@@ -83401,174 +84534,174 @@
     __Pyx_PyThreadState_assign
     __Pyx_ExceptionSave(&__pyx_t_1, &__pyx_t_2, &__pyx_t_3);
     __Pyx_XGOTREF(__pyx_t_1);
     __Pyx_XGOTREF(__pyx_t_2);
     __Pyx_XGOTREF(__pyx_t_3);
     /*try:*/ {
 
-      /* "capnp/lib/capnp.pyx":3987
+      /* "capnp/lib/capnp.pyx":4076
  *     def __next__(self):
  *         try:
  *             reader = _PackedMessageReader()._init(             # <<<<<<<<<<<<<<
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             return reader.get_root(self.schema)
  */
-      __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PackedMessageReader)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3987, __pyx_L3_error)
+      __pyx_t_4 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__PackedMessageReader)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4076, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_4);
 
-      /* "capnp/lib/capnp.pyx":3988
+      /* "capnp/lib/capnp.pyx":4077
  *         try:
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)             # <<<<<<<<<<<<<<
  *             return reader.get_root(self.schema)
  *         except KjException as e:
  */
       __pyx_t_5 = __pyx_v_self->traversal_limit_in_words;
       __Pyx_INCREF(__pyx_t_5);
       __pyx_t_6 = __pyx_v_self->nesting_limit;
       __Pyx_INCREF(__pyx_t_6);
 
-      /* "capnp/lib/capnp.pyx":3987
+      /* "capnp/lib/capnp.pyx":4076
  *     def __next__(self):
  *         try:
  *             reader = _PackedMessageReader()._init(             # <<<<<<<<<<<<<<
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             return reader.get_root(self.schema)
  */
       __pyx_t_8.__pyx_n = 3;
       __pyx_t_8.traversal_limit_in_words = __pyx_t_5;
       __pyx_t_8.nesting_limit = __pyx_t_6;
       __pyx_t_8.parent = ((PyObject *)__pyx_v_self);
-      __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReader *)((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *)__pyx_t_4)->__pyx_base.__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *)__pyx_t_4), (*__pyx_v_self->buffered_stream), &__pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3987, __pyx_L3_error)
+      __pyx_t_7 = ((struct __pyx_vtabstruct_5capnp_3lib_5capnp__PackedMessageReader *)((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *)__pyx_t_4)->__pyx_base.__pyx_vtab)->_init(((struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *)__pyx_t_4), (*__pyx_v_self->buffered_stream), &__pyx_t_8); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4076, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __pyx_v_reader = __pyx_t_7;
       __pyx_t_7 = 0;
 
-      /* "capnp/lib/capnp.pyx":3989
+      /* "capnp/lib/capnp.pyx":4078
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             return reader.get_root(self.schema)             # <<<<<<<<<<<<<<
  *         except KjException as e:
  *             if 'EOF' in str(e):
  */
       __Pyx_XDECREF(__pyx_r);
-      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_get_root); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3989, __pyx_L3_error)
+      __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_get_root); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4078, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_6);
       __pyx_t_5 = NULL;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_6))) {
         __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_6);
         if (likely(__pyx_t_5)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
           __Pyx_INCREF(__pyx_t_5);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_6, function);
         }
       }
       __pyx_t_7 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_6, __pyx_t_5, __pyx_v_self->schema) : __Pyx_PyObject_CallOneArg(__pyx_t_6, __pyx_v_self->schema);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 3989, __pyx_L3_error)
+      if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4078, __pyx_L3_error)
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
       __pyx_r = __pyx_t_7;
       __pyx_t_7 = 0;
       goto __pyx_L7_try_return;
 
-      /* "capnp/lib/capnp.pyx":3986
+      /* "capnp/lib/capnp.pyx":4075
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
     }
     __pyx_L3_error:;
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
 
-    /* "capnp/lib/capnp.pyx":3990
+    /* "capnp/lib/capnp.pyx":4079
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  *             return reader.get_root(self.schema)
  *         except KjException as e:             # <<<<<<<<<<<<<<
  *             if 'EOF' in str(e):
  *                 raise StopIteration
  */
     __Pyx_ErrFetch(&__pyx_t_7, &__pyx_t_6, &__pyx_t_5);
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3990, __pyx_L5_except_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_KjException); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4079, __pyx_L5_except_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_9 = __Pyx_PyErr_GivenExceptionMatches(__pyx_t_7, __pyx_t_4);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_ErrRestore(__pyx_t_7, __pyx_t_6, __pyx_t_5);
     __pyx_t_7 = 0; __pyx_t_6 = 0; __pyx_t_5 = 0;
     if (__pyx_t_9) {
       __Pyx_AddTraceback("capnp.lib.capnp._MultipleBytesPackedMessageReader.__next__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_5, &__pyx_t_6, &__pyx_t_7) < 0) __PYX_ERR(0, 3990, __pyx_L5_except_error)
+      if (__Pyx_GetException(&__pyx_t_5, &__pyx_t_6, &__pyx_t_7) < 0) __PYX_ERR(0, 4079, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_5);
       __Pyx_GOTREF(__pyx_t_6);
       __Pyx_GOTREF(__pyx_t_7);
       __Pyx_INCREF(__pyx_t_6);
       __pyx_v_e = __pyx_t_6;
 
-      /* "capnp/lib/capnp.pyx":3991
+      /* "capnp/lib/capnp.pyx":4080
  *             return reader.get_root(self.schema)
  *         except KjException as e:
  *             if 'EOF' in str(e):             # <<<<<<<<<<<<<<
  *                 raise StopIteration
  *             else:
  */
-      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 3991, __pyx_L5_except_error)
+      __pyx_t_4 = __Pyx_PyObject_CallOneArg(((PyObject *)(&PyString_Type)), __pyx_v_e); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4080, __pyx_L5_except_error)
       __Pyx_GOTREF(__pyx_t_4);
-      __pyx_t_10 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_EOF, __pyx_t_4, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 3991, __pyx_L5_except_error)
+      __pyx_t_10 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_EOF, __pyx_t_4, Py_EQ)); if (unlikely(__pyx_t_10 < 0)) __PYX_ERR(0, 4080, __pyx_L5_except_error)
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       __pyx_t_11 = (__pyx_t_10 != 0);
       if (unlikely(__pyx_t_11)) {
 
-        /* "capnp/lib/capnp.pyx":3992
+        /* "capnp/lib/capnp.pyx":4081
  *         except KjException as e:
  *             if 'EOF' in str(e):
  *                 raise StopIteration             # <<<<<<<<<<<<<<
  *             else:
  *                 raise
  */
         __Pyx_Raise(__pyx_builtin_StopIteration, 0, 0, 0);
-        __PYX_ERR(0, 3992, __pyx_L5_except_error)
+        __PYX_ERR(0, 4081, __pyx_L5_except_error)
 
-        /* "capnp/lib/capnp.pyx":3991
+        /* "capnp/lib/capnp.pyx":4080
  *             return reader.get_root(self.schema)
  *         except KjException as e:
  *             if 'EOF' in str(e):             # <<<<<<<<<<<<<<
  *                 raise StopIteration
  *             else:
  */
       }
 
-      /* "capnp/lib/capnp.pyx":3994
+      /* "capnp/lib/capnp.pyx":4083
  *                 raise StopIteration
  *             else:
  *                 raise             # <<<<<<<<<<<<<<
  * 
  *     def __iter__(self):
  */
       /*else*/ {
         __Pyx_GIVEREF(__pyx_t_5);
         __Pyx_GIVEREF(__pyx_t_6);
         __Pyx_XGIVEREF(__pyx_t_7);
         __Pyx_ErrRestoreWithState(__pyx_t_5, __pyx_t_6, __pyx_t_7);
         __pyx_t_5 = 0; __pyx_t_6 = 0; __pyx_t_7 = 0; 
-        __PYX_ERR(0, 3994, __pyx_L5_except_error)
+        __PYX_ERR(0, 4083, __pyx_L5_except_error)
       }
     }
     goto __pyx_L5_except_error;
     __pyx_L5_except_error:;
 
-    /* "capnp/lib/capnp.pyx":3986
+    /* "capnp/lib/capnp.pyx":4075
  * 
  *     def __next__(self):
  *         try:             # <<<<<<<<<<<<<<
  *             reader = _PackedMessageReader()._init(
  *                 deref(self.buffered_stream), self.traversal_limit_in_words, self.nesting_limit, self)
  */
     __Pyx_XGIVEREF(__pyx_t_1);
@@ -83580,15 +84713,15 @@
     __Pyx_XGIVEREF(__pyx_t_1);
     __Pyx_XGIVEREF(__pyx_t_2);
     __Pyx_XGIVEREF(__pyx_t_3);
     __Pyx_ExceptionReset(__pyx_t_1, __pyx_t_2, __pyx_t_3);
     goto __pyx_L0;
   }
 
-  /* "capnp/lib/capnp.pyx":3985
+  /* "capnp/lib/capnp.pyx":4074
  *         del self.stream
  * 
  *     def __next__(self):             # <<<<<<<<<<<<<<
  *         try:
  *             reader = _PackedMessageReader()._init(
  */
 
@@ -83604,15 +84737,15 @@
   __Pyx_XDECREF(__pyx_v_reader);
   __Pyx_XDECREF(__pyx_v_e);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3996
+/* "capnp/lib/capnp.pyx":4085
  *                 raise
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
 
@@ -83630,42 +84763,42 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_33_MultipleBytesPackedMessageReader_6__iter__(struct __pyx_obj_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__iter__", 0);
 
-  /* "capnp/lib/capnp.pyx":3997
+  /* "capnp/lib/capnp.pyx":4086
  * 
  *     def __iter__(self):
  *         return self             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":3996
+  /* "capnp/lib/capnp.pyx":4085
  *                 raise
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":3966
+/* "capnp/lib/capnp.pyx":4055
  *     cdef Py_buffer view
  * 
  *     cdef public object traversal_limit_in_words, nesting_limit, schema, buf             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, buf, schema, traversal_limit_in_words=None, nesting_limit=None):
  */
 
@@ -84048,15 +85181,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.buffered_stream,self.stream,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream,self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__133, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__135, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -84105,15 +85238,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.buffered_stream,self.stream,self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__134, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__136, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -84128,15 +85261,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._MultipleBytesPackedMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4007
+/* "capnp/lib/capnp.pyx":4096
  * 
  *     # other should also have a length that's a multiple of 8
  *     def __init__(self, other):             # <<<<<<<<<<<<<<
  *         if PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE) != 0:
  *             raise KjException("could not get read buffer")
  */
 
@@ -84165,26 +85298,26 @@
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_other)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4007, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4096, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_other = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4007, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4096, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._AlignedBuffer.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_14_AlignedBuffer___init__(((struct __pyx_obj_5capnp_3lib_5capnp__AlignedBuffer *)__pyx_v_self), __pyx_v_other);
 
@@ -84203,99 +85336,99 @@
   PyObject *__pyx_t_4 = NULL;
   Py_ssize_t __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":4008
+  /* "capnp/lib/capnp.pyx":4097
  *     # other should also have a length that's a multiple of 8
  *     def __init__(self, other):
  *         if PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE) != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("could not get read buffer")
  *         other_len = len(other)
  */
   __pyx_t_1 = ((PyObject_GetBuffer(__pyx_v_other, (&__pyx_v_self->view), PyBUF_SIMPLE) != 0) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":4009
+    /* "capnp/lib/capnp.pyx":4098
  *     def __init__(self, other):
  *         if PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE) != 0:
  *             raise KjException("could not get read buffer")             # <<<<<<<<<<<<<<
  *         other_len = len(other)
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4009, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4098, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_kp_s_could_not_get_read_buffer) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_kp_s_could_not_get_read_buffer);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4009, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4098, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 4009, __pyx_L1_error)
+    __PYX_ERR(0, 4098, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":4008
+    /* "capnp/lib/capnp.pyx":4097
  *     # other should also have a length that's a multiple of 8
  *     def __init__(self, other):
  *         if PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE) != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("could not get read buffer")
  *         other_len = len(other)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4010
+  /* "capnp/lib/capnp.pyx":4099
  *         if PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE) != 0:
  *             raise KjException("could not get read buffer")
  *         other_len = len(other)             # <<<<<<<<<<<<<<
  * 
  *         # malloc is defined as being word aligned
  */
-  __pyx_t_5 = PyObject_Length(__pyx_v_other); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4010, __pyx_L1_error)
+  __pyx_t_5 = PyObject_Length(__pyx_v_other); if (unlikely(__pyx_t_5 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4099, __pyx_L1_error)
   __pyx_v_other_len = __pyx_t_5;
 
-  /* "capnp/lib/capnp.pyx":4014
+  /* "capnp/lib/capnp.pyx":4103
  *         # malloc is defined as being word aligned
  *         # we don't care about adding NULL terminating character
  *         self.buf = <char *>malloc(other_len)             # <<<<<<<<<<<<<<
  *         memcpy(self.buf, self.view.buf, other_len)
  *         self.allocated = True
  */
   __pyx_v_self->buf = ((char *)malloc(__pyx_v_other_len));
 
-  /* "capnp/lib/capnp.pyx":4015
+  /* "capnp/lib/capnp.pyx":4104
  *         # we don't care about adding NULL terminating character
  *         self.buf = <char *>malloc(other_len)
  *         memcpy(self.buf, self.view.buf, other_len)             # <<<<<<<<<<<<<<
  *         self.allocated = True
  * 
  */
   (void)(memcpy(__pyx_v_self->buf, __pyx_v_self->view.buf, __pyx_v_other_len));
 
-  /* "capnp/lib/capnp.pyx":4016
+  /* "capnp/lib/capnp.pyx":4105
  *         self.buf = <char *>malloc(other_len)
  *         memcpy(self.buf, self.view.buf, other_len)
  *         self.allocated = True             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __pyx_v_self->allocated = 1;
 
-  /* "capnp/lib/capnp.pyx":4007
+  /* "capnp/lib/capnp.pyx":4096
  * 
  *     # other should also have a length that's a multiple of 8
  *     def __init__(self, other):             # <<<<<<<<<<<<<<
  *         if PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE) != 0:
  *             raise KjException("could not get read buffer")
  */
 
@@ -84309,15 +85442,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._AlignedBuffer.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4018
+/* "capnp/lib/capnp.pyx":4107
  *         self.allocated = True
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         if self.allocated:
  *             free(self.buf)
  */
 
@@ -84333,52 +85466,52 @@
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_14_AlignedBuffer_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__AlignedBuffer *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":4019
+  /* "capnp/lib/capnp.pyx":4108
  * 
  *     def __dealloc__(self):
  *         if self.allocated:             # <<<<<<<<<<<<<<
  *             free(self.buf)
  *         PyBuffer_Release(&self.view)
  */
   __pyx_t_1 = (__pyx_v_self->allocated != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":4020
+    /* "capnp/lib/capnp.pyx":4109
  *     def __dealloc__(self):
  *         if self.allocated:
  *             free(self.buf)             # <<<<<<<<<<<<<<
  *         PyBuffer_Release(&self.view)
  * 
  */
     free(__pyx_v_self->buf);
 
-    /* "capnp/lib/capnp.pyx":4019
+    /* "capnp/lib/capnp.pyx":4108
  * 
  *     def __dealloc__(self):
  *         if self.allocated:             # <<<<<<<<<<<<<<
  *             free(self.buf)
  *         PyBuffer_Release(&self.view)
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4021
+  /* "capnp/lib/capnp.pyx":4110
  *         if self.allocated:
  *             free(self.buf)
  *         PyBuffer_Release(&self.view)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   PyBuffer_Release((&__pyx_v_self->view));
 
-  /* "capnp/lib/capnp.pyx":4018
+  /* "capnp/lib/capnp.pyx":4107
  *         self.allocated = True
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         if self.allocated:
  *             free(self.buf)
  */
 
@@ -84417,15 +85550,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__135, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__137, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -84474,15 +85607,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__136, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__138, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -84497,15 +85630,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._AlignedBuffer.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4030
+/* "capnp/lib/capnp.pyx":4119
  *     cdef int closed
  * 
  *     def __init__(self, other):             # <<<<<<<<<<<<<<
  *         cdef int ret = PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE)
  *         if ret < 0:
  */
 
@@ -84534,26 +85667,26 @@
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_other)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4030, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4119, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_other = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4030, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4119, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._BufferView.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_11_BufferView___init__(((struct __pyx_obj_5capnp_3lib_5capnp__BufferView *)__pyx_v_self), __pyx_v_other);
 
@@ -84569,74 +85702,74 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":4031
+  /* "capnp/lib/capnp.pyx":4120
  * 
  *     def __init__(self, other):
  *         cdef int ret = PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE)             # <<<<<<<<<<<<<<
  *         if ret < 0:
  *             raise ValueError("Invalid buffer passed to BufferView")
  */
   __pyx_v_ret = PyObject_GetBuffer(__pyx_v_other, (&__pyx_v_self->view), PyBUF_SIMPLE);
 
-  /* "capnp/lib/capnp.pyx":4032
+  /* "capnp/lib/capnp.pyx":4121
  *     def __init__(self, other):
  *         cdef int ret = PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE)
  *         if ret < 0:             # <<<<<<<<<<<<<<
  *             raise ValueError("Invalid buffer passed to BufferView")
  *         self.buf = <char*>self.view.buf
  */
   __pyx_t_1 = ((__pyx_v_ret < 0) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":4033
+    /* "capnp/lib/capnp.pyx":4122
  *         cdef int ret = PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE)
  *         if ret < 0:
  *             raise ValueError("Invalid buffer passed to BufferView")             # <<<<<<<<<<<<<<
  *         self.buf = <char*>self.view.buf
  *         self.closed = False
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__137, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4033, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__139, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4122, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 4033, __pyx_L1_error)
+    __PYX_ERR(0, 4122, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":4032
+    /* "capnp/lib/capnp.pyx":4121
  *     def __init__(self, other):
  *         cdef int ret = PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE)
  *         if ret < 0:             # <<<<<<<<<<<<<<
  *             raise ValueError("Invalid buffer passed to BufferView")
  *         self.buf = <char*>self.view.buf
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4034
+  /* "capnp/lib/capnp.pyx":4123
  *         if ret < 0:
  *             raise ValueError("Invalid buffer passed to BufferView")
  *         self.buf = <char*>self.view.buf             # <<<<<<<<<<<<<<
  *         self.closed = False
  * 
  */
   __pyx_v_self->buf = ((char *)__pyx_v_self->view.buf);
 
-  /* "capnp/lib/capnp.pyx":4035
+  /* "capnp/lib/capnp.pyx":4124
  *             raise ValueError("Invalid buffer passed to BufferView")
  *         self.buf = <char*>self.view.buf
  *         self.closed = False             # <<<<<<<<<<<<<<
  * 
  *     def close(self):
  */
   __pyx_v_self->closed = 0;
 
-  /* "capnp/lib/capnp.pyx":4030
+  /* "capnp/lib/capnp.pyx":4119
  *     cdef int closed
  * 
  *     def __init__(self, other):             # <<<<<<<<<<<<<<
  *         cdef int ret = PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE)
  *         if ret < 0:
  */
 
@@ -84648,15 +85781,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._BufferView.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4037
+/* "capnp/lib/capnp.pyx":4126
  *         self.closed = False
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         if not self.closed:
  *             PyBuffer_Release(&self.view)
  */
 
@@ -84676,67 +85809,67 @@
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_11_BufferView_2close(struct __pyx_obj_5capnp_3lib_5capnp__BufferView *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   __Pyx_RefNannySetupContext("close", 0);
 
-  /* "capnp/lib/capnp.pyx":4038
+  /* "capnp/lib/capnp.pyx":4127
  * 
  *     def close(self):
  *         if not self.closed:             # <<<<<<<<<<<<<<
  *             PyBuffer_Release(&self.view)
  *             self.closed = True
  */
   __pyx_t_1 = ((!(__pyx_v_self->closed != 0)) != 0);
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":4039
+    /* "capnp/lib/capnp.pyx":4128
  *     def close(self):
  *         if not self.closed:
  *             PyBuffer_Release(&self.view)             # <<<<<<<<<<<<<<
  *             self.closed = True
  * 
  */
     PyBuffer_Release((&__pyx_v_self->view));
 
-    /* "capnp/lib/capnp.pyx":4040
+    /* "capnp/lib/capnp.pyx":4129
  *         if not self.closed:
  *             PyBuffer_Release(&self.view)
  *             self.closed = True             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
     __pyx_v_self->closed = 1;
 
-    /* "capnp/lib/capnp.pyx":4038
+    /* "capnp/lib/capnp.pyx":4127
  * 
  *     def close(self):
  *         if not self.closed:             # <<<<<<<<<<<<<<
  *             PyBuffer_Release(&self.view)
  *             self.closed = True
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4037
+  /* "capnp/lib/capnp.pyx":4126
  *         self.closed = False
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         if not self.closed:
  *             PyBuffer_Release(&self.view)
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4042
+/* "capnp/lib/capnp.pyx":4131
  *             self.closed = True
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         self.close()
  * 
  */
 
@@ -84757,41 +85890,41 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":4043
+  /* "capnp/lib/capnp.pyx":4132
  * 
  *     def __dealloc__(self):
  *         self.close()             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4043, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4132, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4043, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4132, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":4042
+  /* "capnp/lib/capnp.pyx":4131
  *             self.closed = True
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         self.close()
  * 
  */
 
@@ -84837,15 +85970,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__138, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__140, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -84894,15 +86027,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__139, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__141, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -84917,15 +86050,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._BufferView.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4057
+/* "capnp/lib/capnp.pyx":4146
  *     cdef Py_ssize_t msg_size
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         self.msg_size = 0
  * 
  */
 
@@ -84946,38 +86079,38 @@
 }
 
 static int __pyx_pf_5capnp_3lib_5capnp_30_FlatArrayMessageReaderAligned___init__(struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *__pyx_v_self) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":4058
+  /* "capnp/lib/capnp.pyx":4147
  * 
  *     def __init__(self):
  *         self.msg_size = 0             # <<<<<<<<<<<<<<
  * 
  *     cdef _init(self, buf, const char *ptr, Py_ssize_t sz, traversal_limit_in_words=None, nesting_limit=None):
  */
   __pyx_v_self->msg_size = 0;
 
-  /* "capnp/lib/capnp.pyx":4057
+  /* "capnp/lib/capnp.pyx":4146
  *     cdef Py_ssize_t msg_size
  * 
  *     def __init__(self):             # <<<<<<<<<<<<<<
  *         self.msg_size = 0
  * 
  */
 
   /* function exit code */
   __pyx_r = 0;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4060
+/* "capnp/lib/capnp.pyx":4149
  *         self.msg_size = 0
  * 
  *     cdef _init(self, buf, const char *ptr, Py_ssize_t sz, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         cdef schema_cpp.FlatArrayMessageReader * flat_reader
  */
 
@@ -84998,82 +86131,82 @@
       __pyx_v_traversal_limit_in_words = __pyx_optional_args->traversal_limit_in_words;
       if (__pyx_optional_args->__pyx_n > 1) {
         __pyx_v_nesting_limit = __pyx_optional_args->nesting_limit;
       }
     }
   }
 
-  /* "capnp/lib/capnp.pyx":4061
+  /* "capnp/lib/capnp.pyx":4150
  * 
  *     cdef _init(self, buf, const char *ptr, Py_ssize_t sz, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.FlatArrayMessageReader * flat_reader
  * 
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":4064
+  /* "capnp/lib/capnp.pyx":4153
  *         cdef schema_cpp.FlatArrayMessageReader * flat_reader
  * 
  *         self._object_to_pin = buf             # <<<<<<<<<<<<<<
  * 
  *         flat_reader = new schema_cpp.FlatArrayMessageReader(
  */
   __Pyx_INCREF(__pyx_v_buf);
   __Pyx_GIVEREF(__pyx_v_buf);
   __Pyx_GOTREF(__pyx_v_self->_object_to_pin);
   __Pyx_DECREF(__pyx_v_self->_object_to_pin);
   __pyx_v_self->_object_to_pin = __pyx_v_buf;
 
-  /* "capnp/lib/capnp.pyx":4066
+  /* "capnp/lib/capnp.pyx":4155
  *         self._object_to_pin = buf
  * 
  *         flat_reader = new schema_cpp.FlatArrayMessageReader(             # <<<<<<<<<<<<<<
  *             schema_cpp.WordArrayPtr(<schema_cpp.word*>ptr, sz//8),
  *             opts)
  */
   try {
     __pyx_t_1 = new  ::capnp::FlatArrayMessageReader( ::kj::ArrayPtr< ::capnp::word>((( ::capnp::word *)__pyx_v_ptr), __Pyx_div_Py_ssize_t(__pyx_v_sz, 8)), __pyx_v_opts);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 4066, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 4155, __pyx_L1_error)
   }
   __pyx_v_flat_reader = __pyx_t_1;
 
-  /* "capnp/lib/capnp.pyx":4069
+  /* "capnp/lib/capnp.pyx":4158
  *             schema_cpp.WordArrayPtr(<schema_cpp.word*>ptr, sz//8),
  *             opts)
  *         self.thisptr = flat_reader             # <<<<<<<<<<<<<<
  *         self.msg_size = <char *>flat_reader.getEnd() - ptr
  *         return self
  */
   __pyx_v_self->__pyx_base.thisptr = __pyx_v_flat_reader;
 
-  /* "capnp/lib/capnp.pyx":4070
+  /* "capnp/lib/capnp.pyx":4159
  *             opts)
  *         self.thisptr = flat_reader
  *         self.msg_size = <char *>flat_reader.getEnd() - ptr             # <<<<<<<<<<<<<<
  *         return self
  * 
  */
   __pyx_v_self->msg_size = (((char *)__pyx_v_flat_reader->getEnd()) - __pyx_v_ptr);
 
-  /* "capnp/lib/capnp.pyx":4071
+  /* "capnp/lib/capnp.pyx":4160
  *         self.thisptr = flat_reader
  *         self.msg_size = <char *>flat_reader.getEnd() - ptr
  *         return self             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(((PyObject *)__pyx_v_self));
   __pyx_r = ((PyObject *)__pyx_v_self);
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":4060
+  /* "capnp/lib/capnp.pyx":4149
  *         self.msg_size = 0
  * 
  *     cdef _init(self, buf, const char *ptr, Py_ssize_t sz, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         cdef schema_cpp.FlatArrayMessageReader * flat_reader
  */
 
@@ -85083,15 +86216,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4073
+/* "capnp/lib/capnp.pyx":4162
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -85106,24 +86239,24 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_30_FlatArrayMessageReaderAligned_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":4074
+  /* "capnp/lib/capnp.pyx":4163
  * 
  *     def __dealloc__(self):
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  * 
  */
   delete __pyx_v_self->__pyx_base.thisptr;
 
-  /* "capnp/lib/capnp.pyx":4073
+  /* "capnp/lib/capnp.pyx":4162
  *         return self
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
 
@@ -85162,15 +86295,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__140, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__142, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -85219,15 +86352,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__141, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__143, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -85242,15 +86375,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._FlatArrayMessageReaderAligned.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4082
+/* "capnp/lib/capnp.pyx":4171
  *     cdef _BufferView _buffer_view
  * 
  *     def __init__(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         cdef _AlignedBuffer aligned
  */
 
@@ -85299,15 +86432,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4082, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4171, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -85318,15 +86451,15 @@
     }
     __pyx_v_buf = values[0];
     __pyx_v_traversal_limit_in_words = values[1];
     __pyx_v_nesting_limit = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4082, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4171, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._FlatArrayMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_23_FlatArrayMessageReader___init__(((struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReader *)__pyx_v_self), __pyx_v_buf, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -85352,151 +86485,151 @@
   size_t __pyx_t_7;
    ::capnp::FlatArrayMessageReader *__pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":4083
+  /* "capnp/lib/capnp.pyx":4172
  * 
  *     def __init__(self, buf, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         cdef _AlignedBuffer aligned
  * 
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":4086
+  /* "capnp/lib/capnp.pyx":4175
  *         cdef _AlignedBuffer aligned
  * 
  *         sz = len(buf)             # <<<<<<<<<<<<<<
  *         if sz % 8 != 0:
  *             raise ValueError("input length must be a multiple of eight bytes")
  */
-  __pyx_t_1 = PyObject_Length(__pyx_v_buf); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4086, __pyx_L1_error)
-  __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4086, __pyx_L1_error)
+  __pyx_t_1 = PyObject_Length(__pyx_v_buf); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4175, __pyx_L1_error)
+  __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4175, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_v_sz = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4087
+  /* "capnp/lib/capnp.pyx":4176
  * 
  *         sz = len(buf)
  *         if sz % 8 != 0:             # <<<<<<<<<<<<<<
  *             raise ValueError("input length must be a multiple of eight bytes")
  * 
  */
-  __pyx_t_2 = __Pyx_PyInt_RemainderObjC(__pyx_v_sz, __pyx_int_8, 8, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4087, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_RemainderObjC(__pyx_v_sz, __pyx_int_8, 8, 0, 0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4176, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyInt_NeObjC(__pyx_t_2, __pyx_int_0, 0, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4087, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_NeObjC(__pyx_t_2, __pyx_int_0, 0, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4176, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 4087, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 4176, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if (unlikely(__pyx_t_4)) {
 
-    /* "capnp/lib/capnp.pyx":4088
+    /* "capnp/lib/capnp.pyx":4177
  *         sz = len(buf)
  *         if sz % 8 != 0:
  *             raise ValueError("input length must be a multiple of eight bytes")             # <<<<<<<<<<<<<<
  * 
  *         cdef char * ptr
  */
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__142, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4088, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__144, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4177, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(0, 4088, __pyx_L1_error)
+    __PYX_ERR(0, 4177, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":4087
+    /* "capnp/lib/capnp.pyx":4176
  * 
  *         sz = len(buf)
  *         if sz % 8 != 0:             # <<<<<<<<<<<<<<
  *             raise ValueError("input length must be a multiple of eight bytes")
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4091
+  /* "capnp/lib/capnp.pyx":4180
  * 
  *         cdef char * ptr
  *         if isinstance(buf, bytes):             # <<<<<<<<<<<<<<
  *             ptr = buf
  *             if (<uintptr_t>ptr) % 8 != 0:
  */
   __pyx_t_4 = PyBytes_Check(__pyx_v_buf); 
   __pyx_t_5 = (__pyx_t_4 != 0);
   if (__pyx_t_5) {
 
-    /* "capnp/lib/capnp.pyx":4092
+    /* "capnp/lib/capnp.pyx":4181
  *         cdef char * ptr
  *         if isinstance(buf, bytes):
  *             ptr = buf             # <<<<<<<<<<<<<<
  *             if (<uintptr_t>ptr) % 8 != 0:
  *                 aligned = _AlignedBuffer(buf)
  */
-    __pyx_t_6 = __Pyx_PyObject_AsWritableString(__pyx_v_buf); if (unlikely((!__pyx_t_6) && PyErr_Occurred())) __PYX_ERR(0, 4092, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyObject_AsWritableString(__pyx_v_buf); if (unlikely((!__pyx_t_6) && PyErr_Occurred())) __PYX_ERR(0, 4181, __pyx_L1_error)
     __pyx_v_ptr = __pyx_t_6;
 
-    /* "capnp/lib/capnp.pyx":4093
+    /* "capnp/lib/capnp.pyx":4182
  *         if isinstance(buf, bytes):
  *             ptr = buf
  *             if (<uintptr_t>ptr) % 8 != 0:             # <<<<<<<<<<<<<<
  *                 aligned = _AlignedBuffer(buf)
  *                 ptr = aligned.buf
  */
     __pyx_t_5 = (((((uintptr_t)__pyx_v_ptr) % 8) != 0) != 0);
     if (__pyx_t_5) {
 
-      /* "capnp/lib/capnp.pyx":4094
+      /* "capnp/lib/capnp.pyx":4183
  *             ptr = buf
  *             if (<uintptr_t>ptr) % 8 != 0:
  *                 aligned = _AlignedBuffer(buf)             # <<<<<<<<<<<<<<
  *                 ptr = aligned.buf
  *                 self._object_to_pin = aligned
  */
-      __pyx_t_3 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AlignedBuffer), __pyx_v_buf); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4094, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AlignedBuffer), __pyx_v_buf); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4183, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __pyx_v_aligned = ((struct __pyx_obj_5capnp_3lib_5capnp__AlignedBuffer *)__pyx_t_3);
       __pyx_t_3 = 0;
 
-      /* "capnp/lib/capnp.pyx":4095
+      /* "capnp/lib/capnp.pyx":4184
  *             if (<uintptr_t>ptr) % 8 != 0:
  *                 aligned = _AlignedBuffer(buf)
  *                 ptr = aligned.buf             # <<<<<<<<<<<<<<
  *                 self._object_to_pin = aligned
  *             else:
  */
       __pyx_t_6 = __pyx_v_aligned->buf;
       __pyx_v_ptr = __pyx_t_6;
 
-      /* "capnp/lib/capnp.pyx":4096
+      /* "capnp/lib/capnp.pyx":4185
  *                 aligned = _AlignedBuffer(buf)
  *                 ptr = aligned.buf
  *                 self._object_to_pin = aligned             # <<<<<<<<<<<<<<
  *             else:
  *                 self._object_to_pin = buf
  */
       __Pyx_INCREF(((PyObject *)__pyx_v_aligned));
       __Pyx_GIVEREF(((PyObject *)__pyx_v_aligned));
       __Pyx_GOTREF(__pyx_v_self->_object_to_pin);
       __Pyx_DECREF(__pyx_v_self->_object_to_pin);
       __pyx_v_self->_object_to_pin = ((PyObject *)__pyx_v_aligned);
 
-      /* "capnp/lib/capnp.pyx":4093
+      /* "capnp/lib/capnp.pyx":4182
  *         if isinstance(buf, bytes):
  *             ptr = buf
  *             if (<uintptr_t>ptr) % 8 != 0:             # <<<<<<<<<<<<<<
  *                 aligned = _AlignedBuffer(buf)
  *                 ptr = aligned.buf
  */
       goto __pyx_L5;
     }
 
-    /* "capnp/lib/capnp.pyx":4098
+    /* "capnp/lib/capnp.pyx":4187
  *                 self._object_to_pin = aligned
  *             else:
  *                 self._object_to_pin = buf             # <<<<<<<<<<<<<<
  *             self._buffer_view = None
  *         elif PyObject_CheckBuffer(buf):
  */
     /*else*/ {
@@ -85504,149 +86637,149 @@
       __Pyx_GIVEREF(__pyx_v_buf);
       __Pyx_GOTREF(__pyx_v_self->_object_to_pin);
       __Pyx_DECREF(__pyx_v_self->_object_to_pin);
       __pyx_v_self->_object_to_pin = __pyx_v_buf;
     }
     __pyx_L5:;
 
-    /* "capnp/lib/capnp.pyx":4099
+    /* "capnp/lib/capnp.pyx":4188
  *             else:
  *                 self._object_to_pin = buf
  *             self._buffer_view = None             # <<<<<<<<<<<<<<
  *         elif PyObject_CheckBuffer(buf):
  *             view = _BufferView(buf)
  */
     __Pyx_INCREF(Py_None);
     __Pyx_GIVEREF(Py_None);
     __Pyx_GOTREF(__pyx_v_self->_buffer_view);
     __Pyx_DECREF(((PyObject *)__pyx_v_self->_buffer_view));
     __pyx_v_self->_buffer_view = ((struct __pyx_obj_5capnp_3lib_5capnp__BufferView *)Py_None);
 
-    /* "capnp/lib/capnp.pyx":4091
+    /* "capnp/lib/capnp.pyx":4180
  * 
  *         cdef char * ptr
  *         if isinstance(buf, bytes):             # <<<<<<<<<<<<<<
  *             ptr = buf
  *             if (<uintptr_t>ptr) % 8 != 0:
  */
     goto __pyx_L4;
   }
 
-  /* "capnp/lib/capnp.pyx":4100
+  /* "capnp/lib/capnp.pyx":4189
  *                 self._object_to_pin = buf
  *             self._buffer_view = None
  *         elif PyObject_CheckBuffer(buf):             # <<<<<<<<<<<<<<
  *             view = _BufferView(buf)
  *             ptr = view.buf
  */
   __pyx_t_5 = (PyObject_CheckBuffer(__pyx_v_buf) != 0);
   if (likely(__pyx_t_5)) {
 
-    /* "capnp/lib/capnp.pyx":4101
+    /* "capnp/lib/capnp.pyx":4190
  *             self._buffer_view = None
  *         elif PyObject_CheckBuffer(buf):
  *             view = _BufferView(buf)             # <<<<<<<<<<<<<<
  *             ptr = view.buf
  *             self._object_to_pin = view
  */
-    __pyx_t_3 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__BufferView), __pyx_v_buf); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4101, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__BufferView), __pyx_v_buf); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4190, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_v_view = ((struct __pyx_obj_5capnp_3lib_5capnp__BufferView *)__pyx_t_3);
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":4102
+    /* "capnp/lib/capnp.pyx":4191
  *         elif PyObject_CheckBuffer(buf):
  *             view = _BufferView(buf)
  *             ptr = view.buf             # <<<<<<<<<<<<<<
  *             self._object_to_pin = view
  *             self._buffer_view = view
  */
     __pyx_t_6 = __pyx_v_view->buf;
     __pyx_v_ptr = __pyx_t_6;
 
-    /* "capnp/lib/capnp.pyx":4103
+    /* "capnp/lib/capnp.pyx":4192
  *             view = _BufferView(buf)
  *             ptr = view.buf
  *             self._object_to_pin = view             # <<<<<<<<<<<<<<
  *             self._buffer_view = view
  *         else:
  */
     __Pyx_INCREF(((PyObject *)__pyx_v_view));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_view));
     __Pyx_GOTREF(__pyx_v_self->_object_to_pin);
     __Pyx_DECREF(__pyx_v_self->_object_to_pin);
     __pyx_v_self->_object_to_pin = ((PyObject *)__pyx_v_view);
 
-    /* "capnp/lib/capnp.pyx":4104
+    /* "capnp/lib/capnp.pyx":4193
  *             ptr = view.buf
  *             self._object_to_pin = view
  *             self._buffer_view = view             # <<<<<<<<<<<<<<
  *         else:
  *             raise TypeError('expected buffer-like object in FlatArrayMessageReader')
  */
     __Pyx_INCREF(((PyObject *)__pyx_v_view));
     __Pyx_GIVEREF(((PyObject *)__pyx_v_view));
     __Pyx_GOTREF(__pyx_v_self->_buffer_view);
     __Pyx_DECREF(((PyObject *)__pyx_v_self->_buffer_view));
     __pyx_v_self->_buffer_view = __pyx_v_view;
 
-    /* "capnp/lib/capnp.pyx":4100
+    /* "capnp/lib/capnp.pyx":4189
  *                 self._object_to_pin = buf
  *             self._buffer_view = None
  *         elif PyObject_CheckBuffer(buf):             # <<<<<<<<<<<<<<
  *             view = _BufferView(buf)
  *             ptr = view.buf
  */
     goto __pyx_L4;
   }
 
-  /* "capnp/lib/capnp.pyx":4106
+  /* "capnp/lib/capnp.pyx":4195
  *             self._buffer_view = view
  *         else:
  *             raise TypeError('expected buffer-like object in FlatArrayMessageReader')             # <<<<<<<<<<<<<<
  * 
  *         self.thisptr = new schema_cpp.FlatArrayMessageReader(
  */
   /*else*/ {
-    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__132, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4106, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__134, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4195, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_Raise(__pyx_t_3, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __PYX_ERR(0, 4106, __pyx_L1_error)
+    __PYX_ERR(0, 4195, __pyx_L1_error)
   }
   __pyx_L4:;
 
-  /* "capnp/lib/capnp.pyx":4109
+  /* "capnp/lib/capnp.pyx":4198
  * 
  *         self.thisptr = new schema_cpp.FlatArrayMessageReader(
  *             schema_cpp.WordArrayPtr(<schema_cpp.word*>ptr, sz//8),             # <<<<<<<<<<<<<<
  *             opts)
  * 
  */
-  __pyx_t_3 = __Pyx_PyInt_FloorDivideObjC(__pyx_v_sz, __pyx_int_8, 8, 0, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4109, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_FloorDivideObjC(__pyx_v_sz, __pyx_int_8, 8, 0, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4198, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_7 = __Pyx_PyInt_As_size_t(__pyx_t_3); if (unlikely((__pyx_t_7 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4109, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_PyInt_As_size_t(__pyx_t_3); if (unlikely((__pyx_t_7 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4198, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4108
+  /* "capnp/lib/capnp.pyx":4197
  *             raise TypeError('expected buffer-like object in FlatArrayMessageReader')
  * 
  *         self.thisptr = new schema_cpp.FlatArrayMessageReader(             # <<<<<<<<<<<<<<
  *             schema_cpp.WordArrayPtr(<schema_cpp.word*>ptr, sz//8),
  *             opts)
  */
   try {
     __pyx_t_8 = new  ::capnp::FlatArrayMessageReader( ::kj::ArrayPtr< ::capnp::word>((( ::capnp::word *)__pyx_v_ptr), __pyx_t_7), __pyx_v_opts);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 4108, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 4197, __pyx_L1_error)
   }
   __pyx_v_self->__pyx_base.thisptr = __pyx_t_8;
 
-  /* "capnp/lib/capnp.pyx":4082
+  /* "capnp/lib/capnp.pyx":4171
  *     cdef _BufferView _buffer_view
  * 
  *     def __init__(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         cdef _AlignedBuffer aligned
  */
 
@@ -85662,15 +86795,15 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_aligned);
   __Pyx_XDECREF(__pyx_v_sz);
   __Pyx_XDECREF((PyObject *)__pyx_v_view);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4112
+/* "capnp/lib/capnp.pyx":4201
  *             opts)
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         if self._buffer_view:
  *             self._buffer_view.close()
  */
 
@@ -85696,60 +86829,60 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("close", 0);
 
-  /* "capnp/lib/capnp.pyx":4113
+  /* "capnp/lib/capnp.pyx":4202
  * 
  *     def close(self):
  *         if self._buffer_view:             # <<<<<<<<<<<<<<
  *             self._buffer_view.close()
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_v_self->_buffer_view)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 4113, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_v_self->_buffer_view)); if (unlikely(__pyx_t_1 < 0)) __PYX_ERR(0, 4202, __pyx_L1_error)
   if (__pyx_t_1) {
 
-    /* "capnp/lib/capnp.pyx":4114
+    /* "capnp/lib/capnp.pyx":4203
  *     def close(self):
  *         if self._buffer_view:
  *             self._buffer_view.close()             # <<<<<<<<<<<<<<
  * 
  *     def __dealloc__(self):
  */
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->_buffer_view), __pyx_n_s_close); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4114, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->_buffer_view), __pyx_n_s_close); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4203, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4114, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4203, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":4113
+    /* "capnp/lib/capnp.pyx":4202
  * 
  *     def close(self):
  *         if self._buffer_view:             # <<<<<<<<<<<<<<
  *             self._buffer_view.close()
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4112
+  /* "capnp/lib/capnp.pyx":4201
  *             opts)
  * 
  *     def close(self):             # <<<<<<<<<<<<<<
  *         if self._buffer_view:
  *             self._buffer_view.close()
  */
 
@@ -85764,15 +86897,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4116
+/* "capnp/lib/capnp.pyx":4205
  *             self._buffer_view.close()
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         self.close()
  *         del self.thisptr
  */
 
@@ -85793,50 +86926,50 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":4117
+  /* "capnp/lib/capnp.pyx":4206
  * 
  *     def __dealloc__(self):
  *         self.close()             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4117, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4206, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_3 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_3);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_3) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4117, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4206, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":4118
+  /* "capnp/lib/capnp.pyx":4207
  *     def __dealloc__(self):
  *         self.close()
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  * 
  */
   delete __pyx_v_self->__pyx_base.thisptr;
 
-  /* "capnp/lib/capnp.pyx":4116
+  /* "capnp/lib/capnp.pyx":4205
  *             self._buffer_view.close()
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         self.close()
  *         del self.thisptr
  */
 
@@ -85882,15 +87015,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__143, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__145, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -85939,15 +87072,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__144, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__146, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -85962,15 +87095,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._FlatArrayMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4129
+/* "capnp/lib/capnp.pyx":4218
  *     cdef Py_buffer* views
  * 
  *     def __init__(self, segments, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         # take a Python array of bytes and constructs a ConstWordArrayArrayPtr
  */
 
@@ -86019,15 +87152,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_nesting_limit);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4129, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4218, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -86038,15 +87171,15 @@
     }
     __pyx_v_segments = values[0];
     __pyx_v_traversal_limit_in_words = values[1];
     __pyx_v_nesting_limit = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4129, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4218, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._SegmentArrayMessageReader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_26_SegmentArrayMessageReader___init__(((struct __pyx_obj_5capnp_3lib_5capnp__SegmentArrayMessageReader *)__pyx_v_self), __pyx_v_segments, __pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
@@ -86078,332 +87211,332 @@
   Py_ssize_t __pyx_t_13;
    ::capnp::SegmentArrayMessageReader *__pyx_t_14;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":4130
+  /* "capnp/lib/capnp.pyx":4219
  * 
  *     def __init__(self, segments, traversal_limit_in_words=None, nesting_limit=None):
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)             # <<<<<<<<<<<<<<
  *         # take a Python array of bytes and constructs a ConstWordArrayArrayPtr
  *         num_segments = len(segments)
  */
   __pyx_v_opts = __pyx_f_5capnp_3lib_5capnp_make_reader_opts(__pyx_v_traversal_limit_in_words, __pyx_v_nesting_limit);
 
-  /* "capnp/lib/capnp.pyx":4132
+  /* "capnp/lib/capnp.pyx":4221
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         # take a Python array of bytes and constructs a ConstWordArrayArrayPtr
  *         num_segments = len(segments)             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ConstWordArrayPtr seg_ptr
  *         self._seg_ptrs = <schema_cpp.ConstWordArrayPtr*>malloc(num_segments * sizeof(schema_cpp.ConstWordArrayPtr))
  */
-  __pyx_t_1 = PyObject_Length(__pyx_v_segments); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4132, __pyx_L1_error)
-  __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4132, __pyx_L1_error)
+  __pyx_t_1 = PyObject_Length(__pyx_v_segments); if (unlikely(__pyx_t_1 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4221, __pyx_L1_error)
+  __pyx_t_2 = PyInt_FromSsize_t(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4221, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_v_num_segments = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4134
+  /* "capnp/lib/capnp.pyx":4223
  *         num_segments = len(segments)
  *         cdef schema_cpp.ConstWordArrayPtr seg_ptr
  *         self._seg_ptrs = <schema_cpp.ConstWordArrayPtr*>malloc(num_segments * sizeof(schema_cpp.ConstWordArrayPtr))             # <<<<<<<<<<<<<<
  *         self.views = <Py_buffer*>malloc(num_segments * sizeof(Py_buffer))
  *         self.num_segments = num_segments
  */
-  __pyx_t_2 = __Pyx_PyInt_FromSize_t((sizeof( ::kj::ArrayPtr< const ::capnp::word>))); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4134, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_FromSize_t((sizeof( ::kj::ArrayPtr< const ::capnp::word>))); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4223, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = PyNumber_Multiply(__pyx_v_num_segments, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4134, __pyx_L1_error)
+  __pyx_t_3 = PyNumber_Multiply(__pyx_v_num_segments, __pyx_t_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4223, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_4 = __Pyx_PyInt_As_size_t(__pyx_t_3); if (unlikely((__pyx_t_4 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4134, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_As_size_t(__pyx_t_3); if (unlikely((__pyx_t_4 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4223, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_v_self->_seg_ptrs = (( ::kj::ArrayPtr< const ::capnp::word> *)malloc(__pyx_t_4));
 
-  /* "capnp/lib/capnp.pyx":4135
+  /* "capnp/lib/capnp.pyx":4224
  *         cdef schema_cpp.ConstWordArrayPtr seg_ptr
  *         self._seg_ptrs = <schema_cpp.ConstWordArrayPtr*>malloc(num_segments * sizeof(schema_cpp.ConstWordArrayPtr))
  *         self.views = <Py_buffer*>malloc(num_segments * sizeof(Py_buffer))             # <<<<<<<<<<<<<<
  *         self.num_segments = num_segments
  *         self._objects_to_pin = []
  */
-  __pyx_t_3 = __Pyx_PyInt_FromSize_t((sizeof(Py_buffer))); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4135, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_FromSize_t((sizeof(Py_buffer))); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4224, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = PyNumber_Multiply(__pyx_v_num_segments, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4135, __pyx_L1_error)
+  __pyx_t_2 = PyNumber_Multiply(__pyx_v_num_segments, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4224, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_4 = __Pyx_PyInt_As_size_t(__pyx_t_2); if (unlikely((__pyx_t_4 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4135, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_As_size_t(__pyx_t_2); if (unlikely((__pyx_t_4 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4224, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_self->views = ((Py_buffer *)malloc(__pyx_t_4));
 
-  /* "capnp/lib/capnp.pyx":4136
+  /* "capnp/lib/capnp.pyx":4225
  *         self._seg_ptrs = <schema_cpp.ConstWordArrayPtr*>malloc(num_segments * sizeof(schema_cpp.ConstWordArrayPtr))
  *         self.views = <Py_buffer*>malloc(num_segments * sizeof(Py_buffer))
  *         self.num_segments = num_segments             # <<<<<<<<<<<<<<
  *         self._objects_to_pin = []
  *         for i in range(0, num_segments):
  */
-  __pyx_t_5 = __Pyx_PyInt_As_unsigned_int(__pyx_v_num_segments); if (unlikely((__pyx_t_5 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 4136, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyInt_As_unsigned_int(__pyx_v_num_segments); if (unlikely((__pyx_t_5 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 4225, __pyx_L1_error)
   __pyx_v_self->num_segments = __pyx_t_5;
 
-  /* "capnp/lib/capnp.pyx":4137
+  /* "capnp/lib/capnp.pyx":4226
  *         self.views = <Py_buffer*>malloc(num_segments * sizeof(Py_buffer))
  *         self.num_segments = num_segments
  *         self._objects_to_pin = []             # <<<<<<<<<<<<<<
  *         for i in range(0, num_segments):
  *             if PyObject_GetBuffer(segments[i], &self.views[i], PyBUF_SIMPLE) != 0:
  */
-  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4137, __pyx_L1_error)
+  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4226, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_2);
   __Pyx_GOTREF(__pyx_v_self->_objects_to_pin);
   __Pyx_DECREF(__pyx_v_self->_objects_to_pin);
   __pyx_v_self->_objects_to_pin = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4138
+  /* "capnp/lib/capnp.pyx":4227
  *         self.num_segments = num_segments
  *         self._objects_to_pin = []
  *         for i in range(0, num_segments):             # <<<<<<<<<<<<<<
  *             if PyObject_GetBuffer(segments[i], &self.views[i], PyBUF_SIMPLE) != 0:
  *                 raise KjException("could not get read buffer")
  */
-  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4138, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4227, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_int_0);
   __Pyx_GIVEREF(__pyx_int_0);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_int_0);
   __Pyx_INCREF(__pyx_v_num_segments);
   __Pyx_GIVEREF(__pyx_v_num_segments);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_v_num_segments);
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_range, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4138, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_builtin_range, __pyx_t_2, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4227, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (likely(PyList_CheckExact(__pyx_t_3)) || PyTuple_CheckExact(__pyx_t_3)) {
     __pyx_t_2 = __pyx_t_3; __Pyx_INCREF(__pyx_t_2); __pyx_t_1 = 0;
     __pyx_t_6 = NULL;
   } else {
-    __pyx_t_1 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4138, __pyx_L1_error)
+    __pyx_t_1 = -1; __pyx_t_2 = PyObject_GetIter(__pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4227, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_6 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4138, __pyx_L1_error)
+    __pyx_t_6 = Py_TYPE(__pyx_t_2)->tp_iternext; if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 4227, __pyx_L1_error)
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   for (;;) {
     if (likely(!__pyx_t_6)) {
       if (likely(PyList_CheckExact(__pyx_t_2))) {
         if (__pyx_t_1 >= PyList_GET_SIZE(__pyx_t_2)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_1); __Pyx_INCREF(__pyx_t_3); __pyx_t_1++; if (unlikely(0 < 0)) __PYX_ERR(0, 4138, __pyx_L1_error)
+        __pyx_t_3 = PyList_GET_ITEM(__pyx_t_2, __pyx_t_1); __Pyx_INCREF(__pyx_t_3); __pyx_t_1++; if (unlikely(0 < 0)) __PYX_ERR(0, 4227, __pyx_L1_error)
         #else
-        __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_1); __pyx_t_1++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4138, __pyx_L1_error)
+        __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_1); __pyx_t_1++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4227, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         #endif
       } else {
         if (__pyx_t_1 >= PyTuple_GET_SIZE(__pyx_t_2)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_1); __Pyx_INCREF(__pyx_t_3); __pyx_t_1++; if (unlikely(0 < 0)) __PYX_ERR(0, 4138, __pyx_L1_error)
+        __pyx_t_3 = PyTuple_GET_ITEM(__pyx_t_2, __pyx_t_1); __Pyx_INCREF(__pyx_t_3); __pyx_t_1++; if (unlikely(0 < 0)) __PYX_ERR(0, 4227, __pyx_L1_error)
         #else
-        __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_1); __pyx_t_1++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4138, __pyx_L1_error)
+        __pyx_t_3 = PySequence_ITEM(__pyx_t_2, __pyx_t_1); __pyx_t_1++; if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4227, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_3);
         #endif
       }
     } else {
       __pyx_t_3 = __pyx_t_6(__pyx_t_2);
       if (unlikely(!__pyx_t_3)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 4138, __pyx_L1_error)
+          else __PYX_ERR(0, 4227, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_3);
     }
     __Pyx_XDECREF_SET(__pyx_v_i, __pyx_t_3);
     __pyx_t_3 = 0;
 
-    /* "capnp/lib/capnp.pyx":4139
+    /* "capnp/lib/capnp.pyx":4228
  *         self._objects_to_pin = []
  *         for i in range(0, num_segments):
  *             if PyObject_GetBuffer(segments[i], &self.views[i], PyBUF_SIMPLE) != 0:             # <<<<<<<<<<<<<<
  *                 raise KjException("could not get read buffer")
  * 
  */
-    __pyx_t_3 = __Pyx_PyObject_GetItem(__pyx_v_segments, __pyx_v_i); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4139, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetItem(__pyx_v_segments, __pyx_v_i); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4228, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4139, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4228, __pyx_L1_error)
     __pyx_t_8 = ((PyObject_GetBuffer(__pyx_t_3, (&(__pyx_v_self->views[__pyx_t_7])), PyBUF_SIMPLE) != 0) != 0);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     if (unlikely(__pyx_t_8)) {
 
-      /* "capnp/lib/capnp.pyx":4140
+      /* "capnp/lib/capnp.pyx":4229
  *         for i in range(0, num_segments):
  *             if PyObject_GetBuffer(segments[i], &self.views[i], PyBUF_SIMPLE) != 0:
  *                 raise KjException("could not get read buffer")             # <<<<<<<<<<<<<<
  * 
  *             if (<uintptr_t>self.views[i].buf) % 8 != 0:
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_KjException); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4140, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_KjException); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4229, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __pyx_t_10 = NULL;
       if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_9))) {
         __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_9);
         if (likely(__pyx_t_10)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
           __Pyx_INCREF(__pyx_t_10);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_9, function);
         }
       }
       __pyx_t_3 = (__pyx_t_10) ? __Pyx_PyObject_Call2Args(__pyx_t_9, __pyx_t_10, __pyx_kp_s_could_not_get_read_buffer) : __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_kp_s_could_not_get_read_buffer);
       __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4140, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4229, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       __Pyx_Raise(__pyx_t_3, 0, 0, 0);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      __PYX_ERR(0, 4140, __pyx_L1_error)
+      __PYX_ERR(0, 4229, __pyx_L1_error)
 
-      /* "capnp/lib/capnp.pyx":4139
+      /* "capnp/lib/capnp.pyx":4228
  *         self._objects_to_pin = []
  *         for i in range(0, num_segments):
  *             if PyObject_GetBuffer(segments[i], &self.views[i], PyBUF_SIMPLE) != 0:             # <<<<<<<<<<<<<<
  *                 raise KjException("could not get read buffer")
  * 
  */
     }
 
-    /* "capnp/lib/capnp.pyx":4142
+    /* "capnp/lib/capnp.pyx":4231
  *                 raise KjException("could not get read buffer")
  * 
  *             if (<uintptr_t>self.views[i].buf) % 8 != 0:             # <<<<<<<<<<<<<<
  *                 aligned = _AlignedBuffer(segments[i])
  *                 self.views[i].buf = aligned.buf
  */
-    __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4142, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4231, __pyx_L1_error)
     __pyx_t_8 = (((((uintptr_t)(__pyx_v_self->views[__pyx_t_7]).buf) % 8) != 0) != 0);
     if (__pyx_t_8) {
 
-      /* "capnp/lib/capnp.pyx":4143
+      /* "capnp/lib/capnp.pyx":4232
  * 
  *             if (<uintptr_t>self.views[i].buf) % 8 != 0:
  *                 aligned = _AlignedBuffer(segments[i])             # <<<<<<<<<<<<<<
  *                 self.views[i].buf = aligned.buf
  *                 self._objects_to_pin.append(aligned)
  */
-      __pyx_t_3 = __Pyx_PyObject_GetItem(__pyx_v_segments, __pyx_v_i); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4143, __pyx_L1_error)
+      __pyx_t_3 = __Pyx_PyObject_GetItem(__pyx_v_segments, __pyx_v_i); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4232, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
-      __pyx_t_9 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AlignedBuffer), __pyx_t_3); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4143, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyObject_CallOneArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AlignedBuffer), __pyx_t_3); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4232, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_XDECREF_SET(__pyx_v_aligned, ((struct __pyx_obj_5capnp_3lib_5capnp__AlignedBuffer *)__pyx_t_9));
       __pyx_t_9 = 0;
 
-      /* "capnp/lib/capnp.pyx":4144
+      /* "capnp/lib/capnp.pyx":4233
  *             if (<uintptr_t>self.views[i].buf) % 8 != 0:
  *                 aligned = _AlignedBuffer(segments[i])
  *                 self.views[i].buf = aligned.buf             # <<<<<<<<<<<<<<
  *                 self._objects_to_pin.append(aligned)
  *             else:
  */
       __pyx_t_11 = __pyx_v_aligned->buf;
-      __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4144, __pyx_L1_error)
+      __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4233, __pyx_L1_error)
       (__pyx_v_self->views[__pyx_t_7]).buf = __pyx_t_11;
 
-      /* "capnp/lib/capnp.pyx":4145
+      /* "capnp/lib/capnp.pyx":4234
  *                 aligned = _AlignedBuffer(segments[i])
  *                 self.views[i].buf = aligned.buf
  *                 self._objects_to_pin.append(aligned)             # <<<<<<<<<<<<<<
  *             else:
  *                 self._objects_to_pin.append(segments[i])
  */
-      __pyx_t_12 = __Pyx_PyObject_Append(__pyx_v_self->_objects_to_pin, ((PyObject *)__pyx_v_aligned)); if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 4145, __pyx_L1_error)
+      __pyx_t_12 = __Pyx_PyObject_Append(__pyx_v_self->_objects_to_pin, ((PyObject *)__pyx_v_aligned)); if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 4234, __pyx_L1_error)
 
-      /* "capnp/lib/capnp.pyx":4142
+      /* "capnp/lib/capnp.pyx":4231
  *                 raise KjException("could not get read buffer")
  * 
  *             if (<uintptr_t>self.views[i].buf) % 8 != 0:             # <<<<<<<<<<<<<<
  *                 aligned = _AlignedBuffer(segments[i])
  *                 self.views[i].buf = aligned.buf
  */
       goto __pyx_L6;
     }
 
-    /* "capnp/lib/capnp.pyx":4147
+    /* "capnp/lib/capnp.pyx":4236
  *                 self._objects_to_pin.append(aligned)
  *             else:
  *                 self._objects_to_pin.append(segments[i])             # <<<<<<<<<<<<<<
  *             seg_ptr = schema_cpp.ConstWordArrayPtr(<schema_cpp.word*>self.views[i].buf, self.views[i].len//8)
  *             self._seg_ptrs[i] = seg_ptr
  */
     /*else*/ {
-      __pyx_t_9 = __Pyx_PyObject_GetItem(__pyx_v_segments, __pyx_v_i); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4147, __pyx_L1_error)
+      __pyx_t_9 = __Pyx_PyObject_GetItem(__pyx_v_segments, __pyx_v_i); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4236, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
-      __pyx_t_12 = __Pyx_PyObject_Append(__pyx_v_self->_objects_to_pin, __pyx_t_9); if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 4147, __pyx_L1_error)
+      __pyx_t_12 = __Pyx_PyObject_Append(__pyx_v_self->_objects_to_pin, __pyx_t_9); if (unlikely(__pyx_t_12 == ((int)-1))) __PYX_ERR(0, 4236, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     }
     __pyx_L6:;
 
-    /* "capnp/lib/capnp.pyx":4148
+    /* "capnp/lib/capnp.pyx":4237
  *             else:
  *                 self._objects_to_pin.append(segments[i])
  *             seg_ptr = schema_cpp.ConstWordArrayPtr(<schema_cpp.word*>self.views[i].buf, self.views[i].len//8)             # <<<<<<<<<<<<<<
  *             self._seg_ptrs[i] = seg_ptr
  *         self.thisptr = new schema_cpp.SegmentArrayMessageReader(
  */
-    __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4148, __pyx_L1_error)
-    __pyx_t_13 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_13 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4148, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_7 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4237, __pyx_L1_error)
+    __pyx_t_13 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_13 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4237, __pyx_L1_error)
     __pyx_v_seg_ptr =  ::kj::ArrayPtr< const ::capnp::word>((( ::capnp::word *)(__pyx_v_self->views[__pyx_t_7]).buf), __Pyx_div_Py_ssize_t((__pyx_v_self->views[__pyx_t_13]).len, 8));
 
-    /* "capnp/lib/capnp.pyx":4149
+    /* "capnp/lib/capnp.pyx":4238
  *                 self._objects_to_pin.append(segments[i])
  *             seg_ptr = schema_cpp.ConstWordArrayPtr(<schema_cpp.word*>self.views[i].buf, self.views[i].len//8)
  *             self._seg_ptrs[i] = seg_ptr             # <<<<<<<<<<<<<<
  *         self.thisptr = new schema_cpp.SegmentArrayMessageReader(
  *             schema_cpp.ConstWordArrayArrayPtr(self._seg_ptrs, num_segments),
  */
-    __pyx_t_13 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_13 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4149, __pyx_L1_error)
+    __pyx_t_13 = __Pyx_PyIndex_AsSsize_t(__pyx_v_i); if (unlikely((__pyx_t_13 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4238, __pyx_L1_error)
     (__pyx_v_self->_seg_ptrs[__pyx_t_13]) = __pyx_v_seg_ptr;
 
-    /* "capnp/lib/capnp.pyx":4138
+    /* "capnp/lib/capnp.pyx":4227
  *         self.num_segments = num_segments
  *         self._objects_to_pin = []
  *         for i in range(0, num_segments):             # <<<<<<<<<<<<<<
  *             if PyObject_GetBuffer(segments[i], &self.views[i], PyBUF_SIMPLE) != 0:
  *                 raise KjException("could not get read buffer")
  */
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4151
+  /* "capnp/lib/capnp.pyx":4240
  *             self._seg_ptrs[i] = seg_ptr
  *         self.thisptr = new schema_cpp.SegmentArrayMessageReader(
  *             schema_cpp.ConstWordArrayArrayPtr(self._seg_ptrs, num_segments),             # <<<<<<<<<<<<<<
  *             opts)
  * 
  */
-  __pyx_t_4 = __Pyx_PyInt_As_size_t(__pyx_v_num_segments); if (unlikely((__pyx_t_4 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4151, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_As_size_t(__pyx_v_num_segments); if (unlikely((__pyx_t_4 == (size_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 4240, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4150
+  /* "capnp/lib/capnp.pyx":4239
  *             seg_ptr = schema_cpp.ConstWordArrayPtr(<schema_cpp.word*>self.views[i].buf, self.views[i].len//8)
  *             self._seg_ptrs[i] = seg_ptr
  *         self.thisptr = new schema_cpp.SegmentArrayMessageReader(             # <<<<<<<<<<<<<<
  *             schema_cpp.ConstWordArrayArrayPtr(self._seg_ptrs, num_segments),
  *             opts)
  */
   try {
     __pyx_t_14 = new  ::capnp::SegmentArrayMessageReader( ::kj::ArrayPtr< const ::kj::ArrayPtr< const ::capnp::word>>(__pyx_v_self->_seg_ptrs, __pyx_t_4), __pyx_v_opts);
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 4150, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 4239, __pyx_L1_error)
   }
   __pyx_v_self->__pyx_base.thisptr = __pyx_t_14;
 
-  /* "capnp/lib/capnp.pyx":4129
+  /* "capnp/lib/capnp.pyx":4218
  *     cdef Py_buffer* views
  * 
  *     def __init__(self, segments, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
  *         # take a Python array of bytes and constructs a ConstWordArrayArrayPtr
  */
 
@@ -86421,15 +87554,15 @@
   __Pyx_XDECREF(__pyx_v_num_segments);
   __Pyx_XDECREF(__pyx_v_i);
   __Pyx_XDECREF((PyObject *)__pyx_v_aligned);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4154
+/* "capnp/lib/capnp.pyx":4243
  *             opts)
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         free(self._seg_ptrs)
  *         for i in range(0, self.num_segments):
  */
 
@@ -86448,64 +87581,64 @@
   long __pyx_v_i;
   __Pyx_RefNannyDeclarations
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_1;
   __pyx_t_5capnp_8includes_5types_uint __pyx_t_2;
   long __pyx_t_3;
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":4155
+  /* "capnp/lib/capnp.pyx":4244
  * 
  *     def __dealloc__(self):
  *         free(self._seg_ptrs)             # <<<<<<<<<<<<<<
  *         for i in range(0, self.num_segments):
  *             PyBuffer_Release(&self.views[i])
  */
   free(__pyx_v_self->_seg_ptrs);
 
-  /* "capnp/lib/capnp.pyx":4156
+  /* "capnp/lib/capnp.pyx":4245
  *     def __dealloc__(self):
  *         free(self._seg_ptrs)
  *         for i in range(0, self.num_segments):             # <<<<<<<<<<<<<<
  *             PyBuffer_Release(&self.views[i])
  *         free(self.views)
  */
   __pyx_t_1 = __pyx_v_self->num_segments;
   __pyx_t_2 = __pyx_t_1;
   for (__pyx_t_3 = 0; __pyx_t_3 < __pyx_t_2; __pyx_t_3+=1) {
     __pyx_v_i = __pyx_t_3;
 
-    /* "capnp/lib/capnp.pyx":4157
+    /* "capnp/lib/capnp.pyx":4246
  *         free(self._seg_ptrs)
  *         for i in range(0, self.num_segments):
  *             PyBuffer_Release(&self.views[i])             # <<<<<<<<<<<<<<
  *         free(self.views)
  *         del self.thisptr
  */
     PyBuffer_Release((&(__pyx_v_self->views[__pyx_v_i])));
   }
 
-  /* "capnp/lib/capnp.pyx":4158
+  /* "capnp/lib/capnp.pyx":4247
  *         for i in range(0, self.num_segments):
  *             PyBuffer_Release(&self.views[i])
  *         free(self.views)             # <<<<<<<<<<<<<<
  *         del self.thisptr
  * 
  */
   free(__pyx_v_self->views);
 
-  /* "capnp/lib/capnp.pyx":4159
+  /* "capnp/lib/capnp.pyx":4248
  *             PyBuffer_Release(&self.views[i])
  *         free(self.views)
  *         del self.thisptr             # <<<<<<<<<<<<<<
  * 
  * 
  */
   delete __pyx_v_self->__pyx_base.thisptr;
 
-  /* "capnp/lib/capnp.pyx":4154
+  /* "capnp/lib/capnp.pyx":4243
  *             opts)
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         free(self._seg_ptrs)
  *         for i in range(0, self.num_segments):
  */
 
@@ -86544,15 +87677,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self._seg_ptrs,self.thisptr,self.views cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self._seg_ptrs,self.thisptr,self.views cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__145, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__147, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -86601,15 +87734,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self._seg_ptrs,self.thisptr,self.views cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self._seg_ptrs,self.thisptr,self.views cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__146, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__148, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -86624,15 +87757,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._SegmentArrayMessageReader.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4167
+/* "capnp/lib/capnp.pyx":4256
  *     cdef Py_buffer view
  * 
  *     def __init__(self, buf):             # <<<<<<<<<<<<<<
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_WRITABLE) != 0:
  *             raise KjException("expected variable length string object")
  */
 
@@ -86661,26 +87794,26 @@
       kw_args = PyDict_Size(__pyx_kwds);
       switch (pos_args) {
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_buf)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4167, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4256, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 1) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
     }
     __pyx_v_buf = values[0];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4167, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4256, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._FlatMessageBuilder.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_19_FlatMessageBuilder___init__(((struct __pyx_obj_5capnp_3lib_5capnp__FlatMessageBuilder *)__pyx_v_self), __pyx_v_buf);
 
@@ -86697,131 +87830,131 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
 
-  /* "capnp/lib/capnp.pyx":4168
+  /* "capnp/lib/capnp.pyx":4257
  * 
  *     def __init__(self, buf):
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_WRITABLE) != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("expected variable length string object")
  *         if self.view.len % 8 != 0:
  */
   __pyx_t_1 = ((PyObject_GetBuffer(__pyx_v_buf, (&__pyx_v_self->view), PyBUF_WRITABLE) != 0) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":4169
+    /* "capnp/lib/capnp.pyx":4258
  *     def __init__(self, buf):
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_WRITABLE) != 0:
  *             raise KjException("expected variable length string object")             # <<<<<<<<<<<<<<
  *         if self.view.len % 8 != 0:
  *             raise KjException("input length must be a multiple of eight bytes")
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4169, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4258, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_kp_s_expected_variable_length_string) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_kp_s_expected_variable_length_string);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4169, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4258, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 4169, __pyx_L1_error)
+    __PYX_ERR(0, 4258, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":4168
+    /* "capnp/lib/capnp.pyx":4257
  * 
  *     def __init__(self, buf):
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_WRITABLE) != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("expected variable length string object")
  *         if self.view.len % 8 != 0:
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4170
+  /* "capnp/lib/capnp.pyx":4259
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_WRITABLE) != 0:
  *             raise KjException("expected variable length string object")
  *         if self.view.len % 8 != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("input length must be a multiple of eight bytes")
  *         self._object_to_pin = buf
  */
   __pyx_t_1 = ((__Pyx_mod_Py_ssize_t(__pyx_v_self->view.len, 8) != 0) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "capnp/lib/capnp.pyx":4171
+    /* "capnp/lib/capnp.pyx":4260
  *             raise KjException("expected variable length string object")
  *         if self.view.len % 8 != 0:
  *             raise KjException("input length must be a multiple of eight bytes")             # <<<<<<<<<<<<<<
  *         self._object_to_pin = buf
  *         self.thisptr = new schema_cpp.FlatMessageBuilder(
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4171, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_KjException); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4260, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_4 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
       __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
       if (likely(__pyx_t_4)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
         __Pyx_INCREF(__pyx_t_4);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_3, function);
       }
     }
     __pyx_t_2 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_4, __pyx_kp_s_input_length_must_be_a_multiple) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_kp_s_input_length_must_be_a_multiple);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4171, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4260, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 4171, __pyx_L1_error)
+    __PYX_ERR(0, 4260, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":4170
+    /* "capnp/lib/capnp.pyx":4259
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_WRITABLE) != 0:
  *             raise KjException("expected variable length string object")
  *         if self.view.len % 8 != 0:             # <<<<<<<<<<<<<<
  *             raise KjException("input length must be a multiple of eight bytes")
  *         self._object_to_pin = buf
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4172
+  /* "capnp/lib/capnp.pyx":4261
  *         if self.view.len % 8 != 0:
  *             raise KjException("input length must be a multiple of eight bytes")
  *         self._object_to_pin = buf             # <<<<<<<<<<<<<<
  *         self.thisptr = new schema_cpp.FlatMessageBuilder(
  *             schema_cpp.WordArrayPtr(<schema_cpp.word*>self.view.buf, self.view.len // 8))
  */
   __Pyx_INCREF(__pyx_v_buf);
   __Pyx_GIVEREF(__pyx_v_buf);
   __Pyx_GOTREF(__pyx_v_self->_object_to_pin);
   __Pyx_DECREF(__pyx_v_self->_object_to_pin);
   __pyx_v_self->_object_to_pin = __pyx_v_buf;
 
-  /* "capnp/lib/capnp.pyx":4173
+  /* "capnp/lib/capnp.pyx":4262
  *             raise KjException("input length must be a multiple of eight bytes")
  *         self._object_to_pin = buf
  *         self.thisptr = new schema_cpp.FlatMessageBuilder(             # <<<<<<<<<<<<<<
  *             schema_cpp.WordArrayPtr(<schema_cpp.word*>self.view.buf, self.view.len // 8))
  * 
  */
   __pyx_v_self->__pyx_base.thisptr = new  ::capnp::FlatMessageBuilder( ::kj::ArrayPtr< ::capnp::word>((( ::capnp::word *)__pyx_v_self->view.buf), __Pyx_div_Py_ssize_t(__pyx_v_self->view.len, 8)));
 
-  /* "capnp/lib/capnp.pyx":4167
+  /* "capnp/lib/capnp.pyx":4256
  *     cdef Py_buffer view
  * 
  *     def __init__(self, buf):             # <<<<<<<<<<<<<<
  *         if PyObject_GetBuffer(buf, &self.view, PyBUF_WRITABLE) != 0:
  *             raise KjException("expected variable length string object")
  */
 
@@ -86835,15 +87968,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._FlatMessageBuilder.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4176
+/* "capnp/lib/capnp.pyx":4265
  *             schema_cpp.WordArrayPtr(<schema_cpp.word*>self.view.buf, self.view.len // 8))
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         PyBuffer_Release(&self.view)
  * 
  */
 
@@ -86858,24 +87991,24 @@
   __Pyx_RefNannyFinishContext();
 }
 
 static void __pyx_pf_5capnp_3lib_5capnp_19_FlatMessageBuilder_2__dealloc__(struct __pyx_obj_5capnp_3lib_5capnp__FlatMessageBuilder *__pyx_v_self) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__dealloc__", 0);
 
-  /* "capnp/lib/capnp.pyx":4177
+  /* "capnp/lib/capnp.pyx":4266
  * 
  *     def __dealloc__(self):
  *         PyBuffer_Release(&self.view)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   PyBuffer_Release((&__pyx_v_self->view));
 
-  /* "capnp/lib/capnp.pyx":4176
+  /* "capnp/lib/capnp.pyx":4265
  *             schema_cpp.WordArrayPtr(<schema_cpp.word*>self.view.buf, self.view.len // 8))
  * 
  *     def __dealloc__(self):             # <<<<<<<<<<<<<<
  *         PyBuffer_Release(&self.view)
  * 
  */
 
@@ -86914,15 +88047,15 @@
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr,self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__147, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__149, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 2, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
@@ -86971,15 +88104,15 @@
   __Pyx_RefNannySetupContext("__setstate_cython__", 0);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr,self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__148, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_Call(__pyx_builtin_TypeError, __pyx_tuple__150, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_Raise(__pyx_t_1, 0, 0, 0);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __PYX_ERR(1, 4, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
@@ -86994,15 +88127,15 @@
   __Pyx_AddTraceback("capnp.lib.capnp._FlatMessageBuilder.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4180
+/* "capnp/lib/capnp.pyx":4269
  * 
  * 
  * def _message_to_packed_bytes(_MessageBuilder message):             # <<<<<<<<<<<<<<
  *     r, w = _os.pipe()
  * 
  */
 
@@ -87013,15 +88146,15 @@
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_19_message_to_packed_bytes(PyObject *__pyx_self, PyObject *__pyx_v_message) {
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_message_to_packed_bytes (wrapper)", 0);
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_message), __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder, 1, "message", 0))) __PYX_ERR(0, 4180, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_message), __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder, 1, "message", 0))) __PYX_ERR(0, 4269, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_18_message_to_packed_bytes(__pyx_self, ((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)__pyx_v_message));
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -87044,155 +88177,155 @@
   PyObject *(*__pyx_t_5)(PyObject *);
   int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_message_to_packed_bytes", 0);
 
-  /* "capnp/lib/capnp.pyx":4181
+  /* "capnp/lib/capnp.pyx":4270
  * 
  * def _message_to_packed_bytes(_MessageBuilder message):
  *     r, w = _os.pipe()             # <<<<<<<<<<<<<<
  * 
  *     writer = new schema_cpp.FdOutputStream(w)
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4181, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4270, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_pipe); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4181, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_pipe); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4270, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_3);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4181, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4270, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   if ((likely(PyTuple_CheckExact(__pyx_t_1))) || (PyList_CheckExact(__pyx_t_1))) {
     PyObject* sequence = __pyx_t_1;
     Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
     if (unlikely(size != 2)) {
       if (size > 2) __Pyx_RaiseTooManyValuesError(2);
       else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-      __PYX_ERR(0, 4181, __pyx_L1_error)
+      __PYX_ERR(0, 4270, __pyx_L1_error)
     }
     #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
     if (likely(PyTuple_CheckExact(sequence))) {
       __pyx_t_3 = PyTuple_GET_ITEM(sequence, 0); 
       __pyx_t_2 = PyTuple_GET_ITEM(sequence, 1); 
     } else {
       __pyx_t_3 = PyList_GET_ITEM(sequence, 0); 
       __pyx_t_2 = PyList_GET_ITEM(sequence, 1); 
     }
     __Pyx_INCREF(__pyx_t_3);
     __Pyx_INCREF(__pyx_t_2);
     #else
-    __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4181, __pyx_L1_error)
+    __pyx_t_3 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4270, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4181, __pyx_L1_error)
+    __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4270, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     #endif
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   } else {
     Py_ssize_t index = -1;
-    __pyx_t_4 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4181, __pyx_L1_error)
+    __pyx_t_4 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4270, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_t_5 = Py_TYPE(__pyx_t_4)->tp_iternext;
     index = 0; __pyx_t_3 = __pyx_t_5(__pyx_t_4); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_3);
     index = 1; __pyx_t_2 = __pyx_t_5(__pyx_t_4); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_2);
-    if (__Pyx_IternextUnpackEndCheck(__pyx_t_5(__pyx_t_4), 2) < 0) __PYX_ERR(0, 4181, __pyx_L1_error)
+    if (__Pyx_IternextUnpackEndCheck(__pyx_t_5(__pyx_t_4), 2) < 0) __PYX_ERR(0, 4270, __pyx_L1_error)
     __pyx_t_5 = NULL;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     goto __pyx_L4_unpacking_done;
     __pyx_L3_unpacking_failed:;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_t_5 = NULL;
     if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-    __PYX_ERR(0, 4181, __pyx_L1_error)
+    __PYX_ERR(0, 4270, __pyx_L1_error)
     __pyx_L4_unpacking_done:;
   }
   __pyx_v_r = __pyx_t_3;
   __pyx_t_3 = 0;
   __pyx_v_w = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4183
+  /* "capnp/lib/capnp.pyx":4272
  *     r, w = _os.pipe()
  * 
  *     writer = new schema_cpp.FdOutputStream(w)             # <<<<<<<<<<<<<<
  *     schema_cpp.writePackedMessage(deref(writer), deref(message.thisptr))
  *     _os.close(w)
  */
-  __pyx_t_6 = __Pyx_PyInt_As_int(__pyx_v_w); if (unlikely((__pyx_t_6 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 4183, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyInt_As_int(__pyx_v_w); if (unlikely((__pyx_t_6 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 4272, __pyx_L1_error)
   __pyx_v_writer = new  ::kj::FdOutputStream(__pyx_t_6);
 
-  /* "capnp/lib/capnp.pyx":4184
+  /* "capnp/lib/capnp.pyx":4273
  * 
  *     writer = new schema_cpp.FdOutputStream(w)
  *     schema_cpp.writePackedMessage(deref(writer), deref(message.thisptr))             # <<<<<<<<<<<<<<
  *     _os.close(w)
  * 
  */
   try {
      ::capnp::writePackedMessage((*__pyx_v_writer), (*__pyx_v_message->thisptr));
   } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 4184, __pyx_L1_error)
+    c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+    __PYX_ERR(0, 4273, __pyx_L1_error)
   }
 
-  /* "capnp/lib/capnp.pyx":4185
+  /* "capnp/lib/capnp.pyx":4274
  *     writer = new schema_cpp.FdOutputStream(w)
  *     schema_cpp.writePackedMessage(deref(writer), deref(message.thisptr))
  *     _os.close(w)             # <<<<<<<<<<<<<<
  * 
  *     reader = _os.fdopen(r, 'rb')
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4185, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4274, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_close); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4185, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_close); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4274, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_3))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_3);
     if (likely(__pyx_t_2)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
       __Pyx_INCREF(__pyx_t_2);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_3, function);
     }
   }
   __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_3, __pyx_t_2, __pyx_v_w) : __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_v_w);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4185, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4274, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":4187
+  /* "capnp/lib/capnp.pyx":4276
  *     _os.close(w)
  * 
  *     reader = _os.fdopen(r, 'rb')             # <<<<<<<<<<<<<<
  *     ret = reader.read()
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_os); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4187, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_os); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4276, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_fdopen); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4187, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_fdopen); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4276, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   __pyx_t_6 = 0;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_3)) {
@@ -87202,122 +88335,122 @@
       __Pyx_DECREF_SET(__pyx_t_2, function);
       __pyx_t_6 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[3] = {__pyx_t_3, __pyx_v_r, __pyx_n_s_rb};
-    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4187, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4276, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_GOTREF(__pyx_t_1);
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_2)) {
     PyObject *__pyx_temp[3] = {__pyx_t_3, __pyx_v_r, __pyx_n_s_rb};
-    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4187, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4276, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_GOTREF(__pyx_t_1);
   } else
   #endif
   {
-    __pyx_t_4 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4187, __pyx_L1_error)
+    __pyx_t_4 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4276, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     if (__pyx_t_3) {
       __Pyx_GIVEREF(__pyx_t_3); PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3); __pyx_t_3 = NULL;
     }
     __Pyx_INCREF(__pyx_v_r);
     __Pyx_GIVEREF(__pyx_v_r);
     PyTuple_SET_ITEM(__pyx_t_4, 0+__pyx_t_6, __pyx_v_r);
     __Pyx_INCREF(__pyx_n_s_rb);
     __Pyx_GIVEREF(__pyx_n_s_rb);
     PyTuple_SET_ITEM(__pyx_t_4, 1+__pyx_t_6, __pyx_n_s_rb);
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4187, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_4, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4276, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_reader = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":4188
+  /* "capnp/lib/capnp.pyx":4277
  * 
  *     reader = _os.fdopen(r, 'rb')
  *     ret = reader.read()             # <<<<<<<<<<<<<<
  * 
  *     del writer
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_read); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4188, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_read); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4277, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4188, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4277, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_ret = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":4190
+  /* "capnp/lib/capnp.pyx":4279
  *     ret = reader.read()
  * 
  *     del writer             # <<<<<<<<<<<<<<
  *     reader.close()
  * 
  */
   delete __pyx_v_writer;
 
-  /* "capnp/lib/capnp.pyx":4191
+  /* "capnp/lib/capnp.pyx":4280
  * 
  *     del writer
  *     reader.close()             # <<<<<<<<<<<<<<
  * 
  *     return ret
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4191, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_reader, __pyx_n_s_close); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4280, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_2);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
       __Pyx_INCREF(__pyx_t_4);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_2, function);
     }
   }
   __pyx_t_1 = (__pyx_t_4) ? __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_4) : __Pyx_PyObject_CallNoArg(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4191, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4280, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":4193
+  /* "capnp/lib/capnp.pyx":4282
  *     reader.close()
  * 
  *     return ret             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_ret);
   __pyx_r = __pyx_v_ret;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":4180
+  /* "capnp/lib/capnp.pyx":4269
  * 
  * 
  * def _message_to_packed_bytes(_MessageBuilder message):             # <<<<<<<<<<<<<<
  *     r, w = _os.pipe()
  * 
  */
 
@@ -87335,15 +88468,15 @@
   __Pyx_XDECREF(__pyx_v_reader);
   __Pyx_XDECREF(__pyx_v_ret);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4196
+/* "capnp/lib/capnp.pyx":4285
  * 
  * 
  * def _write_message_to_fd(int fd, _MessageBuilder message):             # <<<<<<<<<<<<<<
  *     """Serialize a Cap'n Proto message to a file descriptor
  * 
  */
 
@@ -87379,38 +88512,38 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_fd)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_message)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_write_message_to_fd", 1, 2, 2, 1); __PYX_ERR(0, 4196, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_write_message_to_fd", 1, 2, 2, 1); __PYX_ERR(0, 4285, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_write_message_to_fd") < 0)) __PYX_ERR(0, 4196, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_write_message_to_fd") < 0)) __PYX_ERR(0, 4285, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
-    __pyx_v_fd = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_fd == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 4196, __pyx_L3_error)
+    __pyx_v_fd = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_fd == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 4285, __pyx_L3_error)
     __pyx_v_message = ((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)values[1]);
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_write_message_to_fd", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4196, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_write_message_to_fd", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4285, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._write_message_to_fd", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_message), __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder, 1, "message", 0))) __PYX_ERR(0, 4196, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_message), __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder, 1, "message", 0))) __PYX_ERR(0, 4285, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_20_write_message_to_fd(__pyx_self, __pyx_v_fd, __pyx_v_message);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -87422,29 +88555,77 @@
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_write_message_to_fd", 0);
 
-  /* "capnp/lib/capnp.pyx":4219
+  /* "capnp/lib/capnp.pyx":4308
  *     :rtype: void
  *     """
- *     schema_cpp.writeMessageToFd(fd, deref(message.thisptr))             # <<<<<<<<<<<<<<
+ *     with nogil:             # <<<<<<<<<<<<<<
+ *         schema_cpp.writeMessageToFd(fd, deref(message.thisptr))
+ * 
+ */
+  {
+      #ifdef WITH_THREAD
+      PyThreadState *_save;
+      Py_UNBLOCK_THREADS
+      __Pyx_FastGIL_Remember();
+      #endif
+      /*try:*/ {
+
+        /* "capnp/lib/capnp.pyx":4309
+ *     """
+ *     with nogil:
+ *         schema_cpp.writeMessageToFd(fd, deref(message.thisptr))             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  try {
-     ::capnp::writeMessageToFd(__pyx_v_fd, (*__pyx_v_message->thisptr));
-  } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 4219, __pyx_L1_error)
+        try {
+           ::capnp::writeMessageToFd(__pyx_v_fd, (*__pyx_v_message->thisptr));
+        } catch(...) {
+          #ifdef WITH_THREAD
+          PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
+          #endif
+          c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          __PYX_ERR(0, 4309, __pyx_L4_error)
+        }
+      }
+
+      /* "capnp/lib/capnp.pyx":4308
+ *     :rtype: void
+ *     """
+ *     with nogil:             # <<<<<<<<<<<<<<
+ *         schema_cpp.writeMessageToFd(fd, deref(message.thisptr))
+ * 
+ */
+      /*finally:*/ {
+        /*normal exit:*/{
+          #ifdef WITH_THREAD
+          __Pyx_FastGIL_Forget();
+          Py_BLOCK_THREADS
+          #endif
+          goto __pyx_L5;
+        }
+        __pyx_L4_error: {
+          #ifdef WITH_THREAD
+          __Pyx_FastGIL_Forget();
+          Py_BLOCK_THREADS
+          #endif
+          goto __pyx_L1_error;
+        }
+        __pyx_L5:;
+      }
   }
 
-  /* "capnp/lib/capnp.pyx":4196
+  /* "capnp/lib/capnp.pyx":4285
  * 
  * 
  * def _write_message_to_fd(int fd, _MessageBuilder message):             # <<<<<<<<<<<<<<
  *     """Serialize a Cap'n Proto message to a file descriptor
  * 
  */
 
@@ -87456,15 +88637,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4222
+/* "capnp/lib/capnp.pyx":4312
  * 
  * 
  * def _write_packed_message_to_fd(int fd, _MessageBuilder message):             # <<<<<<<<<<<<<<
  *     """Serialize a Cap'n Proto message to a file descriptor in a packed manner
  * 
  */
 
@@ -87500,38 +88681,38 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_fd)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_message)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("_write_packed_message_to_fd", 1, 2, 2, 1); __PYX_ERR(0, 4222, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("_write_packed_message_to_fd", 1, 2, 2, 1); __PYX_ERR(0, 4312, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_write_packed_message_to_fd") < 0)) __PYX_ERR(0, 4222, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "_write_packed_message_to_fd") < 0)) __PYX_ERR(0, 4312, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
-    __pyx_v_fd = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_fd == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 4222, __pyx_L3_error)
+    __pyx_v_fd = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_fd == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 4312, __pyx_L3_error)
     __pyx_v_message = ((struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *)values[1]);
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("_write_packed_message_to_fd", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4222, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("_write_packed_message_to_fd", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4312, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._write_packed_message_to_fd", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_message), __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder, 1, "message", 0))) __PYX_ERR(0, 4222, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_message), __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder, 1, "message", 0))) __PYX_ERR(0, 4312, __pyx_L1_error)
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_22_write_packed_message_to_fd(__pyx_self, __pyx_v_fd, __pyx_v_message);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
@@ -87543,29 +88724,77 @@
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_write_packed_message_to_fd", 0);
 
-  /* "capnp/lib/capnp.pyx":4246
+  /* "capnp/lib/capnp.pyx":4336
  *     :rtype: void
  *     """
- *     schema_cpp.writePackedMessageToFd(fd, deref(message.thisptr))             # <<<<<<<<<<<<<<
+ *     with nogil:             # <<<<<<<<<<<<<<
+ *         schema_cpp.writePackedMessageToFd(fd, deref(message.thisptr))
+ * 
+ */
+  {
+      #ifdef WITH_THREAD
+      PyThreadState *_save;
+      Py_UNBLOCK_THREADS
+      __Pyx_FastGIL_Remember();
+      #endif
+      /*try:*/ {
+
+        /* "capnp/lib/capnp.pyx":4337
+ *     """
+ *     with nogil:
+ *         schema_cpp.writePackedMessageToFd(fd, deref(message.thisptr))             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  try {
-     ::capnp::writePackedMessageToFd(__pyx_v_fd, (*__pyx_v_message->thisptr));
-  } catch(...) {
-    reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
-    __PYX_ERR(0, 4246, __pyx_L1_error)
+        try {
+           ::capnp::writePackedMessageToFd(__pyx_v_fd, (*__pyx_v_message->thisptr));
+        } catch(...) {
+          #ifdef WITH_THREAD
+          PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
+          #endif
+          c_reraise_kj_exception(); if (!PyErr_Occurred())PyErr_SetString(PyExc_RuntimeError, "Error converting c++ exception.");
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          __PYX_ERR(0, 4337, __pyx_L4_error)
+        }
+      }
+
+      /* "capnp/lib/capnp.pyx":4336
+ *     :rtype: void
+ *     """
+ *     with nogil:             # <<<<<<<<<<<<<<
+ *         schema_cpp.writePackedMessageToFd(fd, deref(message.thisptr))
+ * 
+ */
+      /*finally:*/ {
+        /*normal exit:*/{
+          #ifdef WITH_THREAD
+          __Pyx_FastGIL_Forget();
+          Py_BLOCK_THREADS
+          #endif
+          goto __pyx_L5;
+        }
+        __pyx_L4_error: {
+          #ifdef WITH_THREAD
+          __Pyx_FastGIL_Forget();
+          Py_BLOCK_THREADS
+          #endif
+          goto __pyx_L1_error;
+        }
+        __pyx_L5:;
+      }
   }
 
-  /* "capnp/lib/capnp.pyx":4222
+  /* "capnp/lib/capnp.pyx":4312
  * 
  * 
  * def _write_packed_message_to_fd(int fd, _MessageBuilder message):             # <<<<<<<<<<<<<<
  *     """Serialize a Cap'n Proto message to a file descriptor in a packed manner
  * 
  */
 
@@ -87577,15 +88806,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4252
+/* "capnp/lib/capnp.pyx":4343
  * 
  * 
  * def cleanup_global_schema_parser():             # <<<<<<<<<<<<<<
  *     """Unloads all of the schema from the current context"""
  *     global _global_schema_parser
  */
 
@@ -87610,55 +88839,55 @@
   PyObject *__pyx_t_1 = NULL;
   int __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("cleanup_global_schema_parser", 0);
 
-  /* "capnp/lib/capnp.pyx":4255
+  /* "capnp/lib/capnp.pyx":4346
  *     """Unloads all of the schema from the current context"""
  *     global _global_schema_parser
  *     if _global_schema_parser:             # <<<<<<<<<<<<<<
  *         del _global_schema_parser
  *         _global_schema_parser = None
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_global_schema_parser); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4255, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_global_schema_parser); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4346, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 4255, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_2 < 0)) __PYX_ERR(0, 4346, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (__pyx_t_2) {
 
-    /* "capnp/lib/capnp.pyx":4256
+    /* "capnp/lib/capnp.pyx":4347
  *     global _global_schema_parser
  *     if _global_schema_parser:
  *         del _global_schema_parser             # <<<<<<<<<<<<<<
  *         _global_schema_parser = None
  * 
  */
-    if (__Pyx_PyObject_DelAttrStr(__pyx_m, __pyx_n_s_global_schema_parser) < 0) __PYX_ERR(0, 4256, __pyx_L1_error)
+    if (__Pyx_PyObject_DelAttrStr(__pyx_m, __pyx_n_s_global_schema_parser) < 0) __PYX_ERR(0, 4347, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":4257
+    /* "capnp/lib/capnp.pyx":4348
  *     if _global_schema_parser:
  *         del _global_schema_parser
  *         _global_schema_parser = None             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    if (PyDict_SetItem(__pyx_d, __pyx_n_s_global_schema_parser, Py_None) < 0) __PYX_ERR(0, 4257, __pyx_L1_error)
+    if (PyDict_SetItem(__pyx_d, __pyx_n_s_global_schema_parser, Py_None) < 0) __PYX_ERR(0, 4348, __pyx_L1_error)
 
-    /* "capnp/lib/capnp.pyx":4255
+    /* "capnp/lib/capnp.pyx":4346
  *     """Unloads all of the schema from the current context"""
  *     global _global_schema_parser
  *     if _global_schema_parser:             # <<<<<<<<<<<<<<
  *         del _global_schema_parser
  *         _global_schema_parser = None
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4252
+  /* "capnp/lib/capnp.pyx":4343
  * 
  * 
  * def cleanup_global_schema_parser():             # <<<<<<<<<<<<<<
  *     """Unloads all of the schema from the current context"""
  *     global _global_schema_parser
  */
 
@@ -87671,15 +88900,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4260
+/* "capnp/lib/capnp.pyx":4351
  * 
  * 
  * def load(file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *     """Load a Cap'n Proto schema from a file
  * 
  */
 
@@ -87697,15 +88926,15 @@
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("load (wrapper)", 0);
   {
     static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_file_name,&__pyx_n_s_display_name,&__pyx_n_s_imports,0};
     PyObject* values[3] = {0,0,0};
     values[1] = ((PyObject *)Py_None);
-    values[2] = __pyx_k__149;
+    values[2] = __pyx_k__151;
     if (unlikely(__pyx_kwds)) {
       Py_ssize_t kw_args;
       const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
       switch (pos_args) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
@@ -87730,15 +88959,15 @@
         case  2:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_imports);
           if (value) { values[2] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "load") < 0)) __PYX_ERR(0, 4260, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "load") < 0)) __PYX_ERR(0, 4351, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
@@ -87749,15 +88978,15 @@
     }
     __pyx_v_file_name = values[0];
     __pyx_v_display_name = values[1];
     __pyx_v_imports = values[2];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("load", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4260, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("load", 0, 1, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4351, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp.load", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_26load(__pyx_self, __pyx_v_file_name, __pyx_v_display_name, __pyx_v_imports);
 
@@ -87777,60 +89006,60 @@
   int __pyx_t_6;
   PyObject *__pyx_t_7 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("load", 0);
 
-  /* "capnp/lib/capnp.pyx":4291
+  /* "capnp/lib/capnp.pyx":4382
  *     """
  *     global _global_schema_parser
  *     if _global_schema_parser is None:             # <<<<<<<<<<<<<<
  *         _global_schema_parser = SchemaParser()
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_global_schema_parser); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4291, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_global_schema_parser); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4382, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = (__pyx_t_1 == Py_None);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":4292
+    /* "capnp/lib/capnp.pyx":4383
  *     global _global_schema_parser
  *     if _global_schema_parser is None:
  *         _global_schema_parser = SchemaParser()             # <<<<<<<<<<<<<<
  * 
  *     return _global_schema_parser.load(file_name, display_name, imports)
  */
-    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp_SchemaParser)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4292, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp_SchemaParser)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4383, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (PyDict_SetItem(__pyx_d, __pyx_n_s_global_schema_parser, __pyx_t_1) < 0) __PYX_ERR(0, 4292, __pyx_L1_error)
+    if (PyDict_SetItem(__pyx_d, __pyx_n_s_global_schema_parser, __pyx_t_1) < 0) __PYX_ERR(0, 4383, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":4291
+    /* "capnp/lib/capnp.pyx":4382
  *     """
  *     global _global_schema_parser
  *     if _global_schema_parser is None:             # <<<<<<<<<<<<<<
  *         _global_schema_parser = SchemaParser()
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4294
+  /* "capnp/lib/capnp.pyx":4385
  *         _global_schema_parser = SchemaParser()
  * 
  *     return _global_schema_parser.load(file_name, display_name, imports)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_global_schema_parser); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4294, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_global_schema_parser); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4385, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_load_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4294, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_load_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4385, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_4 = NULL;
   __pyx_t_6 = 0;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_5))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_5);
     if (likely(__pyx_t_4)) {
@@ -87840,52 +89069,52 @@
       __Pyx_DECREF_SET(__pyx_t_5, function);
       __pyx_t_6 = 1;
     }
   }
   #if CYTHON_FAST_PYCALL
   if (PyFunction_Check(__pyx_t_5)) {
     PyObject *__pyx_temp[4] = {__pyx_t_4, __pyx_v_file_name, __pyx_v_display_name, __pyx_v_imports};
-    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_6, 3+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4294, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_6, 3+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4385, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_GOTREF(__pyx_t_1);
   } else
   #endif
   #if CYTHON_FAST_PYCCALL
   if (__Pyx_PyFastCFunction_Check(__pyx_t_5)) {
     PyObject *__pyx_temp[4] = {__pyx_t_4, __pyx_v_file_name, __pyx_v_display_name, __pyx_v_imports};
-    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_6, 3+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4294, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyCFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_6, 3+__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4385, __pyx_L1_error)
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_GOTREF(__pyx_t_1);
   } else
   #endif
   {
-    __pyx_t_7 = PyTuple_New(3+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4294, __pyx_L1_error)
+    __pyx_t_7 = PyTuple_New(3+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4385, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     if (__pyx_t_4) {
       __Pyx_GIVEREF(__pyx_t_4); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_4); __pyx_t_4 = NULL;
     }
     __Pyx_INCREF(__pyx_v_file_name);
     __Pyx_GIVEREF(__pyx_v_file_name);
     PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_6, __pyx_v_file_name);
     __Pyx_INCREF(__pyx_v_display_name);
     __Pyx_GIVEREF(__pyx_v_display_name);
     PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_6, __pyx_v_display_name);
     __Pyx_INCREF(__pyx_v_imports);
     __Pyx_GIVEREF(__pyx_v_imports);
     PyTuple_SET_ITEM(__pyx_t_7, 2+__pyx_t_6, __pyx_v_imports);
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4294, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_7, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4385, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
   }
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":4260
+  /* "capnp/lib/capnp.pyx":4351
  * 
  * 
  * def load(file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *     """Load a Cap'n Proto schema from a file
  * 
  */
 
@@ -87899,46 +89128,43 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4298
+/* "capnp/lib/capnp.pyx":4398
  * 
  * class _Loader:
- *     def __init__(self, fullname, path, additional_paths):             # <<<<<<<<<<<<<<
+ *     def __init__(self, fullname, path):             # <<<<<<<<<<<<<<
  *         self.fullname = fullname
  *         self.path = path
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_7_Loader_1__init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_5capnp_3lib_5capnp_7_Loader___init__[] = "_Loader.__init__(self, fullname, path, additional_paths)";
+static char __pyx_doc_5capnp_3lib_5capnp_7_Loader___init__[] = "_Loader.__init__(self, fullname, path)";
 static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_7_Loader_1__init__ = {"__init__", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_5capnp_3lib_5capnp_7_Loader_1__init__, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5capnp_3lib_5capnp_7_Loader___init__};
 static PyObject *__pyx_pw_5capnp_3lib_5capnp_7_Loader_1__init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
   PyObject *__pyx_v_self = 0;
   PyObject *__pyx_v_fullname = 0;
   PyObject *__pyx_v_path = 0;
-  PyObject *__pyx_v_additional_paths = 0;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__init__ (wrapper)", 0);
   {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_fullname,&__pyx_n_s_path,&__pyx_n_s_additional_paths,0};
-    PyObject* values[4] = {0,0,0,0};
+    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_fullname,&__pyx_n_s_path,0};
+    PyObject* values[3] = {0,0,0};
     if (unlikely(__pyx_kwds)) {
       Py_ssize_t kw_args;
       const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
       switch (pos_args) {
-        case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
-        CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         CYTHON_FALLTHROUGH;
         case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
         CYTHON_FALLTHROUGH;
         case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
@@ -87949,200 +89175,100 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_fullname)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 4, 4, 1); __PYX_ERR(0, 4298, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 4398, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_path)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 4, 4, 2); __PYX_ERR(0, 4298, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  3:
-        if (likely((values[3] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_additional_paths)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 4, 4, 3); __PYX_ERR(0, 4298, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 4398, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4298, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4398, __pyx_L3_error)
       }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 4) {
+    } else if (PyTuple_GET_SIZE(__pyx_args) != 3) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
       values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
-      values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
     }
     __pyx_v_self = values[0];
     __pyx_v_fullname = values[1];
     __pyx_v_path = values[2];
-    __pyx_v_additional_paths = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 4, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4298, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4398, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._Loader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_5capnp_3lib_5capnp_7_Loader___init__(__pyx_self, __pyx_v_self, __pyx_v_fullname, __pyx_v_path, __pyx_v_additional_paths);
+  __pyx_r = __pyx_pf_5capnp_3lib_5capnp_7_Loader___init__(__pyx_self, __pyx_v_self, __pyx_v_fullname, __pyx_v_path);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_5capnp_3lib_5capnp_7_Loader___init__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_fullname, PyObject *__pyx_v_path, PyObject *__pyx_v_additional_paths) {
-  PyObject *__pyx_v_dir_name = NULL;
+static PyObject *__pyx_pf_5capnp_3lib_5capnp_7_Loader___init__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_fullname, PyObject *__pyx_v_path) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  PyObject *__pyx_t_2 = NULL;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_t_4;
-  int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 0);
-  __Pyx_INCREF(__pyx_v_additional_paths);
 
-  /* "capnp/lib/capnp.pyx":4299
+  /* "capnp/lib/capnp.pyx":4399
  * class _Loader:
- *     def __init__(self, fullname, path, additional_paths):
+ *     def __init__(self, fullname, path):
  *         self.fullname = fullname             # <<<<<<<<<<<<<<
  *         self.path = path
  * 
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_fullname, __pyx_v_fullname) < 0) __PYX_ERR(0, 4299, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_fullname, __pyx_v_fullname) < 0) __PYX_ERR(0, 4399, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4300
- *     def __init__(self, fullname, path, additional_paths):
+  /* "capnp/lib/capnp.pyx":4400
+ *     def __init__(self, fullname, path):
  *         self.fullname = fullname
  *         self.path = path             # <<<<<<<<<<<<<<
  * 
- *         # Add current directory of the capnp schema to search path
- */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_path, __pyx_v_path) < 0) __PYX_ERR(0, 4300, __pyx_L1_error)
-
-  /* "capnp/lib/capnp.pyx":4303
- * 
- *         # Add current directory of the capnp schema to search path
- *         dir_name = _os.path.dirname(path)             # <<<<<<<<<<<<<<
- *         if path is not '':
- *             additional_paths = [dir_name] + additional_paths
- */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4303, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4303, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_dirname); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4303, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = NULL;
-  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
-    __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_2);
-    if (likely(__pyx_t_3)) {
-      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
-      __Pyx_INCREF(__pyx_t_3);
-      __Pyx_INCREF(function);
-      __Pyx_DECREF_SET(__pyx_t_2, function);
-    }
-  }
-  __pyx_t_1 = (__pyx_t_3) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_3, __pyx_v_path) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_v_path);
-  __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4303, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_v_dir_name = __pyx_t_1;
-  __pyx_t_1 = 0;
-
-  /* "capnp/lib/capnp.pyx":4304
- *         # Add current directory of the capnp schema to search path
- *         dir_name = _os.path.dirname(path)
- *         if path is not '':             # <<<<<<<<<<<<<<
- *             additional_paths = [dir_name] + additional_paths
- * 
- */
-  __pyx_t_4 = (__pyx_v_path != __pyx_kp_s__3);
-  __pyx_t_5 = (__pyx_t_4 != 0);
-  if (__pyx_t_5) {
-
-    /* "capnp/lib/capnp.pyx":4305
- *         dir_name = _os.path.dirname(path)
- *         if path is not '':
- *             additional_paths = [dir_name] + additional_paths             # <<<<<<<<<<<<<<
- * 
- *         self.additional_paths = additional_paths
- */
-    __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4305, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_INCREF(__pyx_v_dir_name);
-    __Pyx_GIVEREF(__pyx_v_dir_name);
-    PyList_SET_ITEM(__pyx_t_1, 0, __pyx_v_dir_name);
-    __pyx_t_2 = PyNumber_Add(__pyx_t_1, __pyx_v_additional_paths); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4305, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_DECREF_SET(__pyx_v_additional_paths, __pyx_t_2);
-    __pyx_t_2 = 0;
-
-    /* "capnp/lib/capnp.pyx":4304
- *         # Add current directory of the capnp schema to search path
- *         dir_name = _os.path.dirname(path)
- *         if path is not '':             # <<<<<<<<<<<<<<
- *             additional_paths = [dir_name] + additional_paths
- * 
- */
-  }
-
-  /* "capnp/lib/capnp.pyx":4307
- *             additional_paths = [dir_name] + additional_paths
- * 
- *         self.additional_paths = additional_paths             # <<<<<<<<<<<<<<
- * 
  *     def load_module(self, fullname):
  */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_additional_paths, __pyx_v_additional_paths) < 0) __PYX_ERR(0, 4307, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_path, __pyx_v_path) < 0) __PYX_ERR(0, 4400, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4298
+  /* "capnp/lib/capnp.pyx":4398
  * 
  * class _Loader:
- *     def __init__(self, fullname, path, additional_paths):             # <<<<<<<<<<<<<<
+ *     def __init__(self, fullname, path):             # <<<<<<<<<<<<<<
  *         self.fullname = fullname
  *         self.path = path
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   goto __pyx_L0;
   __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_XDECREF(__pyx_t_2);
-  __Pyx_XDECREF(__pyx_t_3);
   __Pyx_AddTraceback("capnp.lib.capnp._Loader.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_dir_name);
-  __Pyx_XDECREF(__pyx_v_additional_paths);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4309
- *         self.additional_paths = additional_paths
+/* "capnp/lib/capnp.pyx":4402
+ *         self.path = path
  * 
  *     def load_module(self, fullname):             # <<<<<<<<<<<<<<
  *         assert self.fullname == fullname, (
  *             "invalid module, expected {}, got {}".format(self.fullname, fullname))
  */
 
 /* Python wrapper */
@@ -88177,32 +89303,32 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_fullname)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("load_module", 1, 2, 2, 1); __PYX_ERR(0, 4309, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("load_module", 1, 2, 2, 1); __PYX_ERR(0, 4402, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "load_module") < 0)) __PYX_ERR(0, 4309, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "load_module") < 0)) __PYX_ERR(0, 4402, __pyx_L3_error)
       }
     } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
       values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
     }
     __pyx_v_self = values[0];
     __pyx_v_fullname = values[1];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("load_module", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4309, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("load_module", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4402, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._Loader.load_module", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
   __pyx_r = __pyx_pf_5capnp_3lib_5capnp_7_Loader_2load_module(__pyx_self, __pyx_v_self, __pyx_v_fullname);
 
@@ -88227,41 +89353,41 @@
   Py_ssize_t __pyx_t_8;
   PyObject *(*__pyx_t_9)(PyObject *);
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("load_module", 0);
 
-  /* "capnp/lib/capnp.pyx":4310
+  /* "capnp/lib/capnp.pyx":4403
  * 
  *     def load_module(self, fullname):
  *         assert self.fullname == fullname, (             # <<<<<<<<<<<<<<
  *             "invalid module, expected {}, got {}".format(self.fullname, fullname))
  * 
  */
   #ifndef CYTHON_WITHOUT_ASSERTIONS
   if (unlikely(__pyx_assertions_enabled())) {
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_fullname); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4310, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_fullname); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4403, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = PyObject_RichCompare(__pyx_t_1, __pyx_v_fullname, Py_EQ); __Pyx_XGOTREF(__pyx_t_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4310, __pyx_L1_error)
+    __pyx_t_2 = PyObject_RichCompare(__pyx_t_1, __pyx_v_fullname, Py_EQ); __Pyx_XGOTREF(__pyx_t_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4403, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4310, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4403, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     if (unlikely(!__pyx_t_3)) {
 
-      /* "capnp/lib/capnp.pyx":4311
+      /* "capnp/lib/capnp.pyx":4404
  *     def load_module(self, fullname):
  *         assert self.fullname == fullname, (
  *             "invalid module, expected {}, got {}".format(self.fullname, fullname))             # <<<<<<<<<<<<<<
  * 
- *         imports = self.additional_paths + _sys.path
+ *         imports = _capnp_paths + [path if path != '' else '.' for path in _sys.path]
  */
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_invalid_module_expected_got, __pyx_n_s_format); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4311, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_kp_s_invalid_module_expected_got, __pyx_n_s_format); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4404, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_fullname); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4311, __pyx_L1_error)
+      __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_fullname); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4404, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_4);
       __pyx_t_5 = NULL;
       __pyx_t_6 = 0;
       if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
         __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
         if (likely(__pyx_t_5)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
@@ -88270,201 +89396,192 @@
           __Pyx_DECREF_SET(__pyx_t_1, function);
           __pyx_t_6 = 1;
         }
       }
       #if CYTHON_FAST_PYCALL
       if (PyFunction_Check(__pyx_t_1)) {
         PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_t_4, __pyx_v_fullname};
-        __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4311, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4404, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       } else
       #endif
       #if CYTHON_FAST_PYCCALL
       if (__Pyx_PyFastCFunction_Check(__pyx_t_1)) {
         PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_t_4, __pyx_v_fullname};
-        __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4311, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_6, 2+__pyx_t_6); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4404, __pyx_L1_error)
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       } else
       #endif
       {
-        __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4311, __pyx_L1_error)
+        __pyx_t_7 = PyTuple_New(2+__pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4404, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_7);
         if (__pyx_t_5) {
           __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_7, 0, __pyx_t_5); __pyx_t_5 = NULL;
         }
         __Pyx_GIVEREF(__pyx_t_4);
         PyTuple_SET_ITEM(__pyx_t_7, 0+__pyx_t_6, __pyx_t_4);
         __Pyx_INCREF(__pyx_v_fullname);
         __Pyx_GIVEREF(__pyx_v_fullname);
         PyTuple_SET_ITEM(__pyx_t_7, 1+__pyx_t_6, __pyx_v_fullname);
         __pyx_t_4 = 0;
-        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4311, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_7, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4404, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
       }
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-      __pyx_t_1 = PyTuple_Pack(1, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4311, __pyx_L1_error)
+      __pyx_t_1 = PyTuple_Pack(1, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4404, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       PyErr_SetObject(PyExc_AssertionError, __pyx_t_1);
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-      __PYX_ERR(0, 4310, __pyx_L1_error)
+      __PYX_ERR(0, 4403, __pyx_L1_error)
     }
   }
   #endif
 
-  /* "capnp/lib/capnp.pyx":4313
+  /* "capnp/lib/capnp.pyx":4406
  *             "invalid module, expected {}, got {}".format(self.fullname, fullname))
  * 
- *         imports = self.additional_paths + _sys.path             # <<<<<<<<<<<<<<
- *         imports = [path if path != '' else '.' for path in imports] # convert empty path '' to '.'
+ *         imports = _capnp_paths + [path if path != '' else '.' for path in _sys.path]             # <<<<<<<<<<<<<<
  *         module = load(self.path, fullname, imports=imports)
+ *         _sys.modules[fullname] = module
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_additional_paths); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4313, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_capnp_paths); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4406, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_sys); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4313, __pyx_L1_error)
+  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4406, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4313, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_sys); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4406, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_7);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = PyNumber_Add(__pyx_t_1, __pyx_t_7); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4313, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_path); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4406, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-  __pyx_v_imports = __pyx_t_2;
-  __pyx_t_2 = 0;
-
-  /* "capnp/lib/capnp.pyx":4314
- * 
- *         imports = self.additional_paths + _sys.path
- *         imports = [path if path != '' else '.' for path in imports] # convert empty path '' to '.'             # <<<<<<<<<<<<<<
- *         module = load(self.path, fullname, imports=imports)
- *         _sys.modules[fullname] = module
- */
-  __pyx_t_2 = PyList_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4314, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (likely(PyList_CheckExact(__pyx_v_imports)) || PyTuple_CheckExact(__pyx_v_imports)) {
-    __pyx_t_7 = __pyx_v_imports; __Pyx_INCREF(__pyx_t_7); __pyx_t_8 = 0;
+  if (likely(PyList_CheckExact(__pyx_t_4)) || PyTuple_CheckExact(__pyx_t_4)) {
+    __pyx_t_7 = __pyx_t_4; __Pyx_INCREF(__pyx_t_7); __pyx_t_8 = 0;
     __pyx_t_9 = NULL;
   } else {
-    __pyx_t_8 = -1; __pyx_t_7 = PyObject_GetIter(__pyx_v_imports); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4314, __pyx_L1_error)
+    __pyx_t_8 = -1; __pyx_t_7 = PyObject_GetIter(__pyx_t_4); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4406, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
-    __pyx_t_9 = Py_TYPE(__pyx_t_7)->tp_iternext; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4314, __pyx_L1_error)
+    __pyx_t_9 = Py_TYPE(__pyx_t_7)->tp_iternext; if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4406, __pyx_L1_error)
   }
+  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   for (;;) {
     if (likely(!__pyx_t_9)) {
       if (likely(PyList_CheckExact(__pyx_t_7))) {
         if (__pyx_t_8 >= PyList_GET_SIZE(__pyx_t_7)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_8); __Pyx_INCREF(__pyx_t_1); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 4314, __pyx_L1_error)
+        __pyx_t_4 = PyList_GET_ITEM(__pyx_t_7, __pyx_t_8); __Pyx_INCREF(__pyx_t_4); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 4406, __pyx_L1_error)
         #else
-        __pyx_t_1 = PySequence_ITEM(__pyx_t_7, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4314, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_1);
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_7, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4406, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_4);
         #endif
       } else {
         if (__pyx_t_8 >= PyTuple_GET_SIZE(__pyx_t_7)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_7, __pyx_t_8); __Pyx_INCREF(__pyx_t_1); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 4314, __pyx_L1_error)
+        __pyx_t_4 = PyTuple_GET_ITEM(__pyx_t_7, __pyx_t_8); __Pyx_INCREF(__pyx_t_4); __pyx_t_8++; if (unlikely(0 < 0)) __PYX_ERR(0, 4406, __pyx_L1_error)
         #else
-        __pyx_t_1 = PySequence_ITEM(__pyx_t_7, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4314, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_1);
+        __pyx_t_4 = PySequence_ITEM(__pyx_t_7, __pyx_t_8); __pyx_t_8++; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4406, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_4);
         #endif
       }
     } else {
-      __pyx_t_1 = __pyx_t_9(__pyx_t_7);
-      if (unlikely(!__pyx_t_1)) {
+      __pyx_t_4 = __pyx_t_9(__pyx_t_7);
+      if (unlikely(!__pyx_t_4)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 4314, __pyx_L1_error)
+          else __PYX_ERR(0, 4406, __pyx_L1_error)
         }
         break;
       }
-      __Pyx_GOTREF(__pyx_t_1);
+      __Pyx_GOTREF(__pyx_t_4);
     }
-    __Pyx_XDECREF_SET(__pyx_v_path, __pyx_t_1);
-    __pyx_t_1 = 0;
-    __pyx_t_3 = (__Pyx_PyString_Equals(__pyx_v_path, __pyx_kp_s__3, Py_NE)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4314, __pyx_L1_error)
+    __Pyx_XDECREF_SET(__pyx_v_path, __pyx_t_4);
+    __pyx_t_4 = 0;
+    __pyx_t_3 = (__Pyx_PyString_Equals(__pyx_v_path, __pyx_kp_s__3, Py_NE)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4406, __pyx_L1_error)
     if (__pyx_t_3) {
       __Pyx_INCREF(__pyx_v_path);
-      __pyx_t_1 = __pyx_v_path;
+      __pyx_t_4 = __pyx_v_path;
     } else {
-      __Pyx_INCREF(__pyx_kp_s__150);
-      __pyx_t_1 = __pyx_kp_s__150;
+      __Pyx_INCREF(__pyx_kp_s__152);
+      __pyx_t_4 = __pyx_kp_s__152;
     }
-    if (unlikely(__Pyx_ListComp_Append(__pyx_t_2, (PyObject*)__pyx_t_1))) __PYX_ERR(0, 4314, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    if (unlikely(__Pyx_ListComp_Append(__pyx_t_2, (PyObject*)__pyx_t_4))) __PYX_ERR(0, 4406, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-  __Pyx_DECREF_SET(__pyx_v_imports, __pyx_t_2);
-  __pyx_t_2 = 0;
+  __pyx_t_7 = PyNumber_Add(__pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4406, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_7);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  __pyx_v_imports = __pyx_t_7;
+  __pyx_t_7 = 0;
 
-  /* "capnp/lib/capnp.pyx":4315
- *         imports = self.additional_paths + _sys.path
- *         imports = [path if path != '' else '.' for path in imports] # convert empty path '' to '.'
+  /* "capnp/lib/capnp.pyx":4407
+ * 
+ *         imports = _capnp_paths + [path if path != '' else '.' for path in _sys.path]
  *         module = load(self.path, fullname, imports=imports)             # <<<<<<<<<<<<<<
  *         _sys.modules[fullname] = module
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_load_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4315, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_path); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4315, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_load_2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4407, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_7);
-  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4315, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_path); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4407, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4407, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_GIVEREF(__pyx_t_7);
-  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_7);
+  __Pyx_GIVEREF(__pyx_t_2);
+  PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_2);
   __Pyx_INCREF(__pyx_v_fullname);
   __Pyx_GIVEREF(__pyx_v_fullname);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_fullname);
-  __pyx_t_7 = 0;
-  __pyx_t_7 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4315, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_7);
-  if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_imports, __pyx_v_imports) < 0) __PYX_ERR(0, 4315, __pyx_L1_error)
-  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_1, __pyx_t_7); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4315, __pyx_L1_error)
+  __pyx_t_2 = 0;
+  __pyx_t_2 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4407, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_t_2, __pyx_n_s_imports, __pyx_v_imports) < 0) __PYX_ERR(0, 4407, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_7, __pyx_t_1, __pyx_t_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4407, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_module = __pyx_t_4;
   __pyx_t_4 = 0;
 
-  /* "capnp/lib/capnp.pyx":4316
- *         imports = [path if path != '' else '.' for path in imports] # convert empty path '' to '.'
+  /* "capnp/lib/capnp.pyx":4408
+ *         imports = _capnp_paths + [path if path != '' else '.' for path in _sys.path]
  *         module = load(self.path, fullname, imports=imports)
  *         _sys.modules[fullname] = module             # <<<<<<<<<<<<<<
  * 
  *         return module
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_sys); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4316, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_sys); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4408, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_7 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_modules); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4316, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_7);
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_modules); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4408, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  if (unlikely(PyObject_SetItem(__pyx_t_7, __pyx_v_fullname, __pyx_v_module) < 0)) __PYX_ERR(0, 4316, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+  if (unlikely(PyObject_SetItem(__pyx_t_2, __pyx_v_fullname, __pyx_v_module) < 0)) __PYX_ERR(0, 4408, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4318
+  /* "capnp/lib/capnp.pyx":4410
  *         _sys.modules[fullname] = module
  * 
  *         return module             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_module);
   __pyx_r = __pyx_v_module;
   goto __pyx_L0;
 
-  /* "capnp/lib/capnp.pyx":4309
- *         self.additional_paths = additional_paths
+  /* "capnp/lib/capnp.pyx":4402
+ *         self.path = path
  * 
  *     def load_module(self, fullname):             # <<<<<<<<<<<<<<
  *         assert self.fullname == fullname, (
  *             "invalid module, expected {}, got {}".format(self.fullname, fullname))
  */
 
   /* function exit code */
@@ -88481,148 +89598,28 @@
   __Pyx_XDECREF(__pyx_v_module);
   __Pyx_XDECREF(__pyx_v_path);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4322
- * 
+/* "capnp/lib/capnp.pyx":4415
  * class _Importer:
- *     def __init__(self, additional_paths):             # <<<<<<<<<<<<<<
- *         self.extension = '.capnp'
- *         self.additional_paths = additional_paths
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_5capnp_3lib_5capnp_9_Importer_1__init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_5capnp_3lib_5capnp_9_Importer___init__[] = "_Importer.__init__(self, additional_paths)";
-static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_9_Importer_1__init__ = {"__init__", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_5capnp_3lib_5capnp_9_Importer_1__init__, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5capnp_3lib_5capnp_9_Importer___init__};
-static PyObject *__pyx_pw_5capnp_3lib_5capnp_9_Importer_1__init__(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v_self = 0;
-  PyObject *__pyx_v_additional_paths = 0;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__init__ (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_self,&__pyx_n_s_additional_paths,0};
-    PyObject* values[2] = {0,0};
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
-        case  2: values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-        CYTHON_FALLTHROUGH;
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
-        else goto __pyx_L5_argtuple_error;
-        CYTHON_FALLTHROUGH;
-        case  1:
-        if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_additional_paths)) != 0)) kw_args--;
-        else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 2, 2, 1); __PYX_ERR(0, 4322, __pyx_L3_error)
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "__init__") < 0)) __PYX_ERR(0, 4322, __pyx_L3_error)
-      }
-    } else if (PyTuple_GET_SIZE(__pyx_args) != 2) {
-      goto __pyx_L5_argtuple_error;
-    } else {
-      values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-      values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
-    }
-    __pyx_v_self = values[0];
-    __pyx_v_additional_paths = values[1];
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 2, 2, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4322, __pyx_L3_error)
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("capnp.lib.capnp._Importer.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return NULL;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_5capnp_3lib_5capnp_9_Importer___init__(__pyx_self, __pyx_v_self, __pyx_v_additional_paths);
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_5capnp_3lib_5capnp_9_Importer___init__(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_additional_paths) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__init__", 0);
-
-  /* "capnp/lib/capnp.pyx":4323
- * class _Importer:
- *     def __init__(self, additional_paths):
- *         self.extension = '.capnp'             # <<<<<<<<<<<<<<
- *         self.additional_paths = additional_paths
- * 
- */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_extension, __pyx_kp_s_capnp) < 0) __PYX_ERR(0, 4323, __pyx_L1_error)
-
-  /* "capnp/lib/capnp.pyx":4324
- *     def __init__(self, additional_paths):
- *         self.extension = '.capnp'
- *         self.additional_paths = additional_paths             # <<<<<<<<<<<<<<
- * 
- *     def find_spec(self, fullname, package_path, target=None):
- */
-  if (__Pyx_PyObject_SetAttrStr(__pyx_v_self, __pyx_n_s_additional_paths, __pyx_v_additional_paths) < 0) __PYX_ERR(0, 4324, __pyx_L1_error)
-
-  /* "capnp/lib/capnp.pyx":4322
- * 
- * class _Importer:
- *     def __init__(self, additional_paths):             # <<<<<<<<<<<<<<
- *         self.extension = '.capnp'
- *         self.additional_paths = additional_paths
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_AddTraceback("capnp.lib.capnp._Importer.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "capnp/lib/capnp.pyx":4326
- *         self.additional_paths = additional_paths
  * 
  *     def find_spec(self, fullname, package_path, target=None):             # <<<<<<<<<<<<<<
  *         if fullname in _sys.modules: # Don't allow re-imports
  *             return None
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_5capnp_3lib_5capnp_9_Importer_3find_spec(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_5capnp_3lib_5capnp_9_Importer_2find_spec[] = "_Importer.find_spec(self, fullname, package_path, target=None)";
-static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_9_Importer_3find_spec = {"find_spec", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_5capnp_3lib_5capnp_9_Importer_3find_spec, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5capnp_3lib_5capnp_9_Importer_2find_spec};
-static PyObject *__pyx_pw_5capnp_3lib_5capnp_9_Importer_3find_spec(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v_self = 0;
+static PyObject *__pyx_pw_5capnp_3lib_5capnp_9_Importer_1find_spec(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
+static char __pyx_doc_5capnp_3lib_5capnp_9_Importer_find_spec[] = "_Importer.find_spec(self, fullname, package_path, target=None)";
+static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_9_Importer_1find_spec = {"find_spec", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_5capnp_3lib_5capnp_9_Importer_1find_spec, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5capnp_3lib_5capnp_9_Importer_find_spec};
+static PyObject *__pyx_pw_5capnp_3lib_5capnp_9_Importer_1find_spec(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
+  CYTHON_UNUSED PyObject *__pyx_v_self = 0;
   PyObject *__pyx_v_fullname = 0;
   PyObject *__pyx_v_package_path = 0;
   CYTHON_UNUSED PyObject *__pyx_v_target = 0;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   PyObject *__pyx_r = 0;
@@ -88652,31 +89649,31 @@
         case  0:
         if (likely((values[0] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_self)) != 0)) kw_args--;
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_fullname)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("find_spec", 0, 3, 4, 1); __PYX_ERR(0, 4326, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("find_spec", 0, 3, 4, 1); __PYX_ERR(0, 4415, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_package_path)) != 0)) kw_args--;
         else {
-          __Pyx_RaiseArgtupleInvalid("find_spec", 0, 3, 4, 2); __PYX_ERR(0, 4326, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("find_spec", 0, 3, 4, 2); __PYX_ERR(0, 4415, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  3:
         if (kw_args > 0) {
           PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_target);
           if (value) { values[3] = value; kw_args--; }
         }
       }
       if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "find_spec") < 0)) __PYX_ERR(0, 4326, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "find_spec") < 0)) __PYX_ERR(0, 4415, __pyx_L3_error)
       }
     } else {
       switch (PyTuple_GET_SIZE(__pyx_args)) {
         case  4: values[3] = PyTuple_GET_ITEM(__pyx_args, 3);
         CYTHON_FALLTHROUGH;
         case  3: values[2] = PyTuple_GET_ITEM(__pyx_args, 2);
         values[1] = PyTuple_GET_ITEM(__pyx_args, 1);
@@ -88688,1889 +89685,1092 @@
     __pyx_v_self = values[0];
     __pyx_v_fullname = values[1];
     __pyx_v_package_path = values[2];
     __pyx_v_target = values[3];
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("find_spec", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4326, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("find_spec", 0, 3, 4, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4415, __pyx_L3_error)
   __pyx_L3_error:;
   __Pyx_AddTraceback("capnp.lib.capnp._Importer.find_spec", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_5capnp_3lib_5capnp_9_Importer_2find_spec(__pyx_self, __pyx_v_self, __pyx_v_fullname, __pyx_v_package_path, __pyx_v_target);
+  __pyx_r = __pyx_pf_5capnp_3lib_5capnp_9_Importer_find_spec(__pyx_self, __pyx_v_self, __pyx_v_fullname, __pyx_v_package_path, __pyx_v_target);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_5capnp_3lib_5capnp_9_Importer_2find_spec(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_fullname, PyObject *__pyx_v_package_path, CYTHON_UNUSED PyObject *__pyx_v_target) {
+static PyObject *__pyx_pf_5capnp_3lib_5capnp_9_Importer_find_spec(CYTHON_UNUSED PyObject *__pyx_self, CYTHON_UNUSED PyObject *__pyx_v_self, PyObject *__pyx_v_fullname, PyObject *__pyx_v_package_path, CYTHON_UNUSED PyObject *__pyx_v_target) {
   PyObject *__pyx_v_mod_parts = NULL;
   PyObject *__pyx_v_module_name = NULL;
   PyObject *__pyx_v_capnp_module_name = NULL;
-  int __pyx_v_has_underscores;
-  PyObject *__pyx_v_capnp_module_name_dashes = NULL;
-  PyObject *__pyx_v_capnp_module_name_spaces = NULL;
+  PyObject *__pyx_v_capnp_module_names = NULL;
   PyObject *__pyx_v_paths = NULL;
-  PyObject *__pyx_v_join_path = NULL;
-  PyObject *__pyx_v_is_file = NULL;
-  PyObject *__pyx_v_is_abs = NULL;
-  PyObject *__pyx_v_abspath = NULL;
-  PyObject *__pyx_v_sep = NULL;
   PyObject *__pyx_v_path = NULL;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_t_3;
   int __pyx_t_4;
   PyObject *__pyx_t_5 = NULL;
   Py_ssize_t __pyx_t_6;
-  PyObject *(*__pyx_t_7)(PyObject *);
-  PyObject *__pyx_t_8 = NULL;
+  int __pyx_t_7;
+  PyObject *(*__pyx_t_8)(PyObject *);
   PyObject *__pyx_t_9 = NULL;
-  PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
-  PyObject *__pyx_t_12 = NULL;
+  Py_ssize_t __pyx_t_10;
+  Py_ssize_t __pyx_t_11;
+  int __pyx_t_12;
   int __pyx_t_13;
   PyObject *__pyx_t_14 = NULL;
+  PyObject *__pyx_t_15 = NULL;
+  PyObject *__pyx_t_16 = NULL;
+  PyObject *__pyx_t_17 = NULL;
+  PyObject *__pyx_t_18 = NULL;
+  PyObject *__pyx_t_19 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("find_spec", 0);
 
-  /* "capnp/lib/capnp.pyx":4327
+  /* "capnp/lib/capnp.pyx":4416
  * 
  *     def find_spec(self, fullname, package_path, target=None):
  *         if fullname in _sys.modules: # Don't allow re-imports             # <<<<<<<<<<<<<<
  *             return None
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_sys); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4327, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_sys); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4416, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_modules); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4327, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_modules); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4416, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_3 = (__Pyx_PySequence_ContainsTF(__pyx_v_fullname, __pyx_t_2, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4327, __pyx_L1_error)
+  __pyx_t_3 = (__Pyx_PySequence_ContainsTF(__pyx_v_fullname, __pyx_t_2, Py_EQ)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4416, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_4 = (__pyx_t_3 != 0);
   if (__pyx_t_4) {
 
-    /* "capnp/lib/capnp.pyx":4328
+    /* "capnp/lib/capnp.pyx":4417
  *     def find_spec(self, fullname, package_path, target=None):
  *         if fullname in _sys.modules: # Don't allow re-imports
  *             return None             # <<<<<<<<<<<<<<
  * 
  *         if '.' in fullname: # only when package_path anyway?
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":4327
+    /* "capnp/lib/capnp.pyx":4416
  * 
  *     def find_spec(self, fullname, package_path, target=None):
  *         if fullname in _sys.modules: # Don't allow re-imports             # <<<<<<<<<<<<<<
  *             return None
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4330
+  /* "capnp/lib/capnp.pyx":4419
  *             return None
  * 
  *         if '.' in fullname: # only when package_path anyway?             # <<<<<<<<<<<<<<
  *             mod_parts = fullname.split('.')
  *             module_name = mod_parts[-1]
  */
-  __pyx_t_4 = (__Pyx_PySequence_ContainsTF(__pyx_kp_s__150, __pyx_v_fullname, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 4330, __pyx_L1_error)
+  __pyx_t_4 = (__Pyx_PySequence_ContainsTF(__pyx_kp_s__152, __pyx_v_fullname, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 4419, __pyx_L1_error)
   __pyx_t_3 = (__pyx_t_4 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":4331
+    /* "capnp/lib/capnp.pyx":4420
  * 
  *         if '.' in fullname: # only when package_path anyway?
  *             mod_parts = fullname.split('.')             # <<<<<<<<<<<<<<
  *             module_name = mod_parts[-1]
  *         else:
  */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_fullname, __pyx_n_s_split); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4331, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_fullname, __pyx_n_s_split); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4420, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_5 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_1, function);
       }
     }
-    __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_5, __pyx_kp_s__150) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_kp_s__150);
+    __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_5, __pyx_kp_s__152) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_kp_s__152);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4331, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4420, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_v_mod_parts = __pyx_t_2;
     __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":4332
+    /* "capnp/lib/capnp.pyx":4421
  *         if '.' in fullname: # only when package_path anyway?
  *             mod_parts = fullname.split('.')
  *             module_name = mod_parts[-1]             # <<<<<<<<<<<<<<
  *         else:
  *             module_name = fullname
  */
-    __pyx_t_2 = __Pyx_GetItemInt(__pyx_v_mod_parts, -1L, long, 1, __Pyx_PyInt_From_long, 0, 1, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4332, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_GetItemInt(__pyx_v_mod_parts, -1L, long, 1, __Pyx_PyInt_From_long, 0, 1, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4421, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_v_module_name = __pyx_t_2;
     __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":4330
+    /* "capnp/lib/capnp.pyx":4419
  *             return None
  * 
  *         if '.' in fullname: # only when package_path anyway?             # <<<<<<<<<<<<<<
  *             mod_parts = fullname.split('.')
  *             module_name = mod_parts[-1]
  */
     goto __pyx_L4;
   }
 
-  /* "capnp/lib/capnp.pyx":4334
+  /* "capnp/lib/capnp.pyx":4423
  *             module_name = mod_parts[-1]
  *         else:
  *             module_name = fullname             # <<<<<<<<<<<<<<
  * 
  *         if not module_name.endswith('_capnp'):
  */
   /*else*/ {
     __Pyx_INCREF(__pyx_v_fullname);
     __pyx_v_module_name = __pyx_v_fullname;
   }
   __pyx_L4:;
 
-  /* "capnp/lib/capnp.pyx":4336
+  /* "capnp/lib/capnp.pyx":4425
  *             module_name = fullname
  * 
  *         if not module_name.endswith('_capnp'):             # <<<<<<<<<<<<<<
  *             return None
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_module_name, __pyx_n_s_endswith); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4336, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_module_name, __pyx_n_s_endswith); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4425, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_5 = NULL;
   if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
     if (likely(__pyx_t_5)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
       __Pyx_INCREF(__pyx_t_5);
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_1, function);
     }
   }
   __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_5, __pyx_n_s_capnp_2) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_n_s_capnp_2);
   __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4336, __pyx_L1_error)
+  if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4425, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4336, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4425, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_4 = ((!__pyx_t_3) != 0);
   if (__pyx_t_4) {
 
-    /* "capnp/lib/capnp.pyx":4337
+    /* "capnp/lib/capnp.pyx":4426
  * 
  *         if not module_name.endswith('_capnp'):
  *             return None             # <<<<<<<<<<<<<<
  * 
  *         module_name = module_name[:-len('_capnp')]
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "capnp/lib/capnp.pyx":4336
+    /* "capnp/lib/capnp.pyx":4425
  *             module_name = fullname
  * 
  *         if not module_name.endswith('_capnp'):             # <<<<<<<<<<<<<<
  *             return None
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4339
+  /* "capnp/lib/capnp.pyx":4428
  *             return None
  * 
  *         module_name = module_name[:-len('_capnp')]             # <<<<<<<<<<<<<<
- *         capnp_module_name = module_name + self.extension
- *         has_underscores = False
+ *         capnp_module_name = module_name + '.capnp'
+ * 
  */
-  __pyx_t_6 = PyObject_Length(__pyx_n_s_capnp_2); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4339, __pyx_L1_error)
-  __pyx_t_2 = __Pyx_PyObject_GetSlice(__pyx_v_module_name, 0, (-__pyx_t_6), NULL, NULL, NULL, 0, 1, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4339, __pyx_L1_error)
+  __pyx_t_6 = PyObject_Length(__pyx_n_s_capnp_2); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 4428, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetSlice(__pyx_v_module_name, 0, (-__pyx_t_6), NULL, NULL, NULL, 0, 1, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4428, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF_SET(__pyx_v_module_name, __pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4340
+  /* "capnp/lib/capnp.pyx":4429
  * 
  *         module_name = module_name[:-len('_capnp')]
- *         capnp_module_name = module_name + self.extension             # <<<<<<<<<<<<<<
- *         has_underscores = False
+ *         capnp_module_name = module_name + '.capnp'             # <<<<<<<<<<<<<<
  * 
+ *         capnp_module_names = set()
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_extension); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4340, __pyx_L1_error)
+  __pyx_t_2 = PyNumber_Add(__pyx_v_module_name, __pyx_kp_s_capnp); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4429, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = PyNumber_Add(__pyx_v_module_name, __pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4340, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_v_capnp_module_name = __pyx_t_1;
-  __pyx_t_1 = 0;
+  __pyx_v_capnp_module_name = __pyx_t_2;
+  __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4341
- *         module_name = module_name[:-len('_capnp')]
- *         capnp_module_name = module_name + self.extension
- *         has_underscores = False             # <<<<<<<<<<<<<<
+  /* "capnp/lib/capnp.pyx":4431
+ *         capnp_module_name = module_name + '.capnp'
  * 
+ *         capnp_module_names = set()             # <<<<<<<<<<<<<<
+ *         capnp_module_names.add(capnp_module_name)
  *         if '_' in capnp_module_name:
  */
-  __pyx_v_has_underscores = 0;
+  __pyx_t_2 = PySet_New(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4431, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_v_capnp_module_names = ((PyObject*)__pyx_t_2);
+  __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4343
- *         has_underscores = False
+  /* "capnp/lib/capnp.pyx":4432
  * 
+ *         capnp_module_names = set()
+ *         capnp_module_names.add(capnp_module_name)             # <<<<<<<<<<<<<<
+ *         if '_' in capnp_module_name:
+ *             capnp_module_names.add(capnp_module_name.replace('_', '-'))
+ */
+  __pyx_t_7 = PySet_Add(__pyx_v_capnp_module_names, __pyx_v_capnp_module_name); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 4432, __pyx_L1_error)
+
+  /* "capnp/lib/capnp.pyx":4433
+ *         capnp_module_names = set()
+ *         capnp_module_names.add(capnp_module_name)
  *         if '_' in capnp_module_name:             # <<<<<<<<<<<<<<
- *             capnp_module_name_dashes = capnp_module_name.replace('_', '-')
- *             capnp_module_name_spaces = capnp_module_name.replace('_', ' ')
+ *             capnp_module_names.add(capnp_module_name.replace('_', '-'))
+ *             capnp_module_names.add(capnp_module_name.replace('_', ' '))
  */
-  __pyx_t_4 = (__Pyx_PySequence_ContainsTF(__pyx_n_s__151, __pyx_v_capnp_module_name, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 4343, __pyx_L1_error)
+  __pyx_t_4 = (__Pyx_PySequence_ContainsTF(__pyx_n_s__153, __pyx_v_capnp_module_name, Py_EQ)); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 4433, __pyx_L1_error)
   __pyx_t_3 = (__pyx_t_4 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":4344
- * 
+    /* "capnp/lib/capnp.pyx":4434
+ *         capnp_module_names.add(capnp_module_name)
  *         if '_' in capnp_module_name:
- *             capnp_module_name_dashes = capnp_module_name.replace('_', '-')             # <<<<<<<<<<<<<<
- *             capnp_module_name_spaces = capnp_module_name.replace('_', ' ')
- *             has_underscores = True
- */
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_capnp_module_name, __pyx_n_s_replace); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4344, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__153, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4344, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_v_capnp_module_name_dashes = __pyx_t_2;
-    __pyx_t_2 = 0;
-
-    /* "capnp/lib/capnp.pyx":4345
- *         if '_' in capnp_module_name:
- *             capnp_module_name_dashes = capnp_module_name.replace('_', '-')
- *             capnp_module_name_spaces = capnp_module_name.replace('_', ' ')             # <<<<<<<<<<<<<<
- *             has_underscores = True
+ *             capnp_module_names.add(capnp_module_name.replace('_', '-'))             # <<<<<<<<<<<<<<
+ *             capnp_module_names.add(capnp_module_name.replace('_', ' '))
  * 
  */
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_capnp_module_name, __pyx_n_s_replace); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4345, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_capnp_module_name, __pyx_n_s_replace); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4434, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__155, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4345, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__155, NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4434, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_v_capnp_module_name_spaces = __pyx_t_1;
-    __pyx_t_1 = 0;
+    __pyx_t_7 = PySet_Add(__pyx_v_capnp_module_names, __pyx_t_1); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 4434, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":4346
- *             capnp_module_name_dashes = capnp_module_name.replace('_', '-')
- *             capnp_module_name_spaces = capnp_module_name.replace('_', ' ')
- *             has_underscores = True             # <<<<<<<<<<<<<<
+    /* "capnp/lib/capnp.pyx":4435
+ *         if '_' in capnp_module_name:
+ *             capnp_module_names.add(capnp_module_name.replace('_', '-'))
+ *             capnp_module_names.add(capnp_module_name.replace('_', ' '))             # <<<<<<<<<<<<<<
  * 
  *         if package_path:
  */
-    __pyx_v_has_underscores = 1;
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_capnp_module_name, __pyx_n_s_replace); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4435, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_tuple__157, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4435, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __pyx_t_7 = PySet_Add(__pyx_v_capnp_module_names, __pyx_t_2); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 4435, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":4343
- *         has_underscores = False
- * 
+    /* "capnp/lib/capnp.pyx":4433
+ *         capnp_module_names = set()
+ *         capnp_module_names.add(capnp_module_name)
  *         if '_' in capnp_module_name:             # <<<<<<<<<<<<<<
- *             capnp_module_name_dashes = capnp_module_name.replace('_', '-')
- *             capnp_module_name_spaces = capnp_module_name.replace('_', ' ')
+ *             capnp_module_names.add(capnp_module_name.replace('_', '-'))
+ *             capnp_module_names.add(capnp_module_name.replace('_', ' '))
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4348
- *             has_underscores = True
+  /* "capnp/lib/capnp.pyx":4437
+ *             capnp_module_names.add(capnp_module_name.replace('_', ' '))
  * 
  *         if package_path:             # <<<<<<<<<<<<<<
  *             paths = list(package_path)
  *         else:
  */
-  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_package_path); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4348, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_package_path); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4437, __pyx_L1_error)
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":4349
+    /* "capnp/lib/capnp.pyx":4438
  * 
  *         if package_path:
  *             paths = list(package_path)             # <<<<<<<<<<<<<<
  *         else:
  *             paths = _sys.path
  */
-    __pyx_t_1 = PySequence_List(__pyx_v_package_path); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4349, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_v_paths = __pyx_t_1;
-    __pyx_t_1 = 0;
+    __pyx_t_2 = PySequence_List(__pyx_v_package_path); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4438, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __pyx_v_paths = __pyx_t_2;
+    __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":4348
- *             has_underscores = True
+    /* "capnp/lib/capnp.pyx":4437
+ *             capnp_module_names.add(capnp_module_name.replace('_', ' '))
  * 
  *         if package_path:             # <<<<<<<<<<<<<<
  *             paths = list(package_path)
  *         else:
  */
     goto __pyx_L7;
   }
 
-  /* "capnp/lib/capnp.pyx":4351
+  /* "capnp/lib/capnp.pyx":4440
  *             paths = list(package_path)
  *         else:
  *             paths = _sys.path             # <<<<<<<<<<<<<<
- *         join_path = _os.path.join
- *         is_file = _os.path.isfile
+ * 
+ *         # Special case for the 'capnp' namespace, which can be resolved to system paths
  */
   /*else*/ {
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_sys); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4351, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_path); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4351, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_sys); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4440, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_v_paths = __pyx_t_2;
-    __pyx_t_2 = 0;
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4440, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_v_paths = __pyx_t_1;
+    __pyx_t_1 = 0;
   }
   __pyx_L7:;
 
-  /* "capnp/lib/capnp.pyx":4352
- *         else:
- *             paths = _sys.path
- *         join_path = _os.path.join             # <<<<<<<<<<<<<<
- *         is_file = _os.path.isfile
- *         is_abs = _os.path.isabs
- */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4352, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4352, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_join); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4352, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_v_join_path = __pyx_t_2;
-  __pyx_t_2 = 0;
-
-  /* "capnp/lib/capnp.pyx":4353
- *             paths = _sys.path
- *         join_path = _os.path.join
- *         is_file = _os.path.isfile             # <<<<<<<<<<<<<<
- *         is_abs = _os.path.isabs
- *         abspath = _os.path.abspath
- */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4353, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4353, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_isfile); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4353, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_v_is_file = __pyx_t_2;
-  __pyx_t_2 = 0;
-
-  /* "capnp/lib/capnp.pyx":4354
- *         join_path = _os.path.join
- *         is_file = _os.path.isfile
- *         is_abs = _os.path.isabs             # <<<<<<<<<<<<<<
- *         abspath = _os.path.abspath
- *         #is_dir = os.path.isdir
- */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4354, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4354, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_isabs); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4354, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_v_is_abs = __pyx_t_2;
-  __pyx_t_2 = 0;
-
-  /* "capnp/lib/capnp.pyx":4355
- *         is_file = _os.path.isfile
- *         is_abs = _os.path.isabs
- *         abspath = _os.path.abspath             # <<<<<<<<<<<<<<
- *         #is_dir = os.path.isdir
- *         sep = _os.path.sep
+  /* "capnp/lib/capnp.pyx":4443
+ * 
+ *         # Special case for the 'capnp' namespace, which can be resolved to system paths
+ *         if fullname.startswith('capnp.'):             # <<<<<<<<<<<<<<
+ *             paths += [path + '/capnp' for path in _capnp_paths]
+ * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4355, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_fullname, __pyx_n_s_startswith); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4443, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4355, __pyx_L1_error)
+  __pyx_t_5 = NULL;
+  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
+    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_2);
+    if (likely(__pyx_t_5)) {
+      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
+      __Pyx_INCREF(__pyx_t_5);
+      __Pyx_INCREF(function);
+      __Pyx_DECREF_SET(__pyx_t_2, function);
+    }
+  }
+  __pyx_t_1 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_5, __pyx_kp_s_capnp_3) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_kp_s_capnp_3);
+  __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4443, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_abspath); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4355, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
+  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4443, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_v_abspath = __pyx_t_2;
-  __pyx_t_2 = 0;
+  if (__pyx_t_3) {
 
-  /* "capnp/lib/capnp.pyx":4357
- *         abspath = _os.path.abspath
- *         #is_dir = os.path.isdir
- *         sep = _os.path.sep             # <<<<<<<<<<<<<<
+    /* "capnp/lib/capnp.pyx":4444
+ *         # Special case for the 'capnp' namespace, which can be resolved to system paths
+ *         if fullname.startswith('capnp.'):
+ *             paths += [path + '/capnp' for path in _capnp_paths]             # <<<<<<<<<<<<<<
  * 
- *         paths = self.additional_paths + paths
+ *         for path in paths:
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4357, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4357, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_sep); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4357, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_v_sep = __pyx_t_2;
-  __pyx_t_2 = 0;
+    __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4444, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_capnp_paths); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4444, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    if (likely(PyList_CheckExact(__pyx_t_2)) || PyTuple_CheckExact(__pyx_t_2)) {
+      __pyx_t_5 = __pyx_t_2; __Pyx_INCREF(__pyx_t_5); __pyx_t_6 = 0;
+      __pyx_t_8 = NULL;
+    } else {
+      __pyx_t_6 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4444, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_5);
+      __pyx_t_8 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4444, __pyx_L1_error)
+    }
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    for (;;) {
+      if (likely(!__pyx_t_8)) {
+        if (likely(PyList_CheckExact(__pyx_t_5))) {
+          if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_5)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_2 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 4444, __pyx_L1_error)
+          #else
+          __pyx_t_2 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4444, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_2);
+          #endif
+        } else {
+          if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
+          #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+          __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 4444, __pyx_L1_error)
+          #else
+          __pyx_t_2 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4444, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_2);
+          #endif
+        }
+      } else {
+        __pyx_t_2 = __pyx_t_8(__pyx_t_5);
+        if (unlikely(!__pyx_t_2)) {
+          PyObject* exc_type = PyErr_Occurred();
+          if (exc_type) {
+            if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
+            else __PYX_ERR(0, 4444, __pyx_L1_error)
+          }
+          break;
+        }
+        __Pyx_GOTREF(__pyx_t_2);
+      }
+      __Pyx_XDECREF_SET(__pyx_v_path, __pyx_t_2);
+      __pyx_t_2 = 0;
+      __pyx_t_2 = PyNumber_Add(__pyx_v_path, __pyx_kp_s_capnp_4); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4444, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_2);
+      if (unlikely(__Pyx_ListComp_Append(__pyx_t_1, (PyObject*)__pyx_t_2))) __PYX_ERR(0, 4444, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    }
+    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
+    __pyx_t_5 = PyNumber_InPlaceAdd(__pyx_v_paths, __pyx_t_1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4444, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_5);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __Pyx_DECREF_SET(__pyx_v_paths, __pyx_t_5);
+    __pyx_t_5 = 0;
 
-  /* "capnp/lib/capnp.pyx":4359
- *         sep = _os.path.sep
+    /* "capnp/lib/capnp.pyx":4443
+ * 
+ *         # Special case for the 'capnp' namespace, which can be resolved to system paths
+ *         if fullname.startswith('capnp.'):             # <<<<<<<<<<<<<<
+ *             paths += [path + '/capnp' for path in _capnp_paths]
  * 
- *         paths = self.additional_paths + paths             # <<<<<<<<<<<<<<
- *         for path in paths:
- *             if not path:
  */
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_additional_paths); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4359, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = PyNumber_Add(__pyx_t_2, __pyx_v_paths); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4359, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_DECREF_SET(__pyx_v_paths, __pyx_t_1);
-  __pyx_t_1 = 0;
+  }
 
-  /* "capnp/lib/capnp.pyx":4360
+  /* "capnp/lib/capnp.pyx":4446
+ *             paths += [path + '/capnp' for path in _capnp_paths]
  * 
- *         paths = self.additional_paths + paths
  *         for path in paths:             # <<<<<<<<<<<<<<
  *             if not path:
  *                 path = _os.getcwd()
  */
   if (likely(PyList_CheckExact(__pyx_v_paths)) || PyTuple_CheckExact(__pyx_v_paths)) {
-    __pyx_t_1 = __pyx_v_paths; __Pyx_INCREF(__pyx_t_1); __pyx_t_6 = 0;
-    __pyx_t_7 = NULL;
+    __pyx_t_5 = __pyx_v_paths; __Pyx_INCREF(__pyx_t_5); __pyx_t_6 = 0;
+    __pyx_t_8 = NULL;
   } else {
-    __pyx_t_6 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_paths); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4360, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_7 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 4360, __pyx_L1_error)
+    __pyx_t_6 = -1; __pyx_t_5 = PyObject_GetIter(__pyx_v_paths); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4446, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_5);
+    __pyx_t_8 = Py_TYPE(__pyx_t_5)->tp_iternext; if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4446, __pyx_L1_error)
   }
   for (;;) {
-    if (likely(!__pyx_t_7)) {
-      if (likely(PyList_CheckExact(__pyx_t_1))) {
-        if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_1)) break;
+    if (likely(!__pyx_t_8)) {
+      if (likely(PyList_CheckExact(__pyx_t_5))) {
+        if (__pyx_t_6 >= PyList_GET_SIZE(__pyx_t_5)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 4360, __pyx_L1_error)
+        __pyx_t_1 = PyList_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 4446, __pyx_L1_error)
         #else
-        __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4360, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_2);
+        __pyx_t_1 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4446, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_1);
         #endif
       } else {
-        if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
+        if (__pyx_t_6 >= PyTuple_GET_SIZE(__pyx_t_5)) break;
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_6); __Pyx_INCREF(__pyx_t_2); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 4360, __pyx_L1_error)
+        __pyx_t_1 = PyTuple_GET_ITEM(__pyx_t_5, __pyx_t_6); __Pyx_INCREF(__pyx_t_1); __pyx_t_6++; if (unlikely(0 < 0)) __PYX_ERR(0, 4446, __pyx_L1_error)
         #else
-        __pyx_t_2 = PySequence_ITEM(__pyx_t_1, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4360, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_2);
+        __pyx_t_1 = PySequence_ITEM(__pyx_t_5, __pyx_t_6); __pyx_t_6++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4446, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_1);
         #endif
       }
     } else {
-      __pyx_t_2 = __pyx_t_7(__pyx_t_1);
-      if (unlikely(!__pyx_t_2)) {
+      __pyx_t_1 = __pyx_t_8(__pyx_t_5);
+      if (unlikely(!__pyx_t_1)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 4360, __pyx_L1_error)
+          else __PYX_ERR(0, 4446, __pyx_L1_error)
         }
         break;
       }
-      __Pyx_GOTREF(__pyx_t_2);
+      __Pyx_GOTREF(__pyx_t_1);
     }
-    __Pyx_XDECREF_SET(__pyx_v_path, __pyx_t_2);
-    __pyx_t_2 = 0;
+    __Pyx_XDECREF_SET(__pyx_v_path, __pyx_t_1);
+    __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":4361
- *         paths = self.additional_paths + paths
+    /* "capnp/lib/capnp.pyx":4447
+ * 
  *         for path in paths:
  *             if not path:             # <<<<<<<<<<<<<<
  *                 path = _os.getcwd()
- *             elif not is_abs(path):
+ *             elif not _os.path.isabs(path):
  */
-    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_path); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4361, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_path); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4447, __pyx_L1_error)
     __pyx_t_4 = ((!__pyx_t_3) != 0);
     if (__pyx_t_4) {
 
-      /* "capnp/lib/capnp.pyx":4362
+      /* "capnp/lib/capnp.pyx":4448
  *         for path in paths:
  *             if not path:
  *                 path = _os.getcwd()             # <<<<<<<<<<<<<<
- *             elif not is_abs(path):
- *                 path = abspath(path)
+ *             elif not _os.path.isabs(path):
+ *                 path = _os.path.abspath(path)
  */
-      __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_os); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4362, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_5);
-      __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_getcwd); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4362, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_8);
-      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __pyx_t_5 = NULL;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_8))) {
-        __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_8);
-        if (likely(__pyx_t_5)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-          __Pyx_INCREF(__pyx_t_5);
+      __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4448, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_2);
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_getcwd); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4448, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_9);
+      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+      __pyx_t_2 = NULL;
+      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_9))) {
+        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_9);
+        if (likely(__pyx_t_2)) {
+          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
+          __Pyx_INCREF(__pyx_t_2);
           __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_8, function);
+          __Pyx_DECREF_SET(__pyx_t_9, function);
         }
       }
-      __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_8);
-      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4362, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_2);
-      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __Pyx_DECREF_SET(__pyx_v_path, __pyx_t_2);
-      __pyx_t_2 = 0;
+      __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_t_2) : __Pyx_PyObject_CallNoArg(__pyx_t_9);
+      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4448, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_1);
+      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
+      __Pyx_DECREF_SET(__pyx_v_path, __pyx_t_1);
+      __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":4361
- *         paths = self.additional_paths + paths
+      /* "capnp/lib/capnp.pyx":4447
+ * 
  *         for path in paths:
  *             if not path:             # <<<<<<<<<<<<<<
  *                 path = _os.getcwd()
- *             elif not is_abs(path):
+ *             elif not _os.path.isabs(path):
  */
-      goto __pyx_L10;
+      goto __pyx_L13;
     }
 
-    /* "capnp/lib/capnp.pyx":4363
+    /* "capnp/lib/capnp.pyx":4449
  *             if not path:
  *                 path = _os.getcwd()
- *             elif not is_abs(path):             # <<<<<<<<<<<<<<
- *                 path = abspath(path)
+ *             elif not _os.path.isabs(path):             # <<<<<<<<<<<<<<
+ *                 path = _os.path.abspath(path)
  * 
  */
-    __Pyx_INCREF(__pyx_v_is_abs);
-    __pyx_t_8 = __pyx_v_is_abs; __pyx_t_5 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
-      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_8);
-      if (likely(__pyx_t_5)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-        __Pyx_INCREF(__pyx_t_5);
+    __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_os); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4449, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_9);
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_9, __pyx_n_s_path); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4449, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
+    __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_isabs); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4449, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_9);
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_t_2 = NULL;
+    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_9))) {
+      __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_9);
+      if (likely(__pyx_t_2)) {
+        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
+        __Pyx_INCREF(__pyx_t_2);
         __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_8, function);
+        __Pyx_DECREF_SET(__pyx_t_9, function);
       }
     }
-    __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_5, __pyx_v_path) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_v_path);
-    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4363, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 4363, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_9, __pyx_t_2, __pyx_v_path) : __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_v_path);
+    __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4449, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
+    __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_4 < 0)) __PYX_ERR(0, 4449, __pyx_L1_error)
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __pyx_t_3 = ((!__pyx_t_4) != 0);
     if (__pyx_t_3) {
 
-      /* "capnp/lib/capnp.pyx":4364
+      /* "capnp/lib/capnp.pyx":4450
  *                 path = _os.getcwd()
- *             elif not is_abs(path):
- *                 path = abspath(path)             # <<<<<<<<<<<<<<
+ *             elif not _os.path.isabs(path):
+ *                 path = _os.path.abspath(path)             # <<<<<<<<<<<<<<
  * 
- *             if is_file(path+sep+capnp_module_name):
+ *             for capnp_module_name in capnp_module_names:
  */
-      __Pyx_INCREF(__pyx_v_abspath);
-      __pyx_t_8 = __pyx_v_abspath; __pyx_t_5 = NULL;
-      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
-        __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_8);
-        if (likely(__pyx_t_5)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-          __Pyx_INCREF(__pyx_t_5);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_8, function);
-        }
-      }
-      __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_5, __pyx_v_path) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_v_path);
-      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4364, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_os); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4450, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_9);
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_9, __pyx_n_s_path); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4450, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __Pyx_DECREF_SET(__pyx_v_path, __pyx_t_2);
-      __pyx_t_2 = 0;
-
-      /* "capnp/lib/capnp.pyx":4363
- *             if not path:
- *                 path = _os.getcwd()
- *             elif not is_abs(path):             # <<<<<<<<<<<<<<
- *                 path = abspath(path)
- * 
- */
-    }
-    __pyx_L10:;
-
-    /* "capnp/lib/capnp.pyx":4366
- *                 path = abspath(path)
- * 
- *             if is_file(path+sep+capnp_module_name):             # <<<<<<<<<<<<<<
- *                 return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name), self.additional_paths))
- *             if has_underscores:
- */
-    __pyx_t_8 = PyNumber_Add(__pyx_v_path, __pyx_v_sep); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4366, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_8);
-    __pyx_t_5 = PyNumber_Add(__pyx_t_8, __pyx_v_capnp_module_name); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4366, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    __Pyx_INCREF(__pyx_v_is_file);
-    __pyx_t_8 = __pyx_v_is_file; __pyx_t_9 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
-      __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_8);
-      if (likely(__pyx_t_9)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-        __Pyx_INCREF(__pyx_t_9);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_8, function);
-      }
-    }
-    __pyx_t_2 = (__pyx_t_9) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_9, __pyx_t_5) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_5);
-    __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4366, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4366, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    if (__pyx_t_3) {
-
-      /* "capnp/lib/capnp.pyx":4367
- * 
- *             if is_file(path+sep+capnp_module_name):
- *                 return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name), self.additional_paths))             # <<<<<<<<<<<<<<
- *             if has_underscores:
- *                 if is_file(path+sep+capnp_module_name_dashes):
- */
-      __Pyx_XDECREF(__pyx_r);
-      __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_ModuleSpec); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4367, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_8);
-      __Pyx_GetModuleGlobalName(__pyx_t_9, __pyx_n_s_Loader); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4367, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
+      __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_abspath); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4450, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_9);
-      __Pyx_INCREF(__pyx_v_join_path);
-      __pyx_t_11 = __pyx_v_join_path; __pyx_t_12 = NULL;
-      __pyx_t_13 = 0;
-      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_11))) {
-        __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_11);
-        if (likely(__pyx_t_12)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-          __Pyx_INCREF(__pyx_t_12);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_11, function);
-          __pyx_t_13 = 1;
-        }
-      }
-      #if CYTHON_FAST_PYCALL
-      if (PyFunction_Check(__pyx_t_11)) {
-        PyObject *__pyx_temp[3] = {__pyx_t_12, __pyx_v_path, __pyx_v_capnp_module_name};
-        __pyx_t_10 = __Pyx_PyFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-        __Pyx_GOTREF(__pyx_t_10);
-      } else
-      #endif
-      #if CYTHON_FAST_PYCCALL
-      if (__Pyx_PyFastCFunction_Check(__pyx_t_11)) {
-        PyObject *__pyx_temp[3] = {__pyx_t_12, __pyx_v_path, __pyx_v_capnp_module_name};
-        __pyx_t_10 = __Pyx_PyCFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-        __Pyx_GOTREF(__pyx_t_10);
-      } else
-      #endif
-      {
-        __pyx_t_14 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_14);
-        if (__pyx_t_12) {
-          __Pyx_GIVEREF(__pyx_t_12); PyTuple_SET_ITEM(__pyx_t_14, 0, __pyx_t_12); __pyx_t_12 = NULL;
-        }
-        __Pyx_INCREF(__pyx_v_path);
-        __Pyx_GIVEREF(__pyx_v_path);
-        PyTuple_SET_ITEM(__pyx_t_14, 0+__pyx_t_13, __pyx_v_path);
-        __Pyx_INCREF(__pyx_v_capnp_module_name);
-        __Pyx_GIVEREF(__pyx_v_capnp_module_name);
-        PyTuple_SET_ITEM(__pyx_t_14, 1+__pyx_t_13, __pyx_v_capnp_module_name);
-        __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_t_14, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_10);
-        __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
-      }
-      __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_additional_paths); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 4367, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_11);
-      __pyx_t_14 = NULL;
-      __pyx_t_13 = 0;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_9))) {
-        __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_9);
-        if (likely(__pyx_t_14)) {
+      __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+      __pyx_t_2 = NULL;
+      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_9))) {
+        __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_9);
+        if (likely(__pyx_t_2)) {
           PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_9);
-          __Pyx_INCREF(__pyx_t_14);
+          __Pyx_INCREF(__pyx_t_2);
           __Pyx_INCREF(function);
           __Pyx_DECREF_SET(__pyx_t_9, function);
-          __pyx_t_13 = 1;
-        }
-      }
-      #if CYTHON_FAST_PYCALL
-      if (PyFunction_Check(__pyx_t_9)) {
-        PyObject *__pyx_temp[4] = {__pyx_t_14, __pyx_v_fullname, __pyx_t_10, __pyx_t_11};
-        __pyx_t_5 = __Pyx_PyFunction_FastCall(__pyx_t_9, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
-        __Pyx_GOTREF(__pyx_t_5);
-        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      } else
-      #endif
-      #if CYTHON_FAST_PYCCALL
-      if (__Pyx_PyFastCFunction_Check(__pyx_t_9)) {
-        PyObject *__pyx_temp[4] = {__pyx_t_14, __pyx_v_fullname, __pyx_t_10, __pyx_t_11};
-        __pyx_t_5 = __Pyx_PyCFunction_FastCall(__pyx_t_9, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
-        __Pyx_GOTREF(__pyx_t_5);
-        __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-      } else
-      #endif
-      {
-        __pyx_t_12 = PyTuple_New(3+__pyx_t_13); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_12);
-        if (__pyx_t_14) {
-          __Pyx_GIVEREF(__pyx_t_14); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_14); __pyx_t_14 = NULL;
         }
-        __Pyx_INCREF(__pyx_v_fullname);
-        __Pyx_GIVEREF(__pyx_v_fullname);
-        PyTuple_SET_ITEM(__pyx_t_12, 0+__pyx_t_13, __pyx_v_fullname);
-        __Pyx_GIVEREF(__pyx_t_10);
-        PyTuple_SET_ITEM(__pyx_t_12, 1+__pyx_t_13, __pyx_t_10);
-        __Pyx_GIVEREF(__pyx_t_11);
-        PyTuple_SET_ITEM(__pyx_t_12, 2+__pyx_t_13, __pyx_t_11);
-        __pyx_t_10 = 0;
-        __pyx_t_11 = 0;
-        __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_9, __pyx_t_12, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_5);
-        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
       }
+      __pyx_t_1 = (__pyx_t_2) ? __Pyx_PyObject_Call2Args(__pyx_t_9, __pyx_t_2, __pyx_v_path) : __Pyx_PyObject_CallOneArg(__pyx_t_9, __pyx_v_path);
+      __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4450, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __pyx_t_9 = NULL;
-      __pyx_t_13 = 0;
-      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_8))) {
-        __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_8);
-        if (likely(__pyx_t_9)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-          __Pyx_INCREF(__pyx_t_9);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_8, function);
-          __pyx_t_13 = 1;
-        }
-      }
-      #if CYTHON_FAST_PYCALL
-      if (PyFunction_Check(__pyx_t_8)) {
-        PyObject *__pyx_temp[3] = {__pyx_t_9, __pyx_v_fullname, __pyx_t_5};
-        __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-        __Pyx_GOTREF(__pyx_t_2);
-        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      } else
-      #endif
-      #if CYTHON_FAST_PYCCALL
-      if (__Pyx_PyFastCFunction_Check(__pyx_t_8)) {
-        PyObject *__pyx_temp[3] = {__pyx_t_9, __pyx_v_fullname, __pyx_t_5};
-        __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-        __Pyx_GOTREF(__pyx_t_2);
-        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      } else
-      #endif
-      {
-        __pyx_t_12 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_12);
-        if (__pyx_t_9) {
-          __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_9); __pyx_t_9 = NULL;
-        }
-        __Pyx_INCREF(__pyx_v_fullname);
-        __Pyx_GIVEREF(__pyx_v_fullname);
-        PyTuple_SET_ITEM(__pyx_t_12, 0+__pyx_t_13, __pyx_v_fullname);
-        __Pyx_GIVEREF(__pyx_t_5);
-        PyTuple_SET_ITEM(__pyx_t_12, 1+__pyx_t_13, __pyx_t_5);
-        __pyx_t_5 = 0;
-        __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_12, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4367, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_2);
-        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-      }
-      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __pyx_r = __pyx_t_2;
-      __pyx_t_2 = 0;
-      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-      goto __pyx_L0;
+      __Pyx_DECREF_SET(__pyx_v_path, __pyx_t_1);
+      __pyx_t_1 = 0;
 
-      /* "capnp/lib/capnp.pyx":4366
- *                 path = abspath(path)
+      /* "capnp/lib/capnp.pyx":4449
+ *             if not path:
+ *                 path = _os.getcwd()
+ *             elif not _os.path.isabs(path):             # <<<<<<<<<<<<<<
+ *                 path = _os.path.abspath(path)
  * 
- *             if is_file(path+sep+capnp_module_name):             # <<<<<<<<<<<<<<
- *                 return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name), self.additional_paths))
- *             if has_underscores:
  */
     }
+    __pyx_L13:;
 
-    /* "capnp/lib/capnp.pyx":4368
- *             if is_file(path+sep+capnp_module_name):
- *                 return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name), self.additional_paths))
- *             if has_underscores:             # <<<<<<<<<<<<<<
- *                 if is_file(path+sep+capnp_module_name_dashes):
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))
+    /* "capnp/lib/capnp.pyx":4452
+ *                 path = _os.path.abspath(path)
+ * 
+ *             for capnp_module_name in capnp_module_names:             # <<<<<<<<<<<<<<
+ *                 if _os.path.isfile(path+_os.path.sep+capnp_module_name):
+ *                     return ModuleSpec(fullname, _Loader(fullname, _os.path.join(path, capnp_module_name)))
  */
-    __pyx_t_3 = (__pyx_v_has_underscores != 0);
-    if (__pyx_t_3) {
+    __pyx_t_10 = 0;
+    __pyx_t_9 = __Pyx_set_iterator(__pyx_v_capnp_module_names, 1, (&__pyx_t_11), (&__pyx_t_12)); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4452, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_9);
+    __Pyx_XDECREF(__pyx_t_1);
+    __pyx_t_1 = __pyx_t_9;
+    __pyx_t_9 = 0;
+    while (1) {
+      __pyx_t_13 = __Pyx_set_iter_next(__pyx_t_1, __pyx_t_11, &__pyx_t_10, &__pyx_t_9, __pyx_t_12);
+      if (unlikely(__pyx_t_13 == 0)) break;
+      if (unlikely(__pyx_t_13 == -1)) __PYX_ERR(0, 4452, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_9);
+      __Pyx_DECREF_SET(__pyx_v_capnp_module_name, __pyx_t_9);
+      __pyx_t_9 = 0;
 
-      /* "capnp/lib/capnp.pyx":4369
- *                 return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name), self.additional_paths))
- *             if has_underscores:
- *                 if is_file(path+sep+capnp_module_name_dashes):             # <<<<<<<<<<<<<<
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))
- *                 if is_file(path+sep+capnp_module_name_spaces):
+      /* "capnp/lib/capnp.pyx":4453
+ * 
+ *             for capnp_module_name in capnp_module_names:
+ *                 if _os.path.isfile(path+_os.path.sep+capnp_module_name):             # <<<<<<<<<<<<<<
+ *                     return ModuleSpec(fullname, _Loader(fullname, _os.path.join(path, capnp_module_name)))
+ * 
  */
-      __pyx_t_8 = PyNumber_Add(__pyx_v_path, __pyx_v_sep); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4369, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_8);
-      if (unlikely(!__pyx_v_capnp_module_name_dashes)) { __Pyx_RaiseUnboundLocalError("capnp_module_name_dashes"); __PYX_ERR(0, 4369, __pyx_L1_error) }
-      __pyx_t_12 = PyNumber_Add(__pyx_t_8, __pyx_v_capnp_module_name_dashes); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4369, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_12);
-      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __Pyx_INCREF(__pyx_v_is_file);
-      __pyx_t_8 = __pyx_v_is_file; __pyx_t_5 = NULL;
-      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
-        __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_8);
-        if (likely(__pyx_t_5)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-          __Pyx_INCREF(__pyx_t_5);
-          __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_8, function);
-        }
-      }
-      __pyx_t_2 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_5, __pyx_t_12) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_12);
-      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4369, __pyx_L1_error)
+      __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_os); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4453, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4369, __pyx_L1_error)
+      __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_path); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_14);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-      if (__pyx_t_3) {
-
-        /* "capnp/lib/capnp.pyx":4370
- *             if has_underscores:
- *                 if is_file(path+sep+capnp_module_name_dashes):
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))             # <<<<<<<<<<<<<<
- *                 if is_file(path+sep+capnp_module_name_spaces):
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_spaces), self.additional_paths))
- */
-        __Pyx_XDECREF(__pyx_r);
-        __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_ModuleSpec); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4370, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_8);
-        __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_Loader); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4370, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_5);
-        if (unlikely(!__pyx_v_capnp_module_name_dashes)) { __Pyx_RaiseUnboundLocalError("capnp_module_name_dashes"); __PYX_ERR(0, 4370, __pyx_L1_error) }
-        __Pyx_INCREF(__pyx_v_join_path);
-        __pyx_t_11 = __pyx_v_join_path; __pyx_t_10 = NULL;
-        __pyx_t_13 = 0;
-        if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_11))) {
-          __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_11);
-          if (likely(__pyx_t_10)) {
-            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-            __Pyx_INCREF(__pyx_t_10);
-            __Pyx_INCREF(function);
-            __Pyx_DECREF_SET(__pyx_t_11, function);
-            __pyx_t_13 = 1;
-          }
-        }
-        #if CYTHON_FAST_PYCALL
-        if (PyFunction_Check(__pyx_t_11)) {
-          PyObject *__pyx_temp[3] = {__pyx_t_10, __pyx_v_path, __pyx_v_capnp_module_name_dashes};
-          __pyx_t_9 = __Pyx_PyFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-          __Pyx_GOTREF(__pyx_t_9);
-        } else
-        #endif
-        #if CYTHON_FAST_PYCCALL
-        if (__Pyx_PyFastCFunction_Check(__pyx_t_11)) {
-          PyObject *__pyx_temp[3] = {__pyx_t_10, __pyx_v_path, __pyx_v_capnp_module_name_dashes};
-          __pyx_t_9 = __Pyx_PyCFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-          __Pyx_GOTREF(__pyx_t_9);
-        } else
-        #endif
-        {
-          __pyx_t_14 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_14);
-          if (__pyx_t_10) {
-            __Pyx_GIVEREF(__pyx_t_10); PyTuple_SET_ITEM(__pyx_t_14, 0, __pyx_t_10); __pyx_t_10 = NULL;
-          }
-          __Pyx_INCREF(__pyx_v_path);
-          __Pyx_GIVEREF(__pyx_v_path);
-          PyTuple_SET_ITEM(__pyx_t_14, 0+__pyx_t_13, __pyx_v_path);
-          __Pyx_INCREF(__pyx_v_capnp_module_name_dashes);
-          __Pyx_GIVEREF(__pyx_v_capnp_module_name_dashes);
-          PyTuple_SET_ITEM(__pyx_t_14, 1+__pyx_t_13, __pyx_v_capnp_module_name_dashes);
-          __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_t_14, NULL); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_9);
-          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
-        }
-        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-        __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_additional_paths); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 4370, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_11);
-        __pyx_t_14 = NULL;
-        __pyx_t_13 = 0;
-        if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_5))) {
-          __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_5);
-          if (likely(__pyx_t_14)) {
-            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
-            __Pyx_INCREF(__pyx_t_14);
-            __Pyx_INCREF(function);
-            __Pyx_DECREF_SET(__pyx_t_5, function);
-            __pyx_t_13 = 1;
-          }
-        }
-        #if CYTHON_FAST_PYCALL
-        if (PyFunction_Check(__pyx_t_5)) {
-          PyObject *__pyx_temp[4] = {__pyx_t_14, __pyx_v_fullname, __pyx_t_9, __pyx_t_11};
-          __pyx_t_12 = __Pyx_PyFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
-          __Pyx_GOTREF(__pyx_t_12);
-          __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-        } else
-        #endif
-        #if CYTHON_FAST_PYCCALL
-        if (__Pyx_PyFastCFunction_Check(__pyx_t_5)) {
-          PyObject *__pyx_temp[4] = {__pyx_t_14, __pyx_v_fullname, __pyx_t_9, __pyx_t_11};
-          __pyx_t_12 = __Pyx_PyCFunction_FastCall(__pyx_t_5, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
-          __Pyx_GOTREF(__pyx_t_12);
-          __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-        } else
-        #endif
-        {
-          __pyx_t_10 = PyTuple_New(3+__pyx_t_13); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_10);
-          if (__pyx_t_14) {
-            __Pyx_GIVEREF(__pyx_t_14); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_14); __pyx_t_14 = NULL;
-          }
-          __Pyx_INCREF(__pyx_v_fullname);
-          __Pyx_GIVEREF(__pyx_v_fullname);
-          PyTuple_SET_ITEM(__pyx_t_10, 0+__pyx_t_13, __pyx_v_fullname);
-          __Pyx_GIVEREF(__pyx_t_9);
-          PyTuple_SET_ITEM(__pyx_t_10, 1+__pyx_t_13, __pyx_t_9);
-          __Pyx_GIVEREF(__pyx_t_11);
-          PyTuple_SET_ITEM(__pyx_t_10, 2+__pyx_t_13, __pyx_t_11);
-          __pyx_t_9 = 0;
-          __pyx_t_11 = 0;
-          __pyx_t_12 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_t_10, NULL); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_12);
-          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-        }
-        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-        __pyx_t_5 = NULL;
-        __pyx_t_13 = 0;
-        if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_8))) {
-          __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_8);
-          if (likely(__pyx_t_5)) {
-            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-            __Pyx_INCREF(__pyx_t_5);
-            __Pyx_INCREF(function);
-            __Pyx_DECREF_SET(__pyx_t_8, function);
-            __pyx_t_13 = 1;
-          }
-        }
-        #if CYTHON_FAST_PYCALL
-        if (PyFunction_Check(__pyx_t_8)) {
-          PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_v_fullname, __pyx_t_12};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-          __Pyx_GOTREF(__pyx_t_2);
-          __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-        } else
-        #endif
-        #if CYTHON_FAST_PYCCALL
-        if (__Pyx_PyFastCFunction_Check(__pyx_t_8)) {
-          PyObject *__pyx_temp[3] = {__pyx_t_5, __pyx_v_fullname, __pyx_t_12};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-          __Pyx_GOTREF(__pyx_t_2);
-          __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-        } else
-        #endif
-        {
-          __pyx_t_10 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_10);
-          if (__pyx_t_5) {
-            __Pyx_GIVEREF(__pyx_t_5); PyTuple_SET_ITEM(__pyx_t_10, 0, __pyx_t_5); __pyx_t_5 = NULL;
-          }
-          __Pyx_INCREF(__pyx_v_fullname);
-          __Pyx_GIVEREF(__pyx_v_fullname);
-          PyTuple_SET_ITEM(__pyx_t_10, 0+__pyx_t_13, __pyx_v_fullname);
-          __Pyx_GIVEREF(__pyx_t_12);
-          PyTuple_SET_ITEM(__pyx_t_10, 1+__pyx_t_13, __pyx_t_12);
-          __pyx_t_12 = 0;
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_10, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4370, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_2);
-          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-        }
-        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-        __pyx_r = __pyx_t_2;
-        __pyx_t_2 = 0;
-        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-        goto __pyx_L0;
-
-        /* "capnp/lib/capnp.pyx":4369
- *                 return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name), self.additional_paths))
- *             if has_underscores:
- *                 if is_file(path+sep+capnp_module_name_dashes):             # <<<<<<<<<<<<<<
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))
- *                 if is_file(path+sep+capnp_module_name_spaces):
- */
-      }
-
-      /* "capnp/lib/capnp.pyx":4371
- *                 if is_file(path+sep+capnp_module_name_dashes):
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))
- *                 if is_file(path+sep+capnp_module_name_spaces):             # <<<<<<<<<<<<<<
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_spaces), self.additional_paths))
- * 
- */
-      __pyx_t_8 = PyNumber_Add(__pyx_v_path, __pyx_v_sep); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4371, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_8);
-      if (unlikely(!__pyx_v_capnp_module_name_spaces)) { __Pyx_RaiseUnboundLocalError("capnp_module_name_spaces"); __PYX_ERR(0, 4371, __pyx_L1_error) }
-      __pyx_t_10 = PyNumber_Add(__pyx_t_8, __pyx_v_capnp_module_name_spaces); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4371, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_10);
-      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __Pyx_INCREF(__pyx_v_is_file);
-      __pyx_t_8 = __pyx_v_is_file; __pyx_t_12 = NULL;
-      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
-        __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_8);
-        if (likely(__pyx_t_12)) {
-          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-          __Pyx_INCREF(__pyx_t_12);
+      __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_14, __pyx_n_s_isfile); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_2);
+      __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
+      __Pyx_GetModuleGlobalName(__pyx_t_14, __pyx_n_s_os); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_14);
+      __pyx_t_15 = __Pyx_PyObject_GetAttrStr(__pyx_t_14, __pyx_n_s_path); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_15);
+      __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
+      __pyx_t_14 = __Pyx_PyObject_GetAttrStr(__pyx_t_15, __pyx_n_s_sep); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_14);
+      __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
+      __pyx_t_15 = PyNumber_Add(__pyx_v_path, __pyx_t_14); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_15);
+      __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
+      __pyx_t_14 = PyNumber_Add(__pyx_t_15, __pyx_v_capnp_module_name); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_14);
+      __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
+      __pyx_t_15 = NULL;
+      if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_2))) {
+        __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_2);
+        if (likely(__pyx_t_15)) {
+          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
+          __Pyx_INCREF(__pyx_t_15);
           __Pyx_INCREF(function);
-          __Pyx_DECREF_SET(__pyx_t_8, function);
+          __Pyx_DECREF_SET(__pyx_t_2, function);
         }
       }
-      __pyx_t_2 = (__pyx_t_12) ? __Pyx_PyObject_Call2Args(__pyx_t_8, __pyx_t_12, __pyx_t_10) : __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_10);
-      __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-      if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4371, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_2);
-      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-      __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4371, __pyx_L1_error)
+      __pyx_t_9 = (__pyx_t_15) ? __Pyx_PyObject_Call2Args(__pyx_t_2, __pyx_t_15, __pyx_t_14) : __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_14);
+      __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
+      __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
+      if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_9);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+      __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_9); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4453, __pyx_L1_error)
+      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
       if (__pyx_t_3) {
 
-        /* "capnp/lib/capnp.pyx":4372
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))
- *                 if is_file(path+sep+capnp_module_name_spaces):
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_spaces), self.additional_paths))             # <<<<<<<<<<<<<<
+        /* "capnp/lib/capnp.pyx":4454
+ *             for capnp_module_name in capnp_module_names:
+ *                 if _os.path.isfile(path+_os.path.sep+capnp_module_name):
+ *                     return ModuleSpec(fullname, _Loader(fullname, _os.path.join(path, capnp_module_name)))             # <<<<<<<<<<<<<<
  * 
  * 
  */
         __Pyx_XDECREF(__pyx_r);
-        __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_ModuleSpec); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 4372, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_8);
-        __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_Loader); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4372, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_12);
-        if (unlikely(!__pyx_v_capnp_module_name_spaces)) { __Pyx_RaiseUnboundLocalError("capnp_module_name_spaces"); __PYX_ERR(0, 4372, __pyx_L1_error) }
-        __Pyx_INCREF(__pyx_v_join_path);
-        __pyx_t_11 = __pyx_v_join_path; __pyx_t_9 = NULL;
+        __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_ModuleSpec); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4454, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_2);
+        __Pyx_GetModuleGlobalName(__pyx_t_15, __pyx_n_s_Loader); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 4454, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_15);
+        __Pyx_GetModuleGlobalName(__pyx_t_17, __pyx_n_s_os); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 4454, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_17);
+        __pyx_t_18 = __Pyx_PyObject_GetAttrStr(__pyx_t_17, __pyx_n_s_path); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 4454, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_18);
+        __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
+        __pyx_t_17 = __Pyx_PyObject_GetAttrStr(__pyx_t_18, __pyx_n_s_join); if (unlikely(!__pyx_t_17)) __PYX_ERR(0, 4454, __pyx_L1_error)
+        __Pyx_GOTREF(__pyx_t_17);
+        __Pyx_DECREF(__pyx_t_18); __pyx_t_18 = 0;
+        __pyx_t_18 = NULL;
         __pyx_t_13 = 0;
-        if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_11))) {
-          __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_11);
-          if (likely(__pyx_t_9)) {
-            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-            __Pyx_INCREF(__pyx_t_9);
+        if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_17))) {
+          __pyx_t_18 = PyMethod_GET_SELF(__pyx_t_17);
+          if (likely(__pyx_t_18)) {
+            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_17);
+            __Pyx_INCREF(__pyx_t_18);
             __Pyx_INCREF(function);
-            __Pyx_DECREF_SET(__pyx_t_11, function);
+            __Pyx_DECREF_SET(__pyx_t_17, function);
             __pyx_t_13 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
-        if (PyFunction_Check(__pyx_t_11)) {
-          PyObject *__pyx_temp[3] = {__pyx_t_9, __pyx_v_path, __pyx_v_capnp_module_name_spaces};
-          __pyx_t_5 = __Pyx_PyFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-          __Pyx_GOTREF(__pyx_t_5);
+        if (PyFunction_Check(__pyx_t_17)) {
+          PyObject *__pyx_temp[3] = {__pyx_t_18, __pyx_v_path, __pyx_v_capnp_module_name};
+          __pyx_t_16 = __Pyx_PyFunction_FastCall(__pyx_t_17, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_XDECREF(__pyx_t_18); __pyx_t_18 = 0;
+          __Pyx_GOTREF(__pyx_t_16);
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
-        if (__Pyx_PyFastCFunction_Check(__pyx_t_11)) {
-          PyObject *__pyx_temp[3] = {__pyx_t_9, __pyx_v_path, __pyx_v_capnp_module_name_spaces};
-          __pyx_t_5 = __Pyx_PyCFunction_FastCall(__pyx_t_11, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-          __Pyx_GOTREF(__pyx_t_5);
+        if (__Pyx_PyFastCFunction_Check(__pyx_t_17)) {
+          PyObject *__pyx_temp[3] = {__pyx_t_18, __pyx_v_path, __pyx_v_capnp_module_name};
+          __pyx_t_16 = __Pyx_PyCFunction_FastCall(__pyx_t_17, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_XDECREF(__pyx_t_18); __pyx_t_18 = 0;
+          __Pyx_GOTREF(__pyx_t_16);
         } else
         #endif
         {
-          __pyx_t_14 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_14);
-          if (__pyx_t_9) {
-            __Pyx_GIVEREF(__pyx_t_9); PyTuple_SET_ITEM(__pyx_t_14, 0, __pyx_t_9); __pyx_t_9 = NULL;
+          __pyx_t_19 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_19);
+          if (__pyx_t_18) {
+            __Pyx_GIVEREF(__pyx_t_18); PyTuple_SET_ITEM(__pyx_t_19, 0, __pyx_t_18); __pyx_t_18 = NULL;
           }
           __Pyx_INCREF(__pyx_v_path);
           __Pyx_GIVEREF(__pyx_v_path);
-          PyTuple_SET_ITEM(__pyx_t_14, 0+__pyx_t_13, __pyx_v_path);
-          __Pyx_INCREF(__pyx_v_capnp_module_name_spaces);
-          __Pyx_GIVEREF(__pyx_v_capnp_module_name_spaces);
-          PyTuple_SET_ITEM(__pyx_t_14, 1+__pyx_t_13, __pyx_v_capnp_module_name_spaces);
-          __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_11, __pyx_t_14, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_5);
-          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
+          PyTuple_SET_ITEM(__pyx_t_19, 0+__pyx_t_13, __pyx_v_path);
+          __Pyx_INCREF(__pyx_v_capnp_module_name);
+          __Pyx_GIVEREF(__pyx_v_capnp_module_name);
+          PyTuple_SET_ITEM(__pyx_t_19, 1+__pyx_t_13, __pyx_v_capnp_module_name);
+          __pyx_t_16 = __Pyx_PyObject_Call(__pyx_t_17, __pyx_t_19, NULL); if (unlikely(!__pyx_t_16)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_16);
+          __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
         }
-        __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-        __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_additional_paths); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 4372, __pyx_L1_error)
-        __Pyx_GOTREF(__pyx_t_11);
-        __pyx_t_14 = NULL;
+        __Pyx_DECREF(__pyx_t_17); __pyx_t_17 = 0;
+        __pyx_t_17 = NULL;
         __pyx_t_13 = 0;
-        if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_12))) {
-          __pyx_t_14 = PyMethod_GET_SELF(__pyx_t_12);
-          if (likely(__pyx_t_14)) {
-            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_12);
-            __Pyx_INCREF(__pyx_t_14);
+        if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_15))) {
+          __pyx_t_17 = PyMethod_GET_SELF(__pyx_t_15);
+          if (likely(__pyx_t_17)) {
+            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_15);
+            __Pyx_INCREF(__pyx_t_17);
             __Pyx_INCREF(function);
-            __Pyx_DECREF_SET(__pyx_t_12, function);
+            __Pyx_DECREF_SET(__pyx_t_15, function);
             __pyx_t_13 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
-        if (PyFunction_Check(__pyx_t_12)) {
-          PyObject *__pyx_temp[4] = {__pyx_t_14, __pyx_v_fullname, __pyx_t_5, __pyx_t_11};
-          __pyx_t_10 = __Pyx_PyFunction_FastCall(__pyx_t_12, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
-          __Pyx_GOTREF(__pyx_t_10);
-          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
+        if (PyFunction_Check(__pyx_t_15)) {
+          PyObject *__pyx_temp[3] = {__pyx_t_17, __pyx_v_fullname, __pyx_t_16};
+          __pyx_t_14 = __Pyx_PyFunction_FastCall(__pyx_t_15, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
+          __Pyx_GOTREF(__pyx_t_14);
+          __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
-        if (__Pyx_PyFastCFunction_Check(__pyx_t_12)) {
-          PyObject *__pyx_temp[4] = {__pyx_t_14, __pyx_v_fullname, __pyx_t_5, __pyx_t_11};
-          __pyx_t_10 = __Pyx_PyCFunction_FastCall(__pyx_t_12, __pyx_temp+1-__pyx_t_13, 3+__pyx_t_13); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_14); __pyx_t_14 = 0;
-          __Pyx_GOTREF(__pyx_t_10);
-          __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-          __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
+        if (__Pyx_PyFastCFunction_Check(__pyx_t_15)) {
+          PyObject *__pyx_temp[3] = {__pyx_t_17, __pyx_v_fullname, __pyx_t_16};
+          __pyx_t_14 = __Pyx_PyCFunction_FastCall(__pyx_t_15, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_XDECREF(__pyx_t_17); __pyx_t_17 = 0;
+          __Pyx_GOTREF(__pyx_t_14);
+          __Pyx_DECREF(__pyx_t_16); __pyx_t_16 = 0;
         } else
         #endif
         {
-          __pyx_t_9 = PyTuple_New(3+__pyx_t_13); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_9);
-          if (__pyx_t_14) {
-            __Pyx_GIVEREF(__pyx_t_14); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_14); __pyx_t_14 = NULL;
+          __pyx_t_19 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_19);
+          if (__pyx_t_17) {
+            __Pyx_GIVEREF(__pyx_t_17); PyTuple_SET_ITEM(__pyx_t_19, 0, __pyx_t_17); __pyx_t_17 = NULL;
           }
           __Pyx_INCREF(__pyx_v_fullname);
           __Pyx_GIVEREF(__pyx_v_fullname);
-          PyTuple_SET_ITEM(__pyx_t_9, 0+__pyx_t_13, __pyx_v_fullname);
-          __Pyx_GIVEREF(__pyx_t_5);
-          PyTuple_SET_ITEM(__pyx_t_9, 1+__pyx_t_13, __pyx_t_5);
-          __Pyx_GIVEREF(__pyx_t_11);
-          PyTuple_SET_ITEM(__pyx_t_9, 2+__pyx_t_13, __pyx_t_11);
-          __pyx_t_5 = 0;
-          __pyx_t_11 = 0;
-          __pyx_t_10 = __Pyx_PyObject_Call(__pyx_t_12, __pyx_t_9, NULL); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_10);
-          __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
+          PyTuple_SET_ITEM(__pyx_t_19, 0+__pyx_t_13, __pyx_v_fullname);
+          __Pyx_GIVEREF(__pyx_t_16);
+          PyTuple_SET_ITEM(__pyx_t_19, 1+__pyx_t_13, __pyx_t_16);
+          __pyx_t_16 = 0;
+          __pyx_t_14 = __Pyx_PyObject_Call(__pyx_t_15, __pyx_t_19, NULL); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_14);
+          __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
         }
-        __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-        __pyx_t_12 = NULL;
+        __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
+        __pyx_t_15 = NULL;
         __pyx_t_13 = 0;
-        if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_8))) {
-          __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_8);
-          if (likely(__pyx_t_12)) {
-            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
-            __Pyx_INCREF(__pyx_t_12);
+        if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_2))) {
+          __pyx_t_15 = PyMethod_GET_SELF(__pyx_t_2);
+          if (likely(__pyx_t_15)) {
+            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_2);
+            __Pyx_INCREF(__pyx_t_15);
             __Pyx_INCREF(function);
-            __Pyx_DECREF_SET(__pyx_t_8, function);
+            __Pyx_DECREF_SET(__pyx_t_2, function);
             __pyx_t_13 = 1;
           }
         }
         #if CYTHON_FAST_PYCALL
-        if (PyFunction_Check(__pyx_t_8)) {
-          PyObject *__pyx_temp[3] = {__pyx_t_12, __pyx_v_fullname, __pyx_t_10};
-          __pyx_t_2 = __Pyx_PyFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-          __Pyx_GOTREF(__pyx_t_2);
-          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
+        if (PyFunction_Check(__pyx_t_2)) {
+          PyObject *__pyx_temp[3] = {__pyx_t_15, __pyx_v_fullname, __pyx_t_14};
+          __pyx_t_9 = __Pyx_PyFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
+          __Pyx_GOTREF(__pyx_t_9);
+          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
         } else
         #endif
         #if CYTHON_FAST_PYCCALL
-        if (__Pyx_PyFastCFunction_Check(__pyx_t_8)) {
-          PyObject *__pyx_temp[3] = {__pyx_t_12, __pyx_v_fullname, __pyx_t_10};
-          __pyx_t_2 = __Pyx_PyCFunction_FastCall(__pyx_t_8, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-          __Pyx_GOTREF(__pyx_t_2);
-          __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
+        if (__Pyx_PyFastCFunction_Check(__pyx_t_2)) {
+          PyObject *__pyx_temp[3] = {__pyx_t_15, __pyx_v_fullname, __pyx_t_14};
+          __pyx_t_9 = __Pyx_PyCFunction_FastCall(__pyx_t_2, __pyx_temp+1-__pyx_t_13, 2+__pyx_t_13); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_XDECREF(__pyx_t_15); __pyx_t_15 = 0;
+          __Pyx_GOTREF(__pyx_t_9);
+          __Pyx_DECREF(__pyx_t_14); __pyx_t_14 = 0;
         } else
         #endif
         {
-          __pyx_t_9 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_9);
-          if (__pyx_t_12) {
-            __Pyx_GIVEREF(__pyx_t_12); PyTuple_SET_ITEM(__pyx_t_9, 0, __pyx_t_12); __pyx_t_12 = NULL;
+          __pyx_t_19 = PyTuple_New(2+__pyx_t_13); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_19);
+          if (__pyx_t_15) {
+            __Pyx_GIVEREF(__pyx_t_15); PyTuple_SET_ITEM(__pyx_t_19, 0, __pyx_t_15); __pyx_t_15 = NULL;
           }
           __Pyx_INCREF(__pyx_v_fullname);
           __Pyx_GIVEREF(__pyx_v_fullname);
-          PyTuple_SET_ITEM(__pyx_t_9, 0+__pyx_t_13, __pyx_v_fullname);
-          __Pyx_GIVEREF(__pyx_t_10);
-          PyTuple_SET_ITEM(__pyx_t_9, 1+__pyx_t_13, __pyx_t_10);
-          __pyx_t_10 = 0;
-          __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_8, __pyx_t_9, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4372, __pyx_L1_error)
-          __Pyx_GOTREF(__pyx_t_2);
-          __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
+          PyTuple_SET_ITEM(__pyx_t_19, 0+__pyx_t_13, __pyx_v_fullname);
+          __Pyx_GIVEREF(__pyx_t_14);
+          PyTuple_SET_ITEM(__pyx_t_19, 1+__pyx_t_13, __pyx_t_14);
+          __pyx_t_14 = 0;
+          __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_19, NULL); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 4454, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_9);
+          __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
         }
-        __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-        __pyx_r = __pyx_t_2;
-        __pyx_t_2 = 0;
+        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+        __pyx_r = __pyx_t_9;
+        __pyx_t_9 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+        __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
         goto __pyx_L0;
 
-        /* "capnp/lib/capnp.pyx":4371
- *                 if is_file(path+sep+capnp_module_name_dashes):
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))
- *                 if is_file(path+sep+capnp_module_name_spaces):             # <<<<<<<<<<<<<<
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_spaces), self.additional_paths))
+        /* "capnp/lib/capnp.pyx":4453
+ * 
+ *             for capnp_module_name in capnp_module_names:
+ *                 if _os.path.isfile(path+_os.path.sep+capnp_module_name):             # <<<<<<<<<<<<<<
+ *                     return ModuleSpec(fullname, _Loader(fullname, _os.path.join(path, capnp_module_name)))
  * 
  */
       }
-
-      /* "capnp/lib/capnp.pyx":4368
- *             if is_file(path+sep+capnp_module_name):
- *                 return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name), self.additional_paths))
- *             if has_underscores:             # <<<<<<<<<<<<<<
- *                 if is_file(path+sep+capnp_module_name_dashes):
- *                     return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))
- */
     }
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":4360
+    /* "capnp/lib/capnp.pyx":4446
+ *             paths += [path + '/capnp' for path in _capnp_paths]
  * 
- *         paths = self.additional_paths + paths
  *         for path in paths:             # <<<<<<<<<<<<<<
  *             if not path:
  *                 path = _os.getcwd()
  */
   }
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-  /* "capnp/lib/capnp.pyx":4326
- *         self.additional_paths = additional_paths
+  /* "capnp/lib/capnp.pyx":4415
+ * class _Importer:
  * 
  *     def find_spec(self, fullname, package_path, target=None):             # <<<<<<<<<<<<<<
  *         if fullname in _sys.modules: # Don't allow re-imports
  *             return None
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_8);
   __Pyx_XDECREF(__pyx_t_9);
-  __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_XDECREF(__pyx_t_11);
-  __Pyx_XDECREF(__pyx_t_12);
   __Pyx_XDECREF(__pyx_t_14);
+  __Pyx_XDECREF(__pyx_t_15);
+  __Pyx_XDECREF(__pyx_t_16);
+  __Pyx_XDECREF(__pyx_t_17);
+  __Pyx_XDECREF(__pyx_t_18);
+  __Pyx_XDECREF(__pyx_t_19);
   __Pyx_AddTraceback("capnp.lib.capnp._Importer.find_spec", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_mod_parts);
   __Pyx_XDECREF(__pyx_v_module_name);
   __Pyx_XDECREF(__pyx_v_capnp_module_name);
-  __Pyx_XDECREF(__pyx_v_capnp_module_name_dashes);
-  __Pyx_XDECREF(__pyx_v_capnp_module_name_spaces);
+  __Pyx_XDECREF(__pyx_v_capnp_module_names);
   __Pyx_XDECREF(__pyx_v_paths);
-  __Pyx_XDECREF(__pyx_v_join_path);
-  __Pyx_XDECREF(__pyx_v_is_file);
-  __Pyx_XDECREF(__pyx_v_is_abs);
-  __Pyx_XDECREF(__pyx_v_abspath);
-  __Pyx_XDECREF(__pyx_v_sep);
   __Pyx_XDECREF(__pyx_v_path);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4378
+/* "capnp/lib/capnp.pyx":4460
  * 
  * 
- * def add_import_hook(additional_paths=[]):             # <<<<<<<<<<<<<<
+ * def add_import_hook():             # <<<<<<<<<<<<<<
  *     """Add a hook to the python import system, so that Cap'n Proto modules are directly importable
  * 
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_5capnp_3lib_5capnp_29add_import_hook(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
-static char __pyx_doc_5capnp_3lib_5capnp_28add_import_hook[] = "add_import_hook(additional_paths=[])\nAdd a hook to the python import system, so that Cap'n Proto modules are directly importable\n\n    After calling this function, you can use the python import syntax to directly import capnproto schemas.\n    This function is automatically called upon first import of `capnp`,\n    so you will typically never need to use this function.::\n\n        import capnp\n        capnp.add_import_hook()\n\n        import addressbook_capnp\n        # equivalent to capnp.load('addressbook.capnp', 'addressbook', sys.path),\n        # except it will search for 'addressbook.capnp' in all directories of sys.path\n\n    :type additional_paths: list\n    :param additional_paths: Additional paths, listed as strings, to be used to search for the .capnp files.\n    It is prepended to the beginning of sys.path. It also affects imports inside of Cap'n Proto schemas.\n    ";
-static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_29add_import_hook = {"add_import_hook", (PyCFunction)(void*)(PyCFunctionWithKeywords)__pyx_pw_5capnp_3lib_5capnp_29add_import_hook, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5capnp_3lib_5capnp_28add_import_hook};
-static PyObject *__pyx_pw_5capnp_3lib_5capnp_29add_import_hook(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
-  PyObject *__pyx_v_additional_paths = 0;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
+static PyObject *__pyx_pw_5capnp_3lib_5capnp_29add_import_hook(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static char __pyx_doc_5capnp_3lib_5capnp_28add_import_hook[] = "add_import_hook()\nAdd a hook to the python import system, so that Cap'n Proto modules are directly importable\n\n    After calling this function, you can use the python import syntax to directly import capnproto schemas.\n    This function is automatically called upon first import of `capnp`,\n    so you will typically never need to use this function.::\n\n        import capnp\n        capnp.add_import_hook()\n\n        import addressbook_capnp\n        # equivalent to capnp.load('addressbook.capnp', 'addressbook', sys.path),\n        # except it will search for 'addressbook.capnp' in all directories of sys.path\n\n    ";
+static PyMethodDef __pyx_mdef_5capnp_3lib_5capnp_29add_import_hook = {"add_import_hook", (PyCFunction)__pyx_pw_5capnp_3lib_5capnp_29add_import_hook, METH_NOARGS, __pyx_doc_5capnp_3lib_5capnp_28add_import_hook};
+static PyObject *__pyx_pw_5capnp_3lib_5capnp_29add_import_hook(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("add_import_hook (wrapper)", 0);
-  {
-    static PyObject **__pyx_pyargnames[] = {&__pyx_n_s_additional_paths,0};
-    PyObject* values[1] = {0};
-    values[0] = __pyx_k__156;
-    if (unlikely(__pyx_kwds)) {
-      Py_ssize_t kw_args;
-      const Py_ssize_t pos_args = PyTuple_GET_SIZE(__pyx_args);
-      switch (pos_args) {
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = PyDict_Size(__pyx_kwds);
-      switch (pos_args) {
-        case  0:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_PyDict_GetItemStr(__pyx_kwds, __pyx_n_s_additional_paths);
-          if (value) { values[0] = value; kw_args--; }
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "add_import_hook") < 0)) __PYX_ERR(0, 4378, __pyx_L3_error)
-      }
-    } else {
-      switch (PyTuple_GET_SIZE(__pyx_args)) {
-        case  1: values[0] = PyTuple_GET_ITEM(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-    }
-    __pyx_v_additional_paths = values[0];
-  }
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("add_import_hook", 0, 0, 1, PyTuple_GET_SIZE(__pyx_args)); __PYX_ERR(0, 4378, __pyx_L3_error)
-  __pyx_L3_error:;
-  __Pyx_AddTraceback("capnp.lib.capnp.add_import_hook", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return NULL;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_5capnp_3lib_5capnp_28add_import_hook(__pyx_self, __pyx_v_additional_paths);
+  __pyx_r = __pyx_pf_5capnp_3lib_5capnp_28add_import_hook(__pyx_self);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_5capnp_3lib_5capnp_28add_import_hook(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_additional_paths) {
-  PyObject *__pyx_v_this_file_path = NULL;
-  PyObject *__pyx_v_extra_paths = NULL;
-  PyObject *__pyx_v_path = NULL;
+static PyObject *__pyx_pf_5capnp_3lib_5capnp_28add_import_hook(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_t_2;
   int __pyx_t_3;
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  PyObject *__pyx_t_7 = NULL;
-  PyObject *__pyx_t_8 = NULL;
-  int __pyx_t_9;
-  PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
-  PyObject *__pyx_t_12 = NULL;
-  Py_ssize_t __pyx_t_13;
-  int __pyx_t_14;
+  int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("add_import_hook", 0);
 
-  /* "capnp/lib/capnp.pyx":4397
+  /* "capnp/lib/capnp.pyx":4476
  *     """
  *     global _importer
  *     if _importer is not None:             # <<<<<<<<<<<<<<
  *         remove_import_hook()
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_importer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4397, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_importer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4476, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = (__pyx_t_1 != Py_None);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":4398
+    /* "capnp/lib/capnp.pyx":4477
  *     global _importer
  *     if _importer is not None:
  *         remove_import_hook()             # <<<<<<<<<<<<<<
  * 
- *     # Automatically include the system and built-in capnp paths
+ *     _importer = _Importer()
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_remove_import_hook); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4398, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_remove_import_hook); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4477, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_5 = NULL;
     if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_5)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_1 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4398, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4477, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":4397
+    /* "capnp/lib/capnp.pyx":4476
  *     """
  *     global _importer
  *     if _importer is not None:             # <<<<<<<<<<<<<<
  *         remove_import_hook()
  * 
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4402
- *     # Automatically include the system and built-in capnp paths
- *     # Highest priority at position 0
- *     try:             # <<<<<<<<<<<<<<
- *         this_file_path = __file__
- *     except NameError:
- */
-  {
-    __Pyx_PyThreadState_declare
-    __Pyx_PyThreadState_assign
-    __Pyx_ExceptionSave(&__pyx_t_6, &__pyx_t_7, &__pyx_t_8);
-    __Pyx_XGOTREF(__pyx_t_6);
-    __Pyx_XGOTREF(__pyx_t_7);
-    __Pyx_XGOTREF(__pyx_t_8);
-    /*try:*/ {
-
-      /* "capnp/lib/capnp.pyx":4403
- *     # Highest priority at position 0
- *     try:
- *         this_file_path = __file__             # <<<<<<<<<<<<<<
- *     except NameError:
- *         this_file_path = None
- */
-      __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_file_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4403, __pyx_L4_error)
-      __Pyx_GOTREF(__pyx_t_1);
-      __pyx_v_this_file_path = __pyx_t_1;
-      __pyx_t_1 = 0;
-
-      /* "capnp/lib/capnp.pyx":4402
- *     # Automatically include the system and built-in capnp paths
- *     # Highest priority at position 0
- *     try:             # <<<<<<<<<<<<<<
- *         this_file_path = __file__
- *     except NameError:
- */
-    }
-    __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-    __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-    __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
-    goto __pyx_L9_try_end;
-    __pyx_L4_error:;
-    __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-
-    /* "capnp/lib/capnp.pyx":4404
- *     try:
- *         this_file_path = __file__
- *     except NameError:             # <<<<<<<<<<<<<<
- *         this_file_path = None
- *     extra_paths = ([
- */
-    __pyx_t_9 = __Pyx_PyErr_ExceptionMatches(__pyx_builtin_NameError);
-    if (__pyx_t_9) {
-      __Pyx_AddTraceback("capnp.lib.capnp.add_import_hook", __pyx_clineno, __pyx_lineno, __pyx_filename);
-      if (__Pyx_GetException(&__pyx_t_1, &__pyx_t_4, &__pyx_t_5) < 0) __PYX_ERR(0, 4404, __pyx_L6_except_error)
-      __Pyx_GOTREF(__pyx_t_1);
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_GOTREF(__pyx_t_5);
-
-      /* "capnp/lib/capnp.pyx":4405
- *         this_file_path = __file__
- *     except NameError:
- *         this_file_path = None             # <<<<<<<<<<<<<<
- *     extra_paths = ([
- *         _os.path.join(_os.path.dirname(this_file_path), '..'), # Built-in (only used if bundled)
- */
-      __Pyx_INCREF(Py_None);
-      __Pyx_XDECREF_SET(__pyx_v_this_file_path, Py_None);
-      __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
-      __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-      __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      goto __pyx_L5_exception_handled;
-    }
-    goto __pyx_L6_except_error;
-    __pyx_L6_except_error:;
-
-    /* "capnp/lib/capnp.pyx":4402
- *     # Automatically include the system and built-in capnp paths
- *     # Highest priority at position 0
- *     try:             # <<<<<<<<<<<<<<
- *         this_file_path = __file__
- *     except NameError:
- */
-    __Pyx_XGIVEREF(__pyx_t_6);
-    __Pyx_XGIVEREF(__pyx_t_7);
-    __Pyx_XGIVEREF(__pyx_t_8);
-    __Pyx_ExceptionReset(__pyx_t_6, __pyx_t_7, __pyx_t_8);
-    goto __pyx_L1_error;
-    __pyx_L5_exception_handled:;
-    __Pyx_XGIVEREF(__pyx_t_6);
-    __Pyx_XGIVEREF(__pyx_t_7);
-    __Pyx_XGIVEREF(__pyx_t_8);
-    __Pyx_ExceptionReset(__pyx_t_6, __pyx_t_7, __pyx_t_8);
-    __pyx_L9_try_end:;
-  }
-
-  /* "capnp/lib/capnp.pyx":4408
- *     extra_paths = ([
- *         _os.path.join(_os.path.dirname(this_file_path), '..'), # Built-in (only used if bundled)
- *     ] if this_file_path else []) + [             # <<<<<<<<<<<<<<
- *         # Common macOS brew location
- *         '/usr/local/include/capnp',
- */
-  __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_v_this_file_path); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4408, __pyx_L1_error)
-  if (__pyx_t_3) {
-
-    /* "capnp/lib/capnp.pyx":4407
- *         this_file_path = None
- *     extra_paths = ([
- *         _os.path.join(_os.path.dirname(this_file_path), '..'), # Built-in (only used if bundled)             # <<<<<<<<<<<<<<
- *     ] if this_file_path else []) + [
- *         # Common macOS brew location
- */
-    __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_os); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4407, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_10 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_path); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4407, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_10);
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_10, __pyx_n_s_join); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4407, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-    __Pyx_GetModuleGlobalName(__pyx_t_11, __pyx_n_s_os); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 4407, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_11);
-    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_t_11, __pyx_n_s_path); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4407, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_12);
-    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-    __pyx_t_11 = __Pyx_PyObject_GetAttrStr(__pyx_t_12, __pyx_n_s_dirname); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 4407, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_11);
-    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-    __pyx_t_12 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_11))) {
-      __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_11);
-      if (likely(__pyx_t_12)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_11);
-        __Pyx_INCREF(__pyx_t_12);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_11, function);
-      }
-    }
-    __pyx_t_10 = (__pyx_t_12) ? __Pyx_PyObject_Call2Args(__pyx_t_11, __pyx_t_12, __pyx_v_this_file_path) : __Pyx_PyObject_CallOneArg(__pyx_t_11, __pyx_v_this_file_path);
-    __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-    if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 4407, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_10);
-    __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-    __pyx_t_11 = NULL;
-    __pyx_t_9 = 0;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_1))) {
-      __pyx_t_11 = PyMethod_GET_SELF(__pyx_t_1);
-      if (likely(__pyx_t_11)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
-        __Pyx_INCREF(__pyx_t_11);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_1, function);
-        __pyx_t_9 = 1;
-      }
-    }
-    #if CYTHON_FAST_PYCALL
-    if (PyFunction_Check(__pyx_t_1)) {
-      PyObject *__pyx_temp[3] = {__pyx_t_11, __pyx_t_10, __pyx_kp_s__157};
-      __pyx_t_4 = __Pyx_PyFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_9, 2+__pyx_t_9); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4407, __pyx_L1_error)
-      __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-    } else
-    #endif
-    #if CYTHON_FAST_PYCCALL
-    if (__Pyx_PyFastCFunction_Check(__pyx_t_1)) {
-      PyObject *__pyx_temp[3] = {__pyx_t_11, __pyx_t_10, __pyx_kp_s__157};
-      __pyx_t_4 = __Pyx_PyCFunction_FastCall(__pyx_t_1, __pyx_temp+1-__pyx_t_9, 2+__pyx_t_9); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4407, __pyx_L1_error)
-      __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-    } else
-    #endif
-    {
-      __pyx_t_12 = PyTuple_New(2+__pyx_t_9); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4407, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_12);
-      if (__pyx_t_11) {
-        __Pyx_GIVEREF(__pyx_t_11); PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_11); __pyx_t_11 = NULL;
-      }
-      __Pyx_GIVEREF(__pyx_t_10);
-      PyTuple_SET_ITEM(__pyx_t_12, 0+__pyx_t_9, __pyx_t_10);
-      __Pyx_INCREF(__pyx_kp_s__157);
-      __Pyx_GIVEREF(__pyx_kp_s__157);
-      PyTuple_SET_ITEM(__pyx_t_12, 1+__pyx_t_9, __pyx_kp_s__157);
-      __pyx_t_10 = 0;
-      __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_t_12, NULL); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4407, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_4);
-      __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-    }
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-
-    /* "capnp/lib/capnp.pyx":4406
- *     except NameError:
- *         this_file_path = None
- *     extra_paths = ([             # <<<<<<<<<<<<<<
- *         _os.path.join(_os.path.dirname(this_file_path), '..'), # Built-in (only used if bundled)
- *     ] if this_file_path else []) + [
- */
-    __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4406, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_GIVEREF(__pyx_t_4);
-    PyList_SET_ITEM(__pyx_t_1, 0, __pyx_t_4);
-    __pyx_t_4 = 0;
-    __pyx_t_5 = __pyx_t_1;
-    __pyx_t_1 = 0;
-  } else {
-
-    /* "capnp/lib/capnp.pyx":4408
- *     extra_paths = ([
- *         _os.path.join(_os.path.dirname(this_file_path), '..'), # Built-in (only used if bundled)
- *     ] if this_file_path else []) + [             # <<<<<<<<<<<<<<
- *         # Common macOS brew location
- *         '/usr/local/include/capnp',
- */
-    __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4408, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_5 = __pyx_t_1;
-    __pyx_t_1 = 0;
-  }
-  __pyx_t_1 = PyList_New(4); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4408, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_INCREF(__pyx_kp_s_usr_local_include_capnp);
-  __Pyx_GIVEREF(__pyx_kp_s_usr_local_include_capnp);
-  PyList_SET_ITEM(__pyx_t_1, 0, __pyx_kp_s_usr_local_include_capnp);
-  __Pyx_INCREF(__pyx_kp_s_usr_local_include);
-  __Pyx_GIVEREF(__pyx_kp_s_usr_local_include);
-  PyList_SET_ITEM(__pyx_t_1, 1, __pyx_kp_s_usr_local_include);
-  __Pyx_INCREF(__pyx_kp_s_usr_include_capnp);
-  __Pyx_GIVEREF(__pyx_kp_s_usr_include_capnp);
-  PyList_SET_ITEM(__pyx_t_1, 2, __pyx_kp_s_usr_include_capnp);
-  __Pyx_INCREF(__pyx_kp_s_usr_include);
-  __Pyx_GIVEREF(__pyx_kp_s_usr_include);
-  PyList_SET_ITEM(__pyx_t_1, 3, __pyx_kp_s_usr_include);
-  __pyx_t_4 = PyNumber_Add(__pyx_t_5, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4408, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_v_extra_paths = ((PyObject*)__pyx_t_4);
-  __pyx_t_4 = 0;
-
-  /* "capnp/lib/capnp.pyx":4416
- *         '/usr/include',
- *     ]
- *     for path in extra_paths:             # <<<<<<<<<<<<<<
- *         if _os.path.isdir(path):
- *             if path not in additional_paths:
- */
-  __pyx_t_4 = __pyx_v_extra_paths; __Pyx_INCREF(__pyx_t_4); __pyx_t_13 = 0;
-  for (;;) {
-    if (__pyx_t_13 >= PyList_GET_SIZE(__pyx_t_4)) break;
-    #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-    __pyx_t_1 = PyList_GET_ITEM(__pyx_t_4, __pyx_t_13); __Pyx_INCREF(__pyx_t_1); __pyx_t_13++; if (unlikely(0 < 0)) __PYX_ERR(0, 4416, __pyx_L1_error)
-    #else
-    __pyx_t_1 = PySequence_ITEM(__pyx_t_4, __pyx_t_13); __pyx_t_13++; if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4416, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    #endif
-    __Pyx_XDECREF_SET(__pyx_v_path, __pyx_t_1);
-    __pyx_t_1 = 0;
-
-    /* "capnp/lib/capnp.pyx":4417
- *     ]
- *     for path in extra_paths:
- *         if _os.path.isdir(path):             # <<<<<<<<<<<<<<
- *             if path not in additional_paths:
- *                 additional_paths.append(path)
- */
-    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_os); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4417, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_12 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_path); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 4417, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_12);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_12, __pyx_n_s_isdir); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4417, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-    __pyx_t_12 = NULL;
-    if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
-      __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_5);
-      if (likely(__pyx_t_12)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
-        __Pyx_INCREF(__pyx_t_12);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_5, function);
-      }
-    }
-    __pyx_t_1 = (__pyx_t_12) ? __Pyx_PyObject_Call2Args(__pyx_t_5, __pyx_t_12, __pyx_v_path) : __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_v_path);
-    __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4417, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_1);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __pyx_t_3 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4417, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    if (__pyx_t_3) {
-
-      /* "capnp/lib/capnp.pyx":4418
- *     for path in extra_paths:
- *         if _os.path.isdir(path):
- *             if path not in additional_paths:             # <<<<<<<<<<<<<<
- *                 additional_paths.append(path)
- * 
- */
-      __pyx_t_3 = (__Pyx_PySequence_ContainsTF(__pyx_v_path, __pyx_v_additional_paths, Py_NE)); if (unlikely(__pyx_t_3 < 0)) __PYX_ERR(0, 4418, __pyx_L1_error)
-      __pyx_t_2 = (__pyx_t_3 != 0);
-      if (__pyx_t_2) {
-
-        /* "capnp/lib/capnp.pyx":4419
- *         if _os.path.isdir(path):
- *             if path not in additional_paths:
- *                 additional_paths.append(path)             # <<<<<<<<<<<<<<
- * 
- *     _importer = _Importer(additional_paths)
- */
-        __pyx_t_14 = __Pyx_PyObject_Append(__pyx_v_additional_paths, __pyx_v_path); if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 4419, __pyx_L1_error)
-
-        /* "capnp/lib/capnp.pyx":4418
- *     for path in extra_paths:
- *         if _os.path.isdir(path):
- *             if path not in additional_paths:             # <<<<<<<<<<<<<<
- *                 additional_paths.append(path)
- * 
- */
-      }
-
-      /* "capnp/lib/capnp.pyx":4417
- *     ]
- *     for path in extra_paths:
- *         if _os.path.isdir(path):             # <<<<<<<<<<<<<<
- *             if path not in additional_paths:
- *                 additional_paths.append(path)
- */
-    }
-
-    /* "capnp/lib/capnp.pyx":4416
- *         '/usr/include',
- *     ]
- *     for path in extra_paths:             # <<<<<<<<<<<<<<
- *         if _os.path.isdir(path):
- *             if path not in additional_paths:
- */
-  }
-  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-
-  /* "capnp/lib/capnp.pyx":4421
- *                 additional_paths.append(path)
+  /* "capnp/lib/capnp.pyx":4479
+ *         remove_import_hook()
  * 
- *     _importer = _Importer(additional_paths)             # <<<<<<<<<<<<<<
+ *     _importer = _Importer()             # <<<<<<<<<<<<<<
  *     _sys.meta_path.append(_importer)
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_Importer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4421, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
+  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_Importer); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4479, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_4);
   __pyx_t_5 = NULL;
-  if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_1))) {
-    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
+  if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_4))) {
+    __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_5)) {
-      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
+      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
       __Pyx_INCREF(__pyx_t_5);
       __Pyx_INCREF(function);
-      __Pyx_DECREF_SET(__pyx_t_1, function);
+      __Pyx_DECREF_SET(__pyx_t_4, function);
     }
   }
-  __pyx_t_4 = (__pyx_t_5) ? __Pyx_PyObject_Call2Args(__pyx_t_1, __pyx_t_5, __pyx_v_additional_paths) : __Pyx_PyObject_CallOneArg(__pyx_t_1, __pyx_v_additional_paths);
+  __pyx_t_1 = (__pyx_t_5) ? __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5) : __Pyx_PyObject_CallNoArg(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4421, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_importer, __pyx_t_4) < 0) __PYX_ERR(0, 4421, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4479, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_importer, __pyx_t_1) < 0) __PYX_ERR(0, 4479, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":4422
+  /* "capnp/lib/capnp.pyx":4480
  * 
- *     _importer = _Importer(additional_paths)
+ *     _importer = _Importer()
  *     _sys.meta_path.append(_importer)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_sys); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4422, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_meta_path); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4422, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_sys); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4480, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_importer); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4422, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_meta_path); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4480, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_14 = __Pyx_PyObject_Append(__pyx_t_1, __pyx_t_4); if (unlikely(__pyx_t_14 == ((int)-1))) __PYX_ERR(0, 4422, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_importer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4480, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_6 = __Pyx_PyObject_Append(__pyx_t_4, __pyx_t_1); if (unlikely(__pyx_t_6 == ((int)-1))) __PYX_ERR(0, 4480, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":4378
+  /* "capnp/lib/capnp.pyx":4460
  * 
  * 
- * def add_import_hook(additional_paths=[]):             # <<<<<<<<<<<<<<
+ * def add_import_hook():             # <<<<<<<<<<<<<<
  *     """Add a hook to the python import system, so that Cap'n Proto modules are directly importable
  * 
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_XDECREF(__pyx_t_11);
-  __Pyx_XDECREF(__pyx_t_12);
   __Pyx_AddTraceback("capnp.lib.capnp.add_import_hook", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __pyx_L0:;
-  __Pyx_XDECREF(__pyx_v_this_file_path);
-  __Pyx_XDECREF(__pyx_v_extra_paths);
-  __Pyx_XDECREF(__pyx_v_path);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4425
+/* "capnp/lib/capnp.pyx":4483
  * 
  * 
  * def remove_import_hook():             # <<<<<<<<<<<<<<
  *     """Remove the import hook, and return python's import to normal"""
  *     global _importer
  */
 
@@ -90599,82 +90799,82 @@
   PyObject *__pyx_t_5 = NULL;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("remove_import_hook", 0);
 
-  /* "capnp/lib/capnp.pyx":4428
+  /* "capnp/lib/capnp.pyx":4486
  *     """Remove the import hook, and return python's import to normal"""
  *     global _importer
  *     if _importer is not None:             # <<<<<<<<<<<<<<
  *         _sys.meta_path.remove(_importer)
  *     _importer = None
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_importer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4428, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_importer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4486, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = (__pyx_t_1 != Py_None);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_3 = (__pyx_t_2 != 0);
   if (__pyx_t_3) {
 
-    /* "capnp/lib/capnp.pyx":4429
+    /* "capnp/lib/capnp.pyx":4487
  *     global _importer
  *     if _importer is not None:
  *         _sys.meta_path.remove(_importer)             # <<<<<<<<<<<<<<
  *     _importer = None
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_sys); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4429, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_sys); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4487, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_meta_path); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4429, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_meta_path); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4487, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_remove); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4429, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_remove); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 4487, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_importer); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4429, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_importer); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 4487, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __pyx_t_6 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_6)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_4);
         __Pyx_INCREF(__pyx_t_6);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_4, function);
       }
     }
     __pyx_t_1 = (__pyx_t_6) ? __Pyx_PyObject_Call2Args(__pyx_t_4, __pyx_t_6, __pyx_t_5) : __Pyx_PyObject_CallOneArg(__pyx_t_4, __pyx_t_5);
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4429, __pyx_L1_error)
+    if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 4487, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "capnp/lib/capnp.pyx":4428
+    /* "capnp/lib/capnp.pyx":4486
  *     """Remove the import hook, and return python's import to normal"""
  *     global _importer
  *     if _importer is not None:             # <<<<<<<<<<<<<<
  *         _sys.meta_path.remove(_importer)
  *     _importer = None
  */
   }
 
-  /* "capnp/lib/capnp.pyx":4430
+  /* "capnp/lib/capnp.pyx":4488
  *     if _importer is not None:
  *         _sys.meta_path.remove(_importer)
  *     _importer = None             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_importer, Py_None) < 0) __PYX_ERR(0, 4430, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_importer, Py_None) < 0) __PYX_ERR(0, 4488, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4425
+  /* "capnp/lib/capnp.pyx":4483
  * 
  * 
  * def remove_import_hook():             # <<<<<<<<<<<<<<
  *     """Remove the import hook, and return python's import to normal"""
  *     global _importer
  */
 
@@ -90690,15 +90890,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "capnp/lib/capnp.pyx":4433
+/* "capnp/lib/capnp.pyx":4491
  * 
  * 
  * def _init_capnp_api():             # <<<<<<<<<<<<<<
  *     """ Initialize static function pointers for cdef api functions. """
  *     init_capnp_api()
  */
 
@@ -90718,22 +90918,22 @@
 }
 
 static PyObject *__pyx_pf_5capnp_3lib_5capnp_32_init_capnp_api(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("_init_capnp_api", 0);
 
-  /* "capnp/lib/capnp.pyx":4435
+  /* "capnp/lib/capnp.pyx":4493
  * def _init_capnp_api():
  *     """ Initialize static function pointers for cdef api functions. """
  *     init_capnp_api()             # <<<<<<<<<<<<<<
  */
   init_capnp_api();
 
-  /* "capnp/lib/capnp.pyx":4433
+  /* "capnp/lib/capnp.pyx":4491
  * 
  * 
  * def _init_capnp_api():             # <<<<<<<<<<<<<<
  *     """ Initialize static function pointers for cdef api functions. """
  *     init_capnp_api()
  */
 
@@ -96823,15 +97023,15 @@
   0, /*tp_hash*/
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
-  "_DynamicResizableListBuilder(parent, field, schema)\nClass for building growable Cap'n Proto Lists\n\n    .. warning:: You need to call :meth:`finish` on this object before serializing the Cap'n Proto message.\n    Failure to do so will cause your objects not to be written out as well as leaking orphan structs into your message.\n\n    This class works much like :class:`_DynamicListBuilder`, but it allows growing the list dynamically.\n    It is meant for lists of structs, since for primitive types like int or float, you're much better off\n    using a normal python list and then serializing straight to a Cap'n Proto list.\n    It has __getitem__ and __len__ defined, but not __setitem__::\n\n        ...\n        person = addressbook.Person.new_message()\n\n        phones = person.init_resizable_list('phones') # This returns a _DynamicResizableListBuilder\n\n        phone = phones.add()\n        phone.number = 'foo'\n        phone = phones.add()\n        phone.number = 'bar'\n\n        phones.finish()\n\n        f = open('example', 'w')\n        person.write(f)\n    ", /*tp_doc*/
+  "_DynamicResizableListBuilder(parent, field, schema)\nClass for building growable Cap'n Proto Lists\n\n    .. warning::\n        You need to call :meth:`finish` on this object before serializing the\n        Cap'n Proto message. Failure to do so will cause your objects not to be\n        written out as well as leaking orphan structs into your message.\n\n    This class works much like :class:`_DynamicListBuilder`, but it allows growing the list dynamically.\n    It is meant for lists of structs, since for primitive types like int or float, you're much better off\n    using a normal python list and then serializing straight to a Cap'n Proto list.\n    It has __getitem__ and __len__ defined, but not __setitem__::\n\n        ...\n        person = addressbook.Person.new_message()\n\n        phones = person.init_resizable_list('phones') # This returns a _DynamicResizableListBuilder\n\n        phone = phones.add()\n        phone.number = 'foo'\n        phone = phones.add()\n        phone.number = 'bar'\n\n        phones.finish()\n\n        f = open('example', 'w')\n        person.write(f)\n    ", /*tp_doc*/
   __pyx_tp_traverse_5capnp_3lib_5capnp__DynamicResizableListBuilder, /*tp_traverse*/
   __pyx_tp_clear_5capnp_3lib_5capnp__DynamicResizableListBuilder, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   __pyx_methods_5capnp_3lib_5capnp__DynamicResizableListBuilder, /*tp_methods*/
@@ -99492,51 +99692,48 @@
 static PyObject *__pyx_tp_new_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol(PyTypeObject *t, PyObject *a, PyObject *k) {
   struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *p;
   PyObject *o = __pyx_tp_new_5capnp_3lib_5capnp_DummyBaseClass(t, a, k);
   if (unlikely(!o)) return 0;
   p = ((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)o);
   p->__pyx_vtab = __pyx_vtabptr_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol;
   new((void*)&(p->write_pieces))  ::kj::ArrayPtr< ::kj::ArrayPtr<uint8_t const >  const > ();
-  p->__dict__ = PyDict_New(); if (unlikely(!p->__dict__)) goto bad;p->transport = Py_None; Py_INCREF(Py_None);
+  p->_task = Py_None; Py_INCREF(Py_None);
+  p->transport = Py_None; Py_INCREF(Py_None);
   p->connected_callback = Py_None; Py_INCREF(Py_None);
   p->callback_arg = Py_None; Py_INCREF(Py_None);
   p->read_overflow_buffer = ((PyObject*)Py_None); Py_INCREF(Py_None);
   p->read_overflow_buffer_current = ((PyObject*)Py_None); Py_INCREF(Py_None);
   return o;
-  bad:
-  Py_DECREF(o); o = 0;
-  return NULL;
 }
 
 static void __pyx_tp_dealloc_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol(PyObject *o) {
   struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *p = (struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)o;
   #if CYTHON_USE_TP_FINALIZE
   if (unlikely(PyType_HasFeature(Py_TYPE(o), Py_TPFLAGS_HAVE_FINALIZE) && Py_TYPE(o)->tp_finalize) && !__Pyx_PyObject_GC_IsFinalized(o)) {
     if (PyObject_CallFinalizerFromDealloc(o)) return;
   }
   #endif
   PyObject_GC_UnTrack(o);
-  if (p->__dict__) PyDict_Clear(p->__dict__);
   __Pyx_call_destructor(p->write_pieces);
-  Py_CLEAR(p->__dict__);
+  Py_CLEAR(p->_task);
   Py_CLEAR(p->transport);
   Py_CLEAR(p->connected_callback);
   Py_CLEAR(p->callback_arg);
   Py_CLEAR(p->read_overflow_buffer);
   Py_CLEAR(p->read_overflow_buffer_current);
   if (PyType_IS_GC(__pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass)) PyObject_GC_Track(o);
   __pyx_tp_dealloc_5capnp_3lib_5capnp_DummyBaseClass(o);
 }
 
 static int __pyx_tp_traverse_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol(PyObject *o, visitproc v, void *a) {
   int e;
   struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *p = (struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)o;
   e = ((likely(__pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass)) ? ((__pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass->tp_traverse) ? __pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass->tp_traverse(o, v, a) : 0) : __Pyx_call_next_tp_traverse(o, v, a, __pyx_tp_traverse_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol)); if (e) return e;
-  if (p->__dict__) {
-    e = (*v)(p->__dict__, a); if (e) return e;
+  if (p->_task) {
+    e = (*v)(p->_task, a); if (e) return e;
   }
   if (p->transport) {
     e = (*v)(p->transport, a); if (e) return e;
   }
   if (p->connected_callback) {
     e = (*v)(p->connected_callback, a); if (e) return e;
   }
@@ -99546,38 +99743,29 @@
   return 0;
 }
 
 static int __pyx_tp_clear_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol(PyObject *o) {
   PyObject* tmp;
   struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *p = (struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)o;
   if (likely(__pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass)) { if (__pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass->tp_clear) __pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol);
-  tmp = ((PyObject*)p->__dict__);
-  p->__dict__ = ((PyObject*)Py_None); Py_INCREF(Py_None);
+  tmp = ((PyObject*)p->_task);
+  p->_task = Py_None; Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->transport);
   p->transport = Py_None; Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->connected_callback);
   p->connected_callback = Py_None; Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->callback_arg);
   p->callback_arg = Py_None; Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   return 0;
 }
 
-static PyObject *__pyx___dict__getter_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol(PyObject *o, CYTHON_UNUSED void *x) {
-  struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *p = (struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)o;
-  if (unlikely(!p->__dict__)){
-    p->__dict__ = PyDict_New();
-  }
-  Py_XINCREF(p->__dict__);
-  return p->__dict__;
-}
-
 static PyObject *__pyx_getprop_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_transport(PyObject *o, CYTHON_UNUSED void *x) {
   return __pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_9transport_1__get__(o);
 }
 
 static int __pyx_setprop_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_transport(PyObject *o, PyObject *v, CYTHON_UNUSED void *x) {
   if (v) {
     return __pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_9transport_3__set__(o, v);
@@ -99597,15 +99785,14 @@
   {"eof_received", (PyCFunction)__pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_15eof_received, METH_NOARGS, __pyx_doc_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_14eof_received},
   {"__reduce_cython__", (PyCFunction)__pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_17__reduce_cython__, METH_NOARGS, __pyx_doc_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_16__reduce_cython__},
   {"__setstate_cython__", (PyCFunction)__pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_19__setstate_cython__, METH_O, __pyx_doc_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_18__setstate_cython__},
   {0, 0, 0, 0}
 };
 
 static struct PyGetSetDef __pyx_getsets_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol[] = {
-  {(char *)"__dict__", __pyx___dict__getter_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol, 0, (char *)0, 0},
   {(char *)"transport", __pyx_getprop_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_transport, __pyx_setprop_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_transport, (char *)"transport: object", 0},
   {0, 0, 0, 0, 0}
 };
 
 static PyTypeObject __pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol = {
   PyVarObject_HEAD_INIT(0, 0)
   "capnp.lib.capnp._PyAsyncIoStreamProtocol", /*tp_name*/
@@ -99647,15 +99834,15 @@
   __pyx_methods_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol, /*tp_methods*/
   0, /*tp_members*/
   __pyx_getsets_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol, /*tp_getset*/
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
-  offsetof(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol, __dict__), /*tp_dictoffset*/
+  0, /*tp_dictoffset*/
   __pyx_pw_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_1__init__, /*tp_init*/
   0, /*tp_alloc*/
   __pyx_tp_new_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
@@ -104648,49 +104835,167 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_14___get__[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_14___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *p;
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_14___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14___get__];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made));
     (void) PyObject_INIT(o, t);
+    PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
-  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *)o);
+  return o;
+}
+
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *)o;
+  PyObject_GC_UnTrack(o);
+  Py_CLEAR(p->__pyx_v_self);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *)o);
+  } else {
+    (*Py_TYPE(o)->tp_free)(o);
+  }
+}
+
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made(PyObject *o, visitproc v, void *a) {
+  int e;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *)o;
+  if (p->__pyx_v_self) {
+    e = (*v)(((PyObject *)p->__pyx_v_self), a); if (e) return e;
+  }
+  return 0;
+}
+
+static int __pyx_tp_clear_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made(PyObject *o) {
+  PyObject* tmp;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made *)o;
+  tmp = ((PyObject*)p->__pyx_v_self);
+  p->__pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *)Py_None); Py_INCREF(Py_None);
+  Py_XDECREF(tmp);
+  return 0;
+}
+
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made = {
+  PyVarObject_HEAD_INIT(0, 0)
+  "capnp.lib.capnp.__pyx_scope_struct_14_connection_made", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made), /*tp_basicsize*/
+  0, /*tp_itemsize*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made, /*tp_dealloc*/
+  #if PY_VERSION_HEX < 0x030800b4
+  0, /*tp_print*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4
+  0, /*tp_vectorcall_offset*/
+  #endif
+  0, /*tp_getattr*/
+  0, /*tp_setattr*/
+  #if PY_MAJOR_VERSION < 3
+  0, /*tp_compare*/
+  #endif
+  #if PY_MAJOR_VERSION >= 3
+  0, /*tp_as_async*/
+  #endif
+  0, /*tp_repr*/
+  0, /*tp_as_number*/
+  0, /*tp_as_sequence*/
+  0, /*tp_as_mapping*/
+  0, /*tp_hash*/
+  0, /*tp_call*/
+  0, /*tp_str*/
+  0, /*tp_getattro*/
+  0, /*tp_setattro*/
+  0, /*tp_as_buffer*/
+  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
+  0, /*tp_doc*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made, /*tp_traverse*/
+  __pyx_tp_clear_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made, /*tp_clear*/
+  0, /*tp_richcompare*/
+  0, /*tp_weaklistoffset*/
+  0, /*tp_iter*/
+  0, /*tp_iternext*/
+  0, /*tp_methods*/
+  0, /*tp_members*/
+  0, /*tp_getset*/
+  0, /*tp_base*/
+  0, /*tp_dict*/
+  0, /*tp_descr_get*/
+  0, /*tp_descr_set*/
+  0, /*tp_dictoffset*/
+  0, /*tp_init*/
+  0, /*tp_alloc*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made, /*tp_new*/
+  0, /*tp_free*/
+  0, /*tp_is_gc*/
+  0, /*tp_bases*/
+  0, /*tp_mro*/
+  0, /*tp_cache*/
+  0, /*tp_subclasses*/
+  0, /*tp_weaklist*/
+  0, /*tp_del*/
+  0, /*tp_version_tag*/
+  #if PY_VERSION_HEX >= 0x030400a1
+  0, /*tp_finalize*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b1 && (!CYTHON_COMPILING_IN_PYPY || PYPY_VERSION_NUM >= 0x07030800)
+  0, /*tp_vectorcall*/
+  #endif
+  #if PY_VERSION_HEX >= 0x030800b4 && PY_VERSION_HEX < 0x03090000
+  0, /*tp_print*/
+  #endif
+  #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
+  0, /*tp_pypy_flags*/
+  #endif
+};
+
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_15___get__[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ = 0;
+
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_15___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *p;
+  PyObject *o;
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_15___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15___get__];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__));
+    (void) PyObject_INIT(o, t);
+  } else {
+    o = (*t->tp_alloc)(t, 0);
+    if (unlikely(!o)) return 0;
+  }
+  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *)o);
   new((void*)&(p->__pyx_v_fieldlist))  ::capnp::StructSchema::FieldList();
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_14___get__(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_15___get__(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *)o;
   __Pyx_call_destructor(p->__pyx_v_fieldlist);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_14___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_14___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_15___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_14___get__", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_14___get__), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_15___get__", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15___get__), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_14___get__, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_15___get__, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -104725,15 +105030,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_14___get__, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_15___get__, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -104749,57 +105054,57 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_15_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_16_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -104818,15 +105123,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -104834,15 +105139,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -104858,49 +105163,49 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_16___get__[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_17___get__[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_16___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *p;
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_17___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *p;
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_16___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16___get__];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_17___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17___get__];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__));
     (void) PyObject_INIT(o, t);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
-  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *)o);
+  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *)o);
   new((void*)&(p->__pyx_v_fieldlist))  ::capnp::StructSchema::FieldSubset();
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_16___get__(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_17___get__(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *)o;
   __Pyx_call_destructor(p->__pyx_v_fieldlist);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_16___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_16___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_17___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_16___get__", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_16___get__), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_17___get__", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17___get__), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_16___get__, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_17___get__, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -104935,15 +105240,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_16___get__, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_17___get__, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -104959,57 +105264,57 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_17_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_18_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105028,15 +105333,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -105044,15 +105349,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105068,49 +105373,49 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_18___get__[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_19___get__[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_18___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *p;
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_19___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *p;
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_18___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18___get__];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_19___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19___get__];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__));
     (void) PyObject_INIT(o, t);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
-  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *)o);
+  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *)o);
   new((void*)&(p->__pyx_v_fieldlist))  ::capnp::StructSchema::FieldSubset();
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_18___get__(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_19___get__(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *)o;
   __Pyx_call_destructor(p->__pyx_v_fieldlist);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_18___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_18___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_19___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_18___get__", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_18___get__), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_19___get__", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19___get__), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_18___get__, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_19___get__, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105145,15 +105450,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_18___get__, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_19___get__, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105169,57 +105474,57 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_19_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_20_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105238,15 +105543,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -105254,15 +105559,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105278,49 +105583,49 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_20___get__[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_21___get__[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_20___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *p;
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_21___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *p;
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_20___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20___get__];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_21___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21___get__];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__));
     (void) PyObject_INIT(o, t);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
-  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *)o);
+  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *)o);
   new((void*)&(p->__pyx_v_fieldlist))  ::capnp::InterfaceSchema::MethodList();
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_20___get__(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_21___get__(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *)o;
   __Pyx_call_destructor(p->__pyx_v_fieldlist);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_20___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_20___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_21___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_20___get__", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_20___get__), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_21___get__", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21___get__), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_20___get__, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_21___get__, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105355,15 +105660,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_20___get__, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_21___get__, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105379,57 +105684,57 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_21_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_22_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105448,15 +105753,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -105464,15 +105769,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105488,49 +105793,49 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_22___get__[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_23___get__[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_22___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *p;
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_23___get__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *p;
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_22___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22___get__];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_23___get__[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23___get__];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__));
     (void) PyObject_INIT(o, t);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
-  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *)o);
+  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *)o);
   new((void*)&(p->__pyx_v_fieldlist))  ::capnp::InterfaceSchema::MethodList();
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_22___get__(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_23___get__(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *)o;
   __Pyx_call_destructor(p->__pyx_v_fieldlist);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_22___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_22___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_23___get__[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23___get__++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_22___get__", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_22___get__), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_23___get__", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23___get__), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_22___get__, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_23___get__, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105565,15 +105870,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_22___get__, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_23___get__, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105589,57 +105894,57 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr *)o;
   if (p->__pyx_outer_scope) {
     e = (*v)(((PyObject *)p->__pyx_outer_scope), a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_23_genexpr", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_24_genexpr", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105658,15 +105963,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr, /*tp_traverse*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -105674,15 +105979,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105698,53 +106003,53 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *p;
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *p;
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
-  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *)o);
+  p = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *)o);
   new((void*)&(p->__pyx_v_opts))  ::capnp::ReaderOptions();
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *)o;
   PyObject_GC_UnTrack(o);
   __Pyx_call_destructor(p->__pyx_v_opts);
   Py_CLEAR(p->__pyx_v_nesting_limit);
   Py_CLEAR(p->__pyx_v_reader);
   Py_CLEAR(p->__pyx_v_self);
   Py_CLEAR(p->__pyx_v_stream);
   Py_CLEAR(p->__pyx_v_traversal_limit_in_words);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async *)o;
   if (p->__pyx_v_nesting_limit) {
     e = (*v)(p->__pyx_v_nesting_limit, a); if (e) return e;
   }
   if (p->__pyx_v_reader) {
     e = (*v)(p->__pyx_v_reader, a); if (e) return e;
   }
   if (p->__pyx_v_self) {
@@ -105755,20 +106060,20 @@
   }
   if (p->__pyx_v_traversal_limit_in_words) {
     e = (*v)(p->__pyx_v_traversal_limit_in_words, a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_24_read_async", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_25_read_async", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105787,15 +106092,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async, /*tp_traverse*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -105803,15 +106108,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105827,50 +106132,50 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_buf);
   Py_CLEAR(p->__pyx_v_builder);
   Py_CLEAR(p->__pyx_v_message);
   Py_CLEAR(p->__pyx_v_nesting_limit);
   Py_CLEAR(p->__pyx_v_self);
   Py_CLEAR(p->__pyx_v_traversal_limit_in_words);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes *)o;
   if (p->__pyx_v_buf) {
     e = (*v)(p->__pyx_v_buf, a); if (e) return e;
   }
   if (p->__pyx_v_builder) {
     e = (*v)(p->__pyx_v_builder, a); if (e) return e;
   }
   if (p->__pyx_v_message) {
@@ -105884,20 +106189,20 @@
   }
   if (p->__pyx_v_traversal_limit_in_words) {
     e = (*v)(p->__pyx_v_traversal_limit_in_words, a); if (e) return e;
   }
   return 0;
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_25_from_bytes", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_26_from_bytes", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -105916,15 +106221,15 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes, /*tp_traverse*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes, /*tp_traverse*/
   0, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
@@ -105932,15 +106237,15 @@
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -105956,73 +106261,73 @@
   0, /*tp_print*/
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 
-static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_26_load[8];
-static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_load = 0;
+static struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_27_load[8];
+static int __pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_27_load = 0;
 
-static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_26_load(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
+static PyObject *__pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_27_load(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
-  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_load > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load)))) {
-    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_26_load[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_load];
-    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load));
+  if (CYTHON_COMPILING_IN_CPYTHON && likely((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_27_load > 0) & (t->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load)))) {
+    o = (PyObject*)__pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_27_load[--__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_27_load];
+    memset(o, 0, sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else {
     o = (*t->tp_alloc)(t, 0);
     if (unlikely(!o)) return 0;
   }
   return o;
 }
 
-static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_26_load(PyObject *o) {
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *)o;
+static void __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_27_load(PyObject *o) {
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *)o;
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v__load);
   Py_CLEAR(p->__pyx_v_self);
-  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_load < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load)))) {
-    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_26_load[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_26_load++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *)o);
+  if (CYTHON_COMPILING_IN_CPYTHON && ((__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_27_load < 8) & (Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load)))) {
+    __pyx_freelist_5capnp_3lib_5capnp___pyx_scope_struct_27_load[__pyx_freecount_5capnp_3lib_5capnp___pyx_scope_struct_27_load++] = ((struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *)o);
   } else {
     (*Py_TYPE(o)->tp_free)(o);
   }
 }
 
-static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_26_load(PyObject *o, visitproc v, void *a) {
+static int __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_27_load(PyObject *o, visitproc v, void *a) {
   int e;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *)o;
   if (p->__pyx_v__load) {
     e = (*v)(p->__pyx_v__load, a); if (e) return e;
   }
   if (p->__pyx_v_self) {
     e = (*v)(((PyObject *)p->__pyx_v_self), a); if (e) return e;
   }
   return 0;
 }
 
-static int __pyx_tp_clear_5capnp_3lib_5capnp___pyx_scope_struct_26_load(PyObject *o) {
+static int __pyx_tp_clear_5capnp_3lib_5capnp___pyx_scope_struct_27_load(PyObject *o) {
   PyObject* tmp;
-  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load *)o;
+  struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *p = (struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load *)o;
   tmp = ((PyObject*)p->__pyx_v__load);
   p->__pyx_v__load = Py_None; Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->__pyx_v_self);
   p->__pyx_v_self = ((struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   return 0;
 }
 
-static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_load = {
+static PyTypeObject __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_27_load = {
   PyVarObject_HEAD_INIT(0, 0)
-  "capnp.lib.capnp.__pyx_scope_struct_26_load", /*tp_name*/
-  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_26_load), /*tp_basicsize*/
+  "capnp.lib.capnp.__pyx_scope_struct_27_load", /*tp_name*/
+  sizeof(struct __pyx_obj_5capnp_3lib_5capnp___pyx_scope_struct_27_load), /*tp_basicsize*/
   0, /*tp_itemsize*/
-  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_26_load, /*tp_dealloc*/
+  __pyx_tp_dealloc_5capnp_3lib_5capnp___pyx_scope_struct_27_load, /*tp_dealloc*/
   #if PY_VERSION_HEX < 0x030800b4
   0, /*tp_print*/
   #endif
   #if PY_VERSION_HEX >= 0x030800b4
   0, /*tp_vectorcall_offset*/
   #endif
   0, /*tp_getattr*/
@@ -106041,31 +106346,31 @@
   0, /*tp_call*/
   0, /*tp_str*/
   0, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   0, /*tp_doc*/
-  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_26_load, /*tp_traverse*/
-  __pyx_tp_clear_5capnp_3lib_5capnp___pyx_scope_struct_26_load, /*tp_clear*/
+  __pyx_tp_traverse_5capnp_3lib_5capnp___pyx_scope_struct_27_load, /*tp_traverse*/
+  __pyx_tp_clear_5capnp_3lib_5capnp___pyx_scope_struct_27_load, /*tp_clear*/
   0, /*tp_richcompare*/
   0, /*tp_weaklistoffset*/
   0, /*tp_iter*/
   0, /*tp_iternext*/
   0, /*tp_methods*/
   0, /*tp_members*/
   0, /*tp_getset*/
   0, /*tp_base*/
   0, /*tp_dict*/
   0, /*tp_descr_get*/
   0, /*tp_descr_set*/
   0, /*tp_dictoffset*/
   0, /*tp_init*/
   0, /*tp_alloc*/
-  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_26_load, /*tp_new*/
+  __pyx_tp_new_5capnp_3lib_5capnp___pyx_scope_struct_27_load, /*tp_new*/
   0, /*tp_free*/
   0, /*tp_is_gc*/
   0, /*tp_bases*/
   0, /*tp_mro*/
   0, /*tp_cache*/
   0, /*tp_subclasses*/
   0, /*tp_weaklist*/
@@ -106150,14 +106455,15 @@
   {&__pyx_n_s_BufferedProtocol, __pyx_k_BufferedProtocol, sizeof(__pyx_k_BufferedProtocol), 0, 0, 1, 1},
   {&__pyx_n_s_Builder, __pyx_k_Builder, sizeof(__pyx_k_Builder), 0, 0, 1, 1},
   {&__pyx_n_s_CAPNP_VERSION, __pyx_k_CAPNP_VERSION, sizeof(__pyx_k_CAPNP_VERSION), 0, 0, 1, 1},
   {&__pyx_n_s_CAPNP_VERSION_MAJOR, __pyx_k_CAPNP_VERSION_MAJOR, sizeof(__pyx_k_CAPNP_VERSION_MAJOR), 0, 0, 1, 1},
   {&__pyx_n_s_CAPNP_VERSION_MICRO, __pyx_k_CAPNP_VERSION_MICRO, sizeof(__pyx_k_CAPNP_VERSION_MICRO), 0, 0, 1, 1},
   {&__pyx_n_s_CAPNP_VERSION_MINOR, __pyx_k_CAPNP_VERSION_MINOR, sizeof(__pyx_k_CAPNP_VERSION_MINOR), 0, 0, 1, 1},
   {&__pyx_n_s_CallContext, __pyx_k_CallContext, sizeof(__pyx_k_CallContext), 0, 0, 1, 1},
+  {&__pyx_kp_u_Cancelled_server_method, __pyx_k_Cancelled_server_method, sizeof(__pyx_k_Cancelled_server_method), 0, 1, 0, 0},
   {&__pyx_kp_s_Cannot_call_method_with_position, __pyx_k_Cannot_call_method_with_position, sizeof(__pyx_k_Cannot_call_method_with_position), 0, 0, 1, 0},
   {&__pyx_kp_s_Cannot_convert_type_to_Python_Ty, __pyx_k_Cannot_convert_type_to_Python_Ty, sizeof(__pyx_k_Cannot_convert_type_to_Python_Ty), 0, 0, 1, 0},
   {&__pyx_kp_s_Cannot_convert_type_to_Python_Ty_2, __pyx_k_Cannot_convert_type_to_Python_Ty_2, sizeof(__pyx_k_Cannot_convert_type_to_Python_Ty_2), 0, 0, 1, 0},
   {&__pyx_n_s_CapabilityClient, __pyx_k_CapabilityClient, sizeof(__pyx_k_CapabilityClient), 0, 0, 1, 1},
   {&__pyx_kp_b_Couldn_t_determine_python_except, __pyx_k_Couldn_t_determine_python_except, sizeof(__pyx_k_Couldn_t_determine_python_except), 0, 0, 0, 0},
   {&__pyx_kp_s_Currently_you_cannot_poll_promis, __pyx_k_Currently_you_cannot_poll_promis, sizeof(__pyx_k_Currently_you_cannot_poll_promis), 0, 0, 1, 0},
   {&__pyx_kp_s_Currently_you_cannot_wait_for_pr, __pyx_k_Currently_you_cannot_wait_for_pr, sizeof(__pyx_k_Currently_you_cannot_wait_for_pr), 0, 0, 1, 0},
@@ -106180,23 +106486,23 @@
   {&__pyx_n_s_DynamicStructReader, __pyx_k_DynamicStructReader, sizeof(__pyx_k_DynamicStructReader), 0, 0, 1, 1},
   {&__pyx_n_s_EOF, __pyx_k_EOF, sizeof(__pyx_k_EOF), 0, 0, 1, 1},
   {&__pyx_n_s_Enum, __pyx_k_Enum, sizeof(__pyx_k_Enum), 0, 0, 1, 1},
   {&__pyx_n_s_EnumModule, __pyx_k_EnumModule, sizeof(__pyx_k_EnumModule), 0, 0, 1, 1},
   {&__pyx_n_s_EnumModule___init, __pyx_k_EnumModule___init, sizeof(__pyx_k_EnumModule___init), 0, 0, 1, 1},
   {&__pyx_n_s_EnumSchema, __pyx_k_EnumSchema, sizeof(__pyx_k_EnumSchema), 0, 0, 1, 1},
   {&__pyx_n_s_EventLoop, __pyx_k_EventLoop, sizeof(__pyx_k_EventLoop), 0, 0, 1, 1},
+  {&__pyx_kp_s_Exception_in_pycapnp_server_call, __pyx_k_Exception_in_pycapnp_server_call, sizeof(__pyx_k_Exception_in_pycapnp_server_call), 0, 0, 1, 0},
   {&__pyx_n_s_FAILED, __pyx_k_FAILED, sizeof(__pyx_k_FAILED), 0, 0, 1, 1},
   {&__pyx_kp_s_File_does_not_end_with_capnp, __pyx_k_File_does_not_end_with_capnp, sizeof(__pyx_k_File_does_not_end_with_capnp), 0, 0, 1, 0},
   {&__pyx_kp_s_File_not_found, __pyx_k_File_not_found, sizeof(__pyx_k_File_not_found), 0, 0, 1, 0},
   {&__pyx_n_s_Float32, __pyx_k_Float32, sizeof(__pyx_k_Float32), 0, 0, 1, 1},
   {&__pyx_n_s_Float64, __pyx_k_Float64, sizeof(__pyx_k_Float64), 0, 0, 1, 1},
   {&__pyx_n_s_IOError, __pyx_k_IOError, sizeof(__pyx_k_IOError), 0, 0, 1, 1},
   {&__pyx_kp_s_If_you_have_a_use_case_to_poll_t, __pyx_k_If_you_have_a_use_case_to_poll_t, sizeof(__pyx_k_If_you_have_a_use_case_to_poll_t), 0, 0, 1, 0},
   {&__pyx_n_s_Importer, __pyx_k_Importer, sizeof(__pyx_k_Importer), 0, 0, 1, 1},
-  {&__pyx_n_s_Importer___init, __pyx_k_Importer___init, sizeof(__pyx_k_Importer___init), 0, 0, 1, 1},
   {&__pyx_n_s_Importer_find_spec, __pyx_k_Importer_find_spec, sizeof(__pyx_k_Importer_find_spec), 0, 0, 1, 1},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0, __pyx_k_Incompatible_checksums_0x_x_vs_0, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0), 0, 0, 1, 0},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_2, __pyx_k_Incompatible_checksums_0x_x_vs_0_2, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_2), 0, 0, 1, 0},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_3, __pyx_k_Incompatible_checksums_0x_x_vs_0_3, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_3), 0, 0, 1, 0},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_4, __pyx_k_Incompatible_checksums_0x_x_vs_0_4, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_4), 0, 0, 1, 0},
   {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0_5, __pyx_k_Incompatible_checksums_0x_x_vs_0_5, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0_5), 0, 0, 1, 0},
   {&__pyx_n_s_IndexError, __pyx_k_IndexError, sizeof(__pyx_k_IndexError), 0, 0, 1, 1},
@@ -106239,15 +106545,14 @@
   {&__pyx_n_s_ModuleSpec, __pyx_k_ModuleSpec, sizeof(__pyx_k_ModuleSpec), 0, 0, 1, 1},
   {&__pyx_n_s_ModuleType, __pyx_k_ModuleType, sizeof(__pyx_k_ModuleType), 0, 0, 1, 1},
   {&__pyx_n_s_ModuleType_2, __pyx_k_ModuleType_2, sizeof(__pyx_k_ModuleType_2), 0, 0, 1, 1},
   {&__pyx_n_s_MultipleBytesMessageReader, __pyx_k_MultipleBytesMessageReader, sizeof(__pyx_k_MultipleBytesMessageReader), 0, 0, 1, 1},
   {&__pyx_n_s_MultipleBytesPackedMessageReade, __pyx_k_MultipleBytesPackedMessageReade, sizeof(__pyx_k_MultipleBytesPackedMessageReade), 0, 0, 1, 1},
   {&__pyx_n_s_MultipleMessageReader, __pyx_k_MultipleMessageReader, sizeof(__pyx_k_MultipleMessageReader), 0, 0, 1, 1},
   {&__pyx_n_s_MultiplePackedMessageReader, __pyx_k_MultiplePackedMessageReader, sizeof(__pyx_k_MultiplePackedMessageReader), 0, 0, 1, 1},
-  {&__pyx_n_s_NameError, __pyx_k_NameError, sizeof(__pyx_k_NameError), 0, 0, 1, 1},
   {&__pyx_n_s_NestedNodeReader, __pyx_k_NestedNodeReader, sizeof(__pyx_k_NestedNodeReader), 0, 0, 1, 1},
   {&__pyx_n_s_NodeReader, __pyx_k_NodeReader, sizeof(__pyx_k_NodeReader), 0, 0, 1, 1},
   {&__pyx_n_s_NotImplementedError, __pyx_k_NotImplementedError, sizeof(__pyx_k_NotImplementedError), 0, 0, 1, 1},
   {&__pyx_n_s_OTHER, __pyx_k_OTHER, sizeof(__pyx_k_OTHER), 0, 0, 1, 1},
   {&__pyx_n_s_OVERLOADED, __pyx_k_OVERLOADED, sizeof(__pyx_k_OVERLOADED), 0, 0, 1, 1},
   {&__pyx_n_s_OrderedDict, __pyx_k_OrderedDict, sizeof(__pyx_k_OrderedDict), 0, 0, 1, 1},
   {&__pyx_kp_s_Out_of_bounds, __pyx_k_Out_of_bounds, sizeof(__pyx_k_Out_of_bounds), 0, 0, 1, 0},
@@ -106329,27 +106634,25 @@
   {&__pyx_n_s_ValueError, __pyx_k_ValueError, sizeof(__pyx_k_ValueError), 0, 0, 1, 1},
   {&__pyx_n_s_Void, __pyx_k_Void, sizeof(__pyx_k_Void), 0, 0, 1, 1},
   {&__pyx_n_s_VoidPromiseFulfiller, __pyx_k_VoidPromiseFulfiller, sizeof(__pyx_k_VoidPromiseFulfiller), 0, 0, 1, 1},
   {&__pyx_n_s_WeakSet, __pyx_k_WeakSet, sizeof(__pyx_k_WeakSet), 0, 0, 1, 1},
   {&__pyx_kp_s_You_can_only_call_write_on_the_m, __pyx_k_You_can_only_call_write_on_the_m, sizeof(__pyx_k_You_can_only_call_write_on_the_m), 0, 0, 1, 0},
   {&__pyx_kp_s_You_must_provide_a_bootstrap_int, __pyx_k_You_must_provide_a_bootstrap_int, sizeof(__pyx_k_You_must_provide_a_bootstrap_int), 0, 0, 1, 0},
   {&__pyx_kp_s_You_should_instead_use_await_If, __pyx_k_You_should_instead_use_await_If, sizeof(__pyx_k_You_should_instead_use_await_If), 0, 0, 1, 0},
-  {&__pyx_kp_s__150, __pyx_k__150, sizeof(__pyx_k__150), 0, 0, 1, 0},
-  {&__pyx_n_s__151, __pyx_k__151, sizeof(__pyx_k__151), 0, 0, 1, 1},
   {&__pyx_kp_s__152, __pyx_k__152, sizeof(__pyx_k__152), 0, 0, 1, 0},
+  {&__pyx_n_s__153, __pyx_k__153, sizeof(__pyx_k__153), 0, 0, 1, 1},
   {&__pyx_kp_s__154, __pyx_k__154, sizeof(__pyx_k__154), 0, 0, 1, 0},
-  {&__pyx_kp_s__157, __pyx_k__157, sizeof(__pyx_k__157), 0, 0, 1, 0},
+  {&__pyx_kp_s__156, __pyx_k__156, sizeof(__pyx_k__156), 0, 0, 1, 0},
   {&__pyx_kp_b__3, __pyx_k__3, sizeof(__pyx_k__3), 0, 0, 0, 0},
   {&__pyx_kp_s__3, __pyx_k__3, sizeof(__pyx_k__3), 0, 0, 1, 0},
   {&__pyx_kp_s__8, __pyx_k__8, sizeof(__pyx_k__8), 0, 0, 1, 0},
   {&__pyx_n_s_abspath, __pyx_k_abspath, sizeof(__pyx_k_abspath), 0, 0, 1, 1},
   {&__pyx_n_s_add, __pyx_k_add, sizeof(__pyx_k_add), 0, 0, 1, 1},
   {&__pyx_n_s_add_done_callback, __pyx_k_add_done_callback, sizeof(__pyx_k_add_done_callback), 0, 0, 1, 1},
   {&__pyx_n_s_add_import_hook, __pyx_k_add_import_hook, sizeof(__pyx_k_add_import_hook), 0, 0, 1, 1},
-  {&__pyx_n_s_additional_paths, __pyx_k_additional_paths, sizeof(__pyx_k_additional_paths), 0, 0, 1, 1},
   {&__pyx_n_s_adopt, __pyx_k_adopt, sizeof(__pyx_k_adopt), 0, 0, 1, 1},
   {&__pyx_n_s_aenter, __pyx_k_aenter, sizeof(__pyx_k_aenter), 0, 0, 1, 1},
   {&__pyx_n_s_aexit, __pyx_k_aexit, sizeof(__pyx_k_aexit), 0, 0, 1, 1},
   {&__pyx_n_s_append, __pyx_k_append, sizeof(__pyx_k_append), 0, 0, 1, 1},
   {&__pyx_n_s_arg_name, __pyx_k_arg_name, sizeof(__pyx_k_arg_name), 0, 0, 1, 1},
   {&__pyx_n_s_arg_val, __pyx_k_arg_val, sizeof(__pyx_k_arg_val), 0, 0, 1, 1},
   {&__pyx_n_s_args, __pyx_k_args, sizeof(__pyx_k_args), 0, 0, 1, 1},
@@ -106375,31 +106678,34 @@
   {&__pyx_kp_s_backing_array_was_not_large_enou, __pyx_k_backing_array_was_not_large_enou, sizeof(__pyx_k_backing_array_was_not_large_enou), 0, 0, 1, 0},
   {&__pyx_n_s_base, __pyx_k_base, sizeof(__pyx_k_base), 0, 0, 1, 1},
   {&__pyx_n_s_basename, __pyx_k_basename, sizeof(__pyx_k_basename), 0, 0, 1, 1},
   {&__pyx_n_s_bootstrap, __pyx_k_bootstrap, sizeof(__pyx_k_bootstrap), 0, 0, 1, 1},
   {&__pyx_n_s_buf, __pyx_k_buf, sizeof(__pyx_k_buf), 0, 0, 1, 1},
   {&__pyx_n_s_builder, __pyx_k_builder, sizeof(__pyx_k_builder), 0, 0, 1, 1},
   {&__pyx_n_s_call, __pyx_k_call, sizeof(__pyx_k_call), 0, 0, 1, 1},
+  {&__pyx_n_s_call_exception_handler, __pyx_k_call_exception_handler, sizeof(__pyx_k_call_exception_handler), 0, 0, 1, 1},
   {&__pyx_n_s_call_server_method_locals_finali, __pyx_k_call_server_method_locals_finali, sizeof(__pyx_k_call_server_method_locals_finali), 0, 0, 1, 1},
   {&__pyx_n_s_call_soon, __pyx_k_call_soon, sizeof(__pyx_k_call_soon), 0, 0, 1, 1},
   {&__pyx_n_s_callback, __pyx_k_callback, sizeof(__pyx_k_callback), 0, 0, 1, 1},
   {&__pyx_n_s_callback_arg, __pyx_k_callback_arg, sizeof(__pyx_k_callback_arg), 0, 0, 1, 1},
   {&__pyx_n_s_can_write_eof, __pyx_k_can_write_eof, sizeof(__pyx_k_can_write_eof), 0, 0, 1, 1},
   {&__pyx_n_s_cancel, __pyx_k_cancel, sizeof(__pyx_k_cancel), 0, 0, 1, 1},
   {&__pyx_n_s_cancelled, __pyx_k_cancelled, sizeof(__pyx_k_cancelled), 0, 0, 1, 1},
   {&__pyx_n_s_cap_count, __pyx_k_cap_count, sizeof(__pyx_k_cap_count), 0, 0, 1, 1},
   {&__pyx_kp_s_capnp, __pyx_k_capnp, sizeof(__pyx_k_capnp), 0, 0, 1, 0},
   {&__pyx_n_s_capnp_2, __pyx_k_capnp_2, sizeof(__pyx_k_capnp_2), 0, 0, 1, 1},
+  {&__pyx_kp_s_capnp_3, __pyx_k_capnp_3, sizeof(__pyx_k_capnp_3), 0, 0, 1, 0},
+  {&__pyx_kp_s_capnp_4, __pyx_k_capnp_4, sizeof(__pyx_k_capnp_4), 0, 0, 1, 0},
   {&__pyx_n_s_capnp_lib_capnp, __pyx_k_capnp_lib_capnp, sizeof(__pyx_k_capnp_lib_capnp), 0, 0, 1, 1},
   {&__pyx_kp_s_capnp_lib_capnp_pyx, __pyx_k_capnp_lib_capnp_pyx, sizeof(__pyx_k_capnp_lib_capnp_pyx), 0, 0, 1, 0},
   {&__pyx_kp_s_capnp_list_builder_s, __pyx_k_capnp_list_builder_s, sizeof(__pyx_k_capnp_list_builder_s), 0, 0, 1, 0},
   {&__pyx_kp_s_capnp_list_reader_s, __pyx_k_capnp_list_reader_s, sizeof(__pyx_k_capnp_list_reader_s), 0, 0, 1, 0},
   {&__pyx_n_s_capnp_module_name, __pyx_k_capnp_module_name, sizeof(__pyx_k_capnp_module_name), 0, 0, 1, 1},
-  {&__pyx_n_s_capnp_module_name_dashes, __pyx_k_capnp_module_name_dashes, sizeof(__pyx_k_capnp_module_name_dashes), 0, 0, 1, 1},
-  {&__pyx_n_s_capnp_module_name_spaces, __pyx_k_capnp_module_name_spaces, sizeof(__pyx_k_capnp_module_name_spaces), 0, 0, 1, 1},
+  {&__pyx_n_s_capnp_module_names, __pyx_k_capnp_module_names, sizeof(__pyx_k_capnp_module_names), 0, 0, 1, 1},
+  {&__pyx_n_s_capnp_paths, __pyx_k_capnp_paths, sizeof(__pyx_k_capnp_paths), 0, 0, 1, 1},
   {&__pyx_kp_s_capnp_types, __pyx_k_capnp_types, sizeof(__pyx_k_capnp_types), 0, 0, 1, 0},
   {&__pyx_n_s_cast_as, __pyx_k_cast_as, sizeof(__pyx_k_cast_as), 0, 0, 1, 1},
   {&__pyx_n_s_class, __pyx_k_class, sizeof(__pyx_k_class), 0, 0, 1, 1},
   {&__pyx_n_s_cleanup_global_schema_parser, __pyx_k_cleanup_global_schema_parser, sizeof(__pyx_k_cleanup_global_schema_parser), 0, 0, 1, 1},
   {&__pyx_n_s_cline_in_traceback, __pyx_k_cline_in_traceback, sizeof(__pyx_k_cline_in_traceback), 0, 0, 1, 1},
   {&__pyx_n_s_close, __pyx_k_close, sizeof(__pyx_k_close), 0, 0, 1, 1},
   {&__pyx_n_s_closed_future, __pyx_k_closed_future, sizeof(__pyx_k_closed_future), 0, 0, 1, 1},
@@ -106407,14 +106713,15 @@
   {&__pyx_n_s_co_filename, __pyx_k_co_filename, sizeof(__pyx_k_co_filename), 0, 0, 1, 1},
   {&__pyx_n_s_codeOrder, __pyx_k_codeOrder, sizeof(__pyx_k_codeOrder), 0, 0, 1, 1},
   {&__pyx_n_s_collections, __pyx_k_collections, sizeof(__pyx_k_collections), 0, 0, 1, 1},
   {&__pyx_n_s_collections_2, __pyx_k_collections_2, sizeof(__pyx_k_collections_2), 0, 0, 1, 1},
   {&__pyx_n_s_connect, __pyx_k_connect, sizeof(__pyx_k_connect), 0, 0, 1, 1},
   {&__pyx_n_s_connected_callback, __pyx_k_connected_callback, sizeof(__pyx_k_connected_callback), 0, 0, 1, 1},
   {&__pyx_n_s_connection_lost, __pyx_k_connection_lost, sizeof(__pyx_k_connection_lost), 0, 0, 1, 1},
+  {&__pyx_n_s_connection_made_locals_done, __pyx_k_connection_made_locals_done, sizeof(__pyx_k_connection_made_locals_done), 0, 0, 1, 1},
   {&__pyx_n_s_context, __pyx_k_context, sizeof(__pyx_k_context), 0, 0, 1, 1},
   {&__pyx_n_s_context_2, __pyx_k_context_2, sizeof(__pyx_k_context_2), 0, 0, 1, 1},
   {&__pyx_n_s_contextlib, __pyx_k_contextlib, sizeof(__pyx_k_contextlib), 0, 0, 1, 1},
   {&__pyx_n_s_contextmanager, __pyx_k_contextmanager, sizeof(__pyx_k_contextmanager), 0, 0, 1, 1},
   {&__pyx_n_s_copy, __pyx_k_copy, sizeof(__pyx_k_copy), 0, 0, 1, 1},
   {&__pyx_n_s_coro, __pyx_k_coro, sizeof(__pyx_k_coro), 0, 0, 1, 1},
   {&__pyx_kp_s_could_not_get_read_buffer, __pyx_k_could_not_get_read_buffer, sizeof(__pyx_k_could_not_get_read_buffer), 0, 0, 1, 0},
@@ -106428,15 +106735,14 @@
   {&__pyx_n_s_create_unix_connection_locals_la, __pyx_k_create_unix_connection_locals_la, sizeof(__pyx_k_create_unix_connection_locals_la), 0, 0, 1, 1},
   {&__pyx_n_s_create_unix_server, __pyx_k_create_unix_server, sizeof(__pyx_k_create_unix_server), 0, 0, 1, 1},
   {&__pyx_n_s_create_unix_server_locals_lambda, __pyx_k_create_unix_server_locals_lambda, sizeof(__pyx_k_create_unix_server_locals_lambda), 0, 0, 1, 1},
   {&__pyx_n_s_data, __pyx_k_data, sizeof(__pyx_k_data), 0, 0, 1, 1},
   {&__pyx_n_s_deregister_all_types, __pyx_k_deregister_all_types, sizeof(__pyx_k_deregister_all_types), 0, 0, 1, 1},
   {&__pyx_n_s_description, __pyx_k_description, sizeof(__pyx_k_description), 0, 0, 1, 1},
   {&__pyx_n_s_dict, __pyx_k_dict, sizeof(__pyx_k_dict), 0, 0, 1, 1},
-  {&__pyx_n_s_dir_name, __pyx_k_dir_name, sizeof(__pyx_k_dir_name), 0, 0, 1, 1},
   {&__pyx_n_s_dirname, __pyx_k_dirname, sizeof(__pyx_k_dirname), 0, 0, 1, 1},
   {&__pyx_kp_u_disable, __pyx_k_disable, sizeof(__pyx_k_disable), 0, 1, 0, 0},
   {&__pyx_n_s_discriminantCount, __pyx_k_discriminantCount, sizeof(__pyx_k_discriminantCount), 0, 0, 1, 1},
   {&__pyx_n_s_discriminantValue, __pyx_k_discriminantValue, sizeof(__pyx_k_discriminantValue), 0, 0, 1, 1},
   {&__pyx_n_s_diskPath, __pyx_k_diskPath, sizeof(__pyx_k_diskPath), 0, 0, 1, 1},
   {&__pyx_n_s_disown, __pyx_k_disown, sizeof(__pyx_k_disown), 0, 0, 1, 1},
   {&__pyx_n_s_displayName, __pyx_k_displayName, sizeof(__pyx_k_displayName), 0, 0, 1, 1},
@@ -106453,23 +106759,20 @@
   {&__pyx_n_s_enum_name, __pyx_k_enum_name, sizeof(__pyx_k_enum_name), 0, 0, 1, 1},
   {&__pyx_n_s_enumerants, __pyx_k_enumerants, sizeof(__pyx_k_enumerants), 0, 0, 1, 1},
   {&__pyx_n_s_enumerate, __pyx_k_enumerate, sizeof(__pyx_k_enumerate), 0, 0, 1, 1},
   {&__pyx_n_s_enums, __pyx_k_enums, sizeof(__pyx_k_enums), 0, 0, 1, 1},
   {&__pyx_n_s_eq, __pyx_k_eq, sizeof(__pyx_k_eq), 0, 0, 1, 1},
   {&__pyx_n_s_err, __pyx_k_err, sizeof(__pyx_k_err), 0, 0, 1, 1},
   {&__pyx_n_s_exc, __pyx_k_exc, sizeof(__pyx_k_exc), 0, 0, 1, 1},
-  {&__pyx_n_s_exc_info, __pyx_k_exc_info, sizeof(__pyx_k_exc_info), 0, 0, 1, 1},
   {&__pyx_n_s_exception, __pyx_k_exception, sizeof(__pyx_k_exception), 0, 0, 1, 1},
   {&__pyx_n_s_exit, __pyx_k_exit, sizeof(__pyx_k_exit), 0, 0, 1, 1},
   {&__pyx_kp_s_expected_buffer_like_object_in_F, __pyx_k_expected_buffer_like_object_in_F, sizeof(__pyx_k_expected_buffer_like_object_in_F), 0, 0, 1, 0},
   {&__pyx_kp_s_expected_isSetInUnion_field, __pyx_k_expected_isSetInUnion_field, sizeof(__pyx_k_expected_isSetInUnion_field), 0, 0, 1, 0},
   {&__pyx_kp_s_expected_variable_length_string, __pyx_k_expected_variable_length_string, sizeof(__pyx_k_expected_variable_length_string), 0, 0, 1, 0},
   {&__pyx_n_s_extend, __pyx_k_extend, sizeof(__pyx_k_extend), 0, 0, 1, 1},
-  {&__pyx_n_s_extension, __pyx_k_extension, sizeof(__pyx_k_extension), 0, 0, 1, 1},
-  {&__pyx_n_s_extra_paths, __pyx_k_extra_paths, sizeof(__pyx_k_extra_paths), 0, 0, 1, 1},
   {&__pyx_n_s_f_code, __pyx_k_f_code, sizeof(__pyx_k_f_code), 0, 0, 1, 1},
   {&__pyx_n_s_fd, __pyx_k_fd, sizeof(__pyx_k_fd), 0, 0, 1, 1},
   {&__pyx_n_s_fdopen, __pyx_k_fdopen, sizeof(__pyx_k_fdopen), 0, 0, 1, 1},
   {&__pyx_n_s_field, __pyx_k_field, sizeof(__pyx_k_field), 0, 0, 1, 1},
   {&__pyx_n_s_field_schema, __pyx_k_field_schema, sizeof(__pyx_k_field_schema), 0, 0, 1, 1},
   {&__pyx_kp_s_field_schema_for_s, __pyx_k_field_schema_for_s, sizeof(__pyx_k_field_schema_for_s), 0, 0, 1, 0},
   {&__pyx_n_s_fieldnames, __pyx_k_fieldnames, sizeof(__pyx_k_fieldnames), 0, 0, 1, 1},
@@ -106512,15 +106815,14 @@
   {&__pyx_n_s_getcwd, __pyx_k_getcwd, sizeof(__pyx_k_getcwd), 0, 0, 1, 1},
   {&__pyx_n_s_getstate, __pyx_k_getstate, sizeof(__pyx_k_getstate), 0, 0, 1, 1},
   {&__pyx_n_s_global_schema_parser, __pyx_k_global_schema_parser, sizeof(__pyx_k_global_schema_parser), 0, 0, 1, 1},
   {&__pyx_n_s_group, __pyx_k_group, sizeof(__pyx_k_group), 0, 0, 1, 1},
   {&__pyx_n_s_has, __pyx_k_has, sizeof(__pyx_k_has), 0, 0, 1, 1},
   {&__pyx_n_s_has_by_field, __pyx_k_has_by_field, sizeof(__pyx_k_has_by_field), 0, 0, 1, 1},
   {&__pyx_kp_s_has_no_such, __pyx_k_has_no_such, sizeof(__pyx_k_has_no_such), 0, 0, 1, 0},
-  {&__pyx_n_s_has_underscores, __pyx_k_has_underscores, sizeof(__pyx_k_has_underscores), 0, 0, 1, 1},
   {&__pyx_n_s_host, __pyx_k_host, sizeof(__pyx_k_host), 0, 0, 1, 1},
   {&__pyx_n_s_id, __pyx_k_id, sizeof(__pyx_k_id), 0, 0, 1, 1},
   {&__pyx_n_s_import, __pyx_k_import, sizeof(__pyx_k_import), 0, 0, 1, 1},
   {&__pyx_n_s_importer, __pyx_k_importer, sizeof(__pyx_k_importer), 0, 0, 1, 1},
   {&__pyx_n_s_importlib_machinery, __pyx_k_importlib_machinery, sizeof(__pyx_k_importlib_machinery), 0, 0, 1, 1},
   {&__pyx_n_s_imports, __pyx_k_imports, sizeof(__pyx_k_imports), 0, 0, 1, 1},
   {&__pyx_n_s_index, __pyx_k_index, sizeof(__pyx_k_index), 0, 0, 1, 1},
@@ -106536,26 +106838,23 @@
   {&__pyx_n_s_inspect_2, __pyx_k_inspect_2, sizeof(__pyx_k_inspect_2), 0, 0, 1, 1},
   {&__pyx_n_s_instancecheck, __pyx_k_instancecheck, sizeof(__pyx_k_instancecheck), 0, 0, 1, 1},
   {&__pyx_kp_s_invalid_module_expected_got, __pyx_k_invalid_module_expected_got, sizeof(__pyx_k_invalid_module_expected_got), 0, 0, 1, 0},
   {&__pyx_n_s_isConst, __pyx_k_isConst, sizeof(__pyx_k_isConst), 0, 0, 1, 1},
   {&__pyx_n_s_isEnum, __pyx_k_isEnum, sizeof(__pyx_k_isEnum), 0, 0, 1, 1},
   {&__pyx_n_s_isInterface, __pyx_k_isInterface, sizeof(__pyx_k_isInterface), 0, 0, 1, 1},
   {&__pyx_n_s_isStruct, __pyx_k_isStruct, sizeof(__pyx_k_isStruct), 0, 0, 1, 1},
-  {&__pyx_n_s_is_abs, __pyx_k_is_abs, sizeof(__pyx_k_is_abs), 0, 0, 1, 1},
   {&__pyx_n_s_is_closing, __pyx_k_is_closing, sizeof(__pyx_k_is_closing), 0, 0, 1, 1},
-  {&__pyx_n_s_is_file, __pyx_k_is_file, sizeof(__pyx_k_is_file), 0, 0, 1, 1},
   {&__pyx_n_s_isabs, __pyx_k_isabs, sizeof(__pyx_k_isabs), 0, 0, 1, 1},
   {&__pyx_n_s_iscoroutine, __pyx_k_iscoroutine, sizeof(__pyx_k_iscoroutine), 0, 0, 1, 1},
   {&__pyx_n_s_isdir, __pyx_k_isdir, sizeof(__pyx_k_isdir), 0, 0, 1, 1},
   {&__pyx_kp_u_isenabled, __pyx_k_isenabled, sizeof(__pyx_k_isenabled), 0, 1, 0, 0},
   {&__pyx_n_s_isfile, __pyx_k_isfile, sizeof(__pyx_k_isfile), 0, 0, 1, 1},
   {&__pyx_n_s_items, __pyx_k_items, sizeof(__pyx_k_items), 0, 0, 1, 1},
   {&__pyx_n_s_iteritems, __pyx_k_iteritems, sizeof(__pyx_k_iteritems), 0, 0, 1, 1},
   {&__pyx_n_s_join, __pyx_k_join, sizeof(__pyx_k_join), 0, 0, 1, 1},
-  {&__pyx_n_s_join_path, __pyx_k_join_path, sizeof(__pyx_k_join_path), 0, 0, 1, 1},
   {&__pyx_n_s_key, __pyx_k_key, sizeof(__pyx_k_key), 0, 0, 1, 1},
   {&__pyx_n_s_kj_loop, __pyx_k_kj_loop, sizeof(__pyx_k_kj_loop), 0, 0, 1, 1},
   {&__pyx_n_s_kj_loop_2, __pyx_k_kj_loop_2, sizeof(__pyx_k_kj_loop_2), 0, 0, 1, 1},
   {&__pyx_n_s_kjpromise, __pyx_k_kjpromise, sizeof(__pyx_k_kjpromise), 0, 0, 1, 1},
   {&__pyx_n_s_klass, __pyx_k_klass, sizeof(__pyx_k_klass), 0, 0, 1, 1},
   {&__pyx_n_s_kwargs, __pyx_k_kwargs, sizeof(__pyx_k_kwargs), 0, 0, 1, 1},
   {&__pyx_n_s_line, __pyx_k_line, sizeof(__pyx_k_line), 0, 0, 1, 1},
@@ -106653,14 +106952,15 @@
   {&__pyx_n_s_pyx_unpickle__DynamicEnumField, __pyx_k_pyx_unpickle__DynamicEnumField, sizeof(__pyx_k_pyx_unpickle__DynamicEnumField), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle__DynamicResizable, __pyx_k_pyx_unpickle__DynamicResizable, sizeof(__pyx_k_pyx_unpickle__DynamicResizable), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle__MessageSize, __pyx_k_pyx_unpickle__MessageSize, sizeof(__pyx_k_pyx_unpickle__MessageSize), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_unpickle__MultipleBytesMes, __pyx_k_pyx_unpickle__MultipleBytesMes, sizeof(__pyx_k_pyx_unpickle__MultipleBytesMes), 0, 0, 1, 1},
   {&__pyx_n_s_pyx_vtable, __pyx_k_pyx_vtable, sizeof(__pyx_k_pyx_vtable), 0, 0, 1, 1},
   {&__pyx_n_s_qualname, __pyx_k_qualname, sizeof(__pyx_k_qualname), 0, 0, 1, 1},
   {&__pyx_n_s_r, __pyx_k_r, sizeof(__pyx_k_r), 0, 0, 1, 1},
+  {&__pyx_kp_u_raised_an_exception, __pyx_k_raised_an_exception, sizeof(__pyx_k_raised_an_exception), 0, 1, 0, 0},
   {&__pyx_n_s_random, __pyx_k_random, sizeof(__pyx_k_random), 0, 0, 1, 1},
   {&__pyx_n_s_random_2, __pyx_k_random_2, sizeof(__pyx_k_random_2), 0, 0, 1, 1},
   {&__pyx_n_s_range, __pyx_k_range, sizeof(__pyx_k_range), 0, 0, 1, 1},
   {&__pyx_n_s_raw_field, __pyx_k_raw_field, sizeof(__pyx_k_raw_field), 0, 0, 1, 1},
   {&__pyx_n_s_raw_schema, __pyx_k_raw_schema, sizeof(__pyx_k_raw_schema), 0, 0, 1, 1},
   {&__pyx_n_s_rb, __pyx_k_rb, sizeof(__pyx_k_rb), 0, 0, 1, 1},
   {&__pyx_n_s_read, __pyx_k_read, sizeof(__pyx_k_read), 0, 0, 1, 1},
@@ -106737,14 +107037,15 @@
   {&__pyx_n_s_size, __pyx_k_size, sizeof(__pyx_k_size), 0, 0, 1, 1},
   {&__pyx_n_s_skip_copy, __pyx_k_skip_copy, sizeof(__pyx_k_skip_copy), 0, 0, 1, 1},
   {&__pyx_n_s_slots, __pyx_k_slots, sizeof(__pyx_k_slots), 0, 0, 1, 1},
   {&__pyx_n_s_socket, __pyx_k_socket, sizeof(__pyx_k_socket), 0, 0, 1, 1},
   {&__pyx_n_s_socket_2, __pyx_k_socket_2, sizeof(__pyx_k_socket_2), 0, 0, 1, 1},
   {&__pyx_n_s_sorted, __pyx_k_sorted, sizeof(__pyx_k_sorted), 0, 0, 1, 1},
   {&__pyx_n_s_split, __pyx_k_split, sizeof(__pyx_k_split), 0, 0, 1, 1},
+  {&__pyx_n_s_startswith, __pyx_k_startswith, sizeof(__pyx_k_startswith), 0, 0, 1, 1},
   {&__pyx_n_s_staticmethod, __pyx_k_staticmethod, sizeof(__pyx_k_staticmethod), 0, 0, 1, 1},
   {&__pyx_n_s_str, __pyx_k_str, sizeof(__pyx_k_str), 0, 0, 1, 1},
   {&__pyx_n_s_str_2, __pyx_k_str_2, sizeof(__pyx_k_str_2), 0, 0, 1, 1},
   {&__pyx_n_s_stream, __pyx_k_stream, sizeof(__pyx_k_stream), 0, 0, 1, 1},
   {&__pyx_kp_s_stringsource, __pyx_k_stringsource, sizeof(__pyx_k_stringsource), 0, 0, 1, 0},
   {&__pyx_n_s_struct, __pyx_k_struct, sizeof(__pyx_k_struct), 0, 0, 1, 1},
   {&__pyx_n_s_struct_reducer, __pyx_k_struct_reducer, sizeof(__pyx_k_struct_reducer), 0, 0, 1, 1},
@@ -106753,20 +107054,18 @@
   {&__pyx_n_s_success, __pyx_k_success, sizeof(__pyx_k_success), 0, 0, 1, 1},
   {&__pyx_n_s_superclasses, __pyx_k_superclasses, sizeof(__pyx_k_superclasses), 0, 0, 1, 1},
   {&__pyx_n_s_sys, __pyx_k_sys, sizeof(__pyx_k_sys), 0, 0, 1, 1},
   {&__pyx_n_s_sys_2, __pyx_k_sys_2, sizeof(__pyx_k_sys_2), 0, 0, 1, 1},
   {&__pyx_n_s_tail_call, __pyx_k_tail_call, sizeof(__pyx_k_tail_call), 0, 0, 1, 1},
   {&__pyx_n_s_target, __pyx_k_target, sizeof(__pyx_k_target), 0, 0, 1, 1},
   {&__pyx_n_s_task, __pyx_k_task, sizeof(__pyx_k_task), 0, 0, 1, 1},
-  {&__pyx_n_s_task_2, __pyx_k_task_2, sizeof(__pyx_k_task_2), 0, 0, 1, 1},
   {&__pyx_n_s_tasks, __pyx_k_tasks, sizeof(__pyx_k_tasks), 0, 0, 1, 1},
   {&__pyx_n_s_tb_frame, __pyx_k_tb_frame, sizeof(__pyx_k_tb_frame), 0, 0, 1, 1},
   {&__pyx_n_s_tb_lineno, __pyx_k_tb_lineno, sizeof(__pyx_k_tb_lineno), 0, 0, 1, 1},
   {&__pyx_n_s_test, __pyx_k_test, sizeof(__pyx_k_test), 0, 0, 1, 1},
-  {&__pyx_n_s_this_file_path, __pyx_k_this_file_path, sizeof(__pyx_k_this_file_path), 0, 0, 1, 1},
   {&__pyx_n_s_threading, __pyx_k_threading, sizeof(__pyx_k_threading), 0, 0, 1, 1},
   {&__pyx_n_s_threading_2, __pyx_k_threading_2, sizeof(__pyx_k_threading_2), 0, 0, 1, 1},
   {&__pyx_n_s_throw, __pyx_k_throw, sizeof(__pyx_k_throw), 0, 0, 1, 1},
   {&__pyx_n_s_to_bytes, __pyx_k_to_bytes, sizeof(__pyx_k_to_bytes), 0, 0, 1, 1},
   {&__pyx_n_s_to_bytes_packed, __pyx_k_to_bytes_packed, sizeof(__pyx_k_to_bytes_packed), 0, 0, 1, 1},
   {&__pyx_n_s_to_bytes_packed_helper, __pyx_k_to_bytes_packed_helper, sizeof(__pyx_k_to_bytes_packed_helper), 0, 0, 1, 1},
   {&__pyx_n_s_to_dict, __pyx_k_to_dict, sizeof(__pyx_k_to_dict), 0, 0, 1, 1},
@@ -106785,17 +107084,15 @@
   {&__pyx_n_s_union_field, __pyx_k_union_field, sizeof(__pyx_k_union_field), 0, 0, 1, 1},
   {&__pyx_n_s_union_fields, __pyx_k_union_fields, sizeof(__pyx_k_union_fields), 0, 0, 1, 1},
   {&__pyx_n_s_upcast, __pyx_k_upcast, sizeof(__pyx_k_upcast), 0, 0, 1, 1},
   {&__pyx_n_s_update, __pyx_k_update, sizeof(__pyx_k_update), 0, 0, 1, 1},
   {&__pyx_n_s_upper, __pyx_k_upper, sizeof(__pyx_k_upper), 0, 0, 1, 1},
   {&__pyx_kp_s_using_wait_please_report, __pyx_k_using_wait_please_report, sizeof(__pyx_k_using_wait_please_report), 0, 0, 1, 0},
   {&__pyx_kp_s_usr_include, __pyx_k_usr_include, sizeof(__pyx_k_usr_include), 0, 0, 1, 0},
-  {&__pyx_kp_s_usr_include_capnp, __pyx_k_usr_include_capnp, sizeof(__pyx_k_usr_include_capnp), 0, 0, 1, 0},
   {&__pyx_kp_s_usr_local_include, __pyx_k_usr_local_include, sizeof(__pyx_k_usr_local_include), 0, 0, 1, 0},
-  {&__pyx_kp_s_usr_local_include_capnp, __pyx_k_usr_local_include_capnp, sizeof(__pyx_k_usr_local_include_capnp), 0, 0, 1, 0},
   {&__pyx_kp_s_utf_8, __pyx_k_utf_8, sizeof(__pyx_k_utf_8), 0, 0, 1, 0},
   {&__pyx_n_s_val, __pyx_k_val, sizeof(__pyx_k_val), 0, 0, 1, 1},
   {&__pyx_n_s_value, __pyx_k_value, sizeof(__pyx_k_value), 0, 0, 1, 1},
   {&__pyx_n_s_values, __pyx_k_values, sizeof(__pyx_k_values), 0, 0, 1, 1},
   {&__pyx_n_s_verbose, __pyx_k_verbose, sizeof(__pyx_k_verbose), 0, 0, 1, 1},
   {&__pyx_n_s_void_task_done_callback, __pyx_k_void_task_done_callback, sizeof(__pyx_k_void_task_done_callback), 0, 0, 1, 1},
   {&__pyx_n_s_w, __pyx_k_w, sizeof(__pyx_k_w), 0, 0, 1, 1},
@@ -106805,48 +107102,48 @@
   {&__pyx_n_s_warnings_2, __pyx_k_warnings_2, sizeof(__pyx_k_warnings_2), 0, 0, 1, 1},
   {&__pyx_kp_u_was_cancelled, __pyx_k_was_cancelled, sizeof(__pyx_k_was_cancelled), 0, 1, 0, 0},
   {&__pyx_n_s_weakref, __pyx_k_weakref, sizeof(__pyx_k_weakref), 0, 0, 1, 1},
   {&__pyx_n_s_weakref_2, __pyx_k_weakref_2, sizeof(__pyx_k_weakref_2), 0, 0, 1, 1},
   {&__pyx_n_s_which, __pyx_k_which, sizeof(__pyx_k_which), 0, 0, 1, 1},
   {&__pyx_n_s_which_2, __pyx_k_which_2, sizeof(__pyx_k_which_2), 0, 0, 1, 1},
   {&__pyx_n_s_which_str, __pyx_k_which_str, sizeof(__pyx_k_which_str), 0, 0, 1, 1},
+  {&__pyx_n_s_with_traceback, __pyx_k_with_traceback, sizeof(__pyx_k_with_traceback), 0, 0, 1, 1},
   {&__pyx_n_s_word_count, __pyx_k_word_count, sizeof(__pyx_k_word_count), 0, 0, 1, 1},
   {&__pyx_n_s_wrapper, __pyx_k_wrapper, sizeof(__pyx_k_wrapper), 0, 0, 1, 1},
   {&__pyx_n_s_write, __pyx_k_write, sizeof(__pyx_k_write), 0, 0, 1, 1},
   {&__pyx_n_s_write_async, __pyx_k_write_async, sizeof(__pyx_k_write_async), 0, 0, 1, 1},
   {&__pyx_n_s_write_eof, __pyx_k_write_eof, sizeof(__pyx_k_write_eof), 0, 0, 1, 1},
   {&__pyx_n_s_write_message_to_fd, __pyx_k_write_message_to_fd, sizeof(__pyx_k_write_message_to_fd), 0, 0, 1, 1},
   {&__pyx_n_s_write_packed_message_to_fd, __pyx_k_write_packed_message_to_fd, sizeof(__pyx_k_write_packed_message_to_fd), 0, 0, 1, 1},
   {&__pyx_n_s_writer, __pyx_k_writer, sizeof(__pyx_k_writer), 0, 0, 1, 1},
   {&__pyx_n_s_xrange, __pyx_k_xrange, sizeof(__pyx_k_xrange), 0, 0, 1, 1},
   {&__pyx_n_s_zip, __pyx_k_zip, sizeof(__pyx_k_zip), 0, 0, 1, 1},
   {0, 0, 0, 0, 0, 0, 0}
 };
 static CYTHON_SMALL_CODE int __Pyx_InitCachedBuiltins(void) {
-  __pyx_builtin_property = __Pyx_GetBuiltinName(__pyx_n_s_property); if (!__pyx_builtin_property) __PYX_ERR(0, 236, __pyx_L1_error)
-  __pyx_builtin_staticmethod = __Pyx_GetBuiltinName(__pyx_n_s_staticmethod); if (!__pyx_builtin_staticmethod) __PYX_ERR(0, 2349, __pyx_L1_error)
-  __pyx_builtin_object = __Pyx_GetBuiltinName(__pyx_n_s_object); if (!__pyx_builtin_object) __PYX_ERR(0, 3049, __pyx_L1_error)
+  __pyx_builtin_property = __Pyx_GetBuiltinName(__pyx_n_s_property); if (!__pyx_builtin_property) __PYX_ERR(0, 245, __pyx_L1_error)
+  __pyx_builtin_staticmethod = __Pyx_GetBuiltinName(__pyx_n_s_staticmethod); if (!__pyx_builtin_staticmethod) __PYX_ERR(0, 2416, __pyx_L1_error)
+  __pyx_builtin_object = __Pyx_GetBuiltinName(__pyx_n_s_object); if (!__pyx_builtin_object) __PYX_ERR(0, 3134, __pyx_L1_error)
   __pyx_builtin_sorted = __Pyx_GetBuiltinName(__pyx_n_s_sorted); if (!__pyx_builtin_sorted) __PYX_ERR(0, 68, __pyx_L1_error)
   __pyx_builtin_TypeError = __Pyx_GetBuiltinName(__pyx_n_s_TypeError); if (!__pyx_builtin_TypeError) __PYX_ERR(1, 2, __pyx_L1_error)
-  __pyx_builtin_zip = __Pyx_GetBuiltinName(__pyx_n_s_zip); if (!__pyx_builtin_zip) __PYX_ERR(0, 120, __pyx_L1_error)
-  __pyx_builtin_ValueError = __Pyx_GetBuiltinName(__pyx_n_s_ValueError); if (!__pyx_builtin_ValueError) __PYX_ERR(0, 136, __pyx_L1_error)
-  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(0, 171, __pyx_L1_error)
-  __pyx_builtin_AttributeError = __Pyx_GetBuiltinName(__pyx_n_s_AttributeError); if (!__pyx_builtin_AttributeError) __PYX_ERR(0, 265, __pyx_L1_error)
-  __pyx_builtin_IndexError = __Pyx_GetBuiltinName(__pyx_n_s_IndexError); if (!__pyx_builtin_IndexError) __PYX_ERR(0, 423, __pyx_L1_error)
-  __pyx_builtin_enumerate = __Pyx_GetBuiltinName(__pyx_n_s_enumerate); if (!__pyx_builtin_enumerate) __PYX_ERR(0, 980, __pyx_L1_error)
-  __pyx_builtin_RuntimeError = __Pyx_GetBuiltinName(__pyx_n_s_RuntimeError); if (!__pyx_builtin_RuntimeError) __PYX_ERR(0, 1136, __pyx_L1_error)
+  __pyx_builtin_zip = __Pyx_GetBuiltinName(__pyx_n_s_zip); if (!__pyx_builtin_zip) __PYX_ERR(0, 129, __pyx_L1_error)
+  __pyx_builtin_ValueError = __Pyx_GetBuiltinName(__pyx_n_s_ValueError); if (!__pyx_builtin_ValueError) __PYX_ERR(0, 145, __pyx_L1_error)
+  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(0, 180, __pyx_L1_error)
+  __pyx_builtin_AttributeError = __Pyx_GetBuiltinName(__pyx_n_s_AttributeError); if (!__pyx_builtin_AttributeError) __PYX_ERR(0, 274, __pyx_L1_error)
+  __pyx_builtin_IndexError = __Pyx_GetBuiltinName(__pyx_n_s_IndexError); if (!__pyx_builtin_IndexError) __PYX_ERR(0, 436, __pyx_L1_error)
+  __pyx_builtin_enumerate = __Pyx_GetBuiltinName(__pyx_n_s_enumerate); if (!__pyx_builtin_enumerate) __PYX_ERR(0, 1017, __pyx_L1_error)
+  __pyx_builtin_RuntimeError = __Pyx_GetBuiltinName(__pyx_n_s_RuntimeError); if (!__pyx_builtin_RuntimeError) __PYX_ERR(0, 1173, __pyx_L1_error)
   #if PY_MAJOR_VERSION >= 3
-  __pyx_builtin_xrange = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_xrange) __PYX_ERR(0, 2667, __pyx_L1_error)
+  __pyx_builtin_xrange = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_xrange) __PYX_ERR(0, 2752, __pyx_L1_error)
   #else
-  __pyx_builtin_xrange = __Pyx_GetBuiltinName(__pyx_n_s_xrange); if (!__pyx_builtin_xrange) __PYX_ERR(0, 2667, __pyx_L1_error)
+  __pyx_builtin_xrange = __Pyx_GetBuiltinName(__pyx_n_s_xrange); if (!__pyx_builtin_xrange) __PYX_ERR(0, 2752, __pyx_L1_error)
   #endif
-  __pyx_builtin_NotImplementedError = __Pyx_GetBuiltinName(__pyx_n_s_NotImplementedError); if (!__pyx_builtin_NotImplementedError) __PYX_ERR(0, 2726, __pyx_L1_error)
-  __pyx_builtin_IOError = __Pyx_GetBuiltinName(__pyx_n_s_IOError); if (!__pyx_builtin_IOError) __PYX_ERR(0, 3470, __pyx_L1_error)
-  __pyx_builtin_StopIteration = __Pyx_GetBuiltinName(__pyx_n_s_StopIteration); if (!__pyx_builtin_StopIteration) __PYX_ERR(0, 3865, __pyx_L1_error)
-  __pyx_builtin_NameError = __Pyx_GetBuiltinName(__pyx_n_s_NameError); if (!__pyx_builtin_NameError) __PYX_ERR(0, 4404, __pyx_L1_error)
+  __pyx_builtin_NotImplementedError = __Pyx_GetBuiltinName(__pyx_n_s_NotImplementedError); if (!__pyx_builtin_NotImplementedError) __PYX_ERR(0, 2811, __pyx_L1_error)
+  __pyx_builtin_IOError = __Pyx_GetBuiltinName(__pyx_n_s_IOError); if (!__pyx_builtin_IOError) __PYX_ERR(0, 3555, __pyx_L1_error)
+  __pyx_builtin_StopIteration = __Pyx_GetBuiltinName(__pyx_n_s_StopIteration); if (!__pyx_builtin_StopIteration) __PYX_ERR(0, 3954, __pyx_L1_error)
   __pyx_builtin_MemoryError = __Pyx_GetBuiltinName(__pyx_n_s_MemoryError); if (!__pyx_builtin_MemoryError) __PYX_ERR(3, 109, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
   return -1;
 }
 
 static CYTHON_SMALL_CODE int __Pyx_InitCachedConstants(void) {
@@ -106868,25 +107165,25 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.fulfiller cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__2 = PyTuple_Pack(1, __pyx_kp_s_self_fulfiller_cannot_be_convert); if (unlikely(!__pyx_tuple__2)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__2);
   __Pyx_GIVEREF(__pyx_tuple__2);
 
-  /* "capnp/lib/capnp.pyx":141
+  /* "capnp/lib/capnp.pyx":150
  *         task = asyncio.create_task(ret)
  *     else:
  *         async def finalize():             # <<<<<<<<<<<<<<
  *             params = context.params
  *             params_dict = {name: getattr(params, name) for name in params.schema.fieldnames}
  */
-  __pyx_tuple__4 = PyTuple_Pack(5, __pyx_n_s_params, __pyx_n_s_params_dict, __pyx_n_s_func, __pyx_n_s_ret, __pyx_n_s_name); if (unlikely(!__pyx_tuple__4)) __PYX_ERR(0, 141, __pyx_L1_error)
+  __pyx_tuple__4 = PyTuple_Pack(5, __pyx_n_s_params, __pyx_n_s_params_dict, __pyx_n_s_func, __pyx_n_s_ret, __pyx_n_s_name); if (unlikely(!__pyx_tuple__4)) __PYX_ERR(0, 150, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__4);
   __Pyx_GIVEREF(__pyx_tuple__4);
-  __pyx_codeobj__5 = (PyObject*)__Pyx_PyCode_New(0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__4, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_finalize, 141, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__5)) __PYX_ERR(0, 141, __pyx_L1_error)
+  __pyx_codeobj__5 = (PyObject*)__Pyx_PyCode_New(0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__4, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_finalize, 150, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__5)) __PYX_ERR(0, 150, __pyx_L1_error)
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
@@ -106899,22 +107196,22 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__7 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__7);
   __Pyx_GIVEREF(__pyx_tuple__7);
 
-  /* "capnp/lib/capnp.pyx":290
+  /* "capnp/lib/capnp.pyx":303
  *                 (repr(exc_type) + ":" + str(exc_obj)).encode())
  *     except Exception:
  *         return (b'', 0, b"Couldn't determine python exception")             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_tuple__9 = PyTuple_Pack(3, __pyx_kp_b__3, __pyx_int_0, __pyx_kp_b_Couldn_t_determine_python_except); if (unlikely(!__pyx_tuple__9)) __PYX_ERR(0, 290, __pyx_L1_error)
+  __pyx_tuple__9 = PyTuple_Pack(3, __pyx_kp_b__3, __pyx_int_0, __pyx_kp_b_Couldn_t_determine_python_except); if (unlikely(!__pyx_tuple__9)) __PYX_ERR(0, 303, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__9);
   __Pyx_GIVEREF(__pyx_tuple__9);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -106948,22 +107245,22 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__13 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__13)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__13);
   __Pyx_GIVEREF(__pyx_tuple__13);
 
-  /* "capnp/lib/capnp.pyx":423
+  /* "capnp/lib/capnp.pyx":436
  *         cdef uint size = self.thisptr.size()
  *         if index >= size:
  *             raise IndexError('Out of bounds')             # <<<<<<<<<<<<<<
  *         index = index % size
  *         return self._get(index)
  */
-  __pyx_tuple__14 = PyTuple_Pack(1, __pyx_kp_s_Out_of_bounds); if (unlikely(!__pyx_tuple__14)) __PYX_ERR(0, 423, __pyx_L1_error)
+  __pyx_tuple__14 = PyTuple_Pack(1, __pyx_kp_s_Out_of_bounds); if (unlikely(!__pyx_tuple__14)) __PYX_ERR(0, 436, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__14);
   __Pyx_GIVEREF(__pyx_tuple__14);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107035,33 +107332,33 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__22 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__22)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__22);
   __Pyx_GIVEREF(__pyx_tuple__22);
 
-  /* "capnp/lib/capnp.pyx":1086
+  /* "capnp/lib/capnp.pyx":1123
  * else:
  *     def _struct_reducer(schema_id, data):
  *         with _global_schema_parser.modules_by_id[schema_id].from_bytes(data) as msg:             # <<<<<<<<<<<<<<
  *             return msg
  * 
  */
-  __pyx_tuple__23 = PyTuple_Pack(3, Py_None, Py_None, Py_None); if (unlikely(!__pyx_tuple__23)) __PYX_ERR(0, 1086, __pyx_L1_error)
+  __pyx_tuple__23 = PyTuple_Pack(3, Py_None, Py_None, Py_None); if (unlikely(!__pyx_tuple__23)) __PYX_ERR(0, 1123, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__23);
   __Pyx_GIVEREF(__pyx_tuple__23);
 
-  /* "capnp/lib/capnp.pyx":1405
+  /* "capnp/lib/capnp.pyx":1442
  *         """
  *         if isinstance(field, _StructModuleWhich):
  *             field = field.name[0].lower() + field.name[1:]             # <<<<<<<<<<<<<<
  *         if size is None:
  *             return to_python_builder(self.thisptr.init(field), self._parent)
  */
-  __pyx_slice__24 = PySlice_New(__pyx_int_1, Py_None, Py_None); if (unlikely(!__pyx_slice__24)) __PYX_ERR(0, 1405, __pyx_L1_error)
+  __pyx_slice__24 = PySlice_New(__pyx_int_1, Py_None, Py_None); if (unlikely(!__pyx_slice__24)) __PYX_ERR(0, 1442, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_slice__24);
   __Pyx_GIVEREF(__pyx_slice__24);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107133,22 +107430,22 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__32 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__32)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__32);
   __Pyx_GIVEREF(__pyx_tuple__32);
 
-  /* "capnp/lib/capnp.pyx":1848
+  /* "capnp/lib/capnp.pyx":1897
  *     cdef check(self):
  *         if self.closed:
  *             raise RuntimeError(             # <<<<<<<<<<<<<<
  *                 "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  * 
  */
-  __pyx_tuple__33 = PyTuple_Pack(1, __pyx_kp_s_The_KJ_event_loop_is_not_running); if (unlikely(!__pyx_tuple__33)) __PYX_ERR(0, 1848, __pyx_L1_error)
+  __pyx_tuple__33 = PyTuple_Pack(1, __pyx_kp_s_The_KJ_event_loop_is_not_running); if (unlikely(!__pyx_tuple__33)) __PYX_ERR(0, 1897, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__33);
   __Pyx_GIVEREF(__pyx_tuple__33);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.event_port,self.wait_scope cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107163,33 +107460,33 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.event_port,self.wait_scope cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__35 = PyTuple_Pack(1, __pyx_kp_s_self_event_port_self_wait_scope); if (unlikely(!__pyx_tuple__35)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__35);
   __Pyx_GIVEREF(__pyx_tuple__35);
 
-  /* "capnp/lib/capnp.pyx":1855
+  /* "capnp/lib/capnp.pyx":1914
  *     asyncio_loop = asyncio.get_running_loop()
  *     if hasattr(asyncio_loop, '_kj_loop'):
  *         raise RuntimeError("The KJ event-loop is already running (on this thread).")             # <<<<<<<<<<<<<<
  *     cdef _EventLoop kj_loop = _EventLoop()._init(asyncio_loop)
  *     asyncio_loop._kj_loop = kj_loop
  */
-  __pyx_tuple__37 = PyTuple_Pack(1, __pyx_kp_s_The_KJ_event_loop_is_already_run); if (unlikely(!__pyx_tuple__37)) __PYX_ERR(0, 1855, __pyx_L1_error)
+  __pyx_tuple__37 = PyTuple_Pack(1, __pyx_kp_s_The_KJ_event_loop_is_already_run); if (unlikely(!__pyx_tuple__37)) __PYX_ERR(0, 1914, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__37);
   __Pyx_GIVEREF(__pyx_tuple__37);
 
-  /* "capnp/lib/capnp.pyx":1889
+  /* "capnp/lib/capnp.pyx":1954
  *             "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  *     elif type(kj_loop) is _EventLoop: return kj_loop
  *     else: raise RuntimeError("Someone meddled with the KJ event loop!")             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_tuple__39 = PyTuple_Pack(1, __pyx_kp_s_Someone_meddled_with_the_KJ_even); if (unlikely(!__pyx_tuple__39)) __PYX_ERR(0, 1889, __pyx_L1_error)
+  __pyx_tuple__39 = PyTuple_Pack(1, __pyx_kp_s_Someone_meddled_with_the_KJ_even); if (unlikely(!__pyx_tuple__39)) __PYX_ERR(0, 1954, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__39);
   __Pyx_GIVEREF(__pyx_tuple__39);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107204,49 +107501,49 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__41 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__41)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__41);
   __Pyx_GIVEREF(__pyx_tuple__41);
 
-  /* "capnp/lib/capnp.pyx":1923
+  /* "capnp/lib/capnp.pyx":1989
  *     C_DEFAULT_EVENT_LOOP_GETTER() # Make sure the event loop is running
  *     fut = asyncio.get_running_loop().create_future()
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None
  */
-  __pyx_tuple__42 = PyTuple_Pack(1, __pyx_n_s_res); if (unlikely(!__pyx_tuple__42)) __PYX_ERR(0, 1923, __pyx_L1_error)
+  __pyx_tuple__42 = PyTuple_Pack(1, __pyx_n_s_res); if (unlikely(!__pyx_tuple__42)) __PYX_ERR(0, 1989, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__42);
   __Pyx_GIVEREF(__pyx_tuple__42);
-  __pyx_codeobj__43 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__42, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_success, 1923, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__43)) __PYX_ERR(0, 1923, __pyx_L1_error)
+  __pyx_codeobj__43 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__42, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_success, 1989, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__43)) __PYX_ERR(0, 1989, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1924
+  /* "capnp/lib/capnp.pyx":1990
  *     fut = asyncio.get_running_loop().create_future()
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None
  *     # Attach the promise to the future, so that it doesn't get destroyed
  */
-  __pyx_tuple__44 = PyTuple_Pack(1, __pyx_n_s_err); if (unlikely(!__pyx_tuple__44)) __PYX_ERR(0, 1924, __pyx_L1_error)
+  __pyx_tuple__44 = PyTuple_Pack(1, __pyx_n_s_err); if (unlikely(!__pyx_tuple__44)) __PYX_ERR(0, 1990, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__44);
   __Pyx_GIVEREF(__pyx_tuple__44);
-  __pyx_codeobj__45 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__44, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_exception, 1924, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__45)) __PYX_ERR(0, 1924, __pyx_L1_error)
+  __pyx_codeobj__45 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__44, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_exception, 1990, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__45)) __PYX_ERR(0, 1990, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1925
+  /* "capnp/lib/capnp.pyx":1991
  *     def success(res):   return fut.set_result(res)    if not fut.cancelled() else None
  *     def exception(err): return fut.set_exception(err) if not fut.cancelled() else None
  *     def done(fut): return fut.kjpromise.cancel() if fut.cancelled() else None             # <<<<<<<<<<<<<<
  *     # Attach the promise to the future, so that it doesn't get destroyed
  *     fut.kjpromise = _Promise()._init(helpers.then(
  */
-  __pyx_tuple__46 = PyTuple_Pack(1, __pyx_n_s_fut); if (unlikely(!__pyx_tuple__46)) __PYX_ERR(0, 1925, __pyx_L1_error)
+  __pyx_tuple__46 = PyTuple_Pack(1, __pyx_n_s_fut); if (unlikely(!__pyx_tuple__46)) __PYX_ERR(0, 1991, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__46);
   __Pyx_GIVEREF(__pyx_tuple__46);
-  __pyx_codeobj__47 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__46, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_done, 1925, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__47)) __PYX_ERR(0, 1925, __pyx_L1_error)
+  __pyx_codeobj__47 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__46, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_done, 1991, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__47)) __PYX_ERR(0, 1991, __pyx_L1_error)
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
@@ -107278,22 +107575,22 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__51 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__51)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__51);
   __Pyx_GIVEREF(__pyx_tuple__51);
 
-  /* "capnp/lib/capnp.pyx":2136
+  /* "capnp/lib/capnp.pyx":2202
  *         try:
  *             if name.endswith('_request'):
  *                 short_name = name[:-8]             # <<<<<<<<<<<<<<
  *                 if short_name not in self.schema.method_names_inherited:
  *                     raise AttributeError('Method named %s not found' % short_name)
  */
-  __pyx_slice__52 = PySlice_New(Py_None, __pyx_int_neg_8, Py_None); if (unlikely(!__pyx_slice__52)) __PYX_ERR(0, 2136, __pyx_L1_error)
+  __pyx_slice__52 = PySlice_New(Py_None, __pyx_int_neg_8, Py_None); if (unlikely(!__pyx_slice__52)) __PYX_ERR(0, 2202, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_slice__52);
   __Pyx_GIVEREF(__pyx_slice__52);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107346,22 +107643,22 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__58 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__58)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__58);
   __Pyx_GIVEREF(__pyx_tuple__58);
 
-  /* "capnp/lib/capnp.pyx":2249
+  /* "capnp/lib/capnp.pyx":2315
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  *         if self.closed:
  *             raise RuntimeError("This client is closed")             # <<<<<<<<<<<<<<
  *         return _CapabilityClient()._init(helpers.bootstrapHelper(deref(self.thisptr)), self)
  * 
  */
-  __pyx_tuple__59 = PyTuple_Pack(1, __pyx_kp_s_This_client_is_closed); if (unlikely(!__pyx_tuple__59)) __PYX_ERR(0, 2249, __pyx_L1_error)
+  __pyx_tuple__59 = PyTuple_Pack(1, __pyx_kp_s_This_client_is_closed); if (unlikely(!__pyx_tuple__59)) __PYX_ERR(0, 2315, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__59);
   __Pyx_GIVEREF(__pyx_tuple__59);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107376,22 +107673,22 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__61 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__61)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__61);
   __Pyx_GIVEREF(__pyx_tuple__61);
 
-  /* "capnp/lib/capnp.pyx":2304
+  /* "capnp/lib/capnp.pyx":2370
  *     cpdef bootstrap(self) except +reraise_kj_exception:
  *         if self.closed:
  *             raise RuntimeError("This server is closed")             # <<<<<<<<<<<<<<
  *         return _CapabilityClient()._init(helpers.bootstrapHelperServer(deref(self.thisptr)), self)
  * 
  */
-  __pyx_tuple__62 = PyTuple_Pack(1, __pyx_kp_s_This_server_is_closed); if (unlikely(!__pyx_tuple__62)) __PYX_ERR(0, 2304, __pyx_L1_error)
+  __pyx_tuple__62 = PyTuple_Pack(1, __pyx_kp_s_This_server_is_closed); if (unlikely(!__pyx_tuple__62)) __PYX_ERR(0, 2370, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__62);
   __Pyx_GIVEREF(__pyx_tuple__62);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107425,87 +107722,80 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__70 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__70)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__70);
   __Pyx_GIVEREF(__pyx_tuple__70);
 
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")
+  /* "capnp/lib/capnp.pyx":2541
+ *         self.read_eof = False
+ *         self.read_overflow_buffer = bytearray()
+ *         def done(task):             # <<<<<<<<<<<<<<
+ *             if self.transport is not None:
+ *                 self.transport.close()
  */
-  __pyx_tuple__71 = PyTuple_Pack(1, __pyx_kp_s_self_read_fulfiller_self_write_f); if (unlikely(!__pyx_tuple__71)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__71 = PyTuple_Pack(3, __pyx_n_s_task, __pyx_n_s_exc, __pyx_n_s_context); if (unlikely(!__pyx_tuple__71)) __PYX_ERR(0, 2541, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__71);
   __Pyx_GIVEREF(__pyx_tuple__71);
-
-  /* "(tree fragment)":4
- *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
- */
-  __pyx_tuple__72 = PyTuple_Pack(1, __pyx_kp_s_self_read_fulfiller_self_write_f); if (unlikely(!__pyx_tuple__72)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__72);
-  __Pyx_GIVEREF(__pyx_tuple__72);
+  __pyx_codeobj__72 = (PyObject*)__Pyx_PyCode_New(1, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__71, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_done, 2541, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__72)) __PYX_ERR(0, 2541, __pyx_L1_error)
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__73 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__73)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__73 = PyTuple_Pack(1, __pyx_kp_s_self_read_fulfiller_self_write_f); if (unlikely(!__pyx_tuple__73)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__73);
   __Pyx_GIVEREF(__pyx_tuple__73);
 
   /* "(tree fragment)":4
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.read_fulfiller,self.write_fulfiller,self.write_pieces cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__74 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__74)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__74 = PyTuple_Pack(1, __pyx_kp_s_self_read_fulfiller_self_write_f); if (unlikely(!__pyx_tuple__74)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__74);
   __Pyx_GIVEREF(__pyx_tuple__74);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
- *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__75 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_thisptr_child); if (unlikely(!__pyx_tuple__75)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__75 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__75)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__75);
   __Pyx_GIVEREF(__pyx_tuple__75);
 
   /* "(tree fragment)":4
- *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__76 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_thisptr_child); if (unlikely(!__pyx_tuple__76)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__76 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__76)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__76);
   __Pyx_GIVEREF(__pyx_tuple__76);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__77 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__77)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__77 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_thisptr_child); if (unlikely(!__pyx_tuple__77)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__77);
   __Pyx_GIVEREF(__pyx_tuple__77);
 
   /* "(tree fragment)":4
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__78 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__78)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__78 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_thisptr_child); if (unlikely(!__pyx_tuple__78)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__78);
   __Pyx_GIVEREF(__pyx_tuple__78);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107598,174 +107888,174 @@
  */
   __pyx_tuple__88 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__88)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__88);
   __Pyx_GIVEREF(__pyx_tuple__88);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
- *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__89 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_thisptr_child); if (unlikely(!__pyx_tuple__89)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__89 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__89)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__89);
   __Pyx_GIVEREF(__pyx_tuple__89);
 
   /* "(tree fragment)":4
- *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__90 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_thisptr_child); if (unlikely(!__pyx_tuple__90)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__90 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__90)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__90);
   __Pyx_GIVEREF(__pyx_tuple__90);
 
-  /* "capnp/lib/capnp.pyx":3294
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
+ */
+  __pyx_tuple__91 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_thisptr_child); if (unlikely(!__pyx_tuple__91)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__91);
+  __Pyx_GIVEREF(__pyx_tuple__91);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("self.thisptr,self.thisptr_child cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ */
+  __pyx_tuple__92 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_thisptr_child); if (unlikely(!__pyx_tuple__92)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__92);
+  __Pyx_GIVEREF(__pyx_tuple__92);
+
+  /* "capnp/lib/capnp.pyx":3379
  * class _InterfaceModule(object):
  *     def __init__(self, schema, name):
  *         def server_init(server_self):             # <<<<<<<<<<<<<<
  *             pass
  *         self.schema = schema
  */
-  __pyx_tuple__93 = PyTuple_Pack(1, __pyx_n_s_server_self); if (unlikely(!__pyx_tuple__93)) __PYX_ERR(0, 3294, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__93);
-  __Pyx_GIVEREF(__pyx_tuple__93);
-  __pyx_codeobj__94 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__93, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_server_init, 3294, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__94)) __PYX_ERR(0, 3294, __pyx_L1_error)
+  __pyx_tuple__95 = PyTuple_Pack(1, __pyx_n_s_server_self); if (unlikely(!__pyx_tuple__95)) __PYX_ERR(0, 3379, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__95);
+  __Pyx_GIVEREF(__pyx_tuple__95);
+  __pyx_codeobj__96 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__95, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_server_init, 3379, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__96)) __PYX_ERR(0, 3379, __pyx_L1_error)
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple__95 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__95)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__95);
-  __Pyx_GIVEREF(__pyx_tuple__95);
+  __pyx_tuple__97 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__97)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__97);
+  __Pyx_GIVEREF(__pyx_tuple__97);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__96 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__96)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__96);
-  __Pyx_GIVEREF(__pyx_tuple__96);
+  __pyx_tuple__98 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__98)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__98);
+  __Pyx_GIVEREF(__pyx_tuple__98);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple__97 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__97)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__97);
-  __Pyx_GIVEREF(__pyx_tuple__97);
+  __pyx_tuple__99 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__99)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__99);
+  __Pyx_GIVEREF(__pyx_tuple__99);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__98 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__98)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__98);
-  __Pyx_GIVEREF(__pyx_tuple__98);
+  __pyx_tuple__100 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__100)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__100);
+  __Pyx_GIVEREF(__pyx_tuple__100);
 
-  /* "capnp/lib/capnp.pyx":3442
+  /* "capnp/lib/capnp.pyx":3527
  * 
  *                         def __new__(self):
  *                             raise TypeError('This is an abstract base class')             # <<<<<<<<<<<<<<
  * 
  *                     class Builder(_DynamicStructBuilder):
  */
-  __pyx_tuple__100 = PyTuple_Pack(1, __pyx_kp_s_This_is_an_abstract_base_class); if (unlikely(!__pyx_tuple__100)) __PYX_ERR(0, 3442, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__100);
-  __Pyx_GIVEREF(__pyx_tuple__100);
+  __pyx_tuple__102 = PyTuple_Pack(1, __pyx_kp_s_This_is_an_abstract_base_class); if (unlikely(!__pyx_tuple__102)) __PYX_ERR(0, 3527, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__102);
+  __Pyx_GIVEREF(__pyx_tuple__102);
 
-  /* "capnp/lib/capnp.pyx":3441
+  /* "capnp/lib/capnp.pyx":3526
  *                         _schema = local_module.schema
  * 
  *                         def __new__(self):             # <<<<<<<<<<<<<<
  *                             raise TypeError('This is an abstract base class')
  * 
  */
-  __pyx_tuple__101 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__101)) __PYX_ERR(0, 3441, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__101);
-  __Pyx_GIVEREF(__pyx_tuple__101);
-  __pyx_codeobj__102 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__101, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_new, 3441, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__102)) __PYX_ERR(0, 3441, __pyx_L1_error)
+  __pyx_tuple__103 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__103)) __PYX_ERR(0, 3526, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__103);
+  __Pyx_GIVEREF(__pyx_tuple__103);
+  __pyx_codeobj__104 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__103, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_new, 3526, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__104)) __PYX_ERR(0, 3526, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3450
+  /* "capnp/lib/capnp.pyx":3535
  *                         _schema = local_module.schema
  * 
  *                         def __new__(self):             # <<<<<<<<<<<<<<
  *                             raise TypeError('This is an abstract base class')
  * 
  */
-  __pyx_tuple__103 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__103)) __PYX_ERR(0, 3450, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__103);
-  __Pyx_GIVEREF(__pyx_tuple__103);
-  __pyx_codeobj__104 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__103, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_new, 3450, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__104)) __PYX_ERR(0, 3450, __pyx_L1_error)
+  __pyx_tuple__105 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__105)) __PYX_ERR(0, 3535, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__105);
+  __Pyx_GIVEREF(__pyx_tuple__105);
+  __pyx_codeobj__106 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__105, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_new, 3535, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__106)) __PYX_ERR(0, 3535, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3420
+  /* "capnp/lib/capnp.pyx":3505
  * 
  *         """
  *         def _load(nodeSchema, module):             # <<<<<<<<<<<<<<
  *             module._nodeSchema = nodeSchema
  *             nodeProto = nodeSchema.get_proto()
  */
-  __pyx_tuple__105 = PyTuple_Pack(9, __pyx_n_s_nodeSchema, __pyx_n_s_module, __pyx_n_s_nodeProto_2, __pyx_n_s_node, __pyx_n_s_local_module, __pyx_n_s_schema, __pyx_n_s_proto, __pyx_n_s_Reader, __pyx_n_s_Builder); if (unlikely(!__pyx_tuple__105)) __PYX_ERR(0, 3420, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__105);
-  __Pyx_GIVEREF(__pyx_tuple__105);
-  __pyx_codeobj__106 = (PyObject*)__Pyx_PyCode_New(2, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__105, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_load, 3420, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__106)) __PYX_ERR(0, 3420, __pyx_L1_error)
+  __pyx_tuple__107 = PyTuple_Pack(9, __pyx_n_s_nodeSchema, __pyx_n_s_module, __pyx_n_s_nodeProto_2, __pyx_n_s_node, __pyx_n_s_local_module, __pyx_n_s_schema, __pyx_n_s_proto, __pyx_n_s_Reader, __pyx_n_s_Builder); if (unlikely(!__pyx_tuple__107)) __PYX_ERR(0, 3505, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__107);
+  __Pyx_GIVEREF(__pyx_tuple__107);
+  __pyx_codeobj__108 = (PyObject*)__Pyx_PyCode_New(2, 0, 9, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__107, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_load, 3505, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__108)) __PYX_ERR(0, 3505, __pyx_L1_error)
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  */
-  __pyx_tuple__107 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__107)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__107);
-  __Pyx_GIVEREF(__pyx_tuple__107);
+  __pyx_tuple__109 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__109)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__109);
+  __Pyx_GIVEREF(__pyx_tuple__109);
 
   /* "(tree fragment)":4
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("no default __reduce__ due to non-trivial __cinit__")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__108 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__108)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__108);
-  __Pyx_GIVEREF(__pyx_tuple__108);
+  __pyx_tuple__110 = PyTuple_Pack(1, __pyx_kp_s_no_default___reduce___due_to_non); if (unlikely(!__pyx_tuple__110)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__110);
+  __Pyx_GIVEREF(__pyx_tuple__110);
 
-  /* "capnp/lib/capnp.pyx":3509
+  /* "capnp/lib/capnp.pyx":3594
  * 
  *     def __init__(self):
  *         raise NotImplementedError("This is an abstract base class. You should use MallocMessageBuilder instead")             # <<<<<<<<<<<<<<
  * 
  *     cpdef init_root(self, schema):
  */
-  __pyx_tuple__109 = PyTuple_Pack(1, __pyx_kp_s_This_is_an_abstract_base_class_Y); if (unlikely(!__pyx_tuple__109)) __PYX_ERR(0, 3509, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__109);
-  __Pyx_GIVEREF(__pyx_tuple__109);
-
-  /* "(tree fragment)":2
- * def __reduce_cython__(self):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
- */
-  __pyx_tuple__110 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__110)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__110);
-  __Pyx_GIVEREF(__pyx_tuple__110);
-
-  /* "(tree fragment)":4
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
- * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
- */
-  __pyx_tuple__111 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__111)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__111 = PyTuple_Pack(1, __pyx_kp_s_This_is_an_abstract_base_class_Y); if (unlikely(!__pyx_tuple__111)) __PYX_ERR(0, 3594, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__111);
   __Pyx_GIVEREF(__pyx_tuple__111);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107839,47 +108129,47 @@
  */
   __pyx_tuple__119 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__119)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__119);
   __Pyx_GIVEREF(__pyx_tuple__119);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
- *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__120 = PyTuple_Pack(1, __pyx_kp_s_self_stream_self_thisptr_self_vi); if (unlikely(!__pyx_tuple__120)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__120 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__120)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__120);
   __Pyx_GIVEREF(__pyx_tuple__120);
 
   /* "(tree fragment)":4
- *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__121 = PyTuple_Pack(1, __pyx_kp_s_self_stream_self_thisptr_self_vi); if (unlikely(!__pyx_tuple__121)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__121 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__121)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__121);
   __Pyx_GIVEREF(__pyx_tuple__121);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__122 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__122)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__122 = PyTuple_Pack(1, __pyx_kp_s_self_stream_self_thisptr_self_vi); if (unlikely(!__pyx_tuple__122)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__122);
   __Pyx_GIVEREF(__pyx_tuple__122);
 
   /* "(tree fragment)":4
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.stream,self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__123 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__123)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__123 = PyTuple_Pack(1, __pyx_kp_s_self_stream_self_thisptr_self_vi); if (unlikely(!__pyx_tuple__123)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__123);
   __Pyx_GIVEREF(__pyx_tuple__123);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107896,47 +108186,47 @@
  */
   __pyx_tuple__125 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__125)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__125);
   __Pyx_GIVEREF(__pyx_tuple__125);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
- *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__126 = PyTuple_Pack(1, __pyx_kp_s_self_reader_self_thisptr_cannot); if (unlikely(!__pyx_tuple__126)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__126 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__126)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__126);
   __Pyx_GIVEREF(__pyx_tuple__126);
 
   /* "(tree fragment)":4
- *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__127 = PyTuple_Pack(1, __pyx_kp_s_self_reader_self_thisptr_cannot); if (unlikely(!__pyx_tuple__127)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__127 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__127)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__127);
   __Pyx_GIVEREF(__pyx_tuple__127);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
- *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__128 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream); if (unlikely(!__pyx_tuple__128)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __pyx_tuple__128 = PyTuple_Pack(1, __pyx_kp_s_self_reader_self_thisptr_cannot); if (unlikely(!__pyx_tuple__128)) __PYX_ERR(1, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__128);
   __Pyx_GIVEREF(__pyx_tuple__128);
 
   /* "(tree fragment)":4
- *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")
+ *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
- *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ *     raise TypeError("self.reader,self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__129 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream); if (unlikely(!__pyx_tuple__129)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_tuple__129 = PyTuple_Pack(1, __pyx_kp_s_self_reader_self_thisptr_cannot); if (unlikely(!__pyx_tuple__129)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__129);
   __Pyx_GIVEREF(__pyx_tuple__129);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
@@ -107951,202 +108241,221 @@
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
   __pyx_tuple__131 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream); if (unlikely(!__pyx_tuple__131)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__131);
   __Pyx_GIVEREF(__pyx_tuple__131);
 
-  /* "capnp/lib/capnp.pyx":3939
+  /* "(tree fragment)":2
+ * def __reduce_cython__(self):
+ *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")
+ */
+  __pyx_tuple__132 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream); if (unlikely(!__pyx_tuple__132)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__132);
+  __Pyx_GIVEREF(__pyx_tuple__132);
+
+  /* "(tree fragment)":4
+ *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")
+ * def __setstate_cython__(self, __pyx_state):
+ *     raise TypeError("self.buffered_stream,self.stream cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
+ */
+  __pyx_tuple__133 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream); if (unlikely(!__pyx_tuple__133)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__133);
+  __Pyx_GIVEREF(__pyx_tuple__133);
+
+  /* "capnp/lib/capnp.pyx":4028
  *             self._object_to_pin = view
  *         else:
  *             raise TypeError('expected buffer-like object in FlatArrayMessageReader')             # <<<<<<<<<<<<<<
  * 
  *     def __next__(self):
  */
-  __pyx_tuple__132 = PyTuple_Pack(1, __pyx_kp_s_expected_buffer_like_object_in_F); if (unlikely(!__pyx_tuple__132)) __PYX_ERR(0, 3939, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__132);
-  __Pyx_GIVEREF(__pyx_tuple__132);
+  __pyx_tuple__134 = PyTuple_Pack(1, __pyx_kp_s_expected_buffer_like_object_in_F); if (unlikely(!__pyx_tuple__134)) __PYX_ERR(0, 4028, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__134);
+  __Pyx_GIVEREF(__pyx_tuple__134);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.buffered_stream,self.stream,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream,self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__133 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream_2); if (unlikely(!__pyx_tuple__133)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__133);
-  __Pyx_GIVEREF(__pyx_tuple__133);
+  __pyx_tuple__135 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream_2); if (unlikely(!__pyx_tuple__135)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__135);
+  __Pyx_GIVEREF(__pyx_tuple__135);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.buffered_stream,self.stream,self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.buffered_stream,self.stream,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__134 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream_2); if (unlikely(!__pyx_tuple__134)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__134);
-  __Pyx_GIVEREF(__pyx_tuple__134);
+  __pyx_tuple__136 = PyTuple_Pack(1, __pyx_kp_s_self_buffered_stream_self_stream_2); if (unlikely(!__pyx_tuple__136)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__136);
+  __Pyx_GIVEREF(__pyx_tuple__136);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__135 = PyTuple_Pack(1, __pyx_kp_s_self_view_cannot_be_converted_to); if (unlikely(!__pyx_tuple__135)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__135);
-  __Pyx_GIVEREF(__pyx_tuple__135);
+  __pyx_tuple__137 = PyTuple_Pack(1, __pyx_kp_s_self_view_cannot_be_converted_to); if (unlikely(!__pyx_tuple__137)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__137);
+  __Pyx_GIVEREF(__pyx_tuple__137);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__136 = PyTuple_Pack(1, __pyx_kp_s_self_view_cannot_be_converted_to); if (unlikely(!__pyx_tuple__136)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__136);
-  __Pyx_GIVEREF(__pyx_tuple__136);
+  __pyx_tuple__138 = PyTuple_Pack(1, __pyx_kp_s_self_view_cannot_be_converted_to); if (unlikely(!__pyx_tuple__138)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__138);
+  __Pyx_GIVEREF(__pyx_tuple__138);
 
-  /* "capnp/lib/capnp.pyx":4033
+  /* "capnp/lib/capnp.pyx":4122
  *         cdef int ret = PyObject_GetBuffer(other, &self.view, PyBUF_SIMPLE)
  *         if ret < 0:
  *             raise ValueError("Invalid buffer passed to BufferView")             # <<<<<<<<<<<<<<
  *         self.buf = <char*>self.view.buf
  *         self.closed = False
  */
-  __pyx_tuple__137 = PyTuple_Pack(1, __pyx_kp_s_Invalid_buffer_passed_to_BufferV); if (unlikely(!__pyx_tuple__137)) __PYX_ERR(0, 4033, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__137);
-  __Pyx_GIVEREF(__pyx_tuple__137);
+  __pyx_tuple__139 = PyTuple_Pack(1, __pyx_kp_s_Invalid_buffer_passed_to_BufferV); if (unlikely(!__pyx_tuple__139)) __PYX_ERR(0, 4122, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__139);
+  __Pyx_GIVEREF(__pyx_tuple__139);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__138 = PyTuple_Pack(1, __pyx_kp_s_self_view_cannot_be_converted_to); if (unlikely(!__pyx_tuple__138)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__138);
-  __Pyx_GIVEREF(__pyx_tuple__138);
+  __pyx_tuple__140 = PyTuple_Pack(1, __pyx_kp_s_self_view_cannot_be_converted_to); if (unlikely(!__pyx_tuple__140)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__140);
+  __Pyx_GIVEREF(__pyx_tuple__140);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__139 = PyTuple_Pack(1, __pyx_kp_s_self_view_cannot_be_converted_to); if (unlikely(!__pyx_tuple__139)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__139);
-  __Pyx_GIVEREF(__pyx_tuple__139);
+  __pyx_tuple__141 = PyTuple_Pack(1, __pyx_kp_s_self_view_cannot_be_converted_to); if (unlikely(!__pyx_tuple__141)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__141);
+  __Pyx_GIVEREF(__pyx_tuple__141);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__140 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__140)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__140);
-  __Pyx_GIVEREF(__pyx_tuple__140);
+  __pyx_tuple__142 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__142)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__142);
+  __Pyx_GIVEREF(__pyx_tuple__142);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__141 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__141)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__141);
-  __Pyx_GIVEREF(__pyx_tuple__141);
+  __pyx_tuple__143 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__143)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__143);
+  __Pyx_GIVEREF(__pyx_tuple__143);
 
-  /* "capnp/lib/capnp.pyx":4088
+  /* "capnp/lib/capnp.pyx":4177
  *         sz = len(buf)
  *         if sz % 8 != 0:
  *             raise ValueError("input length must be a multiple of eight bytes")             # <<<<<<<<<<<<<<
  * 
  *         cdef char * ptr
  */
-  __pyx_tuple__142 = PyTuple_Pack(1, __pyx_kp_s_input_length_must_be_a_multiple); if (unlikely(!__pyx_tuple__142)) __PYX_ERR(0, 4088, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__142);
-  __Pyx_GIVEREF(__pyx_tuple__142);
+  __pyx_tuple__144 = PyTuple_Pack(1, __pyx_kp_s_input_length_must_be_a_multiple); if (unlikely(!__pyx_tuple__144)) __PYX_ERR(0, 4177, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__144);
+  __Pyx_GIVEREF(__pyx_tuple__144);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__143 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__143)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__143);
-  __Pyx_GIVEREF(__pyx_tuple__143);
+  __pyx_tuple__145 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__145)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__145);
+  __Pyx_GIVEREF(__pyx_tuple__145);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__144 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__144)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__144);
-  __Pyx_GIVEREF(__pyx_tuple__144);
+  __pyx_tuple__146 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_cannot_be_converted); if (unlikely(!__pyx_tuple__146)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__146);
+  __Pyx_GIVEREF(__pyx_tuple__146);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self._seg_ptrs,self.thisptr,self.views cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self._seg_ptrs,self.thisptr,self.views cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__145 = PyTuple_Pack(1, __pyx_kp_s_self__seg_ptrs_self_thisptr_self); if (unlikely(!__pyx_tuple__145)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__145);
-  __Pyx_GIVEREF(__pyx_tuple__145);
+  __pyx_tuple__147 = PyTuple_Pack(1, __pyx_kp_s_self__seg_ptrs_self_thisptr_self); if (unlikely(!__pyx_tuple__147)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__147);
+  __Pyx_GIVEREF(__pyx_tuple__147);
 
   /* "(tree fragment)":4
  *     raise TypeError("self._seg_ptrs,self.thisptr,self.views cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self._seg_ptrs,self.thisptr,self.views cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__146 = PyTuple_Pack(1, __pyx_kp_s_self__seg_ptrs_self_thisptr_self); if (unlikely(!__pyx_tuple__146)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__146);
-  __Pyx_GIVEREF(__pyx_tuple__146);
+  __pyx_tuple__148 = PyTuple_Pack(1, __pyx_kp_s_self__seg_ptrs_self_thisptr_self); if (unlikely(!__pyx_tuple__148)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__148);
+  __Pyx_GIVEREF(__pyx_tuple__148);
 
   /* "(tree fragment)":2
  * def __reduce_cython__(self):
  *     raise TypeError("self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr,self.view cannot be converted to a Python object for pickling")
  */
-  __pyx_tuple__147 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_view_cannot_be); if (unlikely(!__pyx_tuple__147)) __PYX_ERR(1, 2, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__147);
-  __Pyx_GIVEREF(__pyx_tuple__147);
+  __pyx_tuple__149 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_view_cannot_be); if (unlikely(!__pyx_tuple__149)) __PYX_ERR(1, 2, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__149);
+  __Pyx_GIVEREF(__pyx_tuple__149);
 
   /* "(tree fragment)":4
  *     raise TypeError("self.thisptr,self.view cannot be converted to a Python object for pickling")
  * def __setstate_cython__(self, __pyx_state):
  *     raise TypeError("self.thisptr,self.view cannot be converted to a Python object for pickling")             # <<<<<<<<<<<<<<
  */
-  __pyx_tuple__148 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_view_cannot_be); if (unlikely(!__pyx_tuple__148)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__148);
-  __Pyx_GIVEREF(__pyx_tuple__148);
-
-  /* "capnp/lib/capnp.pyx":4344
- * 
- *         if '_' in capnp_module_name:
- *             capnp_module_name_dashes = capnp_module_name.replace('_', '-')             # <<<<<<<<<<<<<<
- *             capnp_module_name_spaces = capnp_module_name.replace('_', ' ')
- *             has_underscores = True
- */
-  __pyx_tuple__153 = PyTuple_Pack(2, __pyx_n_s__151, __pyx_kp_s__152); if (unlikely(!__pyx_tuple__153)) __PYX_ERR(0, 4344, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__153);
-  __Pyx_GIVEREF(__pyx_tuple__153);
+  __pyx_tuple__150 = PyTuple_Pack(1, __pyx_kp_s_self_thisptr_self_view_cannot_be); if (unlikely(!__pyx_tuple__150)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__150);
+  __Pyx_GIVEREF(__pyx_tuple__150);
 
-  /* "capnp/lib/capnp.pyx":4345
+  /* "capnp/lib/capnp.pyx":4434
+ *         capnp_module_names.add(capnp_module_name)
  *         if '_' in capnp_module_name:
- *             capnp_module_name_dashes = capnp_module_name.replace('_', '-')
- *             capnp_module_name_spaces = capnp_module_name.replace('_', ' ')             # <<<<<<<<<<<<<<
- *             has_underscores = True
+ *             capnp_module_names.add(capnp_module_name.replace('_', '-'))             # <<<<<<<<<<<<<<
+ *             capnp_module_names.add(capnp_module_name.replace('_', ' '))
  * 
  */
-  __pyx_tuple__155 = PyTuple_Pack(2, __pyx_n_s__151, __pyx_kp_s__154); if (unlikely(!__pyx_tuple__155)) __PYX_ERR(0, 4345, __pyx_L1_error)
+  __pyx_tuple__155 = PyTuple_Pack(2, __pyx_n_s__153, __pyx_kp_s__154); if (unlikely(!__pyx_tuple__155)) __PYX_ERR(0, 4434, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__155);
   __Pyx_GIVEREF(__pyx_tuple__155);
 
+  /* "capnp/lib/capnp.pyx":4435
+ *         if '_' in capnp_module_name:
+ *             capnp_module_names.add(capnp_module_name.replace('_', '-'))
+ *             capnp_module_names.add(capnp_module_name.replace('_', ' '))             # <<<<<<<<<<<<<<
+ * 
+ *         if package_path:
+ */
+  __pyx_tuple__157 = PyTuple_Pack(2, __pyx_n_s__153, __pyx_kp_s__156); if (unlikely(!__pyx_tuple__157)) __PYX_ERR(0, 4435, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__157);
+  __Pyx_GIVEREF(__pyx_tuple__157);
+
   /* "(tree fragment)":4
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x49eb231, 0x3ff2cd3, 0xe658944):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError("Incompatible checksums (0x%x vs (0x49eb231, 0x3ff2cd3, 0xe658944) = (_field, _list, _message, _parent, _schema))" % __pyx_checksum)
  */
@@ -108191,713 +108500,698 @@
   __pyx_codeobj__166 = (PyObject*)__Pyx_PyCode_New(0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__165, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_deregister_all_types, 59, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__166)) __PYX_ERR(0, 59, __pyx_L1_error)
 
   /* "capnp/lib/capnp.pyx":77
  *        return self
  * 
  * def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):             # <<<<<<<<<<<<<<
  *     if fulfiller.fulfiller == NULL:
- *         return
+ *         if not task.cancelled():
  */
-  __pyx_tuple__167 = PyTuple_Pack(5, __pyx_n_s_method_name, __pyx_n_s_fulfiller, __pyx_n_s_task, __pyx_n_s_exc, __pyx_n_s_res); if (unlikely(!__pyx_tuple__167)) __PYX_ERR(0, 77, __pyx_L1_error)
+  __pyx_tuple__167 = PyTuple_Pack(6, __pyx_n_s_method_name, __pyx_n_s_fulfiller, __pyx_n_s_task, __pyx_n_s_exc, __pyx_n_s_context, __pyx_n_s_res); if (unlikely(!__pyx_tuple__167)) __PYX_ERR(0, 77, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__167);
   __Pyx_GIVEREF(__pyx_tuple__167);
-  __pyx_codeobj__168 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__167, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_void_task_done_callback, 77, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__168)) __PYX_ERR(0, 77, __pyx_L1_error)
+  __pyx_codeobj__168 = (PyObject*)__Pyx_PyCode_New(3, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__167, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_void_task_done_callback, 77, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__168)) __PYX_ERR(0, 77, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":108
+  /* "capnp/lib/capnp.pyx":117
  *     task.cancel()
  * 
  * def fill_context(method_name, context, returned_data):             # <<<<<<<<<<<<<<
  *     if returned_data is None:
  *         return
  */
-  __pyx_tuple__169 = PyTuple_Pack(7, __pyx_n_s_method_name, __pyx_n_s_context, __pyx_n_s_returned_data, __pyx_n_s_names, __pyx_n_s_results, __pyx_n_s_arg_name, __pyx_n_s_arg_val); if (unlikely(!__pyx_tuple__169)) __PYX_ERR(0, 108, __pyx_L1_error)
+  __pyx_tuple__169 = PyTuple_Pack(7, __pyx_n_s_method_name, __pyx_n_s_context, __pyx_n_s_returned_data, __pyx_n_s_names, __pyx_n_s_results, __pyx_n_s_arg_name, __pyx_n_s_arg_val); if (unlikely(!__pyx_tuple__169)) __PYX_ERR(0, 117, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__169);
   __Pyx_GIVEREF(__pyx_tuple__169);
-  __pyx_codeobj__170 = (PyObject*)__Pyx_PyCode_New(3, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__169, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_fill_context, 108, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__170)) __PYX_ERR(0, 108, __pyx_L1_error)
+  __pyx_codeobj__170 = (PyObject*)__Pyx_PyCode_New(3, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__169, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_fill_context, 117, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__170)) __PYX_ERR(0, 117, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":170
+  /* "capnp/lib/capnp.pyx":179
  * 
  * 
  * def _make_enum(enum_name, *sequential, **named):             # <<<<<<<<<<<<<<
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  */
-  __pyx_tuple__171 = PyTuple_Pack(7, __pyx_n_s_enum_name, __pyx_n_s_sequential, __pyx_n_s_named, __pyx_n_s_enums, __pyx_n_s_reverse, __pyx_n_s_genexpr, __pyx_n_s_genexpr); if (unlikely(!__pyx_tuple__171)) __PYX_ERR(0, 170, __pyx_L1_error)
+  __pyx_tuple__171 = PyTuple_Pack(7, __pyx_n_s_enum_name, __pyx_n_s_sequential, __pyx_n_s_named, __pyx_n_s_enums, __pyx_n_s_reverse, __pyx_n_s_genexpr, __pyx_n_s_genexpr); if (unlikely(!__pyx_tuple__171)) __PYX_ERR(0, 179, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__171);
   __Pyx_GIVEREF(__pyx_tuple__171);
-  __pyx_codeobj__172 = (PyObject*)__Pyx_PyCode_New(1, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__171, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_make_enum, 170, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__172)) __PYX_ERR(0, 170, __pyx_L1_error)
+  __pyx_codeobj__172 = (PyObject*)__Pyx_PyCode_New(1, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARARGS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__171, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_make_enum, 179, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__172)) __PYX_ERR(0, 179, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":177
+  /* "capnp/lib/capnp.pyx":186
  * 
  * 
  * _Type = _make_enum(             # <<<<<<<<<<<<<<
  *     "_Type",
  *     FAILED=0,
  */
-  __pyx_tuple__173 = PyTuple_Pack(1, __pyx_n_s_Type); if (unlikely(!__pyx_tuple__173)) __PYX_ERR(0, 177, __pyx_L1_error)
+  __pyx_tuple__173 = PyTuple_Pack(1, __pyx_n_s_Type); if (unlikely(!__pyx_tuple__173)) __PYX_ERR(0, 186, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__173);
   __Pyx_GIVEREF(__pyx_tuple__173);
 
-  /* "capnp/lib/capnp.pyx":223
+  /* "capnp/lib/capnp.pyx":232
  *     There is an enum named `Type` listed below, and a bunch of fields."""
  * 
  *     Type = _make_enum("Type", **{x: x for x in _Type.reverse_mapping.values()})             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):
  */
-  __pyx_tuple__174 = PyTuple_Pack(1, __pyx_n_s_Type_2); if (unlikely(!__pyx_tuple__174)) __PYX_ERR(0, 223, __pyx_L1_error)
+  __pyx_tuple__174 = PyTuple_Pack(1, __pyx_n_s_Type_2); if (unlikely(!__pyx_tuple__174)) __PYX_ERR(0, 232, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__174);
   __Pyx_GIVEREF(__pyx_tuple__174);
 
-  /* "capnp/lib/capnp.pyx":225
+  /* "capnp/lib/capnp.pyx":234
  *     Type = _make_enum("Type", **{x: x for x in _Type.reverse_mapping.values()})
  * 
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):             # <<<<<<<<<<<<<<
  *         if wrapper is not None:
  *             self.wrapper = wrapper
  */
-  __pyx_tuple__175 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_message, __pyx_n_s_nature, __pyx_n_s_durability, __pyx_n_s_wrapper, __pyx_n_s_type); if (unlikely(!__pyx_tuple__175)) __PYX_ERR(0, 225, __pyx_L1_error)
+  __pyx_tuple__175 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_message, __pyx_n_s_nature, __pyx_n_s_durability, __pyx_n_s_wrapper, __pyx_n_s_type); if (unlikely(!__pyx_tuple__175)) __PYX_ERR(0, 234, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__175);
   __Pyx_GIVEREF(__pyx_tuple__175);
-  __pyx_codeobj__176 = (PyObject*)__Pyx_PyCode_New(6, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__175, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 225, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__176)) __PYX_ERR(0, 225, __pyx_L1_error)
-  __pyx_tuple__177 = PyTuple_Pack(5, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__177)) __PYX_ERR(0, 225, __pyx_L1_error)
+  __pyx_codeobj__176 = (PyObject*)__Pyx_PyCode_New(6, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__175, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 234, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__176)) __PYX_ERR(0, 234, __pyx_L1_error)
+  __pyx_tuple__177 = PyTuple_Pack(5, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__177)) __PYX_ERR(0, 234, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__177);
   __Pyx_GIVEREF(__pyx_tuple__177);
 
-  /* "capnp/lib/capnp.pyx":237
+  /* "capnp/lib/capnp.pyx":246
  * 
  *     @property
  *     def file(self):             # <<<<<<<<<<<<<<
  *         return self.wrapper.file
  * 
  */
-  __pyx_tuple__178 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__178)) __PYX_ERR(0, 237, __pyx_L1_error)
+  __pyx_tuple__178 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__178)) __PYX_ERR(0, 246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__178);
   __Pyx_GIVEREF(__pyx_tuple__178);
-  __pyx_codeobj__179 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__178, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_file, 237, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__179)) __PYX_ERR(0, 237, __pyx_L1_error)
+  __pyx_codeobj__179 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__178, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_file, 246, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__179)) __PYX_ERR(0, 246, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":241
+  /* "capnp/lib/capnp.pyx":250
  * 
  *     @property
  *     def line(self):             # <<<<<<<<<<<<<<
  *         return self.wrapper.line
  * 
  */
-  __pyx_tuple__180 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__180)) __PYX_ERR(0, 241, __pyx_L1_error)
+  __pyx_tuple__180 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__180)) __PYX_ERR(0, 250, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__180);
   __Pyx_GIVEREF(__pyx_tuple__180);
-  __pyx_codeobj__181 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__180, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_line, 241, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__181)) __PYX_ERR(0, 241, __pyx_L1_error)
+  __pyx_codeobj__181 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__180, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_line, 250, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__181)) __PYX_ERR(0, 250, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":245
+  /* "capnp/lib/capnp.pyx":254
  * 
  *     @property
  *     def type(self):             # <<<<<<<<<<<<<<
  *         if self.wrapper is not None:
  *             return self.wrapper.type
  */
-  __pyx_tuple__182 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__182)) __PYX_ERR(0, 245, __pyx_L1_error)
+  __pyx_tuple__182 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__182)) __PYX_ERR(0, 254, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__182);
   __Pyx_GIVEREF(__pyx_tuple__182);
-  __pyx_codeobj__183 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__182, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_type, 245, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__183)) __PYX_ERR(0, 245, __pyx_L1_error)
+  __pyx_codeobj__183 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__182, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_type, 254, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__183)) __PYX_ERR(0, 254, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":252
+  /* "capnp/lib/capnp.pyx":261
  * 
  *     @property
  *     def description(self):             # <<<<<<<<<<<<<<
  *         if self.wrapper is not None:
  *             return self.wrapper.description
  */
-  __pyx_tuple__184 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__184)) __PYX_ERR(0, 252, __pyx_L1_error)
+  __pyx_tuple__184 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__184)) __PYX_ERR(0, 261, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__184);
   __Pyx_GIVEREF(__pyx_tuple__184);
-  __pyx_codeobj__185 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__184, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_description, 252, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__185)) __PYX_ERR(0, 252, __pyx_L1_error)
+  __pyx_codeobj__185 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__184, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_description, 261, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__185)) __PYX_ERR(0, 261, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":258
+  /* "capnp/lib/capnp.pyx":267
  *             return self.message
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return self.message
  * 
  */
-  __pyx_tuple__186 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__186)) __PYX_ERR(0, 258, __pyx_L1_error)
+  __pyx_tuple__186 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__186)) __PYX_ERR(0, 267, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__186);
   __Pyx_GIVEREF(__pyx_tuple__186);
-  __pyx_codeobj__187 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__186, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_str_2, 258, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__187)) __PYX_ERR(0, 258, __pyx_L1_error)
+  __pyx_codeobj__187 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__186, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_str_2, 267, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__187)) __PYX_ERR(0, 267, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":261
+  /* "capnp/lib/capnp.pyx":270
  *         return self.message
  * 
  *     def _to_python(self):             # <<<<<<<<<<<<<<
  *         message = self.message
- *         if self.wrapper.type == 'FAILED':
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':
  */
-  __pyx_tuple__188 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_message); if (unlikely(!__pyx_tuple__188)) __PYX_ERR(0, 261, __pyx_L1_error)
+  __pyx_tuple__188 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_message); if (unlikely(!__pyx_tuple__188)) __PYX_ERR(0, 270, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__188);
   __Pyx_GIVEREF(__pyx_tuple__188);
-  __pyx_codeobj__189 = (PyObject*)__Pyx_PyCode_New(1, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__188, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_to_python, 261, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__189)) __PYX_ERR(0, 261, __pyx_L1_error)
+  __pyx_codeobj__189 = (PyObject*)__Pyx_PyCode_New(1, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__188, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_to_python, 270, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__189)) __PYX_ERR(0, 270, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1085
+  /* "capnp/lib/capnp.pyx":1122
  *     from pickle_helper import _struct_reducer
  * else:
  *     def _struct_reducer(schema_id, data):             # <<<<<<<<<<<<<<
  *         with _global_schema_parser.modules_by_id[schema_id].from_bytes(data) as msg:
  *             return msg
  */
-  __pyx_tuple__190 = PyTuple_Pack(3, __pyx_n_s_schema_id, __pyx_n_s_data, __pyx_n_s_msg); if (unlikely(!__pyx_tuple__190)) __PYX_ERR(0, 1085, __pyx_L1_error)
+  __pyx_tuple__190 = PyTuple_Pack(3, __pyx_n_s_schema_id, __pyx_n_s_data, __pyx_n_s_msg); if (unlikely(!__pyx_tuple__190)) __PYX_ERR(0, 1122, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__190);
   __Pyx_GIVEREF(__pyx_tuple__190);
-  __pyx_codeobj__191 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__190, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_struct_reducer, 1085, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__191)) __PYX_ERR(0, 1085, __pyx_L1_error)
+  __pyx_codeobj__191 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__190, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_struct_reducer, 1122, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__191)) __PYX_ERR(0, 1122, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1852
+  /* "capnp/lib/capnp.pyx":1901
  * 
  * @_asynccontextmanager
  * async def kj_loop():             # <<<<<<<<<<<<<<
- *     asyncio_loop = asyncio.get_running_loop()
- *     if hasattr(asyncio_loop, '_kj_loop'):
+ *     """Context manager for running the KJ event loop
+ * 
  */
-  __pyx_tuple__192 = PyTuple_Pack(6, __pyx_n_s_asyncio_loop, __pyx_n_s_kj_loop, __pyx_n_s_stream, __pyx_n_s_rpc, __pyx_n_s_tasks, __pyx_n_s_task); if (unlikely(!__pyx_tuple__192)) __PYX_ERR(0, 1852, __pyx_L1_error)
+  __pyx_tuple__192 = PyTuple_Pack(6, __pyx_n_s_asyncio_loop, __pyx_n_s_kj_loop, __pyx_n_s_stream, __pyx_n_s_rpc, __pyx_n_s_tasks, __pyx_n_s_task); if (unlikely(!__pyx_tuple__192)) __PYX_ERR(0, 1901, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__192);
   __Pyx_GIVEREF(__pyx_tuple__192);
-  __pyx_codeobj__36 = (PyObject*)__Pyx_PyCode_New(0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__192, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_kj_loop, 1852, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__36)) __PYX_ERR(0, 1852, __pyx_L1_error)
+  __pyx_codeobj__36 = (PyObject*)__Pyx_PyCode_New(0, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__192, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_kj_loop, 1901, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__36)) __PYX_ERR(0, 1901, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":1878
+  /* "capnp/lib/capnp.pyx":1937
  *         kj_loop.close()
  * 
  * async def run(coro):             # <<<<<<<<<<<<<<
- *     async with kj_loop():
- *         return await coro
+ *     """Ensure that the coroutine runs while the KJ event loop is running
+ * 
  */
-  __pyx_tuple__193 = PyTuple_Pack(1, __pyx_n_s_coro); if (unlikely(!__pyx_tuple__193)) __PYX_ERR(0, 1878, __pyx_L1_error)
+  __pyx_tuple__193 = PyTuple_Pack(1, __pyx_n_s_coro); if (unlikely(!__pyx_tuple__193)) __PYX_ERR(0, 1937, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__193);
   __Pyx_GIVEREF(__pyx_tuple__193);
-  __pyx_codeobj__38 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__193, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_run, 1878, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__38)) __PYX_ERR(0, 1878, __pyx_L1_error)
+  __pyx_codeobj__38 = (PyObject*)__Pyx_PyCode_New(1, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__193, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_run, 1937, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__38)) __PYX_ERR(0, 1937, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2350
+  /* "capnp/lib/capnp.pyx":2417
  * 
  *     @staticmethod
  *     async def create_connection(host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection.
  * 
  */
-  __pyx_tuple__194 = PyTuple_Pack(7, __pyx_n_s_host, __pyx_n_s_port, __pyx_n_s_kwargs, __pyx_n_s_self, __pyx_n_s_loop, __pyx_n_s_transport, __pyx_n_s_protocol); if (unlikely(!__pyx_tuple__194)) __PYX_ERR(0, 2350, __pyx_L1_error)
+  __pyx_tuple__194 = PyTuple_Pack(7, __pyx_n_s_host, __pyx_n_s_port, __pyx_n_s_kwargs, __pyx_n_s_self, __pyx_n_s_loop, __pyx_n_s_transport, __pyx_n_s_protocol); if (unlikely(!__pyx_tuple__194)) __PYX_ERR(0, 2417, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__194);
   __Pyx_GIVEREF(__pyx_tuple__194);
-  __pyx_codeobj__65 = (PyObject*)__Pyx_PyCode_New(2, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__194, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_create_connection, 2350, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__65)) __PYX_ERR(0, 2350, __pyx_L1_error)
+  __pyx_codeobj__65 = (PyObject*)__Pyx_PyCode_New(2, 0, 7, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__194, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_create_connection, 2417, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__65)) __PYX_ERR(0, 2417, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2364
+  /* "capnp/lib/capnp.pyx":2431
  * 
  *     @staticmethod
  *     async def create_unix_connection(path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a Unix socket connection.
  * 
  */
-  __pyx_tuple__195 = PyTuple_Pack(6, __pyx_n_s_path, __pyx_n_s_kwargs, __pyx_n_s_self, __pyx_n_s_loop, __pyx_n_s_transport, __pyx_n_s_protocol); if (unlikely(!__pyx_tuple__195)) __PYX_ERR(0, 2364, __pyx_L1_error)
+  __pyx_tuple__195 = PyTuple_Pack(6, __pyx_n_s_path, __pyx_n_s_kwargs, __pyx_n_s_self, __pyx_n_s_loop, __pyx_n_s_transport, __pyx_n_s_protocol); if (unlikely(!__pyx_tuple__195)) __PYX_ERR(0, 2431, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__195);
   __Pyx_GIVEREF(__pyx_tuple__195);
-  __pyx_codeobj__66 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__195, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_create_unix_connection, 2364, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__66)) __PYX_ERR(0, 2364, __pyx_L1_error)
+  __pyx_codeobj__66 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__195, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_create_unix_connection, 2431, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__66)) __PYX_ERR(0, 2431, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2378
+  /* "capnp/lib/capnp.pyx":2445
  * 
  *     @staticmethod
  *     def _connect(callback):             # <<<<<<<<<<<<<<
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  */
-  __pyx_tuple__196 = PyTuple_Pack(4, __pyx_n_s_callback, __pyx_n_s_self, __pyx_n_s_loop, __pyx_n_s_protocol); if (unlikely(!__pyx_tuple__196)) __PYX_ERR(0, 2378, __pyx_L1_error)
+  __pyx_tuple__196 = PyTuple_Pack(4, __pyx_n_s_callback, __pyx_n_s_self, __pyx_n_s_loop, __pyx_n_s_protocol); if (unlikely(!__pyx_tuple__196)) __PYX_ERR(0, 2445, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__196);
   __Pyx_GIVEREF(__pyx_tuple__196);
-  __pyx_codeobj__197 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__196, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_connect, 2378, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__197)) __PYX_ERR(0, 2378, __pyx_L1_error)
+  __pyx_codeobj__197 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__196, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_connect, 2445, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__197)) __PYX_ERR(0, 2445, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2386
+  /* "capnp/lib/capnp.pyx":2453
  * 
  *     @staticmethod
  *     async def create_server(callback, host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection server.
  * 
  */
-  __pyx_tuple__198 = PyTuple_Pack(5, __pyx_n_s_callback, __pyx_n_s_host, __pyx_n_s_port, __pyx_n_s_kwargs, __pyx_n_s_loop); if (unlikely(!__pyx_tuple__198)) __PYX_ERR(0, 2386, __pyx_L1_error)
+  __pyx_tuple__198 = PyTuple_Pack(5, __pyx_n_s_callback, __pyx_n_s_host, __pyx_n_s_port, __pyx_n_s_kwargs, __pyx_n_s_loop); if (unlikely(!__pyx_tuple__198)) __PYX_ERR(0, 2453, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__198);
   __Pyx_GIVEREF(__pyx_tuple__198);
-  __pyx_codeobj__67 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__198, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_create_server, 2386, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__67)) __PYX_ERR(0, 2386, __pyx_L1_error)
+  __pyx_codeobj__67 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__198, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_create_server, 2453, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__67)) __PYX_ERR(0, 2453, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2400
+  /* "capnp/lib/capnp.pyx":2470
  * 
  *     @staticmethod
  *     async def create_unix_server(callback, path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a unix connection server.
  * 
  */
-  __pyx_tuple__199 = PyTuple_Pack(4, __pyx_n_s_callback, __pyx_n_s_path, __pyx_n_s_kwargs, __pyx_n_s_loop); if (unlikely(!__pyx_tuple__199)) __PYX_ERR(0, 2400, __pyx_L1_error)
+  __pyx_tuple__199 = PyTuple_Pack(4, __pyx_n_s_callback, __pyx_n_s_path, __pyx_n_s_kwargs, __pyx_n_s_loop); if (unlikely(!__pyx_tuple__199)) __PYX_ERR(0, 2470, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__199);
   __Pyx_GIVEREF(__pyx_tuple__199);
-  __pyx_codeobj__68 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__199, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_create_unix_server, 2400, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__68)) __PYX_ERR(0, 2400, __pyx_L1_error)
+  __pyx_codeobj__68 = (PyObject*)__Pyx_PyCode_New(2, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__199, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_create_unix_server, 2470, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__68)) __PYX_ERR(0, 2470, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":2893
+  /* "capnp/lib/capnp.pyx":2978
  * 
  * 
  * types = _ModuleType('capnp.types')             # <<<<<<<<<<<<<<
  * cdef _SchemaType _void = _SchemaType()
  * _void.thisptr = capnp.SchemaType(capnp.TypeWhichVOID)
  */
-  __pyx_tuple__200 = PyTuple_Pack(1, __pyx_kp_s_capnp_types); if (unlikely(!__pyx_tuple__200)) __PYX_ERR(0, 2893, __pyx_L1_error)
+  __pyx_tuple__200 = PyTuple_Pack(1, __pyx_kp_s_capnp_types); if (unlikely(!__pyx_tuple__200)) __PYX_ERR(0, 2978, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__200);
   __Pyx_GIVEREF(__pyx_tuple__200);
 
-  /* "capnp/lib/capnp.pyx":3029
+  /* "capnp/lib/capnp.pyx":3114
  * class _StructABCMeta(type):
  *     """A metaclass for the Type.Reader and Type.Builder ABCs."""
  *     def __instancecheck__(cls, obj):             # <<<<<<<<<<<<<<
  *         return isinstance(obj, cls.__base__) and obj.schema == cls._schema
  * 
  */
-  __pyx_tuple__201 = PyTuple_Pack(2, __pyx_n_s_cls, __pyx_n_s_obj); if (unlikely(!__pyx_tuple__201)) __PYX_ERR(0, 3029, __pyx_L1_error)
+  __pyx_tuple__201 = PyTuple_Pack(2, __pyx_n_s_cls, __pyx_n_s_obj); if (unlikely(!__pyx_tuple__201)) __PYX_ERR(0, 3114, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__201);
   __Pyx_GIVEREF(__pyx_tuple__201);
-  __pyx_codeobj__202 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__201, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_instancecheck, 3029, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__202)) __PYX_ERR(0, 3029, __pyx_L1_error)
+  __pyx_codeobj__202 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__201, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_instancecheck, 3114, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__202)) __PYX_ERR(0, 3114, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3042
+  /* "capnp/lib/capnp.pyx":3127
  * 
  * class _StructModuleWhich(_enum.Enum):
  *     def __eq__(self, other):             # <<<<<<<<<<<<<<
  *         if isinstance(other, int):
  *             return self.value == other
  */
-  __pyx_tuple__203 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_other); if (unlikely(!__pyx_tuple__203)) __PYX_ERR(0, 3042, __pyx_L1_error)
+  __pyx_tuple__203 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_other); if (unlikely(!__pyx_tuple__203)) __PYX_ERR(0, 3127, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__203);
   __Pyx_GIVEREF(__pyx_tuple__203);
-  __pyx_codeobj__204 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__203, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_eq, 3042, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__204)) __PYX_ERR(0, 3042, __pyx_L1_error)
+  __pyx_codeobj__204 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__203, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_eq, 3127, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__204)) __PYX_ERR(0, 3127, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3049
+  /* "capnp/lib/capnp.pyx":3134
  * 
  * 
  * class _StructModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         self.schema = schema
  */
-  __pyx_tuple__205 = PyTuple_Pack(1, __pyx_builtin_object); if (unlikely(!__pyx_tuple__205)) __PYX_ERR(0, 3049, __pyx_L1_error)
+  __pyx_tuple__205 = PyTuple_Pack(1, __pyx_builtin_object); if (unlikely(!__pyx_tuple__205)) __PYX_ERR(0, 3134, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__205);
   __Pyx_GIVEREF(__pyx_tuple__205);
 
-  /* "capnp/lib/capnp.pyx":3050
+  /* "capnp/lib/capnp.pyx":3135
  * 
  * class _StructModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  * 
  */
-  __pyx_tuple__206 = PyTuple_Pack(10, __pyx_n_s_self, __pyx_n_s_schema, __pyx_n_s_name, __pyx_n_s_field, __pyx_n_s_raw_field, __pyx_n_s_raw_schema, __pyx_n_s_field_schema, __pyx_n_s_sub_module, __pyx_n_s_mapping, __pyx_n_s_union_field); if (unlikely(!__pyx_tuple__206)) __PYX_ERR(0, 3050, __pyx_L1_error)
+  __pyx_tuple__206 = PyTuple_Pack(10, __pyx_n_s_self, __pyx_n_s_schema, __pyx_n_s_name, __pyx_n_s_field, __pyx_n_s_raw_field, __pyx_n_s_raw_schema, __pyx_n_s_field_schema, __pyx_n_s_sub_module, __pyx_n_s_mapping, __pyx_n_s_union_field); if (unlikely(!__pyx_tuple__206)) __PYX_ERR(0, 3135, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__206);
   __Pyx_GIVEREF(__pyx_tuple__206);
-  __pyx_codeobj__207 = (PyObject*)__Pyx_PyCode_New(3, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__206, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 3050, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__207)) __PYX_ERR(0, 3050, __pyx_L1_error)
+  __pyx_codeobj__207 = (PyObject*)__Pyx_PyCode_New(3, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__206, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 3135, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__207)) __PYX_ERR(0, 3135, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3078
+  /* "capnp/lib/capnp.pyx":3163
  *             setattr(self, 'Union', sub_module)
  * 
  *     def read(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object read from file.
  * 
  */
-  __pyx_tuple__208 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_file, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__208)) __PYX_ERR(0, 3078, __pyx_L1_error)
+  __pyx_tuple__208 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_file, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__208)) __PYX_ERR(0, 3163, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__208);
   __Pyx_GIVEREF(__pyx_tuple__208);
-  __pyx_codeobj__209 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__208, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read, 3078, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__209)) __PYX_ERR(0, 3078, __pyx_L1_error)
-  __pyx_tuple__210 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__210)) __PYX_ERR(0, 3078, __pyx_L1_error)
+  __pyx_codeobj__209 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__208, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read, 3163, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__209)) __PYX_ERR(0, 3163, __pyx_L1_error)
+  __pyx_tuple__210 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__210)) __PYX_ERR(0, 3163, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__210);
   __Pyx_GIVEREF(__pyx_tuple__210);
 
-  /* "capnp/lib/capnp.pyx":3095
+  /* "capnp/lib/capnp.pyx":3180
  *         return reader.get_root(self.schema)
  * 
  *     async def read_async(self, _AsyncIoStream stream, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Async version of read(). Returns either a message, or None in case of EOF.
  * 
  */
-  __pyx_tuple__211 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_stream, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_opts, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__211)) __PYX_ERR(0, 3095, __pyx_L1_error)
+  __pyx_tuple__211 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_stream, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_opts, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__211)) __PYX_ERR(0, 3180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__211);
   __Pyx_GIVEREF(__pyx_tuple__211);
-  __pyx_codeobj__91 = (PyObject*)__Pyx_PyCode_New(4, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__211, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_async, 3095, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__91)) __PYX_ERR(0, 3095, __pyx_L1_error)
-  __pyx_tuple__212 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__212)) __PYX_ERR(0, 3095, __pyx_L1_error)
+  __pyx_codeobj__93 = (PyObject*)__Pyx_PyCode_New(4, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__211, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_async, 3180, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__93)) __PYX_ERR(0, 3180, __pyx_L1_error)
+  __pyx_tuple__212 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__212)) __PYX_ERR(0, 3180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__212);
   __Pyx_GIVEREF(__pyx_tuple__212);
 
-  /* "capnp/lib/capnp.pyx":3116
+  /* "capnp/lib/capnp.pyx":3201
  *         return reader.get_root(self.schema)
  * 
  *     def read_multiple(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
-  __pyx_tuple__213 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_file, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_skip_copy, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__213)) __PYX_ERR(0, 3116, __pyx_L1_error)
+  __pyx_tuple__213 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_file, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_skip_copy, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__213)) __PYX_ERR(0, 3201, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__213);
   __Pyx_GIVEREF(__pyx_tuple__213);
-  __pyx_codeobj__214 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__213, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_multiple, 3116, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__214)) __PYX_ERR(0, 3116, __pyx_L1_error)
-  __pyx_tuple__215 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__215)) __PYX_ERR(0, 3116, __pyx_L1_error)
+  __pyx_codeobj__214 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__213, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_multiple, 3201, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__214)) __PYX_ERR(0, 3201, __pyx_L1_error)
+  __pyx_tuple__215 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__215)) __PYX_ERR(0, 3201, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__215);
   __Pyx_GIVEREF(__pyx_tuple__215);
 
-  /* "capnp/lib/capnp.pyx":3137
+  /* "capnp/lib/capnp.pyx":3222
  *         return reader
  * 
  *     def read_packed(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the packed object read from file.
  * 
  */
-  __pyx_tuple__216 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_file, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__216)) __PYX_ERR(0, 3137, __pyx_L1_error)
+  __pyx_tuple__216 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_file, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__216)) __PYX_ERR(0, 3222, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__216);
   __Pyx_GIVEREF(__pyx_tuple__216);
-  __pyx_codeobj__217 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__216, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_packed, 3137, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__217)) __PYX_ERR(0, 3137, __pyx_L1_error)
-  __pyx_tuple__218 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__218)) __PYX_ERR(0, 3137, __pyx_L1_error)
+  __pyx_codeobj__217 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__216, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_packed, 3222, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__217)) __PYX_ERR(0, 3222, __pyx_L1_error)
+  __pyx_tuple__218 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__218)) __PYX_ERR(0, 3222, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__218);
   __Pyx_GIVEREF(__pyx_tuple__218);
 
-  /* "capnp/lib/capnp.pyx":3154
+  /* "capnp/lib/capnp.pyx":3239
  *         return reader.get_root(self.schema)
  * 
  *     def read_multiple_packed(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
-  __pyx_tuple__219 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_file, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_skip_copy, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__219)) __PYX_ERR(0, 3154, __pyx_L1_error)
+  __pyx_tuple__219 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_file, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_skip_copy, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__219)) __PYX_ERR(0, 3239, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__219);
   __Pyx_GIVEREF(__pyx_tuple__219);
-  __pyx_codeobj__220 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__219, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_multiple_packed, 3154, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__220)) __PYX_ERR(0, 3154, __pyx_L1_error)
-  __pyx_tuple__221 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__221)) __PYX_ERR(0, 3154, __pyx_L1_error)
+  __pyx_codeobj__220 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__219, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_multiple_packed, 3239, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__220)) __PYX_ERR(0, 3239, __pyx_L1_error)
+  __pyx_tuple__221 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__221)) __PYX_ERR(0, 3239, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__221);
   __Pyx_GIVEREF(__pyx_tuple__221);
 
-  /* "capnp/lib/capnp.pyx":3175
+  /* "capnp/lib/capnp.pyx":3260
  *         return reader
  * 
  *     def read_multiple_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
-  __pyx_tuple__222 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_buf, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__222)) __PYX_ERR(0, 3175, __pyx_L1_error)
+  __pyx_tuple__222 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_buf, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__222)) __PYX_ERR(0, 3260, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__222);
   __Pyx_GIVEREF(__pyx_tuple__222);
-  __pyx_codeobj__223 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__222, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_multiple_bytes, 3175, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__223)) __PYX_ERR(0, 3175, __pyx_L1_error)
-  __pyx_tuple__224 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__224)) __PYX_ERR(0, 3175, __pyx_L1_error)
+  __pyx_codeobj__223 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__222, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_multiple_bytes, 3260, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__223)) __PYX_ERR(0, 3260, __pyx_L1_error)
+  __pyx_tuple__224 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__224)) __PYX_ERR(0, 3260, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__224);
   __Pyx_GIVEREF(__pyx_tuple__224);
 
-  /* "capnp/lib/capnp.pyx":3192
+  /* "capnp/lib/capnp.pyx":3277
  *         return reader
  * 
  *     def read_multiple_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
-  __pyx_tuple__225 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_buf, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__225)) __PYX_ERR(0, 3192, __pyx_L1_error)
+  __pyx_tuple__225 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_buf, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_reader); if (unlikely(!__pyx_tuple__225)) __PYX_ERR(0, 3277, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__225);
   __Pyx_GIVEREF(__pyx_tuple__225);
-  __pyx_codeobj__226 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__225, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_multiple_bytes_packed, 3192, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__226)) __PYX_ERR(0, 3192, __pyx_L1_error)
-  __pyx_tuple__227 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__227)) __PYX_ERR(0, 3192, __pyx_L1_error)
+  __pyx_codeobj__226 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__225, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_read_multiple_bytes_packed, 3277, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__226)) __PYX_ERR(0, 3277, __pyx_L1_error)
+  __pyx_tuple__227 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__227)) __PYX_ERR(0, 3277, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__227);
   __Pyx_GIVEREF(__pyx_tuple__227);
 
-  /* "capnp/lib/capnp.pyx":3210
+  /* "capnp/lib/capnp.pyx":3295
  * 
  *     @contextlib.contextmanager
  *     def from_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None, builder=False):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object in buf.
  * 
  */
-  __pyx_tuple__228 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_buf, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_builder, __pyx_n_s_message); if (unlikely(!__pyx_tuple__228)) __PYX_ERR(0, 3210, __pyx_L1_error)
+  __pyx_tuple__228 = PyTuple_Pack(6, __pyx_n_s_self, __pyx_n_s_buf, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_builder, __pyx_n_s_message); if (unlikely(!__pyx_tuple__228)) __PYX_ERR(0, 3295, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__228);
   __Pyx_GIVEREF(__pyx_tuple__228);
-  __pyx_codeobj__92 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__228, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_from_bytes, 3210, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__92)) __PYX_ERR(0, 3210, __pyx_L1_error)
-  __pyx_tuple__229 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__229)) __PYX_ERR(0, 3210, __pyx_L1_error)
+  __pyx_codeobj__94 = (PyObject*)__Pyx_PyCode_New(5, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__228, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_from_bytes, 3295, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__94)) __PYX_ERR(0, 3295, __pyx_L1_error)
+  __pyx_tuple__229 = PyTuple_Pack(3, ((PyObject *)Py_None), ((PyObject *)Py_None), ((PyObject *)Py_False)); if (unlikely(!__pyx_tuple__229)) __PYX_ERR(0, 3295, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__229);
   __Pyx_GIVEREF(__pyx_tuple__229);
 
-  /* "capnp/lib/capnp.pyx":3243
+  /* "capnp/lib/capnp.pyx":3328
  *                 message.close()
  * 
  *     def from_segments(self, segments, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for a list of segment bytes.
  * 
  */
-  __pyx_tuple__230 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_segments, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_message); if (unlikely(!__pyx_tuple__230)) __PYX_ERR(0, 3243, __pyx_L1_error)
+  __pyx_tuple__230 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_segments, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit, __pyx_n_s_message); if (unlikely(!__pyx_tuple__230)) __PYX_ERR(0, 3328, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__230);
   __Pyx_GIVEREF(__pyx_tuple__230);
-  __pyx_codeobj__231 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__230, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_from_segments, 3243, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__231)) __PYX_ERR(0, 3243, __pyx_L1_error)
-  __pyx_tuple__232 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__232)) __PYX_ERR(0, 3243, __pyx_L1_error)
+  __pyx_codeobj__231 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__230, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_from_segments, 3328, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__231)) __PYX_ERR(0, 3328, __pyx_L1_error)
+  __pyx_tuple__232 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__232)) __PYX_ERR(0, 3328, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__232);
   __Pyx_GIVEREF(__pyx_tuple__232);
 
-  /* "capnp/lib/capnp.pyx":3255
+  /* "capnp/lib/capnp.pyx":3340
  *         return message.get_root(self.schema)
  * 
  *     def from_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the packed object in buf.
  * 
  */
-  __pyx_tuple__233 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_buf, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit); if (unlikely(!__pyx_tuple__233)) __PYX_ERR(0, 3255, __pyx_L1_error)
+  __pyx_tuple__233 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_buf, __pyx_n_s_traversal_limit_in_words, __pyx_n_s_nesting_limit); if (unlikely(!__pyx_tuple__233)) __PYX_ERR(0, 3340, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__233);
   __Pyx_GIVEREF(__pyx_tuple__233);
-  __pyx_codeobj__234 = (PyObject*)__Pyx_PyCode_New(4, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__233, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_from_bytes_packed, 3255, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__234)) __PYX_ERR(0, 3255, __pyx_L1_error)
-  __pyx_tuple__235 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__235)) __PYX_ERR(0, 3255, __pyx_L1_error)
+  __pyx_codeobj__234 = (PyObject*)__Pyx_PyCode_New(4, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__233, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_from_bytes_packed, 3340, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__234)) __PYX_ERR(0, 3340, __pyx_L1_error)
+  __pyx_tuple__235 = PyTuple_Pack(2, ((PyObject *)Py_None), ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__235)) __PYX_ERR(0, 3340, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__235);
   __Pyx_GIVEREF(__pyx_tuple__235);
 
-  /* "capnp/lib/capnp.pyx":3272
+  /* "capnp/lib/capnp.pyx":3357
  *         return _PackedMessageReaderBytes(buf, traversal_limit_in_words, nesting_limit).get_root(self.schema)
  * 
  *     def __call__(self, num_first_segment_words=None, **kwargs):             # <<<<<<<<<<<<<<
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)
  * 
  */
-  __pyx_tuple__236 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_num_first_segment_words, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__236)) __PYX_ERR(0, 3272, __pyx_L1_error)
+  __pyx_tuple__236 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_num_first_segment_words, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__236)) __PYX_ERR(0, 3357, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__236);
   __Pyx_GIVEREF(__pyx_tuple__236);
-  __pyx_codeobj__237 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__236, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_call, 3272, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__237)) __PYX_ERR(0, 3272, __pyx_L1_error)
-  __pyx_tuple__238 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__238)) __PYX_ERR(0, 3272, __pyx_L1_error)
+  __pyx_codeobj__237 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__236, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_call, 3357, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__237)) __PYX_ERR(0, 3357, __pyx_L1_error)
+  __pyx_tuple__238 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__238)) __PYX_ERR(0, 3357, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__238);
   __Pyx_GIVEREF(__pyx_tuple__238);
 
-  /* "capnp/lib/capnp.pyx":3275
+  /* "capnp/lib/capnp.pyx":3360
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)
  * 
  *     def new_message(self, num_first_segment_words=None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Returns a newly allocated builder message.
  * 
  */
-  __pyx_tuple__239 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_num_first_segment_words, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__239)) __PYX_ERR(0, 3275, __pyx_L1_error)
+  __pyx_tuple__239 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_num_first_segment_words, __pyx_n_s_kwargs); if (unlikely(!__pyx_tuple__239)) __PYX_ERR(0, 3360, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__239);
   __Pyx_GIVEREF(__pyx_tuple__239);
-  __pyx_codeobj__240 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__239, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_new_message, 3275, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__240)) __PYX_ERR(0, 3275, __pyx_L1_error)
-  __pyx_tuple__241 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__241)) __PYX_ERR(0, 3275, __pyx_L1_error)
+  __pyx_codeobj__240 = (PyObject*)__Pyx_PyCode_New(2, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS|CO_VARKEYWORDS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__239, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_new_message, 3360, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__240)) __PYX_ERR(0, 3360, __pyx_L1_error)
+  __pyx_tuple__241 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__241)) __PYX_ERR(0, 3360, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__241);
   __Pyx_GIVEREF(__pyx_tuple__241);
 
-  /* "capnp/lib/capnp.pyx":3292
+  /* "capnp/lib/capnp.pyx":3377
  * 
  * 
  * class _InterfaceModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         def server_init(server_self):
  */
-  __pyx_tuple__242 = PyTuple_Pack(1, __pyx_builtin_object); if (unlikely(!__pyx_tuple__242)) __PYX_ERR(0, 3292, __pyx_L1_error)
+  __pyx_tuple__242 = PyTuple_Pack(1, __pyx_builtin_object); if (unlikely(!__pyx_tuple__242)) __PYX_ERR(0, 3377, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__242);
   __Pyx_GIVEREF(__pyx_tuple__242);
 
-  /* "capnp/lib/capnp.pyx":3293
+  /* "capnp/lib/capnp.pyx":3378
  * 
  * class _InterfaceModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         def server_init(server_self):
  *             pass
  */
-  __pyx_tuple__243 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_schema, __pyx_n_s_name, __pyx_n_s_server_init, __pyx_n_s_server_init); if (unlikely(!__pyx_tuple__243)) __PYX_ERR(0, 3293, __pyx_L1_error)
+  __pyx_tuple__243 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_schema, __pyx_n_s_name, __pyx_n_s_server_init, __pyx_n_s_server_init); if (unlikely(!__pyx_tuple__243)) __PYX_ERR(0, 3378, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__243);
   __Pyx_GIVEREF(__pyx_tuple__243);
-  __pyx_codeobj__244 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__243, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 3293, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__244)) __PYX_ERR(0, 3293, __pyx_L1_error)
+  __pyx_codeobj__244 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__243, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 3378, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__244)) __PYX_ERR(0, 3378, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3299
+  /* "capnp/lib/capnp.pyx":3384
  *         self.Server = type(name + '.Server', (_DynamicCapabilityServer,), {'__init__': server_init, 'schema':schema})
  * 
  *     def _new_client(self, server):             # <<<<<<<<<<<<<<
  *         return _DynamicCapabilityClient()._init_vals(self.schema, server)
  * 
  */
-  __pyx_tuple__245 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_server); if (unlikely(!__pyx_tuple__245)) __PYX_ERR(0, 3299, __pyx_L1_error)
+  __pyx_tuple__245 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_server); if (unlikely(!__pyx_tuple__245)) __PYX_ERR(0, 3384, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__245);
   __Pyx_GIVEREF(__pyx_tuple__245);
-  __pyx_codeobj__246 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__245, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_new_client, 3299, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__246)) __PYX_ERR(0, 3299, __pyx_L1_error)
+  __pyx_codeobj__246 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__245, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_new_client, 3384, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__246)) __PYX_ERR(0, 3384, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":3303
+  /* "capnp/lib/capnp.pyx":3388
  * 
  * 
  * class _EnumModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         self.schema = schema
  */
-  __pyx_tuple__247 = PyTuple_Pack(1, __pyx_builtin_object); if (unlikely(!__pyx_tuple__247)) __PYX_ERR(0, 3303, __pyx_L1_error)
+  __pyx_tuple__247 = PyTuple_Pack(1, __pyx_builtin_object); if (unlikely(!__pyx_tuple__247)) __PYX_ERR(0, 3388, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__247);
   __Pyx_GIVEREF(__pyx_tuple__247);
 
-  /* "capnp/lib/capnp.pyx":3304
+  /* "capnp/lib/capnp.pyx":3389
  * 
  * class _EnumModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         for name, val in schema.enumerants.items():
  */
-  __pyx_tuple__248 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_schema, __pyx_n_s_name, __pyx_n_s_val); if (unlikely(!__pyx_tuple__248)) __PYX_ERR(0, 3304, __pyx_L1_error)
+  __pyx_tuple__248 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_schema, __pyx_n_s_name, __pyx_n_s_val); if (unlikely(!__pyx_tuple__248)) __PYX_ERR(0, 3389, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__248);
   __Pyx_GIVEREF(__pyx_tuple__248);
-  __pyx_codeobj__249 = (PyObject*)__Pyx_PyCode_New(3, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__248, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 3304, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__249)) __PYX_ERR(0, 3304, __pyx_L1_error)
+  __pyx_codeobj__249 = (PyObject*)__Pyx_PyCode_New(3, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__248, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 3389, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__249)) __PYX_ERR(0, 3389, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4180
+  /* "capnp/lib/capnp.pyx":4269
  * 
  * 
  * def _message_to_packed_bytes(_MessageBuilder message):             # <<<<<<<<<<<<<<
  *     r, w = _os.pipe()
  * 
  */
-  __pyx_tuple__250 = PyTuple_Pack(6, __pyx_n_s_message, __pyx_n_s_r, __pyx_n_s_w, __pyx_n_s_writer, __pyx_n_s_reader, __pyx_n_s_ret); if (unlikely(!__pyx_tuple__250)) __PYX_ERR(0, 4180, __pyx_L1_error)
+  __pyx_tuple__250 = PyTuple_Pack(6, __pyx_n_s_message, __pyx_n_s_r, __pyx_n_s_w, __pyx_n_s_writer, __pyx_n_s_reader, __pyx_n_s_ret); if (unlikely(!__pyx_tuple__250)) __PYX_ERR(0, 4269, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__250);
   __Pyx_GIVEREF(__pyx_tuple__250);
-  __pyx_codeobj__251 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__250, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_message_to_packed_bytes, 4180, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__251)) __PYX_ERR(0, 4180, __pyx_L1_error)
+  __pyx_codeobj__251 = (PyObject*)__Pyx_PyCode_New(1, 0, 6, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__250, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_message_to_packed_bytes, 4269, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__251)) __PYX_ERR(0, 4269, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4196
+  /* "capnp/lib/capnp.pyx":4285
  * 
  * 
  * def _write_message_to_fd(int fd, _MessageBuilder message):             # <<<<<<<<<<<<<<
  *     """Serialize a Cap'n Proto message to a file descriptor
  * 
  */
-  __pyx_tuple__252 = PyTuple_Pack(2, __pyx_n_s_fd, __pyx_n_s_message); if (unlikely(!__pyx_tuple__252)) __PYX_ERR(0, 4196, __pyx_L1_error)
+  __pyx_tuple__252 = PyTuple_Pack(2, __pyx_n_s_fd, __pyx_n_s_message); if (unlikely(!__pyx_tuple__252)) __PYX_ERR(0, 4285, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__252);
   __Pyx_GIVEREF(__pyx_tuple__252);
-  __pyx_codeobj__253 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__252, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_write_message_to_fd, 4196, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__253)) __PYX_ERR(0, 4196, __pyx_L1_error)
+  __pyx_codeobj__253 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__252, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_write_message_to_fd, 4285, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__253)) __PYX_ERR(0, 4285, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4222
+  /* "capnp/lib/capnp.pyx":4312
  * 
  * 
  * def _write_packed_message_to_fd(int fd, _MessageBuilder message):             # <<<<<<<<<<<<<<
  *     """Serialize a Cap'n Proto message to a file descriptor in a packed manner
  * 
  */
-  __pyx_tuple__254 = PyTuple_Pack(2, __pyx_n_s_fd, __pyx_n_s_message); if (unlikely(!__pyx_tuple__254)) __PYX_ERR(0, 4222, __pyx_L1_error)
+  __pyx_tuple__254 = PyTuple_Pack(2, __pyx_n_s_fd, __pyx_n_s_message); if (unlikely(!__pyx_tuple__254)) __PYX_ERR(0, 4312, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__254);
   __Pyx_GIVEREF(__pyx_tuple__254);
-  __pyx_codeobj__255 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__254, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_write_packed_message_to_fd, 4222, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__255)) __PYX_ERR(0, 4222, __pyx_L1_error)
+  __pyx_codeobj__255 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__254, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_write_packed_message_to_fd, 4312, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__255)) __PYX_ERR(0, 4312, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4252
+  /* "capnp/lib/capnp.pyx":4343
  * 
  * 
  * def cleanup_global_schema_parser():             # <<<<<<<<<<<<<<
  *     """Unloads all of the schema from the current context"""
  *     global _global_schema_parser
  */
-  __pyx_codeobj__256 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_cleanup_global_schema_parser, 4252, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__256)) __PYX_ERR(0, 4252, __pyx_L1_error)
+  __pyx_codeobj__256 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_cleanup_global_schema_parser, 4343, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__256)) __PYX_ERR(0, 4343, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4260
+  /* "capnp/lib/capnp.pyx":4351
  * 
  * 
  * def load(file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *     """Load a Cap'n Proto schema from a file
  * 
  */
-  __pyx_tuple__257 = PyTuple_Pack(3, __pyx_n_s_file_name, __pyx_n_s_display_name, __pyx_n_s_imports); if (unlikely(!__pyx_tuple__257)) __PYX_ERR(0, 4260, __pyx_L1_error)
+  __pyx_tuple__257 = PyTuple_Pack(3, __pyx_n_s_file_name, __pyx_n_s_display_name, __pyx_n_s_imports); if (unlikely(!__pyx_tuple__257)) __PYX_ERR(0, 4351, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__257);
   __Pyx_GIVEREF(__pyx_tuple__257);
-  __pyx_codeobj__258 = (PyObject*)__Pyx_PyCode_New(3, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__257, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_load_2, 4260, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__258)) __PYX_ERR(0, 4260, __pyx_L1_error)
+  __pyx_codeobj__258 = (PyObject*)__Pyx_PyCode_New(3, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__257, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_load_2, 4351, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__258)) __PYX_ERR(0, 4351, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4298
+  /* "capnp/lib/capnp.pyx":4398
  * 
  * class _Loader:
- *     def __init__(self, fullname, path, additional_paths):             # <<<<<<<<<<<<<<
+ *     def __init__(self, fullname, path):             # <<<<<<<<<<<<<<
  *         self.fullname = fullname
  *         self.path = path
  */
-  __pyx_tuple__259 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_fullname, __pyx_n_s_path, __pyx_n_s_additional_paths, __pyx_n_s_dir_name); if (unlikely(!__pyx_tuple__259)) __PYX_ERR(0, 4298, __pyx_L1_error)
+  __pyx_tuple__259 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_fullname, __pyx_n_s_path); if (unlikely(!__pyx_tuple__259)) __PYX_ERR(0, 4398, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__259);
   __Pyx_GIVEREF(__pyx_tuple__259);
-  __pyx_codeobj__260 = (PyObject*)__Pyx_PyCode_New(4, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__259, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 4298, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__260)) __PYX_ERR(0, 4298, __pyx_L1_error)
+  __pyx_codeobj__260 = (PyObject*)__Pyx_PyCode_New(3, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__259, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 4398, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__260)) __PYX_ERR(0, 4398, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4309
- *         self.additional_paths = additional_paths
+  /* "capnp/lib/capnp.pyx":4402
+ *         self.path = path
  * 
  *     def load_module(self, fullname):             # <<<<<<<<<<<<<<
  *         assert self.fullname == fullname, (
  *             "invalid module, expected {}, got {}".format(self.fullname, fullname))
  */
-  __pyx_tuple__261 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_fullname, __pyx_n_s_imports, __pyx_n_s_module, __pyx_n_s_path); if (unlikely(!__pyx_tuple__261)) __PYX_ERR(0, 4309, __pyx_L1_error)
+  __pyx_tuple__261 = PyTuple_Pack(5, __pyx_n_s_self, __pyx_n_s_fullname, __pyx_n_s_imports, __pyx_n_s_module, __pyx_n_s_path); if (unlikely(!__pyx_tuple__261)) __PYX_ERR(0, 4402, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__261);
   __Pyx_GIVEREF(__pyx_tuple__261);
-  __pyx_codeobj__262 = (PyObject*)__Pyx_PyCode_New(2, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__261, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_load_module, 4309, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__262)) __PYX_ERR(0, 4309, __pyx_L1_error)
+  __pyx_codeobj__262 = (PyObject*)__Pyx_PyCode_New(2, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__261, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_load_module, 4402, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__262)) __PYX_ERR(0, 4402, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4322
- * 
+  /* "capnp/lib/capnp.pyx":4415
  * class _Importer:
- *     def __init__(self, additional_paths):             # <<<<<<<<<<<<<<
- *         self.extension = '.capnp'
- *         self.additional_paths = additional_paths
- */
-  __pyx_tuple__263 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_additional_paths); if (unlikely(!__pyx_tuple__263)) __PYX_ERR(0, 4322, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__263);
-  __Pyx_GIVEREF(__pyx_tuple__263);
-  __pyx_codeobj__264 = (PyObject*)__Pyx_PyCode_New(2, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__263, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_2, 4322, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__264)) __PYX_ERR(0, 4322, __pyx_L1_error)
-
-  /* "capnp/lib/capnp.pyx":4326
- *         self.additional_paths = additional_paths
  * 
  *     def find_spec(self, fullname, package_path, target=None):             # <<<<<<<<<<<<<<
  *         if fullname in _sys.modules: # Don't allow re-imports
  *             return None
  */
-  __pyx_tuple__265 = PyTuple_Pack(17, __pyx_n_s_self, __pyx_n_s_fullname, __pyx_n_s_package_path, __pyx_n_s_target, __pyx_n_s_mod_parts, __pyx_n_s_module_name, __pyx_n_s_capnp_module_name, __pyx_n_s_has_underscores, __pyx_n_s_capnp_module_name_dashes, __pyx_n_s_capnp_module_name_spaces, __pyx_n_s_paths, __pyx_n_s_join_path, __pyx_n_s_is_file, __pyx_n_s_is_abs, __pyx_n_s_abspath, __pyx_n_s_sep, __pyx_n_s_path); if (unlikely(!__pyx_tuple__265)) __PYX_ERR(0, 4326, __pyx_L1_error)
+  __pyx_tuple__263 = PyTuple_Pack(10, __pyx_n_s_self, __pyx_n_s_fullname, __pyx_n_s_package_path, __pyx_n_s_target, __pyx_n_s_mod_parts, __pyx_n_s_module_name, __pyx_n_s_capnp_module_name, __pyx_n_s_capnp_module_names, __pyx_n_s_paths, __pyx_n_s_path); if (unlikely(!__pyx_tuple__263)) __PYX_ERR(0, 4415, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__263);
+  __Pyx_GIVEREF(__pyx_tuple__263);
+  __pyx_codeobj__264 = (PyObject*)__Pyx_PyCode_New(4, 0, 10, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__263, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_find_spec, 4415, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__264)) __PYX_ERR(0, 4415, __pyx_L1_error)
+  __pyx_tuple__265 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__265)) __PYX_ERR(0, 4415, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__265);
   __Pyx_GIVEREF(__pyx_tuple__265);
-  __pyx_codeobj__266 = (PyObject*)__Pyx_PyCode_New(4, 0, 17, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__265, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_find_spec, 4326, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__266)) __PYX_ERR(0, 4326, __pyx_L1_error)
-  __pyx_tuple__267 = PyTuple_Pack(1, ((PyObject *)Py_None)); if (unlikely(!__pyx_tuple__267)) __PYX_ERR(0, 4326, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__267);
-  __Pyx_GIVEREF(__pyx_tuple__267);
 
-  /* "capnp/lib/capnp.pyx":4378
+  /* "capnp/lib/capnp.pyx":4460
  * 
  * 
- * def add_import_hook(additional_paths=[]):             # <<<<<<<<<<<<<<
+ * def add_import_hook():             # <<<<<<<<<<<<<<
  *     """Add a hook to the python import system, so that Cap'n Proto modules are directly importable
  * 
  */
-  __pyx_tuple__268 = PyTuple_Pack(4, __pyx_n_s_additional_paths, __pyx_n_s_this_file_path, __pyx_n_s_extra_paths, __pyx_n_s_path); if (unlikely(!__pyx_tuple__268)) __PYX_ERR(0, 4378, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__268);
-  __Pyx_GIVEREF(__pyx_tuple__268);
-  __pyx_codeobj__269 = (PyObject*)__Pyx_PyCode_New(1, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__268, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_add_import_hook, 4378, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__269)) __PYX_ERR(0, 4378, __pyx_L1_error)
+  __pyx_codeobj__266 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_add_import_hook, 4460, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__266)) __PYX_ERR(0, 4460, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4425
+  /* "capnp/lib/capnp.pyx":4483
  * 
  * 
  * def remove_import_hook():             # <<<<<<<<<<<<<<
  *     """Remove the import hook, and return python's import to normal"""
  *     global _importer
  */
-  __pyx_codeobj__270 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_remove_import_hook, 4425, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__270)) __PYX_ERR(0, 4425, __pyx_L1_error)
+  __pyx_codeobj__267 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_remove_import_hook, 4483, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__267)) __PYX_ERR(0, 4483, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4433
+  /* "capnp/lib/capnp.pyx":4491
  * 
  * 
  * def _init_capnp_api():             # <<<<<<<<<<<<<<
  *     """ Initialize static function pointers for cdef api functions. """
  *     init_capnp_api()
  */
-  __pyx_codeobj__271 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_capnp_api, 4433, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__271)) __PYX_ERR(0, 4433, __pyx_L1_error)
+  __pyx_codeobj__268 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_capnp_lib_capnp_pyx, __pyx_n_s_init_capnp_api, 4491, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__268)) __PYX_ERR(0, 4491, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __pyx_unpickle__DynamicResizableListBuilder(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_tuple__272 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__272)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__272);
-  __Pyx_GIVEREF(__pyx_tuple__272);
-  __pyx_codeobj__273 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__272, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__DynamicResizable, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__273)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __pyx_tuple__274 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__274)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__274);
-  __Pyx_GIVEREF(__pyx_tuple__274);
-  __pyx_codeobj__275 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__274, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__DynamicEnumField, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__275)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __pyx_tuple__276 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__276)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__276);
-  __Pyx_GIVEREF(__pyx_tuple__276);
-  __pyx_codeobj__277 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__276, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__MessageSize, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__277)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __pyx_tuple__278 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__278)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__278);
-  __Pyx_GIVEREF(__pyx_tuple__278);
-  __pyx_codeobj__279 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__278, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__DynamicCapabilit, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__279)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __pyx_tuple__280 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__280)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__280);
-  __Pyx_GIVEREF(__pyx_tuple__280);
-  __pyx_codeobj__281 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__280, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_DummyBaseClass, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__281)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __pyx_tuple__282 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__282)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__282);
-  __Pyx_GIVEREF(__pyx_tuple__282);
-  __pyx_codeobj__283 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__282, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__MultipleBytesMes, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__283)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__269 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__269)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__269);
+  __Pyx_GIVEREF(__pyx_tuple__269);
+  __pyx_codeobj__270 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__269, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__DynamicResizable, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__270)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__271 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__271)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__271);
+  __Pyx_GIVEREF(__pyx_tuple__271);
+  __pyx_codeobj__272 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__271, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__DynamicEnumField, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__272)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__273 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__273)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__273);
+  __Pyx_GIVEREF(__pyx_tuple__273);
+  __pyx_codeobj__274 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__273, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__MessageSize, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__274)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__275 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__275)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__275);
+  __Pyx_GIVEREF(__pyx_tuple__275);
+  __pyx_codeobj__276 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__275, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__DynamicCapabilit, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__276)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__277 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__277)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__277);
+  __Pyx_GIVEREF(__pyx_tuple__277);
+  __pyx_codeobj__278 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__277, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_DummyBaseClass, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__278)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__279 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__279)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__279);
+  __Pyx_GIVEREF(__pyx_tuple__279);
+  __pyx_codeobj__280 = (PyObject*)__Pyx_PyCode_New(3, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__279, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle__MultipleBytesMes, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__280)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 
@@ -108981,14 +109275,15 @@
 static int __Pyx_modinit_function_export_code(void) {
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_export_code", 0);
   /*--- Function export code ---*/
+  if (__Pyx_ExportFunction("reraise_kj_exception", (void (*)(void))__pyx_f_5capnp_3lib_5capnp_reraise_kj_exception, "void (void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   if (__Pyx_ExportFunction("to_python_reader", (void (*)(void))__pyx_f_5capnp_3lib_5capnp_to_python_reader, "PyObject *( ::capnp::DynamicValue::Reader, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   if (__Pyx_ExportFunction("to_python_builder", (void (*)(void))__pyx_f_5capnp_3lib_5capnp_to_python_builder, "PyObject *( ::capnp::DynamicValue::Builder, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   if (__Pyx_ExportFunction("_to_dict", (void (*)(void))__pyx_f_5capnp_3lib_5capnp__to_dict, "PyObject *(PyObject *, int, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   if (__Pyx_ExportFunction("_from_list", (void (*)(void))__pyx_f_5capnp_3lib_5capnp__from_list, "PyObject *(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   if (__Pyx_ExportFunction("_from_tuple", (void (*)(void))__pyx_f_5capnp_3lib_5capnp__from_tuple, "PyObject *(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   if (__Pyx_ExportFunction("_setDynamicFieldWithField", (void (*)(void))__pyx_f_5capnp_3lib_5capnp__setDynamicFieldWithField, "PyObject *( ::capnp::DynamicStruct::Builder, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   if (__Pyx_ExportFunction("_setDynamicFieldStatic", (void (*)(void))__pyx_f_5capnp_3lib_5capnp__setDynamicFieldStatic, "PyObject *( ::capnp::DynamicStruct::Builder, PyObject *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
@@ -109018,91 +109313,91 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_vtabptr_5capnp_3lib_5capnp__StructSchemaField = &__pyx_vtable_5capnp_3lib_5capnp__StructSchemaField;
   __pyx_vtable_5capnp_3lib_5capnp__StructSchemaField._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *,  ::capnp::StructSchema::Field, struct __pyx_opt_args_5capnp_3lib_5capnp_18_StructSchemaField__init *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_18_StructSchemaField__init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__StructSchemaField) < 0) __PYX_ERR(0, 2746, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__StructSchemaField) < 0) __PYX_ERR(0, 2831, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__StructSchemaField.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__StructSchemaField.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__StructSchemaField.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__StructSchemaField.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__StructSchemaField.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__StructSchemaField) < 0) __PYX_ERR(0, 2746, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_StructSchemaField, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__StructSchemaField) < 0) __PYX_ERR(0, 2746, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__StructSchemaField) < 0) __PYX_ERR(0, 2746, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__StructSchemaField.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__StructSchemaField) < 0) __PYX_ERR(0, 2831, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_StructSchemaField, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__StructSchemaField) < 0) __PYX_ERR(0, 2831, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__StructSchemaField) < 0) __PYX_ERR(0, 2831, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__StructSchemaField = &__pyx_type_5capnp_3lib_5capnp__StructSchemaField;
   __pyx_vtabptr_5capnp_3lib_5capnp__StringArrayPtr = &__pyx_vtable_5capnp_3lib_5capnp__StringArrayPtr;
   __pyx_vtable_5capnp_3lib_5capnp__StringArrayPtr.asArrayPtr = ( ::kj::ArrayPtr< ::kj::StringPtr>  (*)(struct __pyx_obj_5capnp_3lib_5capnp__StringArrayPtr *))__pyx_f_5capnp_3lib_5capnp_15_StringArrayPtr_asArrayPtr;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__StringArrayPtr) < 0) __PYX_ERR(0, 3310, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__StringArrayPtr) < 0) __PYX_ERR(0, 3395, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__StringArrayPtr.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__StringArrayPtr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__StringArrayPtr.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__StringArrayPtr.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__StringArrayPtr.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__StringArrayPtr) < 0) __PYX_ERR(0, 3310, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_StringArrayPtr, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__StringArrayPtr) < 0) __PYX_ERR(0, 3310, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__StringArrayPtr) < 0) __PYX_ERR(0, 3310, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__StringArrayPtr.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__StringArrayPtr) < 0) __PYX_ERR(0, 3395, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_StringArrayPtr, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__StringArrayPtr) < 0) __PYX_ERR(0, 3395, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__StringArrayPtr) < 0) __PYX_ERR(0, 3395, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__StringArrayPtr = &__pyx_type_5capnp_3lib_5capnp__StringArrayPtr;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_SchemaLoader) < 0) __PYX_ERR(0, 3323, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_SchemaLoader) < 0) __PYX_ERR(0, 3408, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp_SchemaLoader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp_SchemaLoader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp_SchemaLoader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp_SchemaLoader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SchemaLoader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_SchemaLoader) < 0) __PYX_ERR(0, 3323, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_SchemaLoader) < 0) __PYX_ERR(0, 3323, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SchemaLoader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_SchemaLoader) < 0) __PYX_ERR(0, 3408, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_SchemaLoader) < 0) __PYX_ERR(0, 3408, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp_SchemaLoader = &__pyx_type_5capnp_3lib_5capnp_SchemaLoader;
   __pyx_vtabptr_5capnp_3lib_5capnp_SchemaParser = &__pyx_vtable_5capnp_3lib_5capnp_SchemaParser;
   __pyx_vtable_5capnp_3lib_5capnp_SchemaParser._parse_disk_file = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp_SchemaParser *, PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_12SchemaParser__parse_disk_file;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_SchemaParser) < 0) __PYX_ERR(0, 3351, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_SchemaParser) < 0) __PYX_ERR(0, 3436, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp_SchemaParser.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp_SchemaParser.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp_SchemaParser.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp_SchemaParser.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp_SchemaParser.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp_SchemaParser) < 0) __PYX_ERR(0, 3351, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SchemaParser, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_SchemaParser) < 0) __PYX_ERR(0, 3351, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_SchemaParser) < 0) __PYX_ERR(0, 3351, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp_SchemaParser.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp_SchemaParser) < 0) __PYX_ERR(0, 3436, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SchemaParser, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_SchemaParser) < 0) __PYX_ERR(0, 3436, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_SchemaParser) < 0) __PYX_ERR(0, 3436, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp_SchemaParser = &__pyx_type_5capnp_3lib_5capnp_SchemaParser;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicOrphan = &__pyx_vtable_5capnp_3lib_5capnp__DynamicOrphan;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicOrphan._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *,  ::capnp::Orphan< ::capnp::DynamicValue>, PyObject *))__pyx_f_5capnp_3lib_5capnp_14_DynamicOrphan__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicOrphan.move = ( ::capnp::Orphan< ::capnp::DynamicValue> (*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *))__pyx_f_5capnp_3lib_5capnp_14_DynamicOrphan_move;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicOrphan.get = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14_DynamicOrphan_get;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicOrphan) < 0) __PYX_ERR(0, 1651, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicOrphan) < 0) __PYX_ERR(0, 1690, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicOrphan.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicOrphan.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicOrphan.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicOrphan.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicOrphan.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicOrphan) < 0) __PYX_ERR(0, 1651, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicOrphan, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicOrphan) < 0) __PYX_ERR(0, 1651, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicOrphan) < 0) __PYX_ERR(0, 1651, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicOrphan.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicOrphan) < 0) __PYX_ERR(0, 1690, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicOrphan, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicOrphan) < 0) __PYX_ERR(0, 1690, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicOrphan) < 0) __PYX_ERR(0, 1690, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicOrphan = &__pyx_type_5capnp_3lib_5capnp__DynamicOrphan;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructReader = &__pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *,  ::capnp::DynamicStruct::Reader, PyObject *, struct __pyx_opt_args_5capnp_3lib_5capnp_20_DynamicStructReader__init *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader._get = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__get;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader._has = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__has;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader._which = (struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__which;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader._which_str = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__which_str;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader._get_by_field = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__get_by_field;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader._has_by_field = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, struct __pyx_obj_5capnp_3lib_5capnp__StructSchemaField *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader__has_by_field;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructReader.as_builder = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructReader *, int __pyx_skip_dispatch, struct __pyx_opt_args_5capnp_3lib_5capnp_20_DynamicStructReader_as_builder *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_20_DynamicStructReader_as_builder;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicStructReader) < 0) __PYX_ERR(0, 1090, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicStructReader) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicStructReader.tp_print = 0;
   #endif
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicStructReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructReader) < 0) __PYX_ERR(0, 1090, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicStructReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicStructReader) < 0) __PYX_ERR(0, 1090, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicStructReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructReader) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicStructReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicStructReader) < 0) __PYX_ERR(0, 1127, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader = &__pyx_type_5capnp_3lib_5capnp__DynamicStructReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder = &__pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *,  ::capnp::DynamicStruct::Builder, PyObject *, struct __pyx_opt_args_5capnp_3lib_5capnp_21_DynamicStructBuilder__init *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder._check_write = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__check_write;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder.to_bytes = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_to_bytes;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder.to_segments = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_to_segments;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder._to_bytes_packed_helper = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__to_bytes_packed_helper;
@@ -109118,115 +109413,115 @@
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder.init_resizable_list = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_init_resizable_list;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder._which = (struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__which;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder._which_str = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder__which_str;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder.adopt = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, PyObject *, struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_adopt;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder.disown = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_disown;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder.as_reader = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_as_reader;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructBuilder.copy = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructBuilder *, int __pyx_skip_dispatch, struct __pyx_opt_args_5capnp_3lib_5capnp_21_DynamicStructBuilder_copy *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_21_DynamicStructBuilder_copy;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicStructBuilder) < 0) __PYX_ERR(0, 1212, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicStructBuilder) < 0) __PYX_ERR(0, 1249, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicStructBuilder.tp_print = 0;
   #endif
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicStructBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder) < 0) __PYX_ERR(0, 1212, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicStructBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicStructBuilder) < 0) __PYX_ERR(0, 1212, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicStructBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder) < 0) __PYX_ERR(0, 1249, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicStructBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicStructBuilder) < 0) __PYX_ERR(0, 1249, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder = &__pyx_type_5capnp_3lib_5capnp__DynamicStructBuilder;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicEnumField = &__pyx_vtable_5capnp_3lib_5capnp__DynamicEnumField;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicEnumField._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *, PyObject *))__pyx_f_5capnp_3lib_5capnp_17_DynamicEnumField__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicEnumField._str = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnumField *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_17_DynamicEnumField__str;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicEnumField) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicEnumField) < 0) __PYX_ERR(0, 1069, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicEnumField.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicEnumField.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicEnumField.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicEnumField.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicEnumField.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicEnumField) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicEnumField, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicEnumField) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicEnumField) < 0) __PYX_ERR(0, 1032, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicEnumField.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicEnumField) < 0) __PYX_ERR(0, 1069, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicEnumField, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicEnumField) < 0) __PYX_ERR(0, 1069, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicEnumField) < 0) __PYX_ERR(0, 1069, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicEnumField = &__pyx_type_5capnp_3lib_5capnp__DynamicEnumField;
   __pyx_vtabptr_5capnp_3lib_5capnp__Schema = &__pyx_vtable_5capnp_3lib_5capnp__Schema;
   __pyx_vtable_5capnp_3lib_5capnp__Schema._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *,  ::capnp::Schema))__pyx_f_5capnp_3lib_5capnp_7_Schema__init;
   __pyx_vtable_5capnp_3lib_5capnp__Schema.as_const_value = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_7_Schema_as_const_value;
   __pyx_vtable_5capnp_3lib_5capnp__Schema.as_struct = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_7_Schema_as_struct;
   __pyx_vtable_5capnp_3lib_5capnp__Schema.as_interface = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_7_Schema_as_interface;
   __pyx_vtable_5capnp_3lib_5capnp__Schema.as_enum = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_7_Schema_as_enum;
   __pyx_vtable_5capnp_3lib_5capnp__Schema.get_proto = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Schema *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_7_Schema_get_proto;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__Schema) < 0) __PYX_ERR(0, 2616, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__Schema) < 0) __PYX_ERR(0, 2701, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__Schema.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__Schema.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__Schema.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__Schema.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__Schema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__Schema) < 0) __PYX_ERR(0, 2616, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Schema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__Schema) < 0) __PYX_ERR(0, 2616, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__Schema) < 0) __PYX_ERR(0, 2616, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__Schema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__Schema) < 0) __PYX_ERR(0, 2701, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Schema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__Schema) < 0) __PYX_ERR(0, 2701, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__Schema) < 0) __PYX_ERR(0, 2701, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__Schema = &__pyx_type_5capnp_3lib_5capnp__Schema;
   __pyx_vtabptr_5capnp_3lib_5capnp__InterfaceSchema = &__pyx_vtable_5capnp_3lib_5capnp__InterfaceSchema;
   __pyx_vtable_5capnp_3lib_5capnp__InterfaceSchema._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__InterfaceSchema *,  ::capnp::InterfaceSchema))__pyx_f_5capnp_3lib_5capnp_16_InterfaceSchema__init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__InterfaceSchema) < 0) __PYX_ERR(0, 2786, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__InterfaceSchema) < 0) __PYX_ERR(0, 2871, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__InterfaceSchema.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__InterfaceSchema.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__InterfaceSchema.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__InterfaceSchema.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__InterfaceSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__InterfaceSchema) < 0) __PYX_ERR(0, 2786, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_InterfaceSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__InterfaceSchema) < 0) __PYX_ERR(0, 2786, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__InterfaceSchema) < 0) __PYX_ERR(0, 2786, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__InterfaceSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__InterfaceSchema) < 0) __PYX_ERR(0, 2871, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_InterfaceSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__InterfaceSchema) < 0) __PYX_ERR(0, 2871, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__InterfaceSchema) < 0) __PYX_ERR(0, 2871, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__InterfaceSchema = &__pyx_type_5capnp_3lib_5capnp__InterfaceSchema;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicEnum = &__pyx_vtable_5capnp_3lib_5capnp__DynamicEnum;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicEnum._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *,  ::capnp::DynamicEnum, PyObject *))__pyx_f_5capnp_3lib_5capnp_12_DynamicEnum__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicEnum._as_str = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicEnum *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_12_DynamicEnum__as_str;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicEnum) < 0) __PYX_ERR(0, 989, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicEnum) < 0) __PYX_ERR(0, 1026, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicEnum.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicEnum.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicEnum.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicEnum.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicEnum.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicEnum) < 0) __PYX_ERR(0, 989, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicEnum, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicEnum) < 0) __PYX_ERR(0, 989, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicEnum) < 0) __PYX_ERR(0, 989, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicEnum.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicEnum) < 0) __PYX_ERR(0, 1026, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicEnum, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicEnum) < 0) __PYX_ERR(0, 1026, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicEnum) < 0) __PYX_ERR(0, 1026, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicEnum = &__pyx_type_5capnp_3lib_5capnp__DynamicEnum;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicListBuilder = &__pyx_vtable_5capnp_3lib_5capnp__DynamicListBuilder;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicListBuilder._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *,  ::capnp::DynamicList::Builder, PyObject *))__pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicListBuilder._get = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, int64_t, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder__get;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicListBuilder._set = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder__set;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicListBuilder.adopt = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *, struct __pyx_obj_5capnp_3lib_5capnp__DynamicOrphan *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_adopt;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicListBuilder.disown = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_disown;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicListBuilder.init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListBuilder *, PyObject *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_19_DynamicListBuilder_init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder) < 0) __PYX_ERR(0, 513, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder) < 0) __PYX_ERR(0, 528, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicListBuilder.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicListBuilder.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicListBuilder.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicListBuilder) < 0) __PYX_ERR(0, 513, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicListBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder) < 0) __PYX_ERR(0, 513, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder) < 0) __PYX_ERR(0, 513, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicListBuilder) < 0) __PYX_ERR(0, 528, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicListBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder) < 0) __PYX_ERR(0, 528, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder) < 0) __PYX_ERR(0, 528, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicListBuilder = &__pyx_type_5capnp_3lib_5capnp__DynamicListBuilder;
   __pyx_vtabptr_5capnp_3lib_5capnp__MessageBuilder = &__pyx_vtable_5capnp_3lib_5capnp__MessageBuilder;
   __pyx_vtable_5capnp_3lib_5capnp__MessageBuilder.init_root = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_init_root;
   __pyx_vtable_5capnp_3lib_5capnp__MessageBuilder.get_root = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_get_root;
   __pyx_vtable_5capnp_3lib_5capnp__MessageBuilder.get_root_as_any = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_get_root_as_any;
   __pyx_vtable_5capnp_3lib_5capnp__MessageBuilder.set_root = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_set_root;
   __pyx_vtable_5capnp_3lib_5capnp__MessageBuilder.get_segments_for_output = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_get_segments_for_output;
   __pyx_vtable_5capnp_3lib_5capnp__MessageBuilder.new_orphan = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__MessageBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_15_MessageBuilder_new_orphan;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MessageBuilder) < 0) __PYX_ERR(0, 3500, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MessageBuilder) < 0) __PYX_ERR(0, 3585, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__MessageBuilder.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__MessageBuilder.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__MessageBuilder.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__MessageBuilder.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__MessageBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__MessageBuilder) < 0) __PYX_ERR(0, 3500, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MessageBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MessageBuilder) < 0) __PYX_ERR(0, 3500, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MessageBuilder) < 0) __PYX_ERR(0, 3500, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__MessageBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__MessageBuilder) < 0) __PYX_ERR(0, 3585, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MessageBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MessageBuilder) < 0) __PYX_ERR(0, 3585, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MessageBuilder) < 0) __PYX_ERR(0, 3585, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder = &__pyx_type_5capnp_3lib_5capnp__MessageBuilder;
   __pyx_vtabptr_5capnp_3lib_5capnp__VoidPromiseFulfiller = &__pyx_vtable_5capnp_3lib_5capnp__VoidPromiseFulfiller;
   __pyx_vtable_5capnp_3lib_5capnp__VoidPromiseFulfiller._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__VoidPromiseFulfiller *, ::kj::PromiseFulfiller<void> *))__pyx_f_5capnp_3lib_5capnp_21_VoidPromiseFulfiller__init;
   if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__VoidPromiseFulfiller) < 0) __PYX_ERR(0, 70, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__VoidPromiseFulfiller.tp_print = 0;
   #endif
@@ -109235,872 +109530,880 @@
   }
   if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__VoidPromiseFulfiller.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__VoidPromiseFulfiller) < 0) __PYX_ERR(0, 70, __pyx_L1_error)
   if (PyObject_SetAttr(__pyx_m, __pyx_n_s_VoidPromiseFulfiller, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__VoidPromiseFulfiller) < 0) __PYX_ERR(0, 70, __pyx_L1_error)
   if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__VoidPromiseFulfiller) < 0) __PYX_ERR(0, 70, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__VoidPromiseFulfiller = &__pyx_type_5capnp_3lib_5capnp__VoidPromiseFulfiller;
   __pyx_vtabptr_5capnp_3lib_5capnp__KjExceptionWrapper = &__pyx_vtable_5capnp_3lib_5capnp__KjExceptionWrapper;
   __pyx_vtable_5capnp_3lib_5capnp__KjExceptionWrapper._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__KjExceptionWrapper *,  ::kj::Exception &))__pyx_f_5capnp_3lib_5capnp_19_KjExceptionWrapper__init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper) < 0) __PYX_ERR(0, 187, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper) < 0) __PYX_ERR(0, 196, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__KjExceptionWrapper) < 0) __PYX_ERR(0, 187, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_KjExceptionWrapper, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper) < 0) __PYX_ERR(0, 187, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper) < 0) __PYX_ERR(0, 187, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__KjExceptionWrapper) < 0) __PYX_ERR(0, 196, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_KjExceptionWrapper, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper) < 0) __PYX_ERR(0, 196, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper) < 0) __PYX_ERR(0, 196, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__KjExceptionWrapper = &__pyx_type_5capnp_3lib_5capnp__KjExceptionWrapper;
   __pyx_vtabptr_5capnp_3lib_5capnp__NodeReader = &__pyx_vtable_5capnp_3lib_5capnp__NodeReader;
   __pyx_vtable_5capnp_3lib_5capnp__NodeReader.init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__NodeReader *,  ::capnp::schema::Node::Reader))__pyx_f_5capnp_3lib_5capnp_11_NodeReader_init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__NodeReader) < 0) __PYX_ERR(0, 335, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__NodeReader) < 0) __PYX_ERR(0, 348, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__NodeReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__NodeReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__NodeReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__NodeReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__NodeReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__NodeReader) < 0) __PYX_ERR(0, 335, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_NodeReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__NodeReader) < 0) __PYX_ERR(0, 335, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__NodeReader) < 0) __PYX_ERR(0, 335, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__NodeReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__NodeReader) < 0) __PYX_ERR(0, 348, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_NodeReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__NodeReader) < 0) __PYX_ERR(0, 348, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__NodeReader) < 0) __PYX_ERR(0, 348, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__NodeReader = &__pyx_type_5capnp_3lib_5capnp__NodeReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__NestedNodeReader = &__pyx_vtable_5capnp_3lib_5capnp__NestedNodeReader;
   __pyx_vtable_5capnp_3lib_5capnp__NestedNodeReader.init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__NestedNodeReader *,  ::capnp::schema::Node::NestedNode::Reader))__pyx_f_5capnp_3lib_5capnp_17_NestedNodeReader_init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__NestedNodeReader) < 0) __PYX_ERR(0, 379, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__NestedNodeReader) < 0) __PYX_ERR(0, 392, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__NestedNodeReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__NestedNodeReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__NestedNodeReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__NestedNodeReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__NestedNodeReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__NestedNodeReader) < 0) __PYX_ERR(0, 379, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_NestedNodeReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__NestedNodeReader) < 0) __PYX_ERR(0, 379, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__NestedNodeReader) < 0) __PYX_ERR(0, 379, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__NestedNodeReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__NestedNodeReader) < 0) __PYX_ERR(0, 392, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_NestedNodeReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__NestedNodeReader) < 0) __PYX_ERR(0, 392, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__NestedNodeReader) < 0) __PYX_ERR(0, 392, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__NestedNodeReader = &__pyx_type_5capnp_3lib_5capnp__NestedNodeReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicListReader = &__pyx_vtable_5capnp_3lib_5capnp__DynamicListReader;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicListReader._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *,  ::capnp::DynamicList::Reader, PyObject *))__pyx_f_5capnp_3lib_5capnp_18_DynamicListReader__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicListReader._get = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicListReader *, int64_t, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_18_DynamicListReader__get;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicListReader) < 0) __PYX_ERR(0, 393, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicListReader) < 0) __PYX_ERR(0, 406, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicListReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicListReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicListReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicListReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicListReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicListReader) < 0) __PYX_ERR(0, 393, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicListReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicListReader) < 0) __PYX_ERR(0, 393, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicListReader) < 0) __PYX_ERR(0, 393, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicListReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicListReader) < 0) __PYX_ERR(0, 406, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicListReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicListReader) < 0) __PYX_ERR(0, 406, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicListReader) < 0) __PYX_ERR(0, 406, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicListReader = &__pyx_type_5capnp_3lib_5capnp__DynamicListReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicResizableListBuilder = &__pyx_vtable_5capnp_3lib_5capnp__DynamicResizableListBuilder;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicResizableListBuilder.add = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicResizableListBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_28_DynamicResizableListBuilder_add;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicResizableListBuilder._get = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicResizableListBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_28_DynamicResizableListBuilder__get;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder) < 0) __PYX_ERR(0, 438, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder) < 0) __PYX_ERR(0, 451, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicResizableListBuilder) < 0) __PYX_ERR(0, 438, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicResizableListBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder) < 0) __PYX_ERR(0, 438, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder) < 0) __PYX_ERR(0, 438, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicResizableListBuilder) < 0) __PYX_ERR(0, 451, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicResizableListBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder) < 0) __PYX_ERR(0, 451, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder) < 0) __PYX_ERR(0, 451, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicResizableListBuilder = &__pyx_type_5capnp_3lib_5capnp__DynamicResizableListBuilder;
   __pyx_vtabptr_5capnp_3lib_5capnp__List_NestedNode_Reader = &__pyx_vtable_5capnp_3lib_5capnp__List_NestedNode_Reader;
   __pyx_vtable_5capnp_3lib_5capnp__List_NestedNode_Reader._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__List_NestedNode_Reader *,  ::capnp::List< ::capnp::schema::Node::NestedNode> ::Reader))__pyx_f_5capnp_3lib_5capnp_23_List_NestedNode_Reader__init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader) < 0) __PYX_ERR(0, 607, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader) < 0) __PYX_ERR(0, 622, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__List_NestedNode_Reader) < 0) __PYX_ERR(0, 607, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_List_NestedNode_Reader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader) < 0) __PYX_ERR(0, 607, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader) < 0) __PYX_ERR(0, 607, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__List_NestedNode_Reader) < 0) __PYX_ERR(0, 622, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_List_NestedNode_Reader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader) < 0) __PYX_ERR(0, 622, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader) < 0) __PYX_ERR(0, 622, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__List_NestedNode_Reader = &__pyx_type_5capnp_3lib_5capnp__List_NestedNode_Reader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MessageSize) < 0) __PYX_ERR(0, 1074, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MessageSize) < 0) __PYX_ERR(0, 1111, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__MessageSize.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__MessageSize.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__MessageSize.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__MessageSize.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MessageSize, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MessageSize) < 0) __PYX_ERR(0, 1074, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MessageSize) < 0) __PYX_ERR(0, 1074, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MessageSize, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MessageSize) < 0) __PYX_ERR(0, 1111, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MessageSize) < 0) __PYX_ERR(0, 1111, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__MessageSize = &__pyx_type_5capnp_3lib_5capnp__MessageSize;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructPipeline = &__pyx_vtable_5capnp_3lib_5capnp__DynamicStructPipeline;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructPipeline._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *,  ::capnp::DynamicStruct::Pipeline *, PyObject *))__pyx_f_5capnp_3lib_5capnp_22_DynamicStructPipeline__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicStructPipeline._get = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicStructPipeline *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_22_DynamicStructPipeline__get;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline) < 0) __PYX_ERR(0, 1593, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline) < 0) __PYX_ERR(0, 1632, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline.tp_print = 0;
   #endif
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructPipeline) < 0) __PYX_ERR(0, 1593, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicStructPipeline, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline) < 0) __PYX_ERR(0, 1593, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline) < 0) __PYX_ERR(0, 1593, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructPipeline) < 0) __PYX_ERR(0, 1632, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicStructPipeline, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline) < 0) __PYX_ERR(0, 1632, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline) < 0) __PYX_ERR(0, 1632, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicStructPipeline = &__pyx_type_5capnp_3lib_5capnp__DynamicStructPipeline;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicObjectReader = &__pyx_vtable_5capnp_3lib_5capnp__DynamicObjectReader;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectReader._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *,  ::capnp::AnyPointer::Reader, PyObject *))__pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectReader.as_struct = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader_as_struct;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectReader.as_interface = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader_as_interface;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectReader.as_list = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader_as_list;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectReader.as_text = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectReader *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_20_DynamicObjectReader_as_text;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader) < 0) __PYX_ERR(0, 1674, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader) < 0) __PYX_ERR(0, 1713, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicObjectReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicObjectReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicObjectReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicObjectReader) < 0) __PYX_ERR(0, 1674, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicObjectReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader) < 0) __PYX_ERR(0, 1674, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader) < 0) __PYX_ERR(0, 1674, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicObjectReader) < 0) __PYX_ERR(0, 1713, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicObjectReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader) < 0) __PYX_ERR(0, 1713, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader) < 0) __PYX_ERR(0, 1713, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectReader = &__pyx_type_5capnp_3lib_5capnp__DynamicObjectReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicObjectBuilder = &__pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *,  ::capnp::AnyPointer::Builder, PyObject *))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder.as_struct = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_struct;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder.as_interface = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_interface;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder.as_list = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_list;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder.set = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_set;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder.set_as_text = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_set_as_text;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder.init_as_list = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, PyObject *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_init_as_list;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder.as_text = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_text;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicObjectBuilder.as_reader = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicObjectBuilder *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_21_DynamicObjectBuilder_as_reader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder) < 0) __PYX_ERR(0, 1714, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder) < 0) __PYX_ERR(0, 1753, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicObjectBuilder) < 0) __PYX_ERR(0, 1714, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicObjectBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder) < 0) __PYX_ERR(0, 1714, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder) < 0) __PYX_ERR(0, 1714, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicObjectBuilder) < 0) __PYX_ERR(0, 1753, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicObjectBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder) < 0) __PYX_ERR(0, 1753, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder) < 0) __PYX_ERR(0, 1753, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicObjectBuilder = &__pyx_type_5capnp_3lib_5capnp__DynamicObjectBuilder;
   __pyx_vtabptr_5capnp_3lib_5capnp__EventLoop = &__pyx_vtable_5capnp_3lib_5capnp__EventLoop;
   __pyx_vtable_5capnp_3lib_5capnp__EventLoop._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *, PyObject *))__pyx_f_5capnp_3lib_5capnp_10_EventLoop__init;
   __pyx_vtable_5capnp_3lib_5capnp__EventLoop.close = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *))__pyx_f_5capnp_3lib_5capnp_10_EventLoop_close;
   __pyx_vtable_5capnp_3lib_5capnp__EventLoop.check = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__EventLoop *))__pyx_f_5capnp_3lib_5capnp_10_EventLoop_check;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__EventLoop) < 0) __PYX_ERR(0, 1818, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__EventLoop) < 0) __PYX_ERR(0, 1867, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__EventLoop.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__EventLoop.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__EventLoop.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__EventLoop.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__EventLoop.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__EventLoop) < 0) __PYX_ERR(0, 1818, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_EventLoop, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__EventLoop) < 0) __PYX_ERR(0, 1818, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__EventLoop) < 0) __PYX_ERR(0, 1818, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__EventLoop.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__EventLoop) < 0) __PYX_ERR(0, 1867, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_EventLoop, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__EventLoop) < 0) __PYX_ERR(0, 1867, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__EventLoop) < 0) __PYX_ERR(0, 1867, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__EventLoop = &__pyx_type_5capnp_3lib_5capnp__EventLoop;
   __pyx_vtabptr_5capnp_3lib_5capnp__CallContext = &__pyx_vtable_5capnp_3lib_5capnp__CallContext;
   __pyx_vtable_5capnp_3lib_5capnp__CallContext._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *,  ::capnp::CallContext< ::capnp::DynamicStruct, ::capnp::DynamicStruct>))__pyx_f_5capnp_3lib_5capnp_12_CallContext__init;
   __pyx_vtable_5capnp_3lib_5capnp__CallContext._get_results = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_5capnp_3lib_5capnp_12_CallContext__get_results *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_12_CallContext__get_results;
   __pyx_vtable_5capnp_3lib_5capnp__CallContext.release_params = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_12_CallContext_release_params;
   __pyx_vtable_5capnp_3lib_5capnp__CallContext.tail_call = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__CallContext *, struct __pyx_obj_5capnp_3lib_5capnp__Request *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_12_CallContext_tail_call;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__CallContext) < 0) __PYX_ERR(0, 1892, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__CallContext) < 0) __PYX_ERR(0, 1957, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__CallContext.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__CallContext.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__CallContext.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__CallContext.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__CallContext.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__CallContext) < 0) __PYX_ERR(0, 1892, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_CallContext, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__CallContext) < 0) __PYX_ERR(0, 1892, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__CallContext) < 0) __PYX_ERR(0, 1892, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__CallContext.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__CallContext) < 0) __PYX_ERR(0, 1957, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_CallContext, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__CallContext) < 0) __PYX_ERR(0, 1957, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__CallContext) < 0) __PYX_ERR(0, 1957, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__CallContext = &__pyx_type_5capnp_3lib_5capnp__CallContext;
   __pyx_vtabptr_5capnp_3lib_5capnp__Promise = &__pyx_vtable_5capnp_3lib_5capnp__Promise;
   __pyx_vtable_5capnp_3lib_5capnp__Promise._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Promise *, __pyx_t_5capnp_8includes_9capnp_cpp_PyPromise))__pyx_f_5capnp_3lib_5capnp_8_Promise__init;
   __pyx_vtable_5capnp_3lib_5capnp__Promise.cancel = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Promise *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_8_Promise_cancel;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__Promise) < 0) __PYX_ERR(0, 1937, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__Promise) < 0) __PYX_ERR(0, 2003, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__Promise.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__Promise.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__Promise.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__Promise.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__Promise.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__Promise) < 0) __PYX_ERR(0, 1937, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Promise, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__Promise) < 0) __PYX_ERR(0, 1937, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__Promise) < 0) __PYX_ERR(0, 1937, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__Promise.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__Promise) < 0) __PYX_ERR(0, 2003, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Promise, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__Promise) < 0) __PYX_ERR(0, 2003, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__Promise) < 0) __PYX_ERR(0, 2003, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__Promise = &__pyx_type_5capnp_3lib_5capnp__Promise;
   __pyx_vtabptr_5capnp_3lib_5capnp__RemotePromise = &__pyx_vtable_5capnp_3lib_5capnp__RemotePromise;
   __pyx_vtable_5capnp_3lib_5capnp__RemotePromise._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *,  ::capnp::RemotePromise< ::capnp::DynamicStruct>, struct __pyx_opt_args_5capnp_3lib_5capnp_14_RemotePromise__init *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_14_RemotePromise__init;
   __pyx_vtable_5capnp_3lib_5capnp__RemotePromise._check_consumed = (void (*)(struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *))__pyx_f_5capnp_3lib_5capnp_14_RemotePromise__check_consumed;
   __pyx_vtable_5capnp_3lib_5capnp__RemotePromise._get = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14_RemotePromise__get;
   __pyx_vtable_5capnp_3lib_5capnp__RemotePromise.cancel = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__RemotePromise *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14_RemotePromise_cancel;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__RemotePromise) < 0) __PYX_ERR(0, 1948, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__RemotePromise) < 0) __PYX_ERR(0, 2014, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__RemotePromise.tp_print = 0;
   #endif
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__RemotePromise.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__RemotePromise) < 0) __PYX_ERR(0, 1948, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_RemotePromise, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__RemotePromise) < 0) __PYX_ERR(0, 1948, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__RemotePromise) < 0) __PYX_ERR(0, 1948, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__RemotePromise.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__RemotePromise) < 0) __PYX_ERR(0, 2014, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_RemotePromise, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__RemotePromise) < 0) __PYX_ERR(0, 2014, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__RemotePromise) < 0) __PYX_ERR(0, 2014, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__RemotePromise = &__pyx_type_5capnp_3lib_5capnp__RemotePromise;
   __pyx_vtabptr_5capnp_3lib_5capnp__Request = &__pyx_vtable_5capnp_3lib_5capnp__Request;
   __pyx_vtable_5capnp_3lib_5capnp__Request.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructBuilder;
   __pyx_vtable_5capnp_3lib_5capnp__Request._init_child = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Request *,  ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct>, PyObject *))__pyx_f_5capnp_3lib_5capnp_8_Request__init_child;
   __pyx_vtable_5capnp_3lib_5capnp__Request.send = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Request *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_8_Request_send;
   __pyx_type_5capnp_3lib_5capnp__Request.tp_base = __pyx_ptype_5capnp_3lib_5capnp__DynamicStructBuilder;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__Request) < 0) __PYX_ERR(0, 2010, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__Request) < 0) __PYX_ERR(0, 2076, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__Request.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__Request.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__Request.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__Request.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__Request.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__Request) < 0) __PYX_ERR(0, 2010, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Request, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__Request) < 0) __PYX_ERR(0, 2010, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__Request.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__Request) < 0) __PYX_ERR(0, 2076, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Request, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__Request) < 0) __PYX_ERR(0, 2076, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__Request = &__pyx_type_5capnp_3lib_5capnp__Request;
   __pyx_vtabptr_5capnp_3lib_5capnp__Response = &__pyx_vtable_5capnp_3lib_5capnp__Response;
   __pyx_vtable_5capnp_3lib_5capnp__Response.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__DynamicStructReader;
   __pyx_vtable_5capnp_3lib_5capnp__Response._init_child = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Response *,  ::capnp::Response< ::capnp::DynamicStruct>, PyObject *))__pyx_f_5capnp_3lib_5capnp_9_Response__init_child;
   __pyx_vtable_5capnp_3lib_5capnp__Response._init_childptr = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__Response *,  ::capnp::Response< ::capnp::DynamicStruct> *, PyObject *))__pyx_f_5capnp_3lib_5capnp_9_Response__init_childptr;
   __pyx_type_5capnp_3lib_5capnp__Response.tp_base = __pyx_ptype_5capnp_3lib_5capnp__DynamicStructReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__Response) < 0) __PYX_ERR(0, 2031, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__Response) < 0) __PYX_ERR(0, 2097, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__Response.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__Response.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__Response.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__Response.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__Response.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__Response) < 0) __PYX_ERR(0, 2031, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Response, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__Response) < 0) __PYX_ERR(0, 2031, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__Response.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__Response) < 0) __PYX_ERR(0, 2097, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Response, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__Response) < 0) __PYX_ERR(0, 2097, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__Response = &__pyx_type_5capnp_3lib_5capnp__Response;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer) < 0) __PYX_ERR(0, 2047, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer) < 0) __PYX_ERR(0, 2113, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicCapabilityServer, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer) < 0) __PYX_ERR(0, 2047, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer) < 0) __PYX_ERR(0, 2047, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicCapabilityServer, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer) < 0) __PYX_ERR(0, 2113, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer) < 0) __PYX_ERR(0, 2113, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityServer = &__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityServer;
   __pyx_vtabptr_5capnp_3lib_5capnp__DynamicCapabilityClient = &__pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *,  ::capnp::DynamicCapability::Client, PyObject *))__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__init;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient._init_vals = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, PyObject *))__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__init_vals;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient._find_method_args = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__find_method_args;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient._set_fields = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *,  ::capnp::Request< ::capnp::DynamicStruct, ::capnp::DynamicStruct> *, PyObject *, PyObject *, PyObject *))__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__set_fields;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient._send_helper = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__send_helper;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient._request_helper = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient__request_helper;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient.upcast = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient_upcast;
   __pyx_vtable_5capnp_3lib_5capnp__DynamicCapabilityClient.cast_as = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__DynamicCapabilityClient *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_24_DynamicCapabilityClient_cast_as;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient) < 0) __PYX_ERR(0, 2050, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient) < 0) __PYX_ERR(0, 2116, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient.tp_print = 0;
   #endif
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicCapabilityClient) < 0) __PYX_ERR(0, 2050, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicCapabilityClient, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient) < 0) __PYX_ERR(0, 2050, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient) < 0) __PYX_ERR(0, 2050, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__DynamicCapabilityClient) < 0) __PYX_ERR(0, 2116, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DynamicCapabilityClient, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient) < 0) __PYX_ERR(0, 2116, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient) < 0) __PYX_ERR(0, 2116, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__DynamicCapabilityClient = &__pyx_type_5capnp_3lib_5capnp__DynamicCapabilityClient;
   __pyx_vtabptr_5capnp_3lib_5capnp__CapabilityClient = &__pyx_vtable_5capnp_3lib_5capnp__CapabilityClient;
   __pyx_vtable_5capnp_3lib_5capnp__CapabilityClient._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *,  ::capnp::Capability::Client, PyObject *))__pyx_f_5capnp_3lib_5capnp_17_CapabilityClient__init;
   __pyx_vtable_5capnp_3lib_5capnp__CapabilityClient.cast_as = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__CapabilityClient *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_17_CapabilityClient_cast_as;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__CapabilityClient) < 0) __PYX_ERR(0, 2175, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__CapabilityClient) < 0) __PYX_ERR(0, 2241, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__CapabilityClient.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__CapabilityClient.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__CapabilityClient.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__CapabilityClient.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__CapabilityClient.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__CapabilityClient) < 0) __PYX_ERR(0, 2175, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_CapabilityClient, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__CapabilityClient) < 0) __PYX_ERR(0, 2175, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__CapabilityClient) < 0) __PYX_ERR(0, 2175, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__CapabilityClient.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__CapabilityClient) < 0) __PYX_ERR(0, 2241, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_CapabilityClient, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__CapabilityClient) < 0) __PYX_ERR(0, 2241, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__CapabilityClient) < 0) __PYX_ERR(0, 2241, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__CapabilityClient = &__pyx_type_5capnp_3lib_5capnp__CapabilityClient;
   __pyx_vtabptr_5capnp_3lib_5capnp__TwoPartyVatNetwork = &__pyx_vtable_5capnp_3lib_5capnp__TwoPartyVatNetwork;
   __pyx_vtable_5capnp_3lib_5capnp__TwoPartyVatNetwork._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *, struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream *,  ::capnp::rpc::twoparty::Side,  ::capnp::ReaderOptions))__pyx_f_5capnp_3lib_5capnp_19_TwoPartyVatNetwork__init;
   __pyx_vtable_5capnp_3lib_5capnp__TwoPartyVatNetwork.on_disconnect = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__TwoPartyVatNetwork *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_19_TwoPartyVatNetwork_on_disconnect;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork) < 0) __PYX_ERR(0, 2196, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork) < 0) __PYX_ERR(0, 2262, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__TwoPartyVatNetwork) < 0) __PYX_ERR(0, 2196, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_TwoPartyVatNetwork, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork) < 0) __PYX_ERR(0, 2196, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork) < 0) __PYX_ERR(0, 2196, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__TwoPartyVatNetwork) < 0) __PYX_ERR(0, 2262, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_TwoPartyVatNetwork, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork) < 0) __PYX_ERR(0, 2262, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork) < 0) __PYX_ERR(0, 2262, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__TwoPartyVatNetwork = &__pyx_type_5capnp_3lib_5capnp__TwoPartyVatNetwork;
   __pyx_vtabptr_5capnp_3lib_5capnp_TwoPartyClient = &__pyx_vtable_5capnp_3lib_5capnp_TwoPartyClient;
   __pyx_vtable_5capnp_3lib_5capnp_TwoPartyClient.bootstrap = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyClient *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14TwoPartyClient_bootstrap;
   __pyx_vtable_5capnp_3lib_5capnp_TwoPartyClient.on_disconnect = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyClient *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14TwoPartyClient_on_disconnect;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_TwoPartyClient) < 0) __PYX_ERR(0, 2212, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_TwoPartyClient) < 0) __PYX_ERR(0, 2278, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp_TwoPartyClient.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp_TwoPartyClient.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp_TwoPartyClient.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp_TwoPartyClient.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp_TwoPartyClient.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp_TwoPartyClient) < 0) __PYX_ERR(0, 2212, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_TwoPartyClient, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_TwoPartyClient) < 0) __PYX_ERR(0, 2212, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp_TwoPartyClient.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp_TwoPartyClient) < 0) __PYX_ERR(0, 2278, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_TwoPartyClient, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_TwoPartyClient) < 0) __PYX_ERR(0, 2278, __pyx_L1_error)
   if (__pyx_type_5capnp_3lib_5capnp_TwoPartyClient.tp_weaklistoffset == 0) __pyx_type_5capnp_3lib_5capnp_TwoPartyClient.tp_weaklistoffset = offsetof(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyClient, __weakref__);
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_TwoPartyClient) < 0) __PYX_ERR(0, 2212, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_TwoPartyClient) < 0) __PYX_ERR(0, 2278, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp_TwoPartyClient = &__pyx_type_5capnp_3lib_5capnp_TwoPartyClient;
   __pyx_vtabptr_5capnp_3lib_5capnp_TwoPartyServer = &__pyx_vtable_5capnp_3lib_5capnp_TwoPartyServer;
   __pyx_vtable_5capnp_3lib_5capnp_TwoPartyServer.bootstrap = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyServer *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14TwoPartyServer_bootstrap;
   __pyx_vtable_5capnp_3lib_5capnp_TwoPartyServer.on_disconnect = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyServer *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14TwoPartyServer_on_disconnect;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_TwoPartyServer) < 0) __PYX_ERR(0, 2258, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_TwoPartyServer) < 0) __PYX_ERR(0, 2324, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp_TwoPartyServer.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp_TwoPartyServer.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp_TwoPartyServer.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp_TwoPartyServer.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp_TwoPartyServer.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp_TwoPartyServer) < 0) __PYX_ERR(0, 2258, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_TwoPartyServer, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_TwoPartyServer) < 0) __PYX_ERR(0, 2258, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp_TwoPartyServer.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp_TwoPartyServer) < 0) __PYX_ERR(0, 2324, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_TwoPartyServer, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_TwoPartyServer) < 0) __PYX_ERR(0, 2324, __pyx_L1_error)
   if (__pyx_type_5capnp_3lib_5capnp_TwoPartyServer.tp_weaklistoffset == 0) __pyx_type_5capnp_3lib_5capnp_TwoPartyServer.tp_weaklistoffset = offsetof(struct __pyx_obj_5capnp_3lib_5capnp_TwoPartyServer, __weakref__);
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_TwoPartyServer) < 0) __PYX_ERR(0, 2258, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_TwoPartyServer) < 0) __PYX_ERR(0, 2324, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp_TwoPartyServer = &__pyx_type_5capnp_3lib_5capnp_TwoPartyServer;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__AsyncIoStream) < 0) __PYX_ERR(0, 2314, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__AsyncIoStream) < 0) __PYX_ERR(0, 2380, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__AsyncIoStream.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__AsyncIoStream.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__AsyncIoStream.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__AsyncIoStream.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_AsyncIoStream, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__AsyncIoStream) < 0) __PYX_ERR(0, 2314, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_AsyncIoStream, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__AsyncIoStream) < 0) __PYX_ERR(0, 2380, __pyx_L1_error)
   if (__pyx_type_5capnp_3lib_5capnp__AsyncIoStream.tp_weaklistoffset == 0) __pyx_type_5capnp_3lib_5capnp__AsyncIoStream.tp_weaklistoffset = offsetof(struct __pyx_obj_5capnp_3lib_5capnp__AsyncIoStream, __weakref__);
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__AsyncIoStream) < 0) __PYX_ERR(0, 2314, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__AsyncIoStream) < 0) __PYX_ERR(0, 2380, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream = &__pyx_type_5capnp_3lib_5capnp__AsyncIoStream;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_DummyBaseClass) < 0) __PYX_ERR(0, 2413, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp_DummyBaseClass) < 0) __PYX_ERR(0, 2486, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp_DummyBaseClass.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp_DummyBaseClass.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp_DummyBaseClass.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp_DummyBaseClass.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DummyBaseClass, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_DummyBaseClass) < 0) __PYX_ERR(0, 2413, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_DummyBaseClass) < 0) __PYX_ERR(0, 2413, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_DummyBaseClass, (PyObject *)&__pyx_type_5capnp_3lib_5capnp_DummyBaseClass) < 0) __PYX_ERR(0, 2486, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp_DummyBaseClass) < 0) __PYX_ERR(0, 2486, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass = &__pyx_type_5capnp_3lib_5capnp_DummyBaseClass;
   __pyx_vtabptr_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol = &__pyx_vtable_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol;
   __pyx_vtable_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.write_loop = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *))__pyx_f_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_write_loop;
   __pyx_vtable_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.read_reset = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *))__pyx_f_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_read_reset;
   __pyx_vtable_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.write_reset = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol *))__pyx_f_5capnp_3lib_5capnp_24_PyAsyncIoStreamProtocol_write_reset;
   __pyx_vtabptr_5capnp_3lib_5capnp__StructSchema = &__pyx_vtable_5capnp_3lib_5capnp__StructSchema;
   __pyx_vtable_5capnp_3lib_5capnp__StructSchema.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__Schema;
   __pyx_vtable_5capnp_3lib_5capnp__StructSchema._init_child = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *,  ::capnp::StructSchema))__pyx_f_5capnp_3lib_5capnp_13_StructSchema__init_child;
   __pyx_vtable_5capnp_3lib_5capnp__StructSchema._thisptr = ( ::capnp::StructSchema (*)(struct __pyx_obj_5capnp_3lib_5capnp__StructSchema *))__pyx_f_5capnp_3lib_5capnp_13_StructSchema__thisptr;
   __pyx_type_5capnp_3lib_5capnp__StructSchema.tp_base = __pyx_ptype_5capnp_3lib_5capnp__Schema;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__StructSchema) < 0) __PYX_ERR(0, 2642, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__StructSchema) < 0) __PYX_ERR(0, 2727, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__StructSchema.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__StructSchema.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__StructSchema.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__StructSchema.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__StructSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__StructSchema) < 0) __PYX_ERR(0, 2642, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_StructSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__StructSchema) < 0) __PYX_ERR(0, 2642, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__StructSchema) < 0) __PYX_ERR(0, 2642, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__StructSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__StructSchema) < 0) __PYX_ERR(0, 2727, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_StructSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__StructSchema) < 0) __PYX_ERR(0, 2727, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__StructSchema) < 0) __PYX_ERR(0, 2727, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__StructSchema = &__pyx_type_5capnp_3lib_5capnp__StructSchema;
   __pyx_vtabptr_5capnp_3lib_5capnp__InterfaceMethod = &__pyx_vtable_5capnp_3lib_5capnp__InterfaceMethod;
   __pyx_vtable_5capnp_3lib_5capnp__InterfaceMethod._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__InterfaceMethod *,  ::capnp::InterfaceSchema::Method))__pyx_f_5capnp_3lib_5capnp_16_InterfaceMethod__init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__InterfaceMethod) < 0) __PYX_ERR(0, 2766, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__InterfaceMethod) < 0) __PYX_ERR(0, 2851, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__InterfaceMethod.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__InterfaceMethod.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__InterfaceMethod.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__InterfaceMethod.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__InterfaceMethod.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__InterfaceMethod) < 0) __PYX_ERR(0, 2766, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_InterfaceMethod, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__InterfaceMethod) < 0) __PYX_ERR(0, 2766, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__InterfaceMethod) < 0) __PYX_ERR(0, 2766, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__InterfaceMethod.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__InterfaceMethod) < 0) __PYX_ERR(0, 2851, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_InterfaceMethod, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__InterfaceMethod) < 0) __PYX_ERR(0, 2851, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__InterfaceMethod) < 0) __PYX_ERR(0, 2851, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__InterfaceMethod = &__pyx_type_5capnp_3lib_5capnp__InterfaceMethod;
   __pyx_vtabptr_5capnp_3lib_5capnp__EnumSchema = &__pyx_vtable_5capnp_3lib_5capnp__EnumSchema;
   __pyx_vtable_5capnp_3lib_5capnp__EnumSchema._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__EnumSchema *,  ::capnp::EnumSchema))__pyx_f_5capnp_3lib_5capnp_11_EnumSchema__init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__EnumSchema) < 0) __PYX_ERR(0, 2865, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__EnumSchema) < 0) __PYX_ERR(0, 2950, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__EnumSchema.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__EnumSchema.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__EnumSchema.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__EnumSchema.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__EnumSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__EnumSchema) < 0) __PYX_ERR(0, 2865, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_EnumSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__EnumSchema) < 0) __PYX_ERR(0, 2865, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__EnumSchema) < 0) __PYX_ERR(0, 2865, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__EnumSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__EnumSchema) < 0) __PYX_ERR(0, 2950, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_EnumSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__EnumSchema) < 0) __PYX_ERR(0, 2950, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__EnumSchema) < 0) __PYX_ERR(0, 2950, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__EnumSchema = &__pyx_type_5capnp_3lib_5capnp__EnumSchema;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__SchemaType) < 0) __PYX_ERR(0, 2889, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__SchemaType) < 0) __PYX_ERR(0, 2974, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__SchemaType.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__SchemaType.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__SchemaType.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__SchemaType.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SchemaType, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__SchemaType) < 0) __PYX_ERR(0, 2889, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__SchemaType) < 0) __PYX_ERR(0, 2889, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SchemaType, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__SchemaType) < 0) __PYX_ERR(0, 2974, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__SchemaType) < 0) __PYX_ERR(0, 2974, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__SchemaType = &__pyx_type_5capnp_3lib_5capnp__SchemaType;
   __pyx_vtabptr_5capnp_3lib_5capnp__ListSchema = &__pyx_vtable_5capnp_3lib_5capnp__ListSchema;
   __pyx_vtable_5capnp_3lib_5capnp__ListSchema._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__ListSchema *,  ::capnp::ListSchema))__pyx_f_5capnp_3lib_5capnp_11_ListSchema__init;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__ListSchema) < 0) __PYX_ERR(0, 2971, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__ListSchema) < 0) __PYX_ERR(0, 3056, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__ListSchema.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__ListSchema.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__ListSchema.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__ListSchema.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__ListSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__ListSchema) < 0) __PYX_ERR(0, 2971, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_ListSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__ListSchema) < 0) __PYX_ERR(0, 2971, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__ListSchema) < 0) __PYX_ERR(0, 2971, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__ListSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__ListSchema) < 0) __PYX_ERR(0, 3056, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_ListSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__ListSchema) < 0) __PYX_ERR(0, 3056, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__ListSchema) < 0) __PYX_ERR(0, 3056, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__ListSchema = &__pyx_type_5capnp_3lib_5capnp__ListSchema;
   __pyx_vtabptr_5capnp_3lib_5capnp__ParsedSchema = &__pyx_vtable_5capnp_3lib_5capnp__ParsedSchema;
   __pyx_vtable_5capnp_3lib_5capnp__ParsedSchema.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__Schema;
   __pyx_vtable_5capnp_3lib_5capnp__ParsedSchema._init_child = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *,  ::capnp::ParsedSchema))__pyx_f_5capnp_3lib_5capnp_13_ParsedSchema__init_child;
   __pyx_vtable_5capnp_3lib_5capnp__ParsedSchema.get_nested = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__ParsedSchema *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_13_ParsedSchema_get_nested;
   __pyx_type_5capnp_3lib_5capnp__ParsedSchema.tp_base = __pyx_ptype_5capnp_3lib_5capnp__Schema;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__ParsedSchema) < 0) __PYX_ERR(0, 3016, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__ParsedSchema) < 0) __PYX_ERR(0, 3101, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__ParsedSchema.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__ParsedSchema.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__ParsedSchema.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__ParsedSchema.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__ParsedSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__ParsedSchema) < 0) __PYX_ERR(0, 3016, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_ParsedSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__ParsedSchema) < 0) __PYX_ERR(0, 3016, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__ParsedSchema) < 0) __PYX_ERR(0, 3016, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__ParsedSchema.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__ParsedSchema) < 0) __PYX_ERR(0, 3101, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_ParsedSchema, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__ParsedSchema) < 0) __PYX_ERR(0, 3101, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__ParsedSchema) < 0) __PYX_ERR(0, 3101, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__ParsedSchema = &__pyx_type_5capnp_3lib_5capnp__ParsedSchema;
   __pyx_vtabptr_5capnp_3lib_5capnp__MallocMessageBuilder = &__pyx_vtable_5capnp_3lib_5capnp__MallocMessageBuilder;
   __pyx_vtable_5capnp_3lib_5capnp__MallocMessageBuilder.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageBuilder;
   __pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder) < 0) __PYX_ERR(0, 3622, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder) < 0) __PYX_ERR(0, 3707, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__MallocMessageBuilder) < 0) __PYX_ERR(0, 3622, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MallocMessageBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder) < 0) __PYX_ERR(0, 3622, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder) < 0) __PYX_ERR(0, 3622, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__MallocMessageBuilder) < 0) __PYX_ERR(0, 3707, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MallocMessageBuilder, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder) < 0) __PYX_ERR(0, 3707, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder) < 0) __PYX_ERR(0, 3707, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__MallocMessageBuilder = &__pyx_type_5capnp_3lib_5capnp__MallocMessageBuilder;
   __pyx_vtabptr_5capnp_3lib_5capnp__MessageReader = &__pyx_vtable_5capnp_3lib_5capnp__MessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__MessageReader.get_root = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *, PyObject *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14_MessageReader_get_root;
   __pyx_vtable_5capnp_3lib_5capnp__MessageReader.get_root_as_any = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__MessageReader *, int __pyx_skip_dispatch))__pyx_f_5capnp_3lib_5capnp_14_MessageReader_get_root_as_any;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MessageReader) < 0) __PYX_ERR(0, 3644, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MessageReader) < 0) __PYX_ERR(0, 3729, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__MessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__MessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__MessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__MessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__MessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__MessageReader) < 0) __PYX_ERR(0, 3644, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MessageReader) < 0) __PYX_ERR(0, 3644, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MessageReader) < 0) __PYX_ERR(0, 3644, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__MessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__MessageReader) < 0) __PYX_ERR(0, 3729, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MessageReader) < 0) __PYX_ERR(0, 3729, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MessageReader) < 0) __PYX_ERR(0, 3729, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__MessageReader = &__pyx_type_5capnp_3lib_5capnp__MessageReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__StreamFdMessageReader = &__pyx_vtable_5capnp_3lib_5capnp__StreamFdMessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__StreamFdMessageReader.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader) < 0) __PYX_ERR(0, 3690, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader) < 0) __PYX_ERR(0, 3775, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__StreamFdMessageReader) < 0) __PYX_ERR(0, 3690, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_StreamFdMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader) < 0) __PYX_ERR(0, 3690, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader) < 0) __PYX_ERR(0, 3690, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__StreamFdMessageReader) < 0) __PYX_ERR(0, 3775, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_StreamFdMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader) < 0) __PYX_ERR(0, 3775, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader) < 0) __PYX_ERR(0, 3775, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__StreamFdMessageReader = &__pyx_type_5capnp_3lib_5capnp__StreamFdMessageReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__PackedMessageReader = &__pyx_vtable_5capnp_3lib_5capnp__PackedMessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__PackedMessageReader.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__PackedMessageReader._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__PackedMessageReader *,  ::kj::BufferedInputStream &, struct __pyx_opt_args_5capnp_3lib_5capnp_20_PackedMessageReader__init *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_20_PackedMessageReader__init;
   __pyx_type_5capnp_3lib_5capnp__PackedMessageReader.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__PackedMessageReader) < 0) __PYX_ERR(0, 3713, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__PackedMessageReader) < 0) __PYX_ERR(0, 3800, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__PackedMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__PackedMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__PackedMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__PackedMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__PackedMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__PackedMessageReader) < 0) __PYX_ERR(0, 3713, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_PackedMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__PackedMessageReader) < 0) __PYX_ERR(0, 3713, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__PackedMessageReader) < 0) __PYX_ERR(0, 3713, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__PackedMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__PackedMessageReader) < 0) __PYX_ERR(0, 3800, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_PackedMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__PackedMessageReader) < 0) __PYX_ERR(0, 3800, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__PackedMessageReader) < 0) __PYX_ERR(0, 3800, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__PackedMessageReader = &__pyx_type_5capnp_3lib_5capnp__PackedMessageReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__PackedMessageReaderBytes = &__pyx_vtable_5capnp_3lib_5capnp__PackedMessageReaderBytes;
   __pyx_vtable_5capnp_3lib_5capnp__PackedMessageReaderBytes.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes) < 0) __PYX_ERR(0, 3742, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes) < 0) __PYX_ERR(0, 3829, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__PackedMessageReaderBytes) < 0) __PYX_ERR(0, 3742, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_PackedMessageReaderBytes, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes) < 0) __PYX_ERR(0, 3742, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes) < 0) __PYX_ERR(0, 3742, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__PackedMessageReaderBytes) < 0) __PYX_ERR(0, 3829, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_PackedMessageReaderBytes, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes) < 0) __PYX_ERR(0, 3829, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes) < 0) __PYX_ERR(0, 3829, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__PackedMessageReaderBytes = &__pyx_type_5capnp_3lib_5capnp__PackedMessageReaderBytes;
   __pyx_vtabptr_5capnp_3lib_5capnp__InputMessageReader = &__pyx_vtable_5capnp_3lib_5capnp__InputMessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__InputMessageReader.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__InputMessageReader._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__InputMessageReader *,  ::kj::BufferedInputStream &, struct __pyx_opt_args_5capnp_3lib_5capnp_19_InputMessageReader__init *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_19_InputMessageReader__init;
   __pyx_type_5capnp_3lib_5capnp__InputMessageReader.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__InputMessageReader) < 0) __PYX_ERR(0, 3764, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__InputMessageReader) < 0) __PYX_ERR(0, 3851, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__InputMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__InputMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__InputMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__InputMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__InputMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__InputMessageReader) < 0) __PYX_ERR(0, 3764, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_InputMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__InputMessageReader) < 0) __PYX_ERR(0, 3764, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__InputMessageReader) < 0) __PYX_ERR(0, 3764, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__InputMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__InputMessageReader) < 0) __PYX_ERR(0, 3851, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_InputMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__InputMessageReader) < 0) __PYX_ERR(0, 3851, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__InputMessageReader) < 0) __PYX_ERR(0, 3851, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__InputMessageReader = &__pyx_type_5capnp_3lib_5capnp__InputMessageReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__PackedFdMessageReader = &__pyx_vtable_5capnp_3lib_5capnp__PackedFdMessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__PackedFdMessageReader.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader) < 0) __PYX_ERR(0, 3793, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader) < 0) __PYX_ERR(0, 3880, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__PackedFdMessageReader) < 0) __PYX_ERR(0, 3793, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_PackedFdMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader) < 0) __PYX_ERR(0, 3793, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader) < 0) __PYX_ERR(0, 3793, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__PackedFdMessageReader) < 0) __PYX_ERR(0, 3880, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_PackedFdMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader) < 0) __PYX_ERR(0, 3880, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader) < 0) __PYX_ERR(0, 3880, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__PackedFdMessageReader = &__pyx_type_5capnp_3lib_5capnp__PackedFdMessageReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__AsyncMessageReader = &__pyx_vtable_5capnp_3lib_5capnp__AsyncMessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__AsyncMessageReader.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__AsyncMessageReader._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__AsyncMessageReader *,  ::kj::Own< ::capnp::MessageReader> ))__pyx_f_5capnp_3lib_5capnp_19_AsyncMessageReader__init;
   __pyx_type_5capnp_3lib_5capnp__AsyncMessageReader.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader) < 0) __PYX_ERR(0, 3815, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader) < 0) __PYX_ERR(0, 3904, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__AsyncMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__AsyncMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__AsyncMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__AsyncMessageReader) < 0) __PYX_ERR(0, 3815, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_AsyncMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader) < 0) __PYX_ERR(0, 3815, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader) < 0) __PYX_ERR(0, 3815, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__AsyncMessageReader) < 0) __PYX_ERR(0, 3904, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_AsyncMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader) < 0) __PYX_ERR(0, 3904, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader) < 0) __PYX_ERR(0, 3904, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__AsyncMessageReader = &__pyx_type_5capnp_3lib_5capnp__AsyncMessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MultipleMessageReader) < 0) __PYX_ERR(0, 3834, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MultipleMessageReader) < 0) __PYX_ERR(0, 3923, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__MultipleMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__MultipleMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__MultipleMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__MultipleMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MultipleMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MultipleMessageReader) < 0) __PYX_ERR(0, 3834, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MultipleMessageReader) < 0) __PYX_ERR(0, 3834, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MultipleMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MultipleMessageReader) < 0) __PYX_ERR(0, 3923, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MultipleMessageReader) < 0) __PYX_ERR(0, 3923, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__MultipleMessageReader = &__pyx_type_5capnp_3lib_5capnp__MultipleMessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader) < 0) __PYX_ERR(0, 3873, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader) < 0) __PYX_ERR(0, 3962, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MultiplePackedMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader) < 0) __PYX_ERR(0, 3873, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader) < 0) __PYX_ERR(0, 3873, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MultiplePackedMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader) < 0) __PYX_ERR(0, 3962, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader) < 0) __PYX_ERR(0, 3962, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__MultiplePackedMessageReader = &__pyx_type_5capnp_3lib_5capnp__MultiplePackedMessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader) < 0) __PYX_ERR(0, 3912, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader) < 0) __PYX_ERR(0, 4001, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MultipleBytesMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader) < 0) __PYX_ERR(0, 3912, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader) < 0) __PYX_ERR(0, 3912, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MultipleBytesMessageReader, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader) < 0) __PYX_ERR(0, 4001, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader) < 0) __PYX_ERR(0, 4001, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__MultipleBytesMessageReader = &__pyx_type_5capnp_3lib_5capnp__MultipleBytesMessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader) < 0) __PYX_ERR(0, 3961, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader) < 0) __PYX_ERR(0, 4050, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MultipleBytesPackedMessageReade, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader) < 0) __PYX_ERR(0, 3961, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader) < 0) __PYX_ERR(0, 3961, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_MultipleBytesPackedMessageReade, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader) < 0) __PYX_ERR(0, 4050, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader) < 0) __PYX_ERR(0, 4050, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader = &__pyx_type_5capnp_3lib_5capnp__MultipleBytesPackedMessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__AlignedBuffer) < 0) __PYX_ERR(0, 4001, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__AlignedBuffer) < 0) __PYX_ERR(0, 4090, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__AlignedBuffer.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__AlignedBuffer.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__AlignedBuffer.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__AlignedBuffer.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__AlignedBuffer) < 0) __PYX_ERR(0, 4001, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__AlignedBuffer) < 0) __PYX_ERR(0, 4090, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__AlignedBuffer = &__pyx_type_5capnp_3lib_5capnp__AlignedBuffer;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__BufferView) < 0) __PYX_ERR(0, 4025, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__BufferView) < 0) __PYX_ERR(0, 4114, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__BufferView.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__BufferView.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__BufferView.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__BufferView.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__BufferView) < 0) __PYX_ERR(0, 4025, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__BufferView) < 0) __PYX_ERR(0, 4114, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__BufferView = &__pyx_type_5capnp_3lib_5capnp__BufferView;
   __pyx_vtabptr_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned = &__pyx_vtable_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned;
   __pyx_vtable_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned._init = (PyObject *(*)(struct __pyx_obj_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned *, PyObject *, char const *, Py_ssize_t, struct __pyx_opt_args_5capnp_3lib_5capnp_30_FlatArrayMessageReaderAligned__init *__pyx_optional_args))__pyx_f_5capnp_3lib_5capnp_30_FlatArrayMessageReaderAligned__init;
   __pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned) < 0) __PYX_ERR(0, 4047, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned) < 0) __PYX_ERR(0, 4136, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned) < 0) __PYX_ERR(0, 4047, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned) < 0) __PYX_ERR(0, 4047, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned) < 0) __PYX_ERR(0, 4136, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned) < 0) __PYX_ERR(0, 4136, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned = &__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReaderAligned;
   __pyx_vtabptr_5capnp_3lib_5capnp__FlatArrayMessageReader = &__pyx_vtable_5capnp_3lib_5capnp__FlatArrayMessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__FlatArrayMessageReader.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader) < 0) __PYX_ERR(0, 4078, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader) < 0) __PYX_ERR(0, 4167, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__FlatArrayMessageReader) < 0) __PYX_ERR(0, 4078, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader) < 0) __PYX_ERR(0, 4078, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__FlatArrayMessageReader) < 0) __PYX_ERR(0, 4167, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader) < 0) __PYX_ERR(0, 4167, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__FlatArrayMessageReader = &__pyx_type_5capnp_3lib_5capnp__FlatArrayMessageReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__SegmentArrayMessageReader = &__pyx_vtable_5capnp_3lib_5capnp__SegmentArrayMessageReader;
   __pyx_vtable_5capnp_3lib_5capnp__SegmentArrayMessageReader.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageReader;
   __pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageReader;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader) < 0) __PYX_ERR(0, 4122, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader) < 0) __PYX_ERR(0, 4211, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__SegmentArrayMessageReader) < 0) __PYX_ERR(0, 4122, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader) < 0) __PYX_ERR(0, 4122, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__SegmentArrayMessageReader) < 0) __PYX_ERR(0, 4211, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader) < 0) __PYX_ERR(0, 4211, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__SegmentArrayMessageReader = &__pyx_type_5capnp_3lib_5capnp__SegmentArrayMessageReader;
   __pyx_vtabptr_5capnp_3lib_5capnp__FlatMessageBuilder = &__pyx_vtable_5capnp_3lib_5capnp__FlatMessageBuilder;
   __pyx_vtable_5capnp_3lib_5capnp__FlatMessageBuilder.__pyx_base = *__pyx_vtabptr_5capnp_3lib_5capnp__MessageBuilder;
   __pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder.tp_base = __pyx_ptype_5capnp_3lib_5capnp__MessageBuilder;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder) < 0) __PYX_ERR(0, 4163, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder) < 0) __PYX_ERR(0, 4252, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder.tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__FlatMessageBuilder) < 0) __PYX_ERR(0, 4163, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder) < 0) __PYX_ERR(0, 4163, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__FlatMessageBuilder) < 0) __PYX_ERR(0, 4252, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder) < 0) __PYX_ERR(0, 4252, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__FlatMessageBuilder = &__pyx_type_5capnp_3lib_5capnp__FlatMessageBuilder;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method) < 0) __PYX_ERR(0, 123, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method) < 0) __PYX_ERR(0, 132, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct____pyx_f_5capnp_3lib_5capnp_call_server_method;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize) < 0) __PYX_ERR(0, 141, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize) < 0) __PYX_ERR(0, 150, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_1_finalize;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum) < 0) __PYX_ERR(0, 170, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum) < 0) __PYX_ERR(0, 179, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_2__make_enum;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr) < 0) __PYX_ERR(0, 172, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr) < 0) __PYX_ERR(0, 181, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_3_genexpr;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async) < 0) __PYX_ERR(0, 1270, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async) < 0) __PYX_ERR(0, 1307, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_4_write_async;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable) < 0) __PYX_ERR(0, 1805, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable) < 0) __PYX_ERR(0, 1844, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_5_setRunnable;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop) < 0) __PYX_ERR(0, 1852, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop) < 0) __PYX_ERR(0, 1901, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_6_kj_loop;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_7_run) < 0) __PYX_ERR(0, 1878, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_7_run) < 0) __PYX_ERR(0, 1937, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_7_run.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_7_run.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_7_run.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_7_run.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_7_run = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_7_run;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio) < 0) __PYX_ERR(0, 1920, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio) < 0) __PYX_ERR(0, 1986, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_8___pyx_f_5capnp_3lib_5capnp__promise_to_asyncio;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed) < 0) __PYX_ERR(0, 2346, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed) < 0) __PYX_ERR(0, 2413, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_9_wait_closed;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection) < 0) __PYX_ERR(0, 2350, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection) < 0) __PYX_ERR(0, 2417, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_10_create_connection;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection) < 0) __PYX_ERR(0, 2364, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection) < 0) __PYX_ERR(0, 2431, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_11_create_unix_connection;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server) < 0) __PYX_ERR(0, 2386, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server) < 0) __PYX_ERR(0, 2453, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_12_create_server;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server) < 0) __PYX_ERR(0, 2400, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server) < 0) __PYX_ERR(0, 2470, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server.tp_print = 0;
   #endif
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server.tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
   __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_13_create_unix_server;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14___get__) < 0) __PYX_ERR(0, 2662, __pyx_L1_error)
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made) < 0) __PYX_ERR(0, 2529, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14___get__.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14___get__.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_14___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14___get__;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr) < 0) __PYX_ERR(0, 2667, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_14_connection_made;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15___get__) < 0) __PYX_ERR(0, 2747, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15___get__.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15___get__.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15_genexpr;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16___get__) < 0) __PYX_ERR(0, 2672, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_15___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_15___get__;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr) < 0) __PYX_ERR(0, 2752, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16___get__.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16___get__.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_16___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16___get__;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr) < 0) __PYX_ERR(0, 2678, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_16_genexpr;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17___get__) < 0) __PYX_ERR(0, 2757, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17___get__.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17___get__.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17_genexpr;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18___get__) < 0) __PYX_ERR(0, 2683, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_17___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_17___get__;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr) < 0) __PYX_ERR(0, 2763, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18___get__.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18___get__.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_18___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18___get__;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr) < 0) __PYX_ERR(0, 2689, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_18_genexpr;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19___get__) < 0) __PYX_ERR(0, 2768, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19___get__.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19___get__.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19_genexpr;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20___get__) < 0) __PYX_ERR(0, 2793, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_19___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_19___get__;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr) < 0) __PYX_ERR(0, 2774, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20___get__.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20___get__.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_20___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20___get__;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr) < 0) __PYX_ERR(0, 2799, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_20_genexpr;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21___get__) < 0) __PYX_ERR(0, 2878, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21___get__.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21___get__.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21_genexpr;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22___get__) < 0) __PYX_ERR(0, 2804, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_21___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_21___get__;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr) < 0) __PYX_ERR(0, 2884, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22___get__.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22___get__.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_22___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22___get__;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr) < 0) __PYX_ERR(0, 2811, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_22_genexpr;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23___get__) < 0) __PYX_ERR(0, 2889, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23___get__.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23___get__.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23___get__.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23___get__.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23_genexpr;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async) < 0) __PYX_ERR(0, 3095, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_23___get__ = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_23___get__;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr) < 0) __PYX_ERR(0, 2896, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_read_async;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes) < 0) __PYX_ERR(0, 3210, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_24_genexpr;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async) < 0) __PYX_ERR(0, 3180, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_from_bytes;
-  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_load) < 0) __PYX_ERR(0, 3387, __pyx_L1_error)
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_25_read_async;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes) < 0) __PYX_ERR(0, 3295, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
-  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_load.tp_print = 0;
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes.tp_print = 0;
   #endif
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_load.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_load.tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_load.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
   }
-  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_26_load = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_load;
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_26_from_bytes;
+  if (PyType_Ready(&__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_27_load) < 0) __PYX_ERR(0, 3472, __pyx_L1_error)
+  #if PY_VERSION_HEX < 0x030800B1
+  __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_27_load.tp_print = 0;
+  #endif
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_27_load.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_27_load.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_27_load.tp_getattro = __Pyx_PyObject_GenericGetAttrNoDict;
+  }
+  __pyx_ptype_5capnp_3lib_5capnp___pyx_scope_struct_27_load = &__pyx_type_5capnp_3lib_5capnp___pyx_scope_struct_27_load;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 
@@ -110741,1430 +111044,1433 @@
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "capnp/lib/capnp.pyx":77
  *        return self
  * 
  * def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):             # <<<<<<<<<<<<<<
  *     if fulfiller.fulfiller == NULL:
- *         return
+ *         if not task.cancelled():
  */
   __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_5void_task_done_callback, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 77, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_void_task_done_callback, __pyx_t_2) < 0) __PYX_ERR(0, 77, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":108
+  /* "capnp/lib/capnp.pyx":117
  *     task.cancel()
  * 
  * def fill_context(method_name, context, returned_data):             # <<<<<<<<<<<<<<
  *     if returned_data is None:
  *         return
  */
-  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_7fill_context, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 108, __pyx_L1_error)
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_7fill_context, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 117, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_fill_context, __pyx_t_2) < 0) __PYX_ERR(0, 108, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_fill_context, __pyx_t_2) < 0) __PYX_ERR(0, 117, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":170
+  /* "capnp/lib/capnp.pyx":179
  * 
  * 
  * def _make_enum(enum_name, *sequential, **named):             # <<<<<<<<<<<<<<
  *     enums = dict(zip(sequential, range(len(sequential))), **named)
  *     reverse = dict((value, key) for key, value in enums.iteritems())
  */
-  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_9_make_enum, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 170, __pyx_L1_error)
+  __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_9_make_enum, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 179, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_make_enum, __pyx_t_2) < 0) __PYX_ERR(0, 170, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_make_enum, __pyx_t_2) < 0) __PYX_ERR(0, 179, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":177
+  /* "capnp/lib/capnp.pyx":186
  * 
  * 
  * _Type = _make_enum(             # <<<<<<<<<<<<<<
  *     "_Type",
  *     FAILED=0,
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_make_enum); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 177, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_make_enum); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 186, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":179
+  /* "capnp/lib/capnp.pyx":188
  * _Type = _make_enum(
  *     "_Type",
  *     FAILED=0,             # <<<<<<<<<<<<<<
  *     OVERLOADED=1,
  *     DISCONNECTED=2,
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 179, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 188, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_FAILED, __pyx_int_0) < 0) __PYX_ERR(0, 179, __pyx_L1_error)
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_OVERLOADED, __pyx_int_1) < 0) __PYX_ERR(0, 179, __pyx_L1_error)
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_DISCONNECTED, __pyx_int_2) < 0) __PYX_ERR(0, 179, __pyx_L1_error)
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_UNIMPLEMENTED, __pyx_int_3) < 0) __PYX_ERR(0, 179, __pyx_L1_error)
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_OTHER, __pyx_int_4) < 0) __PYX_ERR(0, 179, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_FAILED, __pyx_int_0) < 0) __PYX_ERR(0, 188, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_OVERLOADED, __pyx_int_1) < 0) __PYX_ERR(0, 188, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_DISCONNECTED, __pyx_int_2) < 0) __PYX_ERR(0, 188, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_UNIMPLEMENTED, __pyx_int_3) < 0) __PYX_ERR(0, 188, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_OTHER, __pyx_int_4) < 0) __PYX_ERR(0, 188, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":177
+  /* "capnp/lib/capnp.pyx":186
  * 
  * 
  * _Type = _make_enum(             # <<<<<<<<<<<<<<
  *     "_Type",
  *     FAILED=0,
  */
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__173, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 177, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__173, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 186, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Type, __pyx_t_3) < 0) __PYX_ERR(0, 177, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Type, __pyx_t_3) < 0) __PYX_ERR(0, 186, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":217
+  /* "capnp/lib/capnp.pyx":226
  * # Extension classes can't inherit from Exception, so we're going to proxy wrap kj::Exception,
  * # and forward all calls to it from this Python class
  * class KjException(Exception):             # <<<<<<<<<<<<<<
  * 
  *     """KjException is a wrapper of the internal C++ exception type.
  */
-  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 217, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 226, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_INCREF(((PyObject *)(&((PyTypeObject*)PyExc_Exception)[0])));
   __Pyx_GIVEREF(((PyObject *)(&((PyTypeObject*)PyExc_Exception)[0])));
   PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)(&((PyTypeObject*)PyExc_Exception)[0])));
-  __pyx_t_1 = __Pyx_CalculateMetaclass(NULL, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 217, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CalculateMetaclass(NULL, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 226, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_Py3MetaclassPrepare(__pyx_t_1, __pyx_t_3, __pyx_n_s_KjException, __pyx_n_s_KjException, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, __pyx_kp_s_KjException_is_a_wrapper_of_the); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 217, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Py3MetaclassPrepare(__pyx_t_1, __pyx_t_3, __pyx_n_s_KjException, __pyx_n_s_KjException, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, __pyx_kp_s_KjException_is_a_wrapper_of_the); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 226, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":223
+  /* "capnp/lib/capnp.pyx":232
  *     There is an enum named `Type` listed below, and a bunch of fields."""
  * 
  *     Type = _make_enum("Type", **{x: x for x in _Type.reverse_mapping.values()})             # <<<<<<<<<<<<<<
  * 
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_make_enum); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 223, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_make_enum); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 232, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   { /* enter inner scope */
-    __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 223, __pyx_L4_error)
+    __pyx_t_6 = PyDict_New(); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 232, __pyx_L4_error)
     __Pyx_GOTREF(__pyx_t_6);
-    __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_Type); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 223, __pyx_L4_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_8, __pyx_n_s_Type); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 232, __pyx_L4_error)
     __Pyx_GOTREF(__pyx_t_8);
-    __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_reverse_mapping); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 223, __pyx_L4_error)
+    __pyx_t_9 = __Pyx_PyObject_GetAttrStr(__pyx_t_8, __pyx_n_s_reverse_mapping); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 232, __pyx_L4_error)
     __Pyx_GOTREF(__pyx_t_9);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
-    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_9, __pyx_n_s_values); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 223, __pyx_L4_error)
+    __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_9, __pyx_n_s_values); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 232, __pyx_L4_error)
     __Pyx_GOTREF(__pyx_t_8);
     __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
     __pyx_t_9 = NULL;
     if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_8))) {
       __pyx_t_9 = PyMethod_GET_SELF(__pyx_t_8);
       if (likely(__pyx_t_9)) {
         PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
         __Pyx_INCREF(__pyx_t_9);
         __Pyx_INCREF(function);
         __Pyx_DECREF_SET(__pyx_t_8, function);
       }
     }
     __pyx_t_7 = (__pyx_t_9) ? __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_9) : __Pyx_PyObject_CallNoArg(__pyx_t_8);
     __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-    if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 223, __pyx_L4_error)
+    if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 232, __pyx_L4_error)
     __Pyx_GOTREF(__pyx_t_7);
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     if (likely(PyList_CheckExact(__pyx_t_7)) || PyTuple_CheckExact(__pyx_t_7)) {
       __pyx_t_8 = __pyx_t_7; __Pyx_INCREF(__pyx_t_8); __pyx_t_10 = 0;
       __pyx_t_11 = NULL;
     } else {
-      __pyx_t_10 = -1; __pyx_t_8 = PyObject_GetIter(__pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 223, __pyx_L4_error)
+      __pyx_t_10 = -1; __pyx_t_8 = PyObject_GetIter(__pyx_t_7); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 232, __pyx_L4_error)
       __Pyx_GOTREF(__pyx_t_8);
-      __pyx_t_11 = Py_TYPE(__pyx_t_8)->tp_iternext; if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 223, __pyx_L4_error)
+      __pyx_t_11 = Py_TYPE(__pyx_t_8)->tp_iternext; if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 232, __pyx_L4_error)
     }
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
     for (;;) {
       if (likely(!__pyx_t_11)) {
         if (likely(PyList_CheckExact(__pyx_t_8))) {
           if (__pyx_t_10 >= PyList_GET_SIZE(__pyx_t_8)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_8, __pyx_t_10); __Pyx_INCREF(__pyx_t_7); __pyx_t_10++; if (unlikely(0 < 0)) __PYX_ERR(0, 223, __pyx_L4_error)
+          __pyx_t_7 = PyList_GET_ITEM(__pyx_t_8, __pyx_t_10); __Pyx_INCREF(__pyx_t_7); __pyx_t_10++; if (unlikely(0 < 0)) __PYX_ERR(0, 232, __pyx_L4_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_8, __pyx_t_10); __pyx_t_10++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 223, __pyx_L4_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_8, __pyx_t_10); __pyx_t_10++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 232, __pyx_L4_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         } else {
           if (__pyx_t_10 >= PyTuple_GET_SIZE(__pyx_t_8)) break;
           #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_8, __pyx_t_10); __Pyx_INCREF(__pyx_t_7); __pyx_t_10++; if (unlikely(0 < 0)) __PYX_ERR(0, 223, __pyx_L4_error)
+          __pyx_t_7 = PyTuple_GET_ITEM(__pyx_t_8, __pyx_t_10); __Pyx_INCREF(__pyx_t_7); __pyx_t_10++; if (unlikely(0 < 0)) __PYX_ERR(0, 232, __pyx_L4_error)
           #else
-          __pyx_t_7 = PySequence_ITEM(__pyx_t_8, __pyx_t_10); __pyx_t_10++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 223, __pyx_L4_error)
+          __pyx_t_7 = PySequence_ITEM(__pyx_t_8, __pyx_t_10); __pyx_t_10++; if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 232, __pyx_L4_error)
           __Pyx_GOTREF(__pyx_t_7);
           #endif
         }
       } else {
         __pyx_t_7 = __pyx_t_11(__pyx_t_8);
         if (unlikely(!__pyx_t_7)) {
           PyObject* exc_type = PyErr_Occurred();
           if (exc_type) {
             if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-            else __PYX_ERR(0, 223, __pyx_L4_error)
+            else __PYX_ERR(0, 232, __pyx_L4_error)
           }
           break;
         }
         __Pyx_GOTREF(__pyx_t_7);
       }
       __Pyx_XDECREF_SET(__pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x, __pyx_t_7);
       __pyx_t_7 = 0;
-      if (unlikely(PyDict_SetItem(__pyx_t_6, (PyObject*)__pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x, (PyObject*)__pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x))) __PYX_ERR(0, 223, __pyx_L4_error)
+      if (unlikely(PyDict_SetItem(__pyx_t_6, (PyObject*)__pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x, (PyObject*)__pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x))) __PYX_ERR(0, 232, __pyx_L4_error)
     }
     __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
     __Pyx_XDECREF(__pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x); __pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x = 0;
     goto __pyx_L7_exit_scope;
     __pyx_L4_error:;
     __Pyx_XDECREF(__pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x); __pyx_8genexpr2__pyx_v_5capnp_3lib_5capnp_11KjException_x = 0;
     goto __pyx_L1_error;
     __pyx_L7_exit_scope:;
   } /* exit inner scope */
-  __pyx_t_5 = PyDict_Copy(__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 223, __pyx_L1_error)
+  __pyx_t_5 = PyDict_Copy(__pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 232, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__174, __pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 223, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__174, __pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 232, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_Type_2, __pyx_t_6) < 0) __PYX_ERR(0, 223, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_Type_2, __pyx_t_6) < 0) __PYX_ERR(0, 232, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":225
+  /* "capnp/lib/capnp.pyx":234
  *     Type = _make_enum("Type", **{x: x for x in _Type.reverse_mapping.values()})
  * 
  *     def __init__(self, message=None, nature=None, durability=None, wrapper=None, type=None):             # <<<<<<<<<<<<<<
  *         if wrapper is not None:
  *             self.wrapper = wrapper
  */
-  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_1__init__, 0, __pyx_n_s_KjException___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__176)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 225, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_1__init__, 0, __pyx_n_s_KjException___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__176)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 234, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_6, __pyx_tuple__177);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_init_2, __pyx_t_6) < 0) __PYX_ERR(0, 225, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_init_2, __pyx_t_6) < 0) __PYX_ERR(0, 234, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":237
+  /* "capnp/lib/capnp.pyx":246
  * 
  *     @property
  *     def file(self):             # <<<<<<<<<<<<<<
  *         return self.wrapper.file
  * 
  */
-  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_3file, 0, __pyx_n_s_KjException_file, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__179)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 237, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_3file, 0, __pyx_n_s_KjException_file, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__179)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 246, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
 
-  /* "capnp/lib/capnp.pyx":236
+  /* "capnp/lib/capnp.pyx":245
  *             self._type = type
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def file(self):
  *         return self.wrapper.file
  */
-  __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_builtin_property, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 236, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_builtin_property, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 245, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_file, __pyx_t_5) < 0) __PYX_ERR(0, 237, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_file, __pyx_t_5) < 0) __PYX_ERR(0, 246, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-  /* "capnp/lib/capnp.pyx":241
+  /* "capnp/lib/capnp.pyx":250
  * 
  *     @property
  *     def line(self):             # <<<<<<<<<<<<<<
  *         return self.wrapper.line
  * 
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_5line, 0, __pyx_n_s_KjException_line, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__181)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 241, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_5line, 0, __pyx_n_s_KjException_line, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__181)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 250, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
 
-  /* "capnp/lib/capnp.pyx":240
+  /* "capnp/lib/capnp.pyx":249
  *         return self.wrapper.file
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def line(self):
  *         return self.wrapper.line
  */
-  __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_builtin_property, __pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 240, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_builtin_property, __pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 249, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_line, __pyx_t_6) < 0) __PYX_ERR(0, 241, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_line, __pyx_t_6) < 0) __PYX_ERR(0, 250, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":245
+  /* "capnp/lib/capnp.pyx":254
  * 
  *     @property
  *     def type(self):             # <<<<<<<<<<<<<<
  *         if self.wrapper is not None:
  *             return self.wrapper.type
  */
-  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_7type, 0, __pyx_n_s_KjException_type, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__183)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 245, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_7type, 0, __pyx_n_s_KjException_type, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__183)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 254, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
 
-  /* "capnp/lib/capnp.pyx":244
+  /* "capnp/lib/capnp.pyx":253
  *         return self.wrapper.line
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def type(self):
  *         if self.wrapper is not None:
  */
-  __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_builtin_property, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 244, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_builtin_property, __pyx_t_6); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 253, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_type, __pyx_t_5) < 0) __PYX_ERR(0, 245, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_type, __pyx_t_5) < 0) __PYX_ERR(0, 254, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-  /* "capnp/lib/capnp.pyx":252
+  /* "capnp/lib/capnp.pyx":261
  * 
  *     @property
  *     def description(self):             # <<<<<<<<<<<<<<
  *         if self.wrapper is not None:
  *             return self.wrapper.description
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_9description, 0, __pyx_n_s_KjException_description, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__185)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 252, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_9description, 0, __pyx_n_s_KjException_description, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__185)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 261, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
 
-  /* "capnp/lib/capnp.pyx":251
+  /* "capnp/lib/capnp.pyx":260
  *             return self._type
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def description(self):
  *         if self.wrapper is not None:
  */
-  __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_builtin_property, __pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 251, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyObject_CallOneArg(__pyx_builtin_property, __pyx_t_5); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 260, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_description, __pyx_t_6) < 0) __PYX_ERR(0, 252, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_description, __pyx_t_6) < 0) __PYX_ERR(0, 261, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":258
+  /* "capnp/lib/capnp.pyx":267
  *             return self.message
  * 
  *     def __str__(self):             # <<<<<<<<<<<<<<
  *         return self.message
  * 
  */
-  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_11__str__, 0, __pyx_n_s_KjException___str, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__187)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 258, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_11__str__, 0, __pyx_n_s_KjException___str, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__187)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 267, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_str_2, __pyx_t_6) < 0) __PYX_ERR(0, 258, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_str_2, __pyx_t_6) < 0) __PYX_ERR(0, 267, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":261
+  /* "capnp/lib/capnp.pyx":270
  *         return self.message
  * 
  *     def _to_python(self):             # <<<<<<<<<<<<<<
  *         message = self.message
- *         if self.wrapper.type == 'FAILED':
+ *         if self.wrapper is not None and self.wrapper.type == 'FAILED':
  */
-  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_13_to_python, 0, __pyx_n_s_KjException__to_python, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__189)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 261, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11KjException_13_to_python, 0, __pyx_n_s_KjException__to_python, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__189)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 270, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_to_python, __pyx_t_6) < 0) __PYX_ERR(0, 261, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_to_python, __pyx_t_6) < 0) __PYX_ERR(0, 270, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":217
+  /* "capnp/lib/capnp.pyx":226
  * # Extension classes can't inherit from Exception, so we're going to proxy wrap kj::Exception,
  * # and forward all calls to it from this Python class
  * class KjException(Exception):             # <<<<<<<<<<<<<<
  * 
  *     """KjException is a wrapper of the internal C++ exception type.
  */
-  __pyx_t_6 = __Pyx_Py3ClassCreate(__pyx_t_1, __pyx_n_s_KjException, __pyx_t_3, __pyx_t_2, NULL, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 217, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_Py3ClassCreate(__pyx_t_1, __pyx_n_s_KjException, __pyx_t_3, __pyx_t_2, NULL, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 226, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_KjException, __pyx_t_6) < 0) __PYX_ERR(0, 217, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_KjException, __pyx_t_6) < 0) __PYX_ERR(0, 226, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":1082
+  /* "capnp/lib/capnp.pyx":1119
  *         self.cap_count = cap_count
  * 
  * if getattr(_sys, 'subversion', [''])[0] == 'PyPy':             # <<<<<<<<<<<<<<
  *     from pickle_helper import _struct_reducer
  * else:
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_sys); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1082, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_sys); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1119, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1082, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1119, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(__pyx_kp_s__3);
   __Pyx_GIVEREF(__pyx_kp_s__3);
   PyList_SET_ITEM(__pyx_t_1, 0, __pyx_kp_s__3);
-  __pyx_t_2 = __Pyx_GetAttr3(__pyx_t_3, __pyx_n_s_subversion, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1082, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_GetAttr3(__pyx_t_3, __pyx_n_s_subversion, __pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1119, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_2, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1082, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_GetItemInt(__pyx_t_2, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1119, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_12 = (__Pyx_PyString_Equals(__pyx_t_1, __pyx_n_s_PyPy, Py_EQ)); if (unlikely(__pyx_t_12 < 0)) __PYX_ERR(0, 1082, __pyx_L1_error)
+  __pyx_t_12 = (__Pyx_PyString_Equals(__pyx_t_1, __pyx_n_s_PyPy, Py_EQ)); if (unlikely(__pyx_t_12 < 0)) __PYX_ERR(0, 1119, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (__pyx_t_12) {
 
-    /* "capnp/lib/capnp.pyx":1083
+    /* "capnp/lib/capnp.pyx":1120
  * 
  * if getattr(_sys, 'subversion', [''])[0] == 'PyPy':
  *     from pickle_helper import _struct_reducer             # <<<<<<<<<<<<<<
  * else:
  *     def _struct_reducer(schema_id, data):
  */
-    __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1083, __pyx_L1_error)
+    __pyx_t_1 = PyList_New(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1120, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_INCREF(__pyx_n_s_struct_reducer);
     __Pyx_GIVEREF(__pyx_n_s_struct_reducer);
     PyList_SET_ITEM(__pyx_t_1, 0, __pyx_n_s_struct_reducer);
-    __pyx_t_2 = __Pyx_Import(__pyx_n_s_pickle_helper, __pyx_t_1, -1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1083, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_Import(__pyx_n_s_pickle_helper, __pyx_t_1, -1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1120, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-    __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_struct_reducer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1083, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_ImportFrom(__pyx_t_2, __pyx_n_s_struct_reducer); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1120, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (PyDict_SetItem(__pyx_d, __pyx_n_s_struct_reducer, __pyx_t_1) < 0) __PYX_ERR(0, 1083, __pyx_L1_error)
+    if (PyDict_SetItem(__pyx_d, __pyx_n_s_struct_reducer, __pyx_t_1) < 0) __PYX_ERR(0, 1120, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "capnp/lib/capnp.pyx":1082
+    /* "capnp/lib/capnp.pyx":1119
  *         self.cap_count = cap_count
  * 
  * if getattr(_sys, 'subversion', [''])[0] == 'PyPy':             # <<<<<<<<<<<<<<
  *     from pickle_helper import _struct_reducer
  * else:
  */
     goto __pyx_L8;
   }
 
-  /* "capnp/lib/capnp.pyx":1085
+  /* "capnp/lib/capnp.pyx":1122
  *     from pickle_helper import _struct_reducer
  * else:
  *     def _struct_reducer(schema_id, data):             # <<<<<<<<<<<<<<
  *         with _global_schema_parser.modules_by_id[schema_id].from_bytes(data) as msg:
  *             return msg
  */
   /*else*/ {
-    __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_11_struct_reducer, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1085, __pyx_L1_error)
+    __pyx_t_2 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_11_struct_reducer, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1122, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    if (PyDict_SetItem(__pyx_d, __pyx_n_s_struct_reducer, __pyx_t_2) < 0) __PYX_ERR(0, 1085, __pyx_L1_error)
+    if (PyDict_SetItem(__pyx_d, __pyx_n_s_struct_reducer, __pyx_t_2) < 0) __PYX_ERR(0, 1122, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   }
   __pyx_L8:;
 
-  /* "capnp/lib/capnp.pyx":1851
+  /* "capnp/lib/capnp.pyx":1900
  *                 "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  * 
  * @_asynccontextmanager             # <<<<<<<<<<<<<<
  * async def kj_loop():
- *     asyncio_loop = asyncio.get_running_loop()
+ *     """Context manager for running the KJ event loop
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asynccontextmanager_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1851, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_asynccontextmanager_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1900, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":1852
+  /* "capnp/lib/capnp.pyx":1901
  * 
  * @_asynccontextmanager
  * async def kj_loop():             # <<<<<<<<<<<<<<
- *     asyncio_loop = asyncio.get_running_loop()
- *     if hasattr(asyncio_loop, '_kj_loop'):
+ *     """Context manager for running the KJ event loop
+ * 
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_13kj_loop, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1852, __pyx_L1_error)
+  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_13kj_loop, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1901, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
 
-  /* "capnp/lib/capnp.pyx":1851
+  /* "capnp/lib/capnp.pyx":1900
  *                 "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
  * 
  * @_asynccontextmanager             # <<<<<<<<<<<<<<
  * async def kj_loop():
- *     asyncio_loop = asyncio.get_running_loop()
+ *     """Context manager for running the KJ event loop
  */
-  __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1851, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_t_2, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1900, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_kj_loop, __pyx_t_3) < 0) __PYX_ERR(0, 1852, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_kj_loop, __pyx_t_3) < 0) __PYX_ERR(0, 1901, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":1878
+  /* "capnp/lib/capnp.pyx":1937
  *         kj_loop.close()
  * 
  * async def run(coro):             # <<<<<<<<<<<<<<
- *     async with kj_loop():
- *         return await coro
+ *     """Ensure that the coroutine runs while the KJ event loop is running
+ * 
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_16run, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1878, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_16run, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1937, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_run, __pyx_t_3) < 0) __PYX_ERR(0, 1878, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_run, __pyx_t_3) < 0) __PYX_ERR(0, 1937, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2350
+  /* "capnp/lib/capnp.pyx":2417
  * 
  *     @staticmethod
  *     async def create_connection(host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection.
  * 
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_12create_connection, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2350, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_12create_connection, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2417, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_connection, __pyx_t_3) < 0) __PYX_ERR(0, 2350, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_connection, __pyx_t_3) < 0) __PYX_ERR(0, 2417, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2349
+  /* "capnp/lib/capnp.pyx":2416
  *         return await self.protocol.closed_future
  * 
  *     @staticmethod             # <<<<<<<<<<<<<<
  *     async def create_connection(host = None, port = None, **kwargs):
  *         """Create a TCP connection.
  */
-  __Pyx_GetNameInClass(__pyx_t_3, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_create_connection); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2350, __pyx_L1_error)
+  __Pyx_GetNameInClass(__pyx_t_3, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_create_connection); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2417, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2349, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2416, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_connection, __pyx_t_1) < 0) __PYX_ERR(0, 2350, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_connection, __pyx_t_1) < 0) __PYX_ERR(0, 2417, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2364
+  /* "capnp/lib/capnp.pyx":2431
  * 
  *     @staticmethod
  *     async def create_unix_connection(path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a Unix socket connection.
  * 
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_15create_unix_connection, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2364, __pyx_L1_error)
+  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_15create_unix_connection, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2431, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_unix_connection, __pyx_t_1) < 0) __PYX_ERR(0, 2364, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_unix_connection, __pyx_t_1) < 0) __PYX_ERR(0, 2431, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2363
+  /* "capnp/lib/capnp.pyx":2430
  *         return self
  * 
  *     @staticmethod             # <<<<<<<<<<<<<<
  *     async def create_unix_connection(path = None, **kwargs):
  *         """Create a Unix socket connection.
  */
-  __Pyx_GetNameInClass(__pyx_t_1, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_create_unix_connection); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2364, __pyx_L1_error)
+  __Pyx_GetNameInClass(__pyx_t_1, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_create_unix_connection); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2431, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2363, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2430, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_unix_connection, __pyx_t_3) < 0) __PYX_ERR(0, 2364, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_unix_connection, __pyx_t_3) < 0) __PYX_ERR(0, 2431, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2378
+  /* "capnp/lib/capnp.pyx":2445
  * 
  *     @staticmethod
  *     def _connect(callback):             # <<<<<<<<<<<<<<
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  *         loop = asyncio.get_running_loop()
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_18_connect, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2378, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_18_connect, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2445, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_connect, __pyx_t_3) < 0) __PYX_ERR(0, 2378, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_connect, __pyx_t_3) < 0) __PYX_ERR(0, 2445, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2377
+  /* "capnp/lib/capnp.pyx":2444
  *         return self
  * 
  *     @staticmethod             # <<<<<<<<<<<<<<
  *     def _connect(callback):
  *         cdef _AsyncIoStream self = _AsyncIoStream()
  */
-  __Pyx_GetNameInClass(__pyx_t_3, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_connect); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2378, __pyx_L1_error)
+  __Pyx_GetNameInClass(__pyx_t_3, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_connect); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2445, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2377, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2444, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_connect, __pyx_t_1) < 0) __PYX_ERR(0, 2378, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_connect, __pyx_t_1) < 0) __PYX_ERR(0, 2445, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2386
+  /* "capnp/lib/capnp.pyx":2453
  * 
  *     @staticmethod
  *     async def create_server(callback, host = None, port = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a TCP connection server.
  * 
  */
-  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_20create_server, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2386, __pyx_L1_error)
+  __pyx_t_1 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_20create_server, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2453, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_server, __pyx_t_1) < 0) __PYX_ERR(0, 2386, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_server, __pyx_t_1) < 0) __PYX_ERR(0, 2453, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2385
+  /* "capnp/lib/capnp.pyx":2452
  *         return protocol
  * 
  *     @staticmethod             # <<<<<<<<<<<<<<
  *     async def create_server(callback, host = None, port = None, **kwargs):
  *         """Create a TCP connection server.
  */
-  __Pyx_GetNameInClass(__pyx_t_1, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_create_server); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2386, __pyx_L1_error)
+  __Pyx_GetNameInClass(__pyx_t_1, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_create_server); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2453, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2385, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2452, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_server, __pyx_t_3) < 0) __PYX_ERR(0, 2386, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_server, __pyx_t_3) < 0) __PYX_ERR(0, 2453, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2400
+  /* "capnp/lib/capnp.pyx":2470
  * 
  *     @staticmethod
  *     async def create_unix_server(callback, path = None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Create a unix connection server.
  * 
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_23create_unix_server, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2400, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_14_AsyncIoStream_23create_unix_server, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2470, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_unix_server, __pyx_t_3) < 0) __PYX_ERR(0, 2400, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_unix_server, __pyx_t_3) < 0) __PYX_ERR(0, 2470, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2399
+  /* "capnp/lib/capnp.pyx":2469
  *         return await loop.create_server(lambda: _AsyncIoStream._connect(callback), host, port, **kwargs)
  * 
  *     @staticmethod             # <<<<<<<<<<<<<<
  *     async def create_unix_server(callback, path = None, **kwargs):
  *         """Create a unix connection server.
  */
-  __Pyx_GetNameInClass(__pyx_t_3, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_create_unix_server); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2400, __pyx_L1_error)
+  __Pyx_GetNameInClass(__pyx_t_3, (PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream, __pyx_n_s_create_unix_server); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2470, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2399, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_staticmethod, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2469, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_unix_server, __pyx_t_1) < 0) __PYX_ERR(0, 2400, __pyx_L1_error)
+  if (PyDict_SetItem((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream->tp_dict, __pyx_n_s_create_unix_server, __pyx_t_1) < 0) __PYX_ERR(0, 2470, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   PyType_Modified(__pyx_ptype_5capnp_3lib_5capnp__AsyncIoStream);
 
-  /* "capnp/lib/capnp.pyx":2416
+  /* "capnp/lib/capnp.pyx":2489
  *     pass
  * 
  * cdef class _PyAsyncIoStreamProtocol(DummyBaseClass, asyncio.BufferedProtocol):             # <<<<<<<<<<<<<<
- *     # TODO: Temporary. Needed due to a missing __slots__ definitions in BufferedProtocol on Python 3.7.
- *     #       See https://github.com/python/cpython/issues/79575. Can be removed once Python 3.7 is unsupported.
+ *     cdef object _task
+ * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2416, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_asyncio); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_BufferedProtocol); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2416, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_BufferedProtocol); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2416, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_INCREF(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass));
   __Pyx_GIVEREF(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass));
   PyTuple_SET_ITEM(__pyx_t_1, 0, ((PyObject *)__pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass));
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_3);
   __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2416, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2416, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_New(3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_n_s_PyAsyncIoStreamProtocol);
   __Pyx_GIVEREF(__pyx_n_s_PyAsyncIoStreamProtocol);
   PyTuple_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_PyAsyncIoStreamProtocol);
   __Pyx_GIVEREF(__pyx_t_1);
   PyTuple_SET_ITEM(__pyx_t_2, 1, __pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_3);
   PyTuple_SET_ITEM(__pyx_t_2, 2, __pyx_t_3);
   __pyx_t_1 = 0;
   __pyx_t_3 = 0;
   __pyx_t_3 = PyType_Type.tp_new(&PyType_Type, __pyx_t_2, NULL);
-  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2416, __pyx_L1_error)
+  if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2489, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   if (((PyTypeObject*) __pyx_t_3)->tp_base != ((PyTypeObject*)PyTuple_GET_ITEM(PyTuple_GET_ITEM(__pyx_t_2, 1), 0))) {
     PyErr_Format(PyExc_TypeError, "best base '%s' must be equal to first base '%s'",
                  ((PyTypeObject*) __pyx_t_3)->tp_base->tp_name, ((PyTypeObject*)PyTuple_GET_ITEM(PyTuple_GET_ITEM(__pyx_t_2, 1), 0))->tp_name);
-    __PYX_ERR(0, 2416, __pyx_L1_error)
+    __PYX_ERR(0, 2489, __pyx_L1_error)
   }
   __Pyx_INCREF(PyTuple_GET_ITEM(__pyx_t_2, 1));
   __Pyx_GIVEREF(PyTuple_GET_ITEM(__pyx_t_2, 1));
   __pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.tp_bases = PyTuple_GET_ITEM(__pyx_t_2, 1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.tp_base = __pyx_ptype_5capnp_3lib_5capnp_DummyBaseClass;
-  if (__Pyx_PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2416, __pyx_L1_error)
+  if (__Pyx_PyType_Ready(&__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2489, __pyx_L1_error)
   #if PY_VERSION_HEX < 0x030800B1
   __pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.tp_print = 0;
   #endif
-  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2416, __pyx_L1_error)
-  if (__Pyx_MergeVtables(&__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2416, __pyx_L1_error)
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_PyAsyncIoStreamProtocol, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2416, __pyx_L1_error)
-  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2416, __pyx_L1_error)
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.tp_dictoffset && __pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  }
+  if (__Pyx_SetVtable(__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol.tp_dict, __pyx_vtabptr_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2489, __pyx_L1_error)
+  if (__Pyx_MergeVtables(&__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2489, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_PyAsyncIoStreamProtocol, (PyObject *)&__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2489, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject*)&__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol) < 0) __PYX_ERR(0, 2489, __pyx_L1_error)
   __pyx_ptype_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol = &__pyx_type_5capnp_3lib_5capnp__PyAsyncIoStreamProtocol;
 
-  /* "capnp/lib/capnp.pyx":2893
+  /* "capnp/lib/capnp.pyx":2978
  * 
  * 
  * types = _ModuleType('capnp.types')             # <<<<<<<<<<<<<<
  * cdef _SchemaType _void = _SchemaType()
  * _void.thisptr = capnp.SchemaType(capnp.TypeWhichVOID)
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_ModuleType); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2893, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_ModuleType); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2978, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__200, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2893, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__200, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2978, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_types, __pyx_t_3) < 0) __PYX_ERR(0, 2893, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_types, __pyx_t_3) < 0) __PYX_ERR(0, 2978, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2894
+  /* "capnp/lib/capnp.pyx":2979
  * 
  * types = _ModuleType('capnp.types')
  * cdef _SchemaType _void = _SchemaType()             # <<<<<<<<<<<<<<
  * _void.thisptr = capnp.SchemaType(capnp.TypeWhichVOID)
  * types.Void = _void
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2894, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2979, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__void));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__void, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2895
+  /* "capnp/lib/capnp.pyx":2980
  * types = _ModuleType('capnp.types')
  * cdef _SchemaType _void = _SchemaType()
  * _void.thisptr = capnp.SchemaType(capnp.TypeWhichVOID)             # <<<<<<<<<<<<<<
  * types.Void = _void
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__void->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::VOID);
 
-  /* "capnp/lib/capnp.pyx":2896
+  /* "capnp/lib/capnp.pyx":2981
  * cdef _SchemaType _void = _SchemaType()
  * _void.thisptr = capnp.SchemaType(capnp.TypeWhichVOID)
  * types.Void = _void             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _bool = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2896, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2981, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Void, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__void)) < 0) __PYX_ERR(0, 2896, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Void, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__void)) < 0) __PYX_ERR(0, 2981, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2898
+  /* "capnp/lib/capnp.pyx":2983
  * types.Void = _void
  * 
  * cdef _SchemaType _bool = _SchemaType()             # <<<<<<<<<<<<<<
  * _bool.thisptr = capnp.SchemaType(capnp.TypeWhichBOOL)
  * types.Bool = _bool
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2898, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2983, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__bool));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__bool, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2899
+  /* "capnp/lib/capnp.pyx":2984
  * 
  * cdef _SchemaType _bool = _SchemaType()
  * _bool.thisptr = capnp.SchemaType(capnp.TypeWhichBOOL)             # <<<<<<<<<<<<<<
  * types.Bool = _bool
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__bool->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::BOOL);
 
-  /* "capnp/lib/capnp.pyx":2900
+  /* "capnp/lib/capnp.pyx":2985
  * cdef _SchemaType _bool = _SchemaType()
  * _bool.thisptr = capnp.SchemaType(capnp.TypeWhichBOOL)
  * types.Bool = _bool             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _int8 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2900, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2985, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Bool, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__bool)) < 0) __PYX_ERR(0, 2900, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Bool, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__bool)) < 0) __PYX_ERR(0, 2985, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2902
+  /* "capnp/lib/capnp.pyx":2987
  * types.Bool = _bool
  * 
  * cdef _SchemaType _int8 = _SchemaType()             # <<<<<<<<<<<<<<
  * _int8.thisptr = capnp.SchemaType(capnp.TypeWhichINT8)
  * types.Int8 = _int8
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2902, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2987, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__int8));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__int8, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2903
+  /* "capnp/lib/capnp.pyx":2988
  * 
  * cdef _SchemaType _int8 = _SchemaType()
  * _int8.thisptr = capnp.SchemaType(capnp.TypeWhichINT8)             # <<<<<<<<<<<<<<
  * types.Int8 = _int8
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__int8->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::INT8);
 
-  /* "capnp/lib/capnp.pyx":2904
+  /* "capnp/lib/capnp.pyx":2989
  * cdef _SchemaType _int8 = _SchemaType()
  * _int8.thisptr = capnp.SchemaType(capnp.TypeWhichINT8)
  * types.Int8 = _int8             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _int16 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2904, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2989, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Int8, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__int8)) < 0) __PYX_ERR(0, 2904, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Int8, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__int8)) < 0) __PYX_ERR(0, 2989, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2906
+  /* "capnp/lib/capnp.pyx":2991
  * types.Int8 = _int8
  * 
  * cdef _SchemaType _int16 = _SchemaType()             # <<<<<<<<<<<<<<
  * _int16.thisptr = capnp.SchemaType(capnp.TypeWhichINT16)
  * types.Int16 = _int16
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2906, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2991, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__int16));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__int16, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2907
+  /* "capnp/lib/capnp.pyx":2992
  * 
  * cdef _SchemaType _int16 = _SchemaType()
  * _int16.thisptr = capnp.SchemaType(capnp.TypeWhichINT16)             # <<<<<<<<<<<<<<
  * types.Int16 = _int16
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__int16->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::INT16);
 
-  /* "capnp/lib/capnp.pyx":2908
+  /* "capnp/lib/capnp.pyx":2993
  * cdef _SchemaType _int16 = _SchemaType()
  * _int16.thisptr = capnp.SchemaType(capnp.TypeWhichINT16)
  * types.Int16 = _int16             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _int32 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2908, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2993, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Int16, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__int16)) < 0) __PYX_ERR(0, 2908, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Int16, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__int16)) < 0) __PYX_ERR(0, 2993, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2910
+  /* "capnp/lib/capnp.pyx":2995
  * types.Int16 = _int16
  * 
  * cdef _SchemaType _int32 = _SchemaType()             # <<<<<<<<<<<<<<
  * _int32.thisptr = capnp.SchemaType(capnp.TypeWhichINT32)
  * types.Int32 = _int32
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2910, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2995, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__int32));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__int32, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2911
+  /* "capnp/lib/capnp.pyx":2996
  * 
  * cdef _SchemaType _int32 = _SchemaType()
  * _int32.thisptr = capnp.SchemaType(capnp.TypeWhichINT32)             # <<<<<<<<<<<<<<
  * types.Int32 = _int32
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__int32->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::INT32);
 
-  /* "capnp/lib/capnp.pyx":2912
+  /* "capnp/lib/capnp.pyx":2997
  * cdef _SchemaType _int32 = _SchemaType()
  * _int32.thisptr = capnp.SchemaType(capnp.TypeWhichINT32)
  * types.Int32 = _int32             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _int64 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2912, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2997, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Int32, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__int32)) < 0) __PYX_ERR(0, 2912, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Int32, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__int32)) < 0) __PYX_ERR(0, 2997, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2914
+  /* "capnp/lib/capnp.pyx":2999
  * types.Int32 = _int32
  * 
  * cdef _SchemaType _int64 = _SchemaType()             # <<<<<<<<<<<<<<
  * _int64.thisptr = capnp.SchemaType(capnp.TypeWhichINT64)
  * types.Int64 = _int64
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2914, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2999, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__int64));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__int64, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2915
+  /* "capnp/lib/capnp.pyx":3000
  * 
  * cdef _SchemaType _int64 = _SchemaType()
  * _int64.thisptr = capnp.SchemaType(capnp.TypeWhichINT64)             # <<<<<<<<<<<<<<
  * types.Int64 = _int64
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__int64->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::INT64);
 
-  /* "capnp/lib/capnp.pyx":2916
+  /* "capnp/lib/capnp.pyx":3001
  * cdef _SchemaType _int64 = _SchemaType()
  * _int64.thisptr = capnp.SchemaType(capnp.TypeWhichINT64)
  * types.Int64 = _int64             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _uint8 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2916, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3001, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Int64, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__int64)) < 0) __PYX_ERR(0, 2916, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Int64, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__int64)) < 0) __PYX_ERR(0, 3001, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2918
+  /* "capnp/lib/capnp.pyx":3003
  * types.Int64 = _int64
  * 
  * cdef _SchemaType _uint8 = _SchemaType()             # <<<<<<<<<<<<<<
  * _uint8.thisptr = capnp.SchemaType(capnp.TypeWhichUINT8)
  * types.UInt8 = _uint8
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2918, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3003, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint8));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__uint8, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2919
+  /* "capnp/lib/capnp.pyx":3004
  * 
  * cdef _SchemaType _uint8 = _SchemaType()
  * _uint8.thisptr = capnp.SchemaType(capnp.TypeWhichUINT8)             # <<<<<<<<<<<<<<
  * types.UInt8 = _uint8
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__uint8->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::UINT8);
 
-  /* "capnp/lib/capnp.pyx":2920
+  /* "capnp/lib/capnp.pyx":3005
  * cdef _SchemaType _uint8 = _SchemaType()
  * _uint8.thisptr = capnp.SchemaType(capnp.TypeWhichUINT8)
  * types.UInt8 = _uint8             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _uint16 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2920, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3005, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_UInt8, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint8)) < 0) __PYX_ERR(0, 2920, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_UInt8, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint8)) < 0) __PYX_ERR(0, 3005, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2922
+  /* "capnp/lib/capnp.pyx":3007
  * types.UInt8 = _uint8
  * 
  * cdef _SchemaType _uint16 = _SchemaType()             # <<<<<<<<<<<<<<
  * _uint16.thisptr = capnp.SchemaType(capnp.TypeWhichUINT16)
  * types.UInt16 = _uint16
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2922, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3007, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint16));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__uint16, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2923
+  /* "capnp/lib/capnp.pyx":3008
  * 
  * cdef _SchemaType _uint16 = _SchemaType()
  * _uint16.thisptr = capnp.SchemaType(capnp.TypeWhichUINT16)             # <<<<<<<<<<<<<<
  * types.UInt16 = _uint16
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__uint16->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::UINT16);
 
-  /* "capnp/lib/capnp.pyx":2924
+  /* "capnp/lib/capnp.pyx":3009
  * cdef _SchemaType _uint16 = _SchemaType()
  * _uint16.thisptr = capnp.SchemaType(capnp.TypeWhichUINT16)
  * types.UInt16 = _uint16             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _uint32 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2924, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3009, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_UInt16, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint16)) < 0) __PYX_ERR(0, 2924, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_UInt16, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint16)) < 0) __PYX_ERR(0, 3009, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2926
+  /* "capnp/lib/capnp.pyx":3011
  * types.UInt16 = _uint16
  * 
  * cdef _SchemaType _uint32 = _SchemaType()             # <<<<<<<<<<<<<<
  * _uint32.thisptr = capnp.SchemaType(capnp.TypeWhichUINT32)
  * types.UInt32 = _uint32
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2926, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3011, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint32));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__uint32, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2927
+  /* "capnp/lib/capnp.pyx":3012
  * 
  * cdef _SchemaType _uint32 = _SchemaType()
  * _uint32.thisptr = capnp.SchemaType(capnp.TypeWhichUINT32)             # <<<<<<<<<<<<<<
  * types.UInt32 = _uint32
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__uint32->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::UINT32);
 
-  /* "capnp/lib/capnp.pyx":2928
+  /* "capnp/lib/capnp.pyx":3013
  * cdef _SchemaType _uint32 = _SchemaType()
  * _uint32.thisptr = capnp.SchemaType(capnp.TypeWhichUINT32)
  * types.UInt32 = _uint32             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _uint64 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2928, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3013, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_UInt32, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint32)) < 0) __PYX_ERR(0, 2928, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_UInt32, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint32)) < 0) __PYX_ERR(0, 3013, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2930
+  /* "capnp/lib/capnp.pyx":3015
  * types.UInt32 = _uint32
  * 
  * cdef _SchemaType _uint64 = _SchemaType()             # <<<<<<<<<<<<<<
  * _uint64.thisptr = capnp.SchemaType(capnp.TypeWhichUINT64)
  * types.UInt64 = _uint64
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2930, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3015, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint64));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__uint64, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2931
+  /* "capnp/lib/capnp.pyx":3016
  * 
  * cdef _SchemaType _uint64 = _SchemaType()
  * _uint64.thisptr = capnp.SchemaType(capnp.TypeWhichUINT64)             # <<<<<<<<<<<<<<
  * types.UInt64 = _uint64
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__uint64->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::UINT64);
 
-  /* "capnp/lib/capnp.pyx":2932
+  /* "capnp/lib/capnp.pyx":3017
  * cdef _SchemaType _uint64 = _SchemaType()
  * _uint64.thisptr = capnp.SchemaType(capnp.TypeWhichUINT64)
  * types.UInt64 = _uint64             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _float32 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2932, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3017, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_UInt64, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint64)) < 0) __PYX_ERR(0, 2932, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_UInt64, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__uint64)) < 0) __PYX_ERR(0, 3017, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2934
+  /* "capnp/lib/capnp.pyx":3019
  * types.UInt64 = _uint64
  * 
  * cdef _SchemaType _float32 = _SchemaType()             # <<<<<<<<<<<<<<
  * _float32.thisptr = capnp.SchemaType(capnp.TypeWhichFLOAT32)
  * types.Float32 = _float32
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2934, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3019, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__float32));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__float32, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2935
+  /* "capnp/lib/capnp.pyx":3020
  * 
  * cdef _SchemaType _float32 = _SchemaType()
  * _float32.thisptr = capnp.SchemaType(capnp.TypeWhichFLOAT32)             # <<<<<<<<<<<<<<
  * types.Float32 = _float32
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__float32->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::FLOAT32);
 
-  /* "capnp/lib/capnp.pyx":2936
+  /* "capnp/lib/capnp.pyx":3021
  * cdef _SchemaType _float32 = _SchemaType()
  * _float32.thisptr = capnp.SchemaType(capnp.TypeWhichFLOAT32)
  * types.Float32 = _float32             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _float64 = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2936, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3021, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Float32, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__float32)) < 0) __PYX_ERR(0, 2936, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Float32, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__float32)) < 0) __PYX_ERR(0, 3021, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2938
+  /* "capnp/lib/capnp.pyx":3023
  * types.Float32 = _float32
  * 
  * cdef _SchemaType _float64 = _SchemaType()             # <<<<<<<<<<<<<<
  * _float64.thisptr = capnp.SchemaType(capnp.TypeWhichFLOAT64)
  * types.Float64 = _float64
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2938, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3023, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__float64));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__float64, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2939
+  /* "capnp/lib/capnp.pyx":3024
  * 
  * cdef _SchemaType _float64 = _SchemaType()
  * _float64.thisptr = capnp.SchemaType(capnp.TypeWhichFLOAT64)             # <<<<<<<<<<<<<<
  * types.Float64 = _float64
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__float64->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::FLOAT64);
 
-  /* "capnp/lib/capnp.pyx":2940
+  /* "capnp/lib/capnp.pyx":3025
  * cdef _SchemaType _float64 = _SchemaType()
  * _float64.thisptr = capnp.SchemaType(capnp.TypeWhichFLOAT64)
  * types.Float64 = _float64             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _text = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2940, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3025, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Float64, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__float64)) < 0) __PYX_ERR(0, 2940, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Float64, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__float64)) < 0) __PYX_ERR(0, 3025, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2942
+  /* "capnp/lib/capnp.pyx":3027
  * types.Float64 = _float64
  * 
  * cdef _SchemaType _text = _SchemaType()             # <<<<<<<<<<<<<<
  * _text.thisptr = capnp.SchemaType(capnp.TypeWhichTEXT)
  * types.Text = _text
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2942, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3027, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__text));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__text, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2943
+  /* "capnp/lib/capnp.pyx":3028
  * 
  * cdef _SchemaType _text = _SchemaType()
  * _text.thisptr = capnp.SchemaType(capnp.TypeWhichTEXT)             # <<<<<<<<<<<<<<
  * types.Text = _text
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__text->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::TEXT);
 
-  /* "capnp/lib/capnp.pyx":2944
+  /* "capnp/lib/capnp.pyx":3029
  * cdef _SchemaType _text = _SchemaType()
  * _text.thisptr = capnp.SchemaType(capnp.TypeWhichTEXT)
  * types.Text = _text             # <<<<<<<<<<<<<<
  * 
  * cdef _SchemaType _data = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2944, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3029, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Text, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__text)) < 0) __PYX_ERR(0, 2944, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Text, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__text)) < 0) __PYX_ERR(0, 3029, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2946
+  /* "capnp/lib/capnp.pyx":3031
  * types.Text = _text
  * 
  * cdef _SchemaType _data = _SchemaType()             # <<<<<<<<<<<<<<
  * _data.thisptr = capnp.SchemaType(capnp.TypeWhichDATA)
  * types.Data = _data
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2946, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3031, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__data));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__data, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2947
+  /* "capnp/lib/capnp.pyx":3032
  * 
  * cdef _SchemaType _data = _SchemaType()
  * _data.thisptr = capnp.SchemaType(capnp.TypeWhichDATA)             # <<<<<<<<<<<<<<
  * types.Data = _data
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__data->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::DATA);
 
-  /* "capnp/lib/capnp.pyx":2948
+  /* "capnp/lib/capnp.pyx":3033
  * cdef _SchemaType _data = _SchemaType()
  * _data.thisptr = capnp.SchemaType(capnp.TypeWhichDATA)
  * types.Data = _data             # <<<<<<<<<<<<<<
  * 
  * # cdef _SchemaType _list = _SchemaType()
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2948, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3033, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Data, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__data)) < 0) __PYX_ERR(0, 2948, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_Data, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__data)) < 0) __PYX_ERR(0, 3033, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2966
+  /* "capnp/lib/capnp.pyx":3051
  * # types.interface = _interface
  * 
  * cdef _SchemaType _any_pointer = _SchemaType()             # <<<<<<<<<<<<<<
  * _any_pointer.thisptr = capnp.SchemaType(capnp.TypeWhichANY_POINTER)
  * types.AnyPointer = _any_pointer
  */
-  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2966, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_CallNoArg(((PyObject *)__pyx_ptype_5capnp_3lib_5capnp__SchemaType)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3051, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_XGOTREF(((PyObject *)__pyx_v_5capnp_3lib_5capnp__any_pointer));
   __Pyx_DECREF_SET(__pyx_v_5capnp_3lib_5capnp__any_pointer, ((struct __pyx_obj_5capnp_3lib_5capnp__SchemaType *)__pyx_t_3));
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":2967
+  /* "capnp/lib/capnp.pyx":3052
  * 
  * cdef _SchemaType _any_pointer = _SchemaType()
  * _any_pointer.thisptr = capnp.SchemaType(capnp.TypeWhichANY_POINTER)             # <<<<<<<<<<<<<<
  * types.AnyPointer = _any_pointer
  * 
  */
   __pyx_v_5capnp_3lib_5capnp__any_pointer->thisptr =  ::capnp::Type( ::capnp::schema::Type::Which::ANY_POINTER);
 
-  /* "capnp/lib/capnp.pyx":2968
+  /* "capnp/lib/capnp.pyx":3053
  * cdef _SchemaType _any_pointer = _SchemaType()
  * _any_pointer.thisptr = capnp.SchemaType(capnp.TypeWhichANY_POINTER)
  * types.AnyPointer = _any_pointer             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 2968, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_types); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3053, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_AnyPointer, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__any_pointer)) < 0) __PYX_ERR(0, 2968, __pyx_L1_error)
+  if (__Pyx_PyObject_SetAttrStr(__pyx_t_3, __pyx_n_s_AnyPointer, ((PyObject *)__pyx_v_5capnp_3lib_5capnp__any_pointer)) < 0) __PYX_ERR(0, 3053, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3027
+  /* "capnp/lib/capnp.pyx":3112
  * 
  * 
  * class _StructABCMeta(type):             # <<<<<<<<<<<<<<
  *     """A metaclass for the Type.Reader and Type.Builder ABCs."""
  *     def __instancecheck__(cls, obj):
  */
-  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3027, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3112, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_INCREF(((PyObject *)(&PyType_Type)));
   __Pyx_GIVEREF(((PyObject *)(&PyType_Type)));
   PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)(&PyType_Type)));
-  __pyx_t_2 = __Pyx_CalculateMetaclass(NULL, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3027, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CalculateMetaclass(NULL, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3112, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_Py3MetaclassPrepare(__pyx_t_2, __pyx_t_3, __pyx_n_s_StructABCMeta, __pyx_n_s_StructABCMeta, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, __pyx_kp_s_A_metaclass_for_the_Type_Reader); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3027, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_Py3MetaclassPrepare(__pyx_t_2, __pyx_t_3, __pyx_n_s_StructABCMeta, __pyx_n_s_StructABCMeta, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, __pyx_kp_s_A_metaclass_for_the_Type_Reader); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3112, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
 
-  /* "capnp/lib/capnp.pyx":3029
+  /* "capnp/lib/capnp.pyx":3114
  * class _StructABCMeta(type):
  *     """A metaclass for the Type.Reader and Type.Builder ABCs."""
  *     def __instancecheck__(cls, obj):             # <<<<<<<<<<<<<<
  *         return isinstance(obj, cls.__base__) and obj.schema == cls._schema
  * 
  */
-  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_StructABCMeta_1__instancecheck__, 0, __pyx_n_s_StructABCMeta___instancecheck, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__202)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3029, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_14_StructABCMeta_1__instancecheck__, 0, __pyx_n_s_StructABCMeta___instancecheck, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__202)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3114, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  if (__Pyx_SetNameInClass(__pyx_t_1, __pyx_n_s_instancecheck, __pyx_t_6) < 0) __PYX_ERR(0, 3029, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_1, __pyx_n_s_instancecheck, __pyx_t_6) < 0) __PYX_ERR(0, 3114, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":3027
+  /* "capnp/lib/capnp.pyx":3112
  * 
  * 
  * class _StructABCMeta(type):             # <<<<<<<<<<<<<<
  *     """A metaclass for the Type.Reader and Type.Builder ABCs."""
  *     def __instancecheck__(cls, obj):
  */
-  __pyx_t_6 = __Pyx_Py3ClassCreate(__pyx_t_2, __pyx_n_s_StructABCMeta, __pyx_t_3, __pyx_t_1, NULL, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3027, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_Py3ClassCreate(__pyx_t_2, __pyx_n_s_StructABCMeta, __pyx_t_3, __pyx_t_1, NULL, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3112, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_StructABCMeta, __pyx_t_6) < 0) __PYX_ERR(0, 3027, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_StructABCMeta, __pyx_t_6) < 0) __PYX_ERR(0, 3112, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3041
+  /* "capnp/lib/capnp.pyx":3126
  * 
  * 
  * class _StructModuleWhich(_enum.Enum):             # <<<<<<<<<<<<<<
  *     def __eq__(self, other):
  *         if isinstance(other, int):
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_enum_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3041, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_enum_2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3126, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_Enum); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3041, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_Enum); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3126, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3041, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3126, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_2);
   PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_2);
   __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_CalculateMetaclass(NULL, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3041, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CalculateMetaclass(NULL, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3126, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_Py3MetaclassPrepare(__pyx_t_2, __pyx_t_3, __pyx_n_s_StructModuleWhich, __pyx_n_s_StructModuleWhich, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3041, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_Py3MetaclassPrepare(__pyx_t_2, __pyx_t_3, __pyx_n_s_StructModuleWhich, __pyx_n_s_StructModuleWhich, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3126, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
 
-  /* "capnp/lib/capnp.pyx":3042
+  /* "capnp/lib/capnp.pyx":3127
  * 
  * class _StructModuleWhich(_enum.Enum):
  *     def __eq__(self, other):             # <<<<<<<<<<<<<<
  *         if isinstance(other, int):
  *             return self.value == other
  */
-  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_18_StructModuleWhich_1__eq__, 0, __pyx_n_s_StructModuleWhich___eq, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__204)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3042, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_18_StructModuleWhich_1__eq__, 0, __pyx_n_s_StructModuleWhich___eq, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__204)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3127, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  if (__Pyx_SetNameInClass(__pyx_t_1, __pyx_n_s_eq, __pyx_t_6) < 0) __PYX_ERR(0, 3042, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_1, __pyx_n_s_eq, __pyx_t_6) < 0) __PYX_ERR(0, 3127, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":3041
+  /* "capnp/lib/capnp.pyx":3126
  * 
  * 
  * class _StructModuleWhich(_enum.Enum):             # <<<<<<<<<<<<<<
  *     def __eq__(self, other):
  *         if isinstance(other, int):
  */
-  __pyx_t_6 = __Pyx_Py3ClassCreate(__pyx_t_2, __pyx_n_s_StructModuleWhich, __pyx_t_3, __pyx_t_1, NULL, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3041, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_Py3ClassCreate(__pyx_t_2, __pyx_n_s_StructModuleWhich, __pyx_t_3, __pyx_t_1, NULL, 0, 1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3126, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_StructModuleWhich, __pyx_t_6) < 0) __PYX_ERR(0, 3041, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_StructModuleWhich, __pyx_t_6) < 0) __PYX_ERR(0, 3126, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3049
+  /* "capnp/lib/capnp.pyx":3134
  * 
  * 
  * class _StructModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         self.schema = schema
  */
-  __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_tuple__205); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3049, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_tuple__205); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3134, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_tuple__205, __pyx_n_s_StructModule, __pyx_n_s_StructModule, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3049, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_tuple__205, __pyx_n_s_StructModule, __pyx_n_s_StructModule, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3134, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":3050
+  /* "capnp/lib/capnp.pyx":3135
  * 
  * class _StructModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_1__init__, 0, __pyx_n_s_StructModule___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__207)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3050, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_1__init__, 0, __pyx_n_s_StructModule___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__207)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3135, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_init_2, __pyx_t_1) < 0) __PYX_ERR(0, 3050, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_init_2, __pyx_t_1) < 0) __PYX_ERR(0, 3135, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3078
+  /* "capnp/lib/capnp.pyx":3163
  *             setattr(self, 'Union', sub_module)
  * 
  *     def read(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object read from file.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_3read, 0, __pyx_n_s_StructModule_read, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__209)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3078, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_3read, 0, __pyx_n_s_StructModule_read, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__209)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3163, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__210);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read, __pyx_t_1) < 0) __PYX_ERR(0, 3078, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read, __pyx_t_1) < 0) __PYX_ERR(0, 3163, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3095
+  /* "capnp/lib/capnp.pyx":3180
  *         return reader.get_root(self.schema)
  * 
  *     async def read_async(self, _AsyncIoStream stream, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Async version of read(). Returns either a message, or None in case of EOF.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_5read_async, 0, __pyx_n_s_StructModule_read_async, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__91)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3095, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_5read_async, 0, __pyx_n_s_StructModule_read_async, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__93)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3180, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__212);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_async, __pyx_t_1) < 0) __PYX_ERR(0, 3095, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_async, __pyx_t_1) < 0) __PYX_ERR(0, 3180, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3116
+  /* "capnp/lib/capnp.pyx":3201
  *         return reader.get_root(self.schema)
  * 
  *     def read_multiple(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_8read_multiple, 0, __pyx_n_s_StructModule_read_multiple, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__214)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3116, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_8read_multiple, 0, __pyx_n_s_StructModule_read_multiple, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__214)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3201, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__215);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_multiple, __pyx_t_1) < 0) __PYX_ERR(0, 3116, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_multiple, __pyx_t_1) < 0) __PYX_ERR(0, 3201, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3137
+  /* "capnp/lib/capnp.pyx":3222
  *         return reader
  * 
  *     def read_packed(self, file, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the packed object read from file.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_10read_packed, 0, __pyx_n_s_StructModule_read_packed, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__217)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3137, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_10read_packed, 0, __pyx_n_s_StructModule_read_packed, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__217)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3222, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__218);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_packed, __pyx_t_1) < 0) __PYX_ERR(0, 3137, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_packed, __pyx_t_1) < 0) __PYX_ERR(0, 3222, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3154
+  /* "capnp/lib/capnp.pyx":3239
  *         return reader.get_root(self.schema)
  * 
  *     def read_multiple_packed(self, file, traversal_limit_in_words=None, nesting_limit=None, skip_copy=False):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_12read_multiple_packed, 0, __pyx_n_s_StructModule_read_multiple_pack, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__220)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3154, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_12read_multiple_packed, 0, __pyx_n_s_StructModule_read_multiple_pack, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__220)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3239, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__221);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_multiple_packed, __pyx_t_1) < 0) __PYX_ERR(0, 3154, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_multiple_packed, __pyx_t_1) < 0) __PYX_ERR(0, 3239, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3175
+  /* "capnp/lib/capnp.pyx":3260
  *         return reader
  * 
  *     def read_multiple_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_14read_multiple_bytes, 0, __pyx_n_s_StructModule_read_multiple_byte, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__223)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3175, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_14read_multiple_bytes, 0, __pyx_n_s_StructModule_read_multiple_byte, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__223)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3260, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__224);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_multiple_bytes, __pyx_t_1) < 0) __PYX_ERR(0, 3175, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_multiple_bytes, __pyx_t_1) < 0) __PYX_ERR(0, 3260, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3192
+  /* "capnp/lib/capnp.pyx":3277
  *         return reader
  * 
  *     def read_multiple_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns an iterable, that when traversed will return Readers for messages.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_16read_multiple_bytes_packed, 0, __pyx_n_s_StructModule_read_multiple_byte_2, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__226)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3192, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_16read_multiple_bytes_packed, 0, __pyx_n_s_StructModule_read_multiple_byte_2, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__226)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3277, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__227);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_multiple_bytes_packed, __pyx_t_1) < 0) __PYX_ERR(0, 3192, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_read_multiple_bytes_packed, __pyx_t_1) < 0) __PYX_ERR(0, 3277, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3209
+  /* "capnp/lib/capnp.pyx":3294
  *         return reader
  * 
  *     @contextlib.contextmanager             # <<<<<<<<<<<<<<
  *     def from_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None, builder=False):
  *         """Returns a Reader for the unpacked object in buf.
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_contextlib); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3209, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_contextlib); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3294, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_contextmanager); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3209, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_6, __pyx_n_s_contextmanager); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 3294, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
 
-  /* "capnp/lib/capnp.pyx":3210
+  /* "capnp/lib/capnp.pyx":3295
  * 
  *     @contextlib.contextmanager
  *     def from_bytes(self, buf, traversal_limit_in_words=None, nesting_limit=None, builder=False):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the unpacked object in buf.
  * 
  */
-  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_18from_bytes, 0, __pyx_n_s_StructModule_from_bytes, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__92)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3210, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_18from_bytes, 0, __pyx_n_s_StructModule_from_bytes, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__94)); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 3295, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_6, __pyx_tuple__229);
   __pyx_t_4 = NULL;
   if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_5))) {
     __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_5);
     if (likely(__pyx_t_4)) {
       PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
@@ -112172,404 +112478,405 @@
       __Pyx_INCREF(function);
       __Pyx_DECREF_SET(__pyx_t_5, function);
     }
   }
   __pyx_t_1 = (__pyx_t_4) ? __Pyx_PyObject_Call2Args(__pyx_t_5, __pyx_t_4, __pyx_t_6) : __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_6);
   __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
   __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3209, __pyx_L1_error)
+  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3294, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_from_bytes, __pyx_t_1) < 0) __PYX_ERR(0, 3210, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_from_bytes, __pyx_t_1) < 0) __PYX_ERR(0, 3295, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3243
+  /* "capnp/lib/capnp.pyx":3328
  *                 message.close()
  * 
  *     def from_segments(self, segments, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for a list of segment bytes.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_21from_segments, 0, __pyx_n_s_StructModule_from_segments, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__231)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3243, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_21from_segments, 0, __pyx_n_s_StructModule_from_segments, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__231)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3328, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__232);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_from_segments, __pyx_t_1) < 0) __PYX_ERR(0, 3243, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_from_segments, __pyx_t_1) < 0) __PYX_ERR(0, 3328, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3255
+  /* "capnp/lib/capnp.pyx":3340
  *         return message.get_root(self.schema)
  * 
  *     def from_bytes_packed(self, buf, traversal_limit_in_words=None, nesting_limit=None):             # <<<<<<<<<<<<<<
  *         """Returns a Reader for the packed object in buf.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_23from_bytes_packed, 0, __pyx_n_s_StructModule_from_bytes_packed, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__234)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3255, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_23from_bytes_packed, 0, __pyx_n_s_StructModule_from_bytes_packed, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__234)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3340, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__235);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_from_bytes_packed, __pyx_t_1) < 0) __PYX_ERR(0, 3255, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_from_bytes_packed, __pyx_t_1) < 0) __PYX_ERR(0, 3340, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3272
+  /* "capnp/lib/capnp.pyx":3357
  *         return _PackedMessageReaderBytes(buf, traversal_limit_in_words, nesting_limit).get_root(self.schema)
  * 
  *     def __call__(self, num_first_segment_words=None, **kwargs):             # <<<<<<<<<<<<<<
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_25__call__, 0, __pyx_n_s_StructModule___call, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__237)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3272, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_25__call__, 0, __pyx_n_s_StructModule___call, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__237)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3357, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__238);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_call, __pyx_t_1) < 0) __PYX_ERR(0, 3272, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_call, __pyx_t_1) < 0) __PYX_ERR(0, 3357, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3275
+  /* "capnp/lib/capnp.pyx":3360
  *         return self.new_message(num_first_segment_words=num_first_segment_words, **kwargs)
  * 
  *     def new_message(self, num_first_segment_words=None, **kwargs):             # <<<<<<<<<<<<<<
  *         """Returns a newly allocated builder message.
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_27new_message, 0, __pyx_n_s_StructModule_new_message, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__240)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3275, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_13_StructModule_27new_message, 0, __pyx_n_s_StructModule_new_message, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__240)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3360, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_1, __pyx_tuple__241);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_new_message, __pyx_t_1) < 0) __PYX_ERR(0, 3275, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_new_message, __pyx_t_1) < 0) __PYX_ERR(0, 3360, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3049
+  /* "capnp/lib/capnp.pyx":3134
  * 
  * 
  * class _StructModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         self.schema = schema
  */
-  __pyx_t_1 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_StructModule, __pyx_tuple__205, __pyx_t_2, NULL, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3049, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_StructModule, __pyx_tuple__205, __pyx_t_2, NULL, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3134, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_StructModule, __pyx_t_1) < 0) __PYX_ERR(0, 3049, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_StructModule, __pyx_t_1) < 0) __PYX_ERR(0, 3134, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3292
+  /* "capnp/lib/capnp.pyx":3377
  * 
  * 
  * class _InterfaceModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         def server_init(server_self):
  */
-  __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_tuple__242); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3292, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_tuple__242); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3377, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_tuple__242, __pyx_n_s_InterfaceModule, __pyx_n_s_InterfaceModule, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3292, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_tuple__242, __pyx_n_s_InterfaceModule, __pyx_n_s_InterfaceModule, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3377, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":3293
+  /* "capnp/lib/capnp.pyx":3378
  * 
  * class _InterfaceModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         def server_init(server_self):
  *             pass
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_16_InterfaceModule_1__init__, 0, __pyx_n_s_InterfaceModule___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__244)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3293, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_16_InterfaceModule_1__init__, 0, __pyx_n_s_InterfaceModule___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__244)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3378, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_init_2, __pyx_t_1) < 0) __PYX_ERR(0, 3293, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_init_2, __pyx_t_1) < 0) __PYX_ERR(0, 3378, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3299
+  /* "capnp/lib/capnp.pyx":3384
  *         self.Server = type(name + '.Server', (_DynamicCapabilityServer,), {'__init__': server_init, 'schema':schema})
  * 
  *     def _new_client(self, server):             # <<<<<<<<<<<<<<
  *         return _DynamicCapabilityClient()._init_vals(self.schema, server)
  * 
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_16_InterfaceModule_3_new_client, 0, __pyx_n_s_InterfaceModule__new_client, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__246)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3299, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_16_InterfaceModule_3_new_client, 0, __pyx_n_s_InterfaceModule__new_client, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__246)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3384, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_new_client, __pyx_t_1) < 0) __PYX_ERR(0, 3299, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_new_client, __pyx_t_1) < 0) __PYX_ERR(0, 3384, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3292
+  /* "capnp/lib/capnp.pyx":3377
  * 
  * 
  * class _InterfaceModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         def server_init(server_self):
  */
-  __pyx_t_1 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_InterfaceModule, __pyx_tuple__242, __pyx_t_2, NULL, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3292, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_InterfaceModule, __pyx_tuple__242, __pyx_t_2, NULL, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3377, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_InterfaceModule, __pyx_t_1) < 0) __PYX_ERR(0, 3292, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_InterfaceModule, __pyx_t_1) < 0) __PYX_ERR(0, 3377, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3303
+  /* "capnp/lib/capnp.pyx":3388
  * 
  * 
  * class _EnumModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         self.schema = schema
  */
-  __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_tuple__247); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3303, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CalculateMetaclass(NULL, __pyx_tuple__247); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3388, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_tuple__247, __pyx_n_s_EnumModule, __pyx_n_s_EnumModule, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3303, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Py3MetaclassPrepare(__pyx_t_3, __pyx_tuple__247, __pyx_n_s_EnumModule, __pyx_n_s_EnumModule, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3388, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
 
-  /* "capnp/lib/capnp.pyx":3304
+  /* "capnp/lib/capnp.pyx":3389
  * 
  * class _EnumModule(object):
  *     def __init__(self, schema, name):             # <<<<<<<<<<<<<<
  *         self.schema = schema
  *         for name, val in schema.enumerants.items():
  */
-  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11_EnumModule_1__init__, 0, __pyx_n_s_EnumModule___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__249)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3304, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_11_EnumModule_1__init__, 0, __pyx_n_s_EnumModule___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__249)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3389, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_init_2, __pyx_t_1) < 0) __PYX_ERR(0, 3304, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_2, __pyx_n_s_init_2, __pyx_t_1) < 0) __PYX_ERR(0, 3389, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "capnp/lib/capnp.pyx":3303
+  /* "capnp/lib/capnp.pyx":3388
  * 
  * 
  * class _EnumModule(object):             # <<<<<<<<<<<<<<
  *     def __init__(self, schema, name):
  *         self.schema = schema
  */
-  __pyx_t_1 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_EnumModule, __pyx_tuple__247, __pyx_t_2, NULL, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3303, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_Py3ClassCreate(__pyx_t_3, __pyx_n_s_EnumModule, __pyx_tuple__247, __pyx_t_2, NULL, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 3388, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_EnumModule, __pyx_t_1) < 0) __PYX_ERR(0, 3303, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_EnumModule, __pyx_t_1) < 0) __PYX_ERR(0, 3388, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":3387
+  /* "capnp/lib/capnp.pyx":3472
  *         return ret
  * 
  *     def load(self, file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *         """Load a Cap'n Proto schema from a file
  * 
  */
-  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3387, __pyx_L1_error)
+  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 3472, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_k__99 = __pyx_t_3;
+  __pyx_k__101 = __pyx_t_3;
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4180
+  /* "capnp/lib/capnp.pyx":4269
  * 
  * 
  * def _message_to_packed_bytes(_MessageBuilder message):             # <<<<<<<<<<<<<<
  *     r, w = _os.pipe()
  * 
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_19_message_to_packed_bytes, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4180, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_19_message_to_packed_bytes, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4269, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_message_to_packed_bytes, __pyx_t_3) < 0) __PYX_ERR(0, 4180, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_message_to_packed_bytes, __pyx_t_3) < 0) __PYX_ERR(0, 4269, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4196
+  /* "capnp/lib/capnp.pyx":4285
  * 
  * 
  * def _write_message_to_fd(int fd, _MessageBuilder message):             # <<<<<<<<<<<<<<
  *     """Serialize a Cap'n Proto message to a file descriptor
  * 
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_21_write_message_to_fd, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4196, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_21_write_message_to_fd, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4285, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_write_message_to_fd, __pyx_t_3) < 0) __PYX_ERR(0, 4196, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_write_message_to_fd, __pyx_t_3) < 0) __PYX_ERR(0, 4285, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4222
+  /* "capnp/lib/capnp.pyx":4312
  * 
  * 
  * def _write_packed_message_to_fd(int fd, _MessageBuilder message):             # <<<<<<<<<<<<<<
  *     """Serialize a Cap'n Proto message to a file descriptor in a packed manner
  * 
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_23_write_packed_message_to_fd, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4222, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_23_write_packed_message_to_fd, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4312, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_write_packed_message_to_fd, __pyx_t_3) < 0) __PYX_ERR(0, 4222, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_write_packed_message_to_fd, __pyx_t_3) < 0) __PYX_ERR(0, 4312, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4249
+  /* "capnp/lib/capnp.pyx":4340
  * 
  * 
  * _global_schema_parser = None             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_global_schema_parser, Py_None) < 0) __PYX_ERR(0, 4249, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_global_schema_parser, Py_None) < 0) __PYX_ERR(0, 4340, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4252
+  /* "capnp/lib/capnp.pyx":4343
  * 
  * 
  * def cleanup_global_schema_parser():             # <<<<<<<<<<<<<<
  *     """Unloads all of the schema from the current context"""
  *     global _global_schema_parser
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_25cleanup_global_schema_parser, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4252, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_25cleanup_global_schema_parser, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4343, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_cleanup_global_schema_parser, __pyx_t_3) < 0) __PYX_ERR(0, 4252, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_cleanup_global_schema_parser, __pyx_t_3) < 0) __PYX_ERR(0, 4343, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4260
+  /* "capnp/lib/capnp.pyx":4351
  * 
  * 
  * def load(file_name, display_name=None, imports=[]):             # <<<<<<<<<<<<<<
  *     """Load a Cap'n Proto schema from a file
  * 
  */
-  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4260, __pyx_L1_error)
+  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4351, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_k__149 = __pyx_t_3;
+  __pyx_k__151 = __pyx_t_3;
   __Pyx_GIVEREF(__pyx_t_3);
   __pyx_t_3 = 0;
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_27load, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4260, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_27load, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4351, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_load_2, __pyx_t_3) < 0) __PYX_ERR(0, 4260, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_load_2, __pyx_t_3) < 0) __PYX_ERR(0, 4351, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4297
- * 
+  /* "capnp/lib/capnp.pyx":4390
+ * # Automatically include the system and built-in capnp paths
+ * # Highest priority at position 0
+ * _capnp_paths = [             # <<<<<<<<<<<<<<
+ *     # Common macOS brew location
+ *     '/usr/local/include',
+ */
+  __pyx_t_3 = PyList_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4390, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __Pyx_INCREF(__pyx_kp_s_usr_local_include);
+  __Pyx_GIVEREF(__pyx_kp_s_usr_local_include);
+  PyList_SET_ITEM(__pyx_t_3, 0, __pyx_kp_s_usr_local_include);
+  __Pyx_INCREF(__pyx_kp_s_usr_include);
+  __Pyx_GIVEREF(__pyx_kp_s_usr_include);
+  PyList_SET_ITEM(__pyx_t_3, 1, __pyx_kp_s_usr_include);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_capnp_paths, __pyx_t_3) < 0) __PYX_ERR(0, 4390, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+
+  /* "capnp/lib/capnp.pyx":4397
+ * ]
  * 
  * class _Loader:             # <<<<<<<<<<<<<<
- *     def __init__(self, fullname, path, additional_paths):
+ *     def __init__(self, fullname, path):
  *         self.fullname = fullname
  */
-  __pyx_t_3 = __Pyx_Py3MetaclassPrepare((PyObject *) NULL, __pyx_empty_tuple, __pyx_n_s_Loader, __pyx_n_s_Loader, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4297, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_Py3MetaclassPrepare((PyObject *) NULL, __pyx_empty_tuple, __pyx_n_s_Loader, __pyx_n_s_Loader, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4397, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":4298
+  /* "capnp/lib/capnp.pyx":4398
  * 
  * class _Loader:
- *     def __init__(self, fullname, path, additional_paths):             # <<<<<<<<<<<<<<
+ *     def __init__(self, fullname, path):             # <<<<<<<<<<<<<<
  *         self.fullname = fullname
  *         self.path = path
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_7_Loader_1__init__, 0, __pyx_n_s_Loader___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__260)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4298, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_7_Loader_1__init__, 0, __pyx_n_s_Loader___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__260)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4398, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_init_2, __pyx_t_2) < 0) __PYX_ERR(0, 4298, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_init_2, __pyx_t_2) < 0) __PYX_ERR(0, 4398, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4309
- *         self.additional_paths = additional_paths
+  /* "capnp/lib/capnp.pyx":4402
+ *         self.path = path
  * 
  *     def load_module(self, fullname):             # <<<<<<<<<<<<<<
  *         assert self.fullname == fullname, (
  *             "invalid module, expected {}, got {}".format(self.fullname, fullname))
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_7_Loader_3load_module, 0, __pyx_n_s_Loader_load_module, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__262)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4309, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_7_Loader_3load_module, 0, __pyx_n_s_Loader_load_module, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__262)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4402, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_load_module, __pyx_t_2) < 0) __PYX_ERR(0, 4309, __pyx_L1_error)
+  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_load_module, __pyx_t_2) < 0) __PYX_ERR(0, 4402, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4297
- * 
+  /* "capnp/lib/capnp.pyx":4397
+ * ]
  * 
  * class _Loader:             # <<<<<<<<<<<<<<
- *     def __init__(self, fullname, path, additional_paths):
+ *     def __init__(self, fullname, path):
  *         self.fullname = fullname
  */
-  __pyx_t_2 = __Pyx_Py3ClassCreate(((PyObject*)&__Pyx_DefaultClassType), __pyx_n_s_Loader, __pyx_empty_tuple, __pyx_t_3, NULL, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4297, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Py3ClassCreate(((PyObject*)&__Pyx_DefaultClassType), __pyx_n_s_Loader, __pyx_empty_tuple, __pyx_t_3, NULL, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4397, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Loader, __pyx_t_2) < 0) __PYX_ERR(0, 4297, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Loader, __pyx_t_2) < 0) __PYX_ERR(0, 4397, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4321
+  /* "capnp/lib/capnp.pyx":4413
  * 
  * 
  * class _Importer:             # <<<<<<<<<<<<<<
- *     def __init__(self, additional_paths):
- *         self.extension = '.capnp'
+ * 
+ *     def find_spec(self, fullname, package_path, target=None):
  */
-  __pyx_t_3 = __Pyx_Py3MetaclassPrepare((PyObject *) NULL, __pyx_empty_tuple, __pyx_n_s_Importer, __pyx_n_s_Importer, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4321, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_Py3MetaclassPrepare((PyObject *) NULL, __pyx_empty_tuple, __pyx_n_s_Importer, __pyx_n_s_Importer, (PyObject *) NULL, __pyx_n_s_capnp_lib_capnp, (PyObject *) NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4413, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
 
-  /* "capnp/lib/capnp.pyx":4322
- * 
+  /* "capnp/lib/capnp.pyx":4415
  * class _Importer:
- *     def __init__(self, additional_paths):             # <<<<<<<<<<<<<<
- *         self.extension = '.capnp'
- *         self.additional_paths = additional_paths
- */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_9_Importer_1__init__, 0, __pyx_n_s_Importer___init, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__264)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4322, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_init_2, __pyx_t_2) < 0) __PYX_ERR(0, 4322, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-  /* "capnp/lib/capnp.pyx":4326
- *         self.additional_paths = additional_paths
  * 
  *     def find_spec(self, fullname, package_path, target=None):             # <<<<<<<<<<<<<<
  *         if fullname in _sys.modules: # Don't allow re-imports
  *             return None
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_9_Importer_3find_spec, 0, __pyx_n_s_Importer_find_spec, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__266)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4326, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_5capnp_3lib_5capnp_9_Importer_1find_spec, 0, __pyx_n_s_Importer_find_spec, NULL, __pyx_n_s_capnp_lib_capnp, __pyx_d, ((PyObject *)__pyx_codeobj__264)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4415, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__267);
-  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_find_spec, __pyx_t_2) < 0) __PYX_ERR(0, 4326, __pyx_L1_error)
+  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__265);
+  if (__Pyx_SetNameInClass(__pyx_t_3, __pyx_n_s_find_spec, __pyx_t_2) < 0) __PYX_ERR(0, 4415, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "capnp/lib/capnp.pyx":4321
+  /* "capnp/lib/capnp.pyx":4413
  * 
  * 
  * class _Importer:             # <<<<<<<<<<<<<<
- *     def __init__(self, additional_paths):
- *         self.extension = '.capnp'
+ * 
+ *     def find_spec(self, fullname, package_path, target=None):
  */
-  __pyx_t_2 = __Pyx_Py3ClassCreate(((PyObject*)&__Pyx_DefaultClassType), __pyx_n_s_Importer, __pyx_empty_tuple, __pyx_t_3, NULL, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4321, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_Py3ClassCreate(((PyObject*)&__Pyx_DefaultClassType), __pyx_n_s_Importer, __pyx_empty_tuple, __pyx_t_3, NULL, 0, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4413, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Importer, __pyx_t_2) < 0) __PYX_ERR(0, 4321, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Importer, __pyx_t_2) < 0) __PYX_ERR(0, 4413, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4375
+  /* "capnp/lib/capnp.pyx":4457
  * 
  * 
  * _importer = None             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_importer, Py_None) < 0) __PYX_ERR(0, 4375, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_importer, Py_None) < 0) __PYX_ERR(0, 4457, __pyx_L1_error)
 
-  /* "capnp/lib/capnp.pyx":4378
+  /* "capnp/lib/capnp.pyx":4460
  * 
  * 
- * def add_import_hook(additional_paths=[]):             # <<<<<<<<<<<<<<
+ * def add_import_hook():             # <<<<<<<<<<<<<<
  *     """Add a hook to the python import system, so that Cap'n Proto modules are directly importable
  * 
  */
-  __pyx_t_3 = PyList_New(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4378, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_29add_import_hook, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4460, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_k__156 = __pyx_t_3;
-  __Pyx_GIVEREF(__pyx_t_3);
-  __pyx_t_3 = 0;
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_29add_import_hook, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4378, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_add_import_hook, __pyx_t_3) < 0) __PYX_ERR(0, 4378, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_add_import_hook, __pyx_t_3) < 0) __PYX_ERR(0, 4460, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4425
+  /* "capnp/lib/capnp.pyx":4483
  * 
  * 
  * def remove_import_hook():             # <<<<<<<<<<<<<<
  *     """Remove the import hook, and return python's import to normal"""
  *     global _importer
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_31remove_import_hook, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4425, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_31remove_import_hook, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4483, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_remove_import_hook, __pyx_t_3) < 0) __PYX_ERR(0, 4425, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_remove_import_hook, __pyx_t_3) < 0) __PYX_ERR(0, 4483, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "capnp/lib/capnp.pyx":4433
+  /* "capnp/lib/capnp.pyx":4491
  * 
  * 
  * def _init_capnp_api():             # <<<<<<<<<<<<<<
  *     """ Initialize static function pointers for cdef api functions. """
  *     init_capnp_api()
  */
-  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_33_init_capnp_api, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4433, __pyx_L1_error)
+  __pyx_t_3 = PyCFunction_NewEx(&__pyx_mdef_5capnp_3lib_5capnp_33_init_capnp_api, NULL, __pyx_n_s_capnp_lib_capnp); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 4491, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_init_capnp_api, __pyx_t_3) < 0) __PYX_ERR(0, 4433, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_init_capnp_api, __pyx_t_3) < 0) __PYX_ERR(0, 4491, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "(tree fragment)":1
  * def __pyx_unpickle__DynamicResizableListBuilder(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
@@ -117785,17 +118092,63 @@
 /* ModInt[Py_ssize_t] */
   static CYTHON_INLINE Py_ssize_t __Pyx_mod_Py_ssize_t(Py_ssize_t a, Py_ssize_t b) {
     Py_ssize_t r = a % b;
     r += ((r != 0) & ((r ^ b) < 0)) * b;
     return r;
 }
 
-/* None */
-  static CYTHON_INLINE void __Pyx_RaiseUnboundLocalError(const char *varname) {
-    PyErr_Format(PyExc_UnboundLocalError, "local variable '%s' referenced before assignment", varname);
+/* set_iter */
+  static CYTHON_INLINE PyObject* __Pyx_set_iterator(PyObject* iterable, int is_set,
+                                                  Py_ssize_t* p_orig_length, int* p_source_is_set) {
+#if CYTHON_COMPILING_IN_CPYTHON
+    is_set = is_set || likely(PySet_CheckExact(iterable) || PyFrozenSet_CheckExact(iterable));
+    *p_source_is_set = is_set;
+    if (likely(is_set)) {
+        *p_orig_length = PySet_Size(iterable);
+        Py_INCREF(iterable);
+        return iterable;
+    }
+#else
+    (void)is_set;
+    *p_source_is_set = 0;
+#endif
+    *p_orig_length = 0;
+    return PyObject_GetIter(iterable);
+}
+static CYTHON_INLINE int __Pyx_set_iter_next(
+        PyObject* iter_obj, Py_ssize_t orig_length,
+        Py_ssize_t* ppos, PyObject **value,
+        int source_is_set) {
+    if (!CYTHON_COMPILING_IN_CPYTHON || unlikely(!source_is_set)) {
+        *value = PyIter_Next(iter_obj);
+        if (unlikely(!*value)) {
+            return __Pyx_IterFinish();
+        }
+        (void)orig_length;
+        (void)ppos;
+        return 1;
+    }
+#if CYTHON_COMPILING_IN_CPYTHON
+    if (unlikely(PySet_GET_SIZE(iter_obj) != orig_length)) {
+        PyErr_SetString(
+            PyExc_RuntimeError,
+            "set changed size during iteration");
+        return -1;
+    }
+    {
+        Py_hash_t hash;
+        int ret = _PySet_NextEntry(iter_obj, ppos, value, &hash);
+        assert (ret != -1);
+        if (likely(ret)) {
+            Py_INCREF(*value);
+            return 1;
+        }
+    }
+#endif
+    return 0;
 }
 
 /* Import */
   static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
     PyObject *empty_list = 0;
     PyObject *module = 0;
     PyObject *global_dict = 0;
```

### Comparing `pycapnp-2.0.0b1/capnp/lib/capnp.pxd` & `pycapnp-2.0.0b2/capnp/lib/capnp.pxd`

 * *Files 1% similar despite different names*

```diff
@@ -11,17 +11,17 @@
     DynamicCapability as C_DynamicCapability, Request, Response, RemotePromise, Promise,
     CallContext, RpcSystem, makeRpcServer, makeRpcClient, Capability as C_Capability,
     TwoPartyVatNetwork as C_TwoPartyVatNetwork, Side, AsyncIoStream, Own,
     DynamicStruct_Builder, PyRefCounter, PyAsyncIoStream
 )
 from capnp.includes.schema_cpp cimport Node as C_Node, EnumNode as C_EnumNode
 from capnp.includes.types cimport *
-from capnp.helpers.non_circular cimport reraise_kj_exception
 from capnp.helpers cimport helpers
 
+cdef void reraise_kj_exception()
 
 cdef class _StructSchemaField:
     cdef C_StructSchema.Field thisptr
     cdef object _parent
     cdef _init(self, C_StructSchema.Field other, parent=?)
 
 cdef class _StringArrayPtr:
```

### Comparing `pycapnp-2.0.0b1/capnp/lib/capnp.pyx` & `pycapnp-2.0.0b2/capnp/lib/capnp.pyx`

 * *Files 2% similar despite different names*

```diff
@@ -72,14 +72,23 @@
 
    cdef _init(self, VoidPromiseFulfiller* fulfiller):
        self.fulfiller = fulfiller
        return self
 
 def void_task_done_callback(method_name, _VoidPromiseFulfiller fulfiller, task):
     if fulfiller.fulfiller == NULL:
+        if not task.cancelled():
+            exc = task.exception()
+            if exc is not None:
+                context = {
+                    'message': f"Cancelled server method {method_name} raised an exception",
+                    'exception': exc,
+                    'task': task,
+                }
+                asyncio.get_running_loop().call_exception_handler(context)
         return
 
     if task.cancelled():
         fulfiller.fulfiller.reject(makeException(capnp.StringPtr(
             f"Server task for method {method_name} was cancelled")))
         return
 
@@ -256,17 +265,17 @@
             return self.message
 
     def __str__(self):
         return self.message
 
     def _to_python(self):
         message = self.message
-        if self.wrapper.type == 'FAILED':
+        if self.wrapper is not None and self.wrapper.type == 'FAILED':
             if 'has no such' in self.message:
-                return AttributeError(message)
+                return AttributeError(message).with_traceback(self.__traceback__)
         return self
 
 
 cdef api object wrap_kj_exception(capnp.Exception & exception) with gil:
     PyErr_Clear()
     wrapper = _KjExceptionWrapper()._init(exception)
     ret = KjException(wrapper=wrapper)
@@ -277,14 +286,18 @@
 cdef api object wrap_kj_exception_for_reraise(capnp.Exception & exception) with gil:
     wrapper = _KjExceptionWrapper()._init(exception)
 
     ret = KjException(wrapper=wrapper)
     return ret
 
 
+cdef void reraise_kj_exception():
+    helpers.reraise_kj_exception()
+
+
 cdef api object get_exception_info(object exc_type, object exc_obj, object exc_tb) with gil:
     try:
         return (exc_tb.tb_frame.f_code.co_filename.encode(),
                 exc_tb.tb_lineno,
                 (repr(exc_type) + ":" + str(exc_obj)).encode())
     except Exception:
         return (b'', 0, b"Couldn't determine python exception")
@@ -434,16 +447,18 @@
         # TODO:  Print the list type.
         return '<capnp list reader %s>' % <char*>strListReader(self.thisptr).cStr()
 
 
 cdef class _DynamicResizableListBuilder:
     """Class for building growable Cap'n Proto Lists
 
-    .. warning:: You need to call :meth:`finish` on this object before serializing the Cap'n Proto message.
-    Failure to do so will cause your objects not to be written out as well as leaking orphan structs into your message.
+    .. warning::
+        You need to call :meth:`finish` on this object before serializing the
+        Cap'n Proto message. Failure to do so will cause your objects not to be
+        written out as well as leaking orphan structs into your message.
 
     This class works much like :class:`_DynamicListBuilder`, but it allows growing the list dynamically.
     It is meant for lists of structs, since for primitive types like int or float, you're much better off
     using a normal python list and then serializing straight to a Cap'n Proto list.
     It has __getitem__ and __len__ defined, but not __setitem__::
 
         ...
@@ -704,14 +719,22 @@
     return C_DynamicValue.Reader(value.thisptr.asReader())
 
 
 cdef C_DynamicValue.Reader _extract_dynamic_struct_reader(_DynamicStructReader value):
     return C_DynamicValue.Reader(value.thisptr)
 
 
+cdef C_DynamicValue.Reader _extract_dynamic_list_builder(_DynamicListBuilder value):
+    return C_DynamicValue.Reader(value.thisptr.asReader())
+
+
+cdef C_DynamicValue.Reader _extract_dynamic_list_reader(_DynamicListReader value):
+    return C_DynamicValue.Reader(value.thisptr)
+
+
 cdef C_DynamicValue.Reader _extract_dynamic_client(_DynamicCapabilityClient value):
     return C_DynamicValue.Reader(value.thisptr)
 
 
 cdef C_DynamicValue.Reader _extract_dynamic_server(object value):
     cdef _InterfaceSchema schema = value.schema
     kj_loop = C_DEFAULT_EVENT_LOOP_GETTER()
@@ -795,14 +818,18 @@
     elif value is None:
         temp = C_DynamicValue.Reader(VOID)
         thisptr.set(field, temp)
     elif value_type is _DynamicStructBuilder:
         thisptr.set(field, _extract_dynamic_struct_builder(value))
     elif value_type is _DynamicStructReader:
         thisptr.set(field, _extract_dynamic_struct_reader(value))
+    elif value_type is _DynamicListBuilder:
+        thisptr.set(field, _extract_dynamic_list_builder(value))
+    elif value_type is _DynamicListReader:
+        thisptr.set(field, _extract_dynamic_list_reader(value))
     elif value_type is _DynamicCapabilityClient:
         thisptr.set(field, _extract_dynamic_client(value))
     elif isinstance(value, _DynamicCapabilityServer):
         thisptr.set(field, _extract_dynamic_server(value))
     elif value_type is _DynamicEnum:
         thisptr.set(field, _extract_dynamic_enum(value))
     elif value_type is _DynamicObjectReader:
@@ -811,14 +838,15 @@
         thisptr.set(field, _extract_any_pointer_builder(value))
     else:
         raise KjException(
             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
             .format(field, str(value), str(type(value))))
 
 
+# TODO: Is this function used by anyone? Can it be removed?
 cdef _setDynamicFieldWithField(DynamicStruct_Builder thisptr, _StructSchemaField field, value, parent):
     cdef C_DynamicValue.Reader temp
     value_type = type(value)
 
     if value_type is int or value_type is long:
         if value < 0:
             temp = C_DynamicValue.Reader(<long long>value)
@@ -844,14 +872,18 @@
     elif value is None:
         temp = C_DynamicValue.Reader(VOID)
         thisptr.setByField(field.thisptr, temp)
     elif value_type is _DynamicStructBuilder:
         thisptr.setByField(field.thisptr, _extract_dynamic_struct_builder(value))
     elif value_type is _DynamicStructReader:
         thisptr.setByField(field.thisptr, _extract_dynamic_struct_reader(value))
+    elif value_type is _DynamicListBuilder:
+        thisptr.setByField(field.thisptr, _extract_dynamic_list_builder(value))
+    elif value_type is _DynamicListReader:
+        thisptr.setByField(field.thisptr, _extract_dynamic_list_reader(value))
     elif value_type is _DynamicCapabilityClient:
         thisptr.setByField(field.thisptr, _extract_dynamic_client(value))
     elif isinstance(value, _DynamicCapabilityServer):
         thisptr.setByField(field.thisptr, _extract_dynamic_server(value))
     elif value_type is _DynamicEnum:
         thisptr.setByField(field.thisptr, _extract_dynamic_enum(value))
     elif value_type is _DynamicObjectReader:
@@ -860,14 +892,15 @@
         thisptr.set(field, _extract_any_pointer_builder(value))
     else:
         raise KjException(
             "Tried to set field: '{}' with a value of: '{}' which is an unsupported type: '{}'"
             .format(field, str(value), str(type(value))))
 
 
+# TODO: Is this function used by anyone? Can it be removed?
 cdef _setDynamicFieldStatic(DynamicStruct_Builder thisptr, field, value, parent):
     cdef C_DynamicValue.Reader temp
     value_type = type(value)
 
     if value_type is int or value_type is long:
         if value < 0:
             temp = C_DynamicValue.Reader(<long long>value)
@@ -893,14 +926,18 @@
     elif value is None:
         temp = C_DynamicValue.Reader(VOID)
         thisptr.set(field, temp)
     elif value_type is _DynamicStructBuilder:
         thisptr.set(field, _extract_dynamic_struct_builder(value))
     elif value_type is _DynamicStructReader:
         thisptr.set(field, _extract_dynamic_struct_reader(value))
+    elif value_type is _DynamicListBuilder:
+        thisptr.set(field, _extract_dynamic_list_builder(value))
+    elif value_type is _DynamicListReader:
+        thisptr.set(field, _extract_dynamic_list_reader(value))
     elif value_type is _DynamicCapabilityClient:
         thisptr.set(field, _extract_dynamic_client(value))
     elif isinstance(value, _DynamicCapabilityServer):
         thisptr.set(field, _extract_dynamic_server(value))
     elif value_type is _DynamicEnum:
         thisptr.set(field, _extract_dynamic_enum(value))
     elif value_type is _DynamicObjectReader:
@@ -1115,15 +1152,15 @@
     cpdef _get(self, field):
         return to_python_reader(self.thisptr.get(field), self)
 
     def __getattr__(self, field):
         try:
             return self._get(field)
         except KjException as e:
-            raise e._to_python(), None, _sys.exc_info()[2]
+            raise e._to_python() from None
 
     cpdef _get_by_field(self, _StructSchemaField field):
         return to_python_reader(self.thisptr.getByField(field.thisptr), self)
 
     cpdef _has(self, field):
         return self.thisptr.has(field)
 
@@ -1362,27 +1399,27 @@
     cpdef _get_by_field(self, _StructSchemaField field):
         return to_python_builder(self.thisptr.getByField(field.thisptr), self._parent)
 
     def __getattr__(self, field):
         try:
             return self._get(field)
         except KjException as e:
-            raise e._to_python(), None, _sys.exc_info()[2]
+            raise e._to_python() from None
 
     cpdef _set(self, field, value):
         _setDynamicField(self.thisptr, field, value, self._parent)
 
     cpdef _set_by_field(self, _StructSchemaField field, value):
         _setDynamicFieldWithField(self.thisptr, field, value, self._parent)
 
     def __setattr__(self, field, value):
         try:
             self._set(field, value)
         except KjException as e:
-            raise e._to_python(), None, _sys.exc_info()[2]
+            raise e._to_python() from None
 
     cpdef _has(self, field):
         return self.thisptr.has(field)
 
     cpdef _has_by_field(self, _StructSchemaField field):
         return self.thisptr.hasByField(field.thisptr)
 
@@ -1432,17 +1469,19 @@
         """Method for initializing fields that are of type list (of structs)
 
         This version of init returns a :class:`_DynamicResizableListBuilder` that allows
         you to add members one at a time (ie. if you don't know the size for sure).
         This is only meant for lists of Cap'n Proto objects, since for primitive types
         you can just define a normal python list and fill it yourself.
 
-        .. warning:: You need to call :meth:`_DynamicResizableListBuilder.finish` on the
-        list object before serializing the Cap'n Proto message. Failure to do so will cause
-        your objects not to be written out as well as leaking orphan structs into your message.
+        .. warning::
+            You need to call :meth:`_DynamicResizableListBuilder.finish` on the
+            list object before serializing the Cap'n Proto message. Failure to do
+            so will cause your objects not to be written out as well as leaking
+            orphan structs into your message.
 
         :type field: str
         :param field: The field name to initialize
 
         :rtype: :class:`_DynamicResizableListBuilder`
 
         :Raises: :exc:`KjException` if the field isn't in this struct
@@ -1624,15 +1663,15 @@
         else:
             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
 
     def __getattr__(self, field):
         try:
             return self._get(field)
         except KjException as e:
-            raise e._to_python(), None, _sys.exc_info()[2]
+            raise e._to_python() from None
 
     property schema:
         """A property that returns the _StructSchema object matching this reader"""
         def __get__(self):
             return _StructSchema()._init_child(self.thisptr.getSchema())
 
     def __dir__(self):
@@ -1802,15 +1841,25 @@
         raise KjException("Currently you cannot poll promises while pycapnp is running in asyncio mode. " +
                           "If you have a use-case to poll the asyncio loop using poll(), please report")
 
     void setRunnable(cbool runnable) except* with gil:
         if runnable:
             assert this.runHandle is None
             us = <void*>this;
-            this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+            while True:
+                # TODO: This loop is a workaround for the following occasional nondeterministic bug
+                #       that appears on Python 3.8 and 3.9:
+                # AttributeError: '_UnixSelectorEventLoop' object has no attribute 'call_soon'
+                # The cause of this is unknown (either a bug in our code, Cython, or Python).
+                # It appears to no longer exist in Python 3.10. This can be removed once 3.9 is EOL.
+                try:
+                    this.runHandle = this.asyncioLoop.call_soon(lambda: kjloop_runnable_callback(us))
+                    break
+                except AttributeError:
+                    pass
         else:
             assert this.runHandle is not None
             this.runHandle.cancel()
             this.runHandle = None
 
     EventLoop *getKjLoop():
         return this.kjLoop
@@ -1846,14 +1895,24 @@
     cdef check(self):
         if self.closed:
             raise RuntimeError(
                 "The KJ event-loop is not running (on this thread). Please start it through 'capnp.kj_loop()'")
 
 @_asynccontextmanager
 async def kj_loop():
+    """Context manager for running the KJ event loop
+
+    As long as the context manager is active it is guaranteed that the KJ event
+    loop is running. When the context manager is exited, the KJ event loop is
+    shut down properly and pending tasks are cancelled.
+
+    :raises [RuntimeError]: If the KJ event loop is already running (on this thread).
+
+    .. warning:: Every capnp rpc call required a running KJ event loop.
+    """
     asyncio_loop = asyncio.get_running_loop()
     if hasattr(asyncio_loop, '_kj_loop'):
         raise RuntimeError("The KJ event-loop is already running (on this thread).")
     cdef _EventLoop kj_loop = _EventLoop()._init(asyncio_loop)
     asyncio_loop._kj_loop = kj_loop
     try:
         yield
@@ -1872,14 +1931,20 @@
 
         try:
             del asyncio_loop._kj_loop
         except AttributeError: pass
         kj_loop.close()
 
 async def run(coro):
+    """Ensure that the coroutine runs while the KJ event loop is running
+
+    This is a shortcut for wrapping the coroutine in a :py:meth:`capnp.kj_loop` context manager.
+
+    :param coro: Coroutine to run
+    """
     async with kj_loop():
         return await coro
 
 cdef _EventLoop C_DEFAULT_EVENT_LOOP_GETTER():
     asyncio_loop = asyncio.get_running_loop()
     kj_loop = getattr(asyncio_loop, '_kj_loop', None)
     if kj_loop is None:
@@ -1889,14 +1954,15 @@
     else: raise RuntimeError("Someone meddled with the KJ event loop!")
 
 
 cdef class _CallContext:
     cdef CallContext * thisptr
 
     cdef _init(self, CallContext other):
+        helpers.allowCancellation(other)
         self.thisptr = new CallContext(move(other))
         return self
 
     def __dealloc__(self):
         del self.thisptr
 
     property params:
@@ -1984,15 +2050,15 @@
         else:
             raise KjException("Cannot convert type to Python. Type is unhandled by capnproto library")
 
     def __getattr__(self, field):
         try:
             return self._get(field)
         except KjException as e:
-            raise e._to_python(), None, _sys.exc_info()[2]
+            raise e._to_python() from None
 
     property schema:
         """A property that returns the _StructSchema object matching this reader"""
         def __get__(self):
             self._check_consumed()
             return _StructSchema()._init_child(self.thisptr.get().getSchema())
 
@@ -2048,15 +2114,15 @@
     pass
 
 cdef class _DynamicCapabilityClient:
     cdef C_DynamicCapability.Client thisptr
     cdef public object _parent, _cached_schema
 
     def __dealloc__(self):
-        # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+        # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
         # appropriately
         self.thisptr = C_DynamicCapability.Client()
 
     cdef _init(self, C_DynamicCapability.Client other, object parent):
         self.thisptr = other
         self._parent = parent
         return self
@@ -2138,15 +2204,15 @@
                     raise AttributeError('Method named %s not found' % short_name)
                 return _partial(self._request, short_name)
 
             if name not in self.schema.method_names_inherited:
                 raise AttributeError('Method named %s not found' % name)
             return _partial(self._send, name)
         except KjException as e:
-            raise e._to_python(), None, _sys.exc_info()[2]
+            raise e._to_python() from None
 
     cpdef upcast(self, schema) except +reraise_kj_exception:
         cdef _InterfaceSchema s
         if hasattr(schema, 'schema'):
             s = schema.schema
         else:
             s = schema
@@ -2165,15 +2231,15 @@
         """A property that returns the _InterfaceSchema object matching this client"""
         def __get__(self):
             if self._cached_schema is None:
                 self._cached_schema = _InterfaceSchema()._init(self.thisptr.getSchema())
             return self._cached_schema
 
     def __dir__(self):
-        return list(set(self.schema.method_names_inherited) + tuple(dir(self.__class__)))
+        return list(set(self.schema.method_names_inherited) | set(dir(self.__class__)))
 
 
 cdef class _CapabilityClient:
     cdef C_Capability.Client * thisptr
     cdef public object _parent
 
     cdef _init(self, C_Capability.Client other, object parent):
@@ -2219,15 +2285,15 @@
     """
     cdef object __weakref__ # Needed to make this class weak-referenceable
     cdef Own[RpcSystem] thisptr
     cdef _TwoPartyVatNetwork _network
     cdef cbool closed
 
     def __dealloc__(self):
-        # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+        # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
         # appropriately
         self.thisptr = Own[RpcSystem]()
 
     def close(self):
         self.closed = True
         self.thisptr = Own[RpcSystem]()
         self._network.close()
@@ -2266,15 +2332,15 @@
     """
     cdef object __weakref__ # Needed to make this class weak-referenceable
     cdef Own[RpcSystem] thisptr
     cdef _TwoPartyVatNetwork _network
     cdef cbool closed
 
     def __dealloc__(self):
-        # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+        # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
         # appropriately
         self.thisptr = Own[RpcSystem]()
 
     def close(self):
         self.closed = True
         self.thisptr = Own[RpcSystem]()
         self._network.close()
@@ -2327,24 +2393,25 @@
             self.thisptr = <Own[AsyncIoStream]>capnp.heap[PyAsyncIoStream](
                 capnp.heap[PyRefCounter](<PyObject*>protocol))
             self.protocol = protocol
         else:
             protocol.transport.close()
 
     def __dealloc__(self):
-        # Needed to make Python 3.7 happy, which seems to have trouble deallocating stack objects
+        # Needed to make Python <=3.9 happy, which seems to have trouble deallocating stack objects
         # appropriately
         self.thisptr = Own[AsyncIoStream]()
 
     def close(self):
         if self.protocol is None: # _post_init wasn't called yet
             self.close_called = True
         elif self.protocol.transport is not None and hasattr(self.protocol.transport, "close"):
             self.protocol.transport.close()
             # Call connection_lost immediately, instead of waiting for the transport to do it.
+            # TODO: This might be a questionable thing to do...
             self.protocol.connection_lost("Stream is closing")
 
     async def wait_closed(self):
         return await self.protocol.closed_future
 
     @staticmethod
     async def create_connection(host = None, port = None, **kwargs):
@@ -2389,38 +2456,42 @@
         The `callback` parameter will be called whenever a new connection is made. It receives a `AsyncIoStream`
         instance as its only argument. If the result of `callback` is a coroutine, it will be scheduled as a task.
 
         This function behaves similarly to `asyncio.get_running_loop().create_server()`. All arguments except
         for `callback` will be passed directly to that function, and the server returned is similar as well.
         See that function for documentation on the possible arguments.
         """
+        # Fail early in case the kj loop is not running. Without this, the error is thrown when a connection is made.
+        # Unless asyncio is in debug mode, that error is swallowed.
+        C_DEFAULT_EVENT_LOOP_GETTER()
         loop = asyncio.get_running_loop()
         return await loop.create_server(lambda: _AsyncIoStream._connect(callback), host, port, **kwargs)
 
     @staticmethod
     async def create_unix_server(callback, path = None, **kwargs):
         """Create a unix connection server.
 
         The `callback` parameter will be called whenever a new connection is made. It receives a `AsyncIoStream`
         instance as its only argument. If the result of `callback` is a coroutine, it will be scheduled as a task.
 
         This function behaves similarly to `asyncio.get_running_loop().create_server()`. All arguments except
         for `callback` will be passed directly to that function, and the server returned is similar as well.
         See that function for documentation on the possible arguments.
         """
+        # Fail early in case the kj loop is not running. Without this, the error is thrown when a connection is made.
+        # Unless asyncio is in debug mode, that error is swallowed.
+        C_DEFAULT_EVENT_LOOP_GETTER()
         loop = asyncio.get_running_loop()
         return await loop.create_unix_server(lambda: _AsyncIoStream._connect(callback), path, **kwargs)
 
 cdef class DummyBaseClass:
     pass
 
 cdef class _PyAsyncIoStreamProtocol(DummyBaseClass, asyncio.BufferedProtocol):
-    # TODO: Temporary. Needed due to a missing __slots__ definitions in BufferedProtocol on Python 3.7.
-    #       See https://github.com/python/cpython/issues/79575. Can be removed once Python 3.7 is unsupported.
-    cdef dict __dict__
+    cdef object _task
 
     cdef public object transport
     cdef object connected_callback
     cdef object callback_arg
 
     # State for reading data from the transport
     cdef char* read_buffer
@@ -2463,18 +2534,32 @@
         #       To work around this, we also insert pause_reading() in get_buffer() when appropriate.
         transport.pause_reading()
 
         self.write_paused = False
         self.write_in_progress = False
         self.read_eof = False
         self.read_overflow_buffer = bytearray()
+        def done(task):
+            if self.transport is not None:
+                self.transport.close()
+            exc = task.exception()
+            if exc is not None:
+                context = {
+                    'message': "Exception in pycapnp server callback",
+                    'exception': exc,
+                    'task': task,
+                    'protocol': self,
+                    'transport': self.transport
+                }
+                asyncio.get_running_loop().call_exception_handler(context)
         if self.connected_callback is not None:
             callback_res = self.connected_callback(self.callback_arg)
             if asyncio.iscoroutine(callback_res):
-                self._task = asyncio.get_running_loop().create_task(callback_res)
+                self._task = asyncio.create_task(callback_res)
+                self._task.add_done_callback(done)
             self.connected_callback = None
             self.callback_arg = None
 
     def connection_lost(self, exc):
         if self.read_fulfiller != NULL:
             capnp.rejectDisconnected[size_t](deref(self.read_fulfiller), StringPtr(str(exc)))
             self.read_buffer = NULL
@@ -2520,23 +2605,23 @@
     def eof_received(self):
         self.read_eof = True
         if self.read_buffer != NULL:
             self.read_fulfiller.fulfill(move(self.read_already_read))
             self.read_reset()
 
     cdef write_loop(self):
-        if not self.write_in_progress: return
+        if self.write_paused or not self.write_in_progress: return
         cdef const ArrayPtr[const uint8_t]* piece
         for i in range(self.write_index, self.write_pieces.size()):
-            if self.write_paused:
-                self.write_index = i
-                break
             piece = &self.write_pieces[i]
             view = memoryview.PyMemoryView_FromMemory(<char*>piece.begin(), piece.size(), buffer.PyBUF_READ)
             self.transport.write(view)
+            if self.write_paused:
+                self.write_index = i+1
+                break
         if not self.write_paused:
             self.write_fulfiller.fulfill()
             self.write_reset()
 
     cdef read_reset(self):
         self.transport.pause_reading()
         self.read_buffer = NULL
@@ -3700,15 +3785,17 @@
 
     :Parameters: - fd (`int`) - A file descriptor
     """
     def __init__(self, file, traversal_limit_in_words=None, nesting_limit=None):
         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
 
         self._parent = file
-        self.thisptr = new schema_cpp.StreamFdMessageReader(file.fileno(), opts)
+        cdef int fd = file.fileno()
+        with nogil:
+            self.thisptr = new schema_cpp.StreamFdMessageReader(fd, opts)
 
     def __dealloc__(self):
         del self.thisptr
 
 
 cdef class _PackedMessageReader(_MessageReader):
     """Read a Cap'n Proto message from a file descriptor in a packed manner
@@ -3803,15 +3890,17 @@
 
     :Parameters: - fd (`int`) - A file descriptor
     """
     def __init__(self, file, traversal_limit_in_words=None, nesting_limit=None):
         cdef schema_cpp.ReaderOptions opts = make_reader_opts(traversal_limit_in_words, nesting_limit)
 
         self._parent = file
-        self.thisptr = new schema_cpp.PackedFdMessageReader(file.fileno(), opts)
+        cdef int fd = file.fileno()
+        with nogil:
+            self.thisptr = new schema_cpp.PackedFdMessageReader(fd, opts)
 
     def __dealloc__(self):
         del self.thisptr
 
 cdef class _AsyncMessageReader(_MessageReader):
     """Read a Cap'n Proto message from a AsyncIoStream class.
 
@@ -4212,15 +4301,16 @@
     :param fd: A file descriptor
 
     :type message: :class:`_MessageBuilder`
     :param message: The Cap'n Proto message to serialize
 
     :rtype: void
     """
-    schema_cpp.writeMessageToFd(fd, deref(message.thisptr))
+    with nogil:
+        schema_cpp.writeMessageToFd(fd, deref(message.thisptr))
 
 
 def _write_packed_message_to_fd(int fd, _MessageBuilder message):
     """Serialize a Cap'n Proto message to a file descriptor in a packed manner
 
     You use this method to serialize your message to a file. Please note that
     you must pass a file descriptor (ie. an int), not a file object. Also, note
@@ -4239,15 +4329,16 @@
     :param fd: A file descriptor
 
     :type message: :class:`_MessageBuilder`
     :param message: The Cap'n Proto message to serialize
 
     :rtype: void
     """
-    schema_cpp.writePackedMessageToFd(fd, deref(message.thisptr))
+    with nogil:
+        schema_cpp.writePackedMessageToFd(fd, deref(message.thisptr))
 
 
 _global_schema_parser = None
 
 
 def cleanup_global_schema_parser():
     """Unloads all of the schema from the current context"""
@@ -4290,42 +4381,40 @@
     global _global_schema_parser
     if _global_schema_parser is None:
         _global_schema_parser = SchemaParser()
 
     return _global_schema_parser.load(file_name, display_name, imports)
 
 
+# Automatically include the system and built-in capnp paths
+# Highest priority at position 0
+_capnp_paths = [
+    # Common macOS brew location
+    '/usr/local/include',
+    # Common posix location
+    '/usr/include',
+]
+
 class _Loader:
-    def __init__(self, fullname, path, additional_paths):
+    def __init__(self, fullname, path):
         self.fullname = fullname
         self.path = path
 
-        # Add current directory of the capnp schema to search path
-        dir_name = _os.path.dirname(path)
-        if path is not '':
-            additional_paths = [dir_name] + additional_paths
-
-        self.additional_paths = additional_paths
-
     def load_module(self, fullname):
         assert self.fullname == fullname, (
             "invalid module, expected {}, got {}".format(self.fullname, fullname))
 
-        imports = self.additional_paths + _sys.path
-        imports = [path if path != '' else '.' for path in imports] # convert empty path '' to '.'
+        imports = _capnp_paths + [path if path != '' else '.' for path in _sys.path]
         module = load(self.path, fullname, imports=imports)
         _sys.modules[fullname] = module
 
         return module
 
 
 class _Importer:
-    def __init__(self, additional_paths):
-        self.extension = '.capnp'
-        self.additional_paths = additional_paths
 
     def find_spec(self, fullname, package_path, target=None):
         if fullname in _sys.modules: # Don't allow re-imports
             return None
 
         if '.' in fullname: # only when package_path anyway?
             mod_parts = fullname.split('.')
@@ -4333,96 +4422,65 @@
         else:
             module_name = fullname
 
         if not module_name.endswith('_capnp'):
             return None
 
         module_name = module_name[:-len('_capnp')]
-        capnp_module_name = module_name + self.extension
-        has_underscores = False
+        capnp_module_name = module_name + '.capnp'
 
+        capnp_module_names = set()
+        capnp_module_names.add(capnp_module_name)
         if '_' in capnp_module_name:
-            capnp_module_name_dashes = capnp_module_name.replace('_', '-')
-            capnp_module_name_spaces = capnp_module_name.replace('_', ' ')
-            has_underscores = True
+            capnp_module_names.add(capnp_module_name.replace('_', '-'))
+            capnp_module_names.add(capnp_module_name.replace('_', ' '))
 
         if package_path:
             paths = list(package_path)
         else:
             paths = _sys.path
-        join_path = _os.path.join
-        is_file = _os.path.isfile
-        is_abs = _os.path.isabs
-        abspath = _os.path.abspath
-        #is_dir = os.path.isdir
-        sep = _os.path.sep
 
-        paths = self.additional_paths + paths
+        # Special case for the 'capnp' namespace, which can be resolved to system paths
+        if fullname.startswith('capnp.'):
+            paths += [path + '/capnp' for path in _capnp_paths]
+
         for path in paths:
             if not path:
                 path = _os.getcwd()
-            elif not is_abs(path):
-                path = abspath(path)
+            elif not _os.path.isabs(path):
+                path = _os.path.abspath(path)
 
-            if is_file(path+sep+capnp_module_name):
-                return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name), self.additional_paths))
-            if has_underscores:
-                if is_file(path+sep+capnp_module_name_dashes):
-                    return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_dashes), self.additional_paths))
-                if is_file(path+sep+capnp_module_name_spaces):
-                    return ModuleSpec(fullname, _Loader(fullname, join_path(path, capnp_module_name_spaces), self.additional_paths))
+            for capnp_module_name in capnp_module_names:
+                if _os.path.isfile(path+_os.path.sep+capnp_module_name):
+                    return ModuleSpec(fullname, _Loader(fullname, _os.path.join(path, capnp_module_name)))
 
 
 _importer = None
 
 
-def add_import_hook(additional_paths=[]):
+def add_import_hook():
     """Add a hook to the python import system, so that Cap'n Proto modules are directly importable
 
     After calling this function, you can use the python import syntax to directly import capnproto schemas.
     This function is automatically called upon first import of `capnp`,
     so you will typically never need to use this function.::
 
         import capnp
         capnp.add_import_hook()
 
         import addressbook_capnp
         # equivalent to capnp.load('addressbook.capnp', 'addressbook', sys.path),
         # except it will search for 'addressbook.capnp' in all directories of sys.path
 
-    :type additional_paths: list
-    :param additional_paths: Additional paths, listed as strings, to be used to search for the .capnp files.
-    It is prepended to the beginning of sys.path. It also affects imports inside of Cap'n Proto schemas.
     """
     global _importer
     if _importer is not None:
         remove_import_hook()
 
-    # Automatically include the system and built-in capnp paths
-    # Highest priority at position 0
-    try:
-        this_file_path = __file__
-    except NameError:
-        this_file_path = None
-    extra_paths = ([
-        _os.path.join(_os.path.dirname(this_file_path), '..'), # Built-in (only used if bundled)
-    ] if this_file_path else []) + [
-        # Common macOS brew location
-        '/usr/local/include/capnp',
-        '/usr/local/include',
-        # Common posix location
-        '/usr/include/capnp',
-        '/usr/include',
-    ]
-    for path in extra_paths:
-        if _os.path.isdir(path):
-            if path not in additional_paths:
-                additional_paths.append(path)
-
-    _importer = _Importer(additional_paths)
+    _importer = _Importer()
     _sys.meta_path.append(_importer)
 
 
 def remove_import_hook():
     """Remove the import hook, and return python's import to normal"""
     global _importer
     if _importer is not None:
```

### Comparing `pycapnp-2.0.0b1/capnp/lib/capnp_api.h` & `pycapnp-2.0.0b2/capnp/lib/capnp_api.h`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/capnp/templates/module.pyx` & `pycapnp-2.0.0b2/capnp/templates/module.pyx`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/capnp/templates/setup.py.tmpl` & `pycapnp-2.0.0b2/capnp/templates/setup.py.tmpl`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/addressbook.capnp` & `pycapnp-2.0.0b2/examples/addressbook.capnp`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/addressbook.py` & `pycapnp-2.0.0b2/examples/addressbook.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_calculator_client.py` & `pycapnp-2.0.0b2/examples/async_calculator_client.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_calculator_server.py` & `pycapnp-2.0.0b2/examples/async_calculator_server.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_client.py` & `pycapnp-2.0.0b2/examples/async_client.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_reconnecting_ssl_client.py` & `pycapnp-2.0.0b2/examples/async_reconnecting_ssl_client.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_server.py` & `pycapnp-2.0.0b2/examples/async_server.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_socket_message_client.py` & `pycapnp-2.0.0b2/examples/async_socket_message_client.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_socket_message_server.py` & `pycapnp-2.0.0b2/examples/async_socket_message_server.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_ssl_calculator_client.py` & `pycapnp-2.0.0b2/examples/async_ssl_calculator_client.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_ssl_calculator_server.py` & `pycapnp-2.0.0b2/examples/async_ssl_calculator_server.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_ssl_client.py` & `pycapnp-2.0.0b2/examples/async_ssl_client.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/async_ssl_server.py` & `pycapnp-2.0.0b2/examples/async_ssl_server.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/calculator.capnp` & `pycapnp-2.0.0b2/examples/calculator.capnp`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/selfsigned.cert` & `pycapnp-2.0.0b2/examples/selfsigned.cert`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/examples/selfsigned.key` & `pycapnp-2.0.0b2/examples/selfsigned.key`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/pycapnp.egg-info/PKG-INFO` & `pycapnp-2.0.0b2/pycapnp.egg-info/PKG-INFO`

 * *Files 3% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 Metadata-Version: 2.1
 Name: pycapnp
-Version: 2.0.0b1
+Version: 2.0.0b2
 Summary: A cython wrapping of the C++ Cap'n Proto library
 Home-page: https://github.com/capnproto/pycapnp
-Download-URL: https://github.com/haata/pycapnp/archive/v2.0.0b1.zip
+Download-URL: https://github.com/haata/pycapnp/archive/v2.0.0b2.zip
 Author: Jacob Alexander
 Author-email: haata@kiibohd.com
 License: BSD
 Keywords: capnp,capnproto,Cap'n Proto,pycapnp
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Intended Audience :: Developers
 Classifier: License :: OSI Approved :: BSD License
@@ -102,15 +102,15 @@
 While not directly supported by pycapnp, a tool has been created to help generate pycapnp stubfile to assist with development (this is very helpful if you're new to pypcapnp!). See [#289](https://github.com/capnproto/pycapnp/pull/289#event-9078216721) for more details.
 
 [Python Capnp Stub Generator](https://gitlab.com/mic_public/tools/python-helpers/capnp-stub-generator)
 
 
 ## Python Versions
 
-Python 3.7+ is supported.
+Python 3.8+ is supported.
 
 
 ## Development
 
 Git flow has been abandoned, use master.
 
 To test, use a pipenv (or install requirements.txt and run pytest manually).
@@ -199,56 +199,78 @@
     f = open('example', 'r')
     printAddressBook(f)
 ```
 
 Also, pycapnp has gained RPC features that include pipelining and a promise style API. Refer to the calculator example in the examples directory for a much better demonstration:
 
 ```python
+import asyncio
 import capnp
 import socket
 
 import test_capability_capnp
 
 
 class Server(test_capability_capnp.TestInterface.Server):
 
     def __init__(self, val=1):
         self.val = val
 
-    def foo(self, i, j, **kwargs):
+    async def foo(self, i, j, **kwargs):
         return str(i * 5 + self.val)
 
 
-def server(write_end):
-    server = capnp.TwoPartyServer(write_end, bootstrap=Server(100))
-
-
-def client(read_end):
+async def client(read_end):
     client = capnp.TwoPartyClient(read_end)
 
     cap = client.bootstrap()
     cap = cap.cast_as(test_capability_capnp.TestInterface)
 
     remote = cap.foo(i=5)
-    response = remote.wait()
+    response = await remote
 
     assert response.x == '125'
 
-
-if __name__ == '__main__':
-    read_end, write_end = socket.socketpair(socket.AF_UNIX)
+async def main():
+    client_end, server_end = socket.socketpair(socket.AF_UNIX)
     # This is a toy example using socketpair.
     # In real situations, you can use any socket.
 
-    server(write_end)
-    client(read_end)
+    client_end = await capnp.AsyncIoStream.create_connection(sock=client_end)
+    server_end = await capnp.AsyncIoStream.create_connection(sock=server_end)
+
+    _ = capnp.TwoPartyServer(server_end, bootstrap=Server(100))
+    await client(client_end)
+
+
+if __name__ == '__main__':
+    asyncio.run(capnp.run(main()))
 ```
 
 Changelog
 =============
+## v2.0.0b2 (2023-11-25)
+- Fix broken test in test_load (#329)
+- Update README example to async code (#331)
+- Fix 'AttributeError: '_UnixSelectorEventLoop' object has no attribute 'call_soon'
+- Delete and update some Python 3.7-specific todo notes
+- Make a server fail early when the KJ loop is not running
+- Update documentation to async code (#331) (#332)
+- Fix retransmit bug for large messages causing message corruption
+- Unlock the GIL for all capnp functions that do IO
+- Handle exceptions from server callbacks
+- Disable the use of ninja for windows builds
+- DynamicCapabilityClient fix
+- Make `reraise_kj_exception` available to downstream
+- Support `_DynamicListReader` in `_setDynamicField`
+- Fix re-raising of KjException
+- Allow cancellation of all capability contexts
+- Corner case for cancelled server methods that raise exceptions
+- Some fixes to the magic import system
+
 ## v2.0.0b1 (2023-10-03)
 - Update to bundled capnproto-1.0.1
 - Remove support for Python 3.7
 - Use custom build backend to support build args (#328)
 - Update Cython version and Python to 3.12 (#320)
 - Wrap all capnp code in a context-manager to avoid segfaults (#317)
 - Schema loading from the wire (#307)
```

### Comparing `pycapnp-2.0.0b1/pycapnp.egg-info/SOURCES.txt` & `pycapnp-2.0.0b2/pycapnp.egg-info/SOURCES.txt`

 * *Files 6% similar despite different names*

```diff
@@ -83,8 +83,10 @@
 test/test_regression.py
 test/test_response.capnp
 test/test_response.py
 test/test_rpc.py
 test/test_rpc_calculator.py
 test/test_schema.py
 test/test_serialization.py
-test/test_struct.py
+test/test_struct.py
+test/schemas/child.capnp
+test/schemas/parent.capnp
```

### Comparing `pycapnp-2.0.0b1/setup.py` & `pycapnp-2.0.0b2/setup.py`

 * *Files 0% similar despite different names*

```diff
@@ -21,15 +21,15 @@
 from buildutils.build import build_libcapnp
 from buildutils.bundle import fetch_libcapnp
 
 
 MAJOR = 2
 MINOR = 0
 MICRO = 0
-TAG = "b1"
+TAG = "b2"
 VERSION = "%d.%d.%d%s" % (MAJOR, MINOR, MICRO, TAG)
 
 
 # Write version info
 def write_version_py(filename=None):
     """
     Generate pycapnp version
@@ -217,15 +217,14 @@
     package_data={
         "capnp": [
             "*.pxd",
             "*.h",
             "*.capnp",
             "helpers/*.pxd",
             "helpers/*.h",
-            "helpers/*.cpp",
             "includes/*.pxd",
             "lib/*.pxd",
             "lib/*.py",
             "lib/*.pyx",
             "lib/*.h",
             "templates/*",
         ]
```

### Comparing `pycapnp-2.0.0b1/test/addressbook with spaces.capnp` & `pycapnp-2.0.0b2/test/addressbook with spaces.capnp`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/addressbook-with-dashes.capnp` & `pycapnp-2.0.0b2/test/addressbook-with-dashes.capnp`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/addressbook.capnp` & `pycapnp-2.0.0b2/test/addressbook.capnp`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/all-types.binary` & `pycapnp-2.0.0b2/test/all-types.binary`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/all-types.packed` & `pycapnp-2.0.0b2/test/all-types.packed`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/all-types.txt` & `pycapnp-2.0.0b2/test/all-types.txt`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/all_types.capnp` & `pycapnp-2.0.0b2/test/all_types.capnp`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_capability.capnp` & `pycapnp-2.0.0b2/test/test_capability.capnp`

 * *Files 9% similar despite different names*

```diff
@@ -24,14 +24,16 @@
 @0xd508eefec2dc42b8;
 
 interface TestInterface {
   foo @0 (i :UInt32, j :Bool) -> (x: Text);
   bar @1 () -> ();
   buz @2 (i: TestSturdyRefHostId) -> (x: Text);
   bam @3 (i :UInt32, j :Bool) -> (x: Text, i:UInt32);
+  bak1 @4 () -> (i:List(UInt32));
+  bak2 @5 (i:List(UInt32)) -> ();
   # baz @2 (s: TestAllTypes);
 }
 
 interface TestExtends extends(TestInterface) {
   qux @0 ();
 }
```

### Comparing `pycapnp-2.0.0b1/test/test_capability.py` & `pycapnp-2.0.0b2/test/test_capability.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,8 +1,9 @@
 import pytest
+import asyncio
 
 import capnp
 import test_capability_capnp as capability
 
 
 @pytest.fixture(autouse=True)
 async def kj_loop():
@@ -22,14 +23,20 @@
 
     async def buz(self, i, **kwargs):
         return i.host + "_test"
 
     async def bam(self, i, **kwargs):
         return str(i) + "_test", i
 
+    async def bak1(self, **kwargs):
+        return [1, 2, 3, 4, 5]
+
+    async def bak2(self, i, **kwargs):
+        assert i[4] == 5
+
 
 class PipelineServer(capability.TestPipeline.Server):
     async def getCap(self, n, inCap, _context, **kwargs):
         response = await inCap.foo(i=n)
         _results = _context.results
         _results.s = response.x + "_foo"
         _results.outBox.cap = Server(100)
@@ -63,14 +70,20 @@
         req.i = "foo"
 
     req = client.foo_request()
 
     with pytest.raises(AttributeError):
         req.baz = 1
 
+    resp = await client.bak1()
+    # Used to fail with
+    # capnp.lib.capnp.KjException: Tried to set field: 'i' with a value of: '[1, 2, 3, 4, 5]'
+    # which is an unsupported type: '<class 'capnp.lib.capnp._DynamicListReader'>'
+    await client.bak2(resp.i)
+
 
 async def test_simple_client():
     client = capability.TestInterface._new_client(Server())
 
     remote = client._send("foo", i=5)
     response = await remote
 
@@ -373,7 +386,26 @@
 
 async def test_generic():
     client = capability.TestGeneric._new_client(GenericTest())
 
     obj = capnp._MallocMessageBuilder().get_root_as_any()
     obj.set_as_text("anypointer_")
     assert (await client.foo(obj)).b == "anypointer_test"
+
+
+class CancelServer(capability.TestInterface.Server):
+    def __init__(self, val=1):
+        self.val = val
+
+    async def foo(self, i, j, **kwargs):
+        with pytest.raises(asyncio.CancelledError):
+            await asyncio.sleep(10)
+
+
+async def test_cancel2():
+    client = capability.TestInterface._new_client(CancelServer())
+
+    task = asyncio.ensure_future(client.foo(1, True))
+    await asyncio.sleep(0)  # Make sure that the task runs
+    task.cancel()
+    with pytest.raises(asyncio.CancelledError):
+        await task
```

### Comparing `pycapnp-2.0.0b1/test/test_capability_context.py` & `pycapnp-2.0.0b2/test/test_capability_context.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_context_manager.py` & `pycapnp-2.0.0b2/test/test_context_manager.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_examples.py` & `pycapnp-2.0.0b2/test/test_examples.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_large_read.py` & `pycapnp-2.0.0b2/test/test_large_read.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_load.py` & `pycapnp-2.0.0b2/test/test_load.py`

 * *Files 3% similar despite different names*

```diff
@@ -76,53 +76,57 @@
 
 
 def test_spaces_import():
     import addressbook_with_spaces_capnp  # noqa: F401
 
 
 def test_add_import_hook():
-    capnp.add_import_hook([this_dir])
+    capnp.add_import_hook()
 
     # Make sure any previous imports of addressbook_capnp are gone
     capnp.cleanup_global_schema_parser()
 
     import addressbook_capnp
 
     addressbook_capnp.AddressBook.new_message()
 
 
 def test_multiple_add_import_hook():
     capnp.add_import_hook()
     capnp.add_import_hook()
-    capnp.add_import_hook([this_dir])
 
     # Make sure any previous imports of addressbook_capnp are gone
     capnp.cleanup_global_schema_parser()
 
     import addressbook_capnp
 
     addressbook_capnp.AddressBook.new_message()
 
 
 def test_remove_import_hook():
-    capnp.add_import_hook([this_dir])
+    capnp.add_import_hook()
     capnp.remove_import_hook()
 
     if "addressbook_capnp" in sys.modules:
         # hack to deal with it being imported already
         del sys.modules["addressbook_capnp"]
 
     with pytest.raises(ImportError):
         import addressbook_capnp  # noqa: F401
 
 
 def test_bundled_import_hook():
     # stream.capnp should be bundled, or provided by the system capnproto
     capnp.add_import_hook()
-    import stream_capnp  # noqa: F401
+    from capnp import stream_capnp  # noqa: F401
+
+
+def test_nested_import():
+    import schemas.parent_capnp  # noqa: F401
+    import schemas.child_capnp  # noqa: F401
 
 
 async def test_load_capnp(foo):
     # test dynamically loading
     loader = capnp.SchemaLoader()
     loader.load(foo.Baz.schema.get_proto())
     loader.load_dynamic(foo.Qux.schema.get_proto().node)
```

### Comparing `pycapnp-2.0.0b1/test/test_memory_handling.py` & `pycapnp-2.0.0b2/test/test_memory_handling.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_object.py` & `pycapnp-2.0.0b2/test/test_object.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_regression.py` & `pycapnp-2.0.0b2/test/test_regression.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_response.py` & `pycapnp-2.0.0b2/test/test_response.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_rpc.py` & `pycapnp-2.0.0b2/test/test_rpc.py`

 * *Files 12% similar despite different names*

```diff
@@ -47,11 +47,18 @@
 
     _ = capnp.TwoPartyServer(write, bootstrap=Server(100))
     client = capnp.TwoPartyClient(read)
 
     cap = client.bootstrap()
     cap = cap.cast_as(test_capability_capnp.TestInterface)
 
+    # Check not only that the methods are there, but also that they are listed
+    # as expected.
+    assert "foo" in dir(cap)
+    assert "bar" in dir(cap)
+    assert "buz" in dir(cap)
+    assert "bam" in dir(cap)
+
     remote = cap.foo(i=5)
     response = await remote
 
     assert response.x == "125"
```

### Comparing `pycapnp-2.0.0b1/test/test_rpc_calculator.py` & `pycapnp-2.0.0b2/test/test_rpc_calculator.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_schema.py` & `pycapnp-2.0.0b2/test/test_schema.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_serialization.py` & `pycapnp-2.0.0b2/test/test_serialization.py`

 * *Files identical despite different names*

### Comparing `pycapnp-2.0.0b1/test/test_struct.py` & `pycapnp-2.0.0b2/test/test_struct.py`

 * *Files identical despite different names*

